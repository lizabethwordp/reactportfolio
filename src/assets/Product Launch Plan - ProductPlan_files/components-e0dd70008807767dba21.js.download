/*! For license information please see components-e0dd70008807767dba21.js.LICENSE.txt */
"use strict";(self.webpackChunkProductPlan=self.webpackChunkProductPlan||[]).push([[160],{75389:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(74527);class o{static delete(e){var t="".concat(o.getPathPrefix(e),"/").concat(e.id);return n.default.deleteRoadmapable(t)}static createVersion(e){return n.default.createRoadmapableVersion(e.roadmapableId())}static roadmapableType(e){var t=e.type;return e.exposed_type&&(t=e.exposed_type),t}static getPathPrefix(e){var t=o.roadmapableType(e);return"/".concat("master_plan"===t?"portfolio_view":t,"s")}}const a=o},71119:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(74527),o=r(55652),a=r(48414);function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=s;var d={};function h(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){c(a,n,o,i,l,"next",e)}function l(e){c(a,n,o,i,l,"throw",e)}i(void 0)}))}}var s={pageNumber:0,pageInitUsedSpace:0,loggingOn:!1,generatePdf:()=>l(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.generate(!0),r={content:t.print_content,title:t.print_title,media_type:"pdf",layout_type:"timeline",scale_factor:s.scaleFactor()},e.next=4,s.export(r);case 4:case"end":return e.stop()}}),e)})))(),generateXls:(e,t)=>l(i().mark((function r(){var n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n={}).media_type="xls",n.view=e,n.scores=t,r.next=6,s.export(n);case 6:case"end":return r.stop()}}),r)})))(),generate(e){s.purgeHtml();var t=$(".board-title").text().trim(),r=$("#to-export").clone();return r.css({transform:"none"}),s.pageCount=null,e&&(r=s.paginate(),s.pageCount=r.find(".page").length),s.fixBoardActionsMargin(r,e),{print_content:r=s.purgeContent(r,e),print_title:t}},fixBoardActionsMargin(e,t){var r=$(".board-title").is(":visible");t&&!r&&s.adjustBoardActionsMarginTop(e,15),!t&&r&&s.adjustBoardActionsMarginTop(e,-10)},adjustBoardActionsMarginTop(e,t){var r=e.find(".board-actions"),n=parseInt(r.css("margin-top"));r.css({"margin-top":"".concat(n+t,"px")})},export:e=>l(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.logExportData(e.media_type),t.prev=1,t.next=4,n.default.printable.create(window.currentRoadmapable.roadmapableType(),window.currentRoadmapable.roadmapableId(),e);case 4:r=t.sent,s.redirectToFile(r.file_url),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),s.exportError();case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))(),logExportData(e){var t,r,n=$("#to-export").outerHeight(),i={mediaType:e,barCount:$(".project-bar:visible").length,barTotalCount:Object.values(window.currentRoadmapable.bars()).length,laneCount:$(".lane-title:visible").length,laneTotalCount:window.currentRoadmapable.laneIds().length,milestoneCount:$(".milestone:visible").length,milestoneTotalCount:window.currentRoadmapable.milestoneList().length,roadmapWidthVisible:$(".zoom-controls").attr("data-roadmap-width-visible"),windowInnerHeight:window.innerHeight,windowInnerWidth:window.innerWidth,contentHeight:n,pageCount:s.pageCount,isSnapshot:null!==(t=null===(r=o.ProductPlan.roadmapManager.roadmap)||void 0===r?void 0:r.isSnapshot)&&void 0!==t&&t,roadmapStyle:window.currentRoadmapable.roadmapStyle,timelineType:window.currentRoadmapable.timelineSettings().timelineType,intervalsInWindow:window.currentRoadmapable.intervalsInWindow(),defaultLayout:window.currentRoadmapable.defaultLayout,roadmapableId:window.currentRoadmapable.roadmapableId(),currentViewId:window.currentRoadmapable.currentViewId,isPrimaryView:window.currentRoadmapable.isPrimaryView(),isPortfolio:window.currentRoadmapable.isMasterPlan(),detailsVisible:$("#bar-details:visible").length>0,titleVisible:$(".board-title").is(":visible"),milestonesVisible:$(".milestone").is(":visible"),legendVisible:$("#legend").is(":visible")};(0,a.logPageAction)("Export timeline",i)},redirectToFile:e=>window.location=e,disable:e=>(e.find(".action-icon").hide(),e.find(".fa-spinner").toggleClass("spinner-toggle",!0),$(".btn-export").toggleClass("disabled",!0)),enable:()=>($(".btn-export .fa-spinner").toggleClass("spinner-toggle",!1),$(".btn-export .action-icon").show(),$(".btn-export").toggleClass("disabled",!1)),exportError:()=>o.ProductPlan.showActionAlert("We are sorry, we cannot export your roadmap now. Please try again later.","error"),purgeHtml:()=>($(".project-bar.filtered").remove(),$(".container-drop.filtered").remove(),$(".base-drop.filtered").remove()),purgeContent(e,t){e.addClass(window.currentRoadmapable.roadmapStyle),e.find(".filtered, .lane-title .toggle-icon, .lane-title i, .dropdown-menu").remove(),e.find(".export-legend a").removeAttr("href"),e.find(".roadmap-milestone-poles").remove();var r=-$(".js-main-container").scrollLeft();return e.find(".timeline").css("left",r),e.find(".roadmap-divider .roadmap-milestones").css("left",r),e.find(".lanes").css("left",r),t||e.find("#bar-details").remove(),$("<div>").append(e).html()},paginate(){s.setPageInitUsedSpace();var e=s.pageHeight()-20,t=$("#to-export"),r=t.clone().addClass("export pp");if(t.height()<e)return r;var n=s.paginateHtml(e),o=r.find(".main-wrapper");n.width(o.width()),o.replaceWith(n);var a=t.find("#legend");if(a.is(":visible")){var i=s.paginatedLegend(e);i.width(a.width()),r.find("#legend").html(i)}var c=t.find("#bar-details");if(c.is(":visible")){var l=s.paginatedDetails(e);l.width(c.width()),r.find("#bar-details").replaceWith(l)}return r},paginateHtml(e){s.loggingOn&&console.group("paginateHtml");var t=void 0;s.pageNumber=0;for(var r=e+1,n=$("<div id='pages'></div>"),o=!!$("#to-export .roadmap-divider").length?$("#to-export .roadmap-divider"):$("#to-export .lanes").not(".filtered"),a=0,i=Array.from(o);a<i.length;a++){var c=i[a];s.loggingOn&&console.group("block");var l=$(c);s.loggingOn&&console.log(l);for(var u=s.blockMinHeights(l),d=s.breakBlocksToFit(l,u,r,e,void 0)||[],h=0,p=Array.from(d);h<p.length;h++){var f=p[h];s.loggingOn&&console.group("adjustedBlock");var m=$(f),v=m.outerHeight(!0),y=r+v>e;if(s.loggingOn&&console.log(r+" + "+v+" > "+e+" = "+y),y){s.pageNumber+=1,t&&n.append(t);var g=1===s.pageNumber?$("#js-title-mounting-point").outerHeight():0,w=s.createPageTemplate(e-g-7);s.initPage(w),r=s.getInitUsedSpaceOnPage(),(t=$("<div class='page' style='height:"+e+"px'></div>")).append(w)}t.find(".js-lane-container").append(m.clone()),r+=v,s.loggingOn&&console.groupEnd()}s.loggingOn&&console.groupEnd()}return t&&n.append(t),s.loggingOn&&console.groupEnd(),n},createPageTemplate(e){var t=$("#to-export .main-wrapper").clone();return t.find(".roadmap-divider, .lanes, #last_lane").remove(),t.css("height",e),t.find(".js-main-container").height(e),t},breakBlocksToFit(e,t,r,n,o){s.loggingOn&&console.group("breakBlocksToFit");var a=e.outerHeight(!0),i=(n||o)-r,c=[e];if(i<a&&(i<t.total&&(i=n?s.getInitFreeSpaceOnPage():o),i<a)){var l,u=n?s.getInitFreeSpaceOnPage(2):o;e.hasClass("lanes")&&(l=s.breakLaneToFit(e,t,i,u)),e.hasClass("roadmap-divider")&&(l=s.breakRoadmapDividerToFit(e,t,i,u)),c=l}return s.loggingOn&&console.groupEnd(),c},breakBarHolderToFit(e,t,r,n){var o=[e.clone()],a=e.find(".container-holder:visible");if(a.length&&(r-=t.divider,n-=t.divider,r<t.inline&&(r=n),r<e.height())){var i;o=[],e.find(".container-holder").removeClass("visible");for(var c=e.find(".container-holder:visible"),l=Math.max(),s=0,u=Array.from(c);s<u.length;s++)a=u[s],i=$(a),l=Math.max(l,i.find(".lane-bar-holder.container-drop").length),i.addClass("visible");var d=0,h=0,p=t.barHolder+t.divider,f=parseInt((r-t.divider)/p),m=--f;for(o=[];m<=l;){d=h,h=2*m;var v=t.divider+f*p,y=e.clone();c=y.find(".container-holder.visible");for(var g=0,w=Array.from(c);g<w.length;g++){a=w[g];var b=(i=$(a)).find(".lane-drop.container-drop");b.length>b.filter(":lt("+d+"),:gt("+h+")").remove().length&&i.parent(".project-bar.container-bar").addClass("visible")}0!==o.length?(y.find(".project-bar.container-bar").not(".visible").remove(),y.find(".container-bar .project-bar-background-left, .container-bar .project-bar-background-right").addClass("no-border"),y.find(">.project-bar.single-bar").remove(),y.find(".container-holder").css("top","-1px")):v+=t.barHolder,y.height(v),o.push(y);var E=parseInt(n/p),x=l-m;m+=f=Math.min(E,x)||l}}return o},breakLaneToFit(e,t,r,n){s.loggingOn&&console.group("breakLaneToFit");var o=e.clone();o.find(".lane-drop").remove();var a=e.find(".lane-drop.lane-divider.base-drop").first();a.height(t.divider),r-=t.margin,n-=t.margin;var i=t.title+t.divider;r-=i;for(var c=void 0,l=0,u=[],d=e.find(".lane-drop.lane-bar-holder.base-drop"),h=0,p=Array.from(d);h<p.length;h++){var f=p[h],m=$(f);s.loggingOn&&console.group("barHolder");for(var v=s.breakBarHolderToFit(m,t,r,n),y=0,g=Array.from(v);y<g.length;y++){var w=g[y],b=$(w);(r<b.outerHeight(!0)||!c)&&(s.loggingOn&&console.log("BREAK PAGE"),c&&(c.height(l),u.push(c)),(c=o.clone()).append(a.clone()),u.length?(l=t.divider,r=n):l=i),c.append(b.clone()),c.append(a.clone());var E=b.outerHeight(!0)+a.outerHeight(!0);r-=E,l+=E}s.loggingOn&&console.groupEnd()}c&&(c.height(l),u.push(c));for(var x=0;x<u.length;x++){var _=u[x];0!==x&&(s.collapseForExport(_.find(".sublane.sublane-dropzone")),s.collapseForExport(_.find(".lane-title-box")),s.filterForExport(_.find(".lane-title, .large-flag .flag-box, .large-flag .flag-box-right, .small-flag")))}return s.loggingOn&&console.groupEnd(),u},breakRoadmapDividerToFit(e,t,r,n){var o=e.clone();o.find(".lanes").remove();for(var a=o.clone(),i=t.total,c=n-i,l=n-r+i,u=[],d=e.find(".lanes").not(".filtered"),h=0,p=Array.from(d);h<p.length;h++)for(var f=p[h],m=$(f),v=s.laneMinHeights(m),y=s.breakBlocksToFit(m,v,l,void 0,c)||[],g=0,w=Array.from(y);g<w.length;g++){var b=w[g],E=$(b),x=E.outerHeight(!0);l+x>c&&(a&&(a.height(i),u.push(a)),a=o.clone(),l=t.total,i=0===u.length?t.total:t.total-t.header),a.append(E.clone()),l+=x,i+=x}a&&(a.height(i),u.push(a));for(var _=0;_<u.length;_++){var L=u[_];0!==_&&(L.css({"border-top":0}),s.filterForExport(L.find(".roadmap-milestones .sublane-holder:first .new-milestone-sublane.up")),s.collapseForExport(L.find(".roadmap-milestones .sublane.sublane-dropzone")),s.collapseForExport(L.find(".roadmap-milestones .sublane-holder").css({position:"absolute"})),s.collapseForExport(L.find(".roadmap-milestones")),s.filterForExport(L.find(".roadmap-milestones .large-flag .flag-box, .roadmap-milestones .large-flag .flag-box-right, .roadmap-milestones .small-flag")))}return u},laneMinHeights(e){var t=e.find(".lane-title-box").outerHeight(!0),r=e.find(".lane-divider").outerHeight(!0),n=Math.min(e.find(".lane-bar-holder").outerHeight(!0),e.find(".lane-bar-holder .project-bar").outerHeight(!0)),o=parseInt(e.css("margin-bottom"))||0;return{title:t,divider:r,barHolder:n,inline:2*r+n,margin:o,total:t+2*r+n+o}},roadmapDividerMinHeights(e){var t=e.find(".roadmap-milestones").outerHeight(!0);return{header:t,total:t+(parseInt(e.css("margin-bottom"))||0)}},blockMinHeights(e){var t;return e.hasClass("roadmap-divider")&&(t=s.roadmapDividerMinHeights(e)),e.hasClass("lanes")&&(t=s.laneMinHeights(e)),t},paginatedLegend(e){var t;t=!!$("#portfolio-view-legend").length?$("<div id='portfolio-view-legend'><div class='legend-pages'></div></div>"):$("<div class='legend-pages'></div>");var r=$("<div class='legend-page' style='height:"+e+"px'></div>"),n=r.clone(),o=$("#legend ul"),a=$(o[0]).clone();a.find("li").remove();var i=e-80;n.height(e-80);for(var c=0,l=Array.from(o);c<l.length;c++){var s=l[c],u=(s=$(s)).outerHeight(!0);if(u<=i)n.append(s.clone()),i-=u;else{var d=s.find("li");n.append(a.clone()),i-=a.outerHeight(!0);for(var h=0,p=Array.from(d);h<p.length;h++){var f=p[h],m=(f=$(f)).outerHeight(!0);m>i&&(n&&t.append(n.clone()),(n=r.clone()).append(a.clone()),i=e-a.outerHeight(!0)),n.find("ul:last").append(f.clone()),i-=m}}}return n&&t.append(n.clone()),t},paginatedDetails(e){var t=$("<div class='details-pages'></div>"),r=$("#bar-details"),n=r.find("table"),o=n.outerHeight(!0)-n.height(),a=n.find("thead").height(),i=r.find("tbody tr").not(".filtered"),c=r.clone();c.find("tbody tr").remove(),c.height(e);for(var l=c.clone(),s=l.find("tbody"),u=e-=o+a,d=10*parseInt(n.css("line-height"))+12,h=0,p=Array.from(i);h<p.length;h++){var f=p[h];f=$(f);var m=Math.min(f.height(),d);m>u&&(l&&t.append(l.clone()),s=(l=c.clone()).find("tbody"),u=e),s.append(f.clone()),u-=m}return l&&t.append(l.clone()),t},pageWidth(){var e;return null!==(e=$("#to-export").outerWidth())&&void 0!==e?e:0},pageHeight:()=>parseInt(s.pageWidth()/(4/3)),scaleFactor:()=>1440/s.pageWidth(),initPage(e){if(1!==s.pageNumber)return e.find("#js-title-mounting-point").remove()},setPageInitUsedSpace(){var e,t=$(".js-roadmap-content").outerHeight(!0),r=null!==(e=$(".js-lane-container-export").innerHeight())&&void 0!==e?e:0;return s.pageInitUsedSpace=t-r},getInitUsedSpaceOnPage(e){e=e||s.pageNumber;var t=s.pageInitUsedSpace;return e&&1!==e||(t+=$("#js-title-mounting-point").outerHeight()),t},getInitFreeSpaceOnPage:e=>(e=e||s.pageNumber,s.pageHeight()-s.getInitUsedSpaceOnPage(e)),collapseForExport:e=>e.height("0px").css("min-height","0px").css("padding","0px").css("margin","0px").css("border","none"),filterForExport:e=>e.addClass("filtered")};const u=s},87326:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(74527),o=r(93128);function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=s;var d={};function h(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}const u=class{static load(e){var t,r=arguments;return(t=a().mark((function t(){var i,l,s,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:{},l=r.length>2?r[2]:void 0,t.prev=2,t.next=5,n.default.loadTemplateInBackground(e,i);case 5:if(s=t.sent,u=s.roadmap,"openLink"!==Object.keys(l)[0]){t.next=10;break}return l.openLink({url:"/".concat(u.url_code)}),t.abrupt("return");case 10:l.onNextStep("roadmap-config-success",u,c({templateName:e},i)),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(2),o.Z.unsuccessful("Error while creating roadmap. Please try again."),window.hideAJAXLoaderModal();case 17:case"end":return t.stop()}}),t,null,[[2,13]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))})()}}},36673:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(41609),o=r.n(n),a=r(67294),i=r.n(a),c=r(45697),l=r.n(c),s=r(73935),u=r.n(s),d=r(33284),h=r(74527),p=r(39012);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=p.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function m(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){m(a,n,o,i,c,"next",e)}function c(e){m(a,n,o,i,c,"throw",e)}i(void 0)}))}}class y extends i().Component{static init(){return v(f().mark((function e(){var t,r,n,o,a,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$(".jsx-personal-token"),!window.current_user.has_api_access){e.next=10;break}return e.next=4,h.default.personalAccessToken.hasToken();case 4:r=e.sent,n={hasToken:r.data.has_token},o=i().createElement(y,n),u().render(o,t[0]),e.next=13;break;case 10:a={canManage:!1},c=i().createElement(y,a),u().render(c,t[0]);case 13:case"end":return e.stop()}}),e)})))()}constructor(e){super(e),this.state={isLoading:!1,hasToken:e.hasToken,token:null},this.handleIssue=this.handleIssue.bind(this),this.handleRevoke=this.handleRevoke.bind(this)}displayError(e,t){var r=e||"Error",n=t||"An error occurred, please try again or contact support if the problem persists.";d.Z.show({title:r,message:n})}handleIssue(e){var t=this;return v(f().mark((function r(){var n;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e&&e.preventDefault(),e.target.focus(),e.target.blur(),t.setState({isLoading:!0}),r.prev=4,r.next=7,h.default.personalAccessToken.issue();case 7:n=r.sent,t.setState({token:n.data.token,hasToken:!0,isLoading:!1}),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(4),t.setState({isLoading:!1}),t.displayError("Generate");case 15:case"end":return r.stop()}}),r,null,[[4,11]])})))()}handleRevoke(e){var t=this;return v(f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e&&e.preventDefault(),e.target.focus(),e.target.blur(),t.setState({isLoading:!0}),r.prev=4,r.next=7,h.default.personalAccessToken.revoke();case 7:t.setState({hasToken:!1,isLoading:!1}),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(4),t.setState({isLoading:!1}),t.displayError("Revoke");case 14:case"end":return r.stop()}}),r,null,[[4,10]])})))()}renderText(){return this.props.canManage&&0!=this.state.hasToken?void 0===this.state.token||o()(this.state.token)?i().createElement("div",null,i().createElement("p",null,"You currently have an active token that can be used to access the ",i().createElement("a",{href:"/docs",rel:"noopener noreferrer",target:"_blank"},"ProductPlan API"),"."),i().createElement("p",{className:"alert alert-warning"},"If you\u2019ve lost or forgotten this token, you can revoke it and generate a new one, ","but be aware that any scripts or applications using this token will need to be updated.")):i().createElement("div",null,i().createElement("p",null,"You now have a token that can be used to access the ",i().createElement("a",{href:"/docs",rel:"noopener noreferrer",target:"_blank"},"ProductPlan API"),"."),i().createElement("p",{className:"alert alert-info"},"Make sure to copy your personal access token now and put it in a safe place.  You will not see it again."),i().createElement("p",{className:"alert alert-success"},i().createElement(p.Z,{name:p.c.check})," \xa0",i().createElement("span",{id:"token"},this.state.token))):i().createElement("div",null,i().createElement("p",null,"You can issue a personal token to access the ",i().createElement("a",{href:"/docs",rel:"noopener noreferrer",target:"_blank"},"ProductPlan API"),"."),i().createElement("p",null,"API tokens function like ordinary OAuth access tokens.  They can be used over HTTPS for authentication."))}renderButton(){return this.props.canManage?this.state.hasToken?i().createElement("button",{className:"btn btn-danger",id:"revoke-personal-token",onClick:this.handleRevoke},"Revoke Token"):i().createElement("button",{className:"btn btn-success",id:"issue-personal-token",onClick:this.handleIssue},"Generate Token"):null}render(){return i().createElement("div",null,this.renderText(),this.renderButton())}}y.propTypes={hasToken:l().bool.isRequired,canManage:l().bool.isRequired},y.defaultProps={hasToken:!1,canManage:!0};const g=y},2826:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(39012),l=r(54228),s=r(95234);function u(e){return o().createElement("div",{className:"active-state",onClick:e.handleButtonClick,id:e.htmlId},o().createElement("button",{className:"active-state__content-button"},o().createElement("div",{className:"active-state__title"},e.buttonContent,e.hasNotificationDot&&o().createElement("div",{className:"blue-dot"}))),o().createElement(l.Z,{placement:"bottom",rootClose:!0,overlay:o().createElement(s.Z,{id:"tooltip-return-custom-order"},o().createElement("div",{className:"title"},e.popoverContent))},o().createElement("button",{className:"active-state__clear",onClick:function(t){t.stopPropagation(),e.onClearActiveState()}},o().createElement(c.Z,{name:c.c.times}))))}u.propTypes={buttonContent:i().oneOfType([i().element,i().string]).isRequired,handleButtonClick:i().func.isRequired,hasNotificationDot:i().bool,onClearActiveState:i().func.isRequired,popoverContent:i().oneOfType([i().element,i().string]).isRequired,htmlId:i().string},u.defaultProps={hasNotificationDot:!1}},38925:(e,t,r)=>{r.d(t,{Z:()=>h});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a);var c=r(94184),l=r.n(c),s="loading",u="done";function d(e){var t=l()({"a-button__loader--loading":e.status===s,"a-button__loader--done":e.status===u},"a-button__loader ".concat(e.classes));return o().createElement("button",{id:e.id,className:t,disabled:["loading","done"].includes(e.status)||e.isDisabled,onClick:e.onSubmit},function(){switch(e.status){case s:return o().createElement("svg",{className:"loader",viewBox:"0 0 120 120",xmlns:"http://www.w3.org/2000/svg"},o().createElement("circle",{className:"external-circle red",cx:"60",cy:"60",r:"30",stroke:"rgba(255, 255, 255,.20)"}),o().createElement("circle",{className:"external-circle orange",cx:"60",cy:"60",r:"30",stroke:"rgba(255, 255, 255,.50)"}),o().createElement("circle",{className:"external-circle blue",cx:"60",cy:"60",r:"30",stroke:"#F0F3F5"}));case"done":return e.doneText;default:return e.idleText}}())}d.propTypes={id:i().string,status:i().string.isRequired,idleText:i().string.isRequired,doneText:i().string.isRequired,onSubmit:i().func.isRequired,classes:i().string,isDisabled:i().bool};const h=d},10356:(e,t,r)=>{r.d(t,{x:()=>w,Z:()=>E});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(83424),l=r(34428),s=r(39012),u=r(62761),d=r(94184),h=r.n(d);var p=r(55652),f=r(98533);function m(){m=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(f=y);var g=p.prototype=d.prototype=Object.create(f);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function v(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function y(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){v(a,n,o,i,c,"next",e)}function c(e){v(a,n,o,i,c,"throw",e)}i(void 0)}))}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=e.link;if(!t)return null;var r=(0,u.e)(t);if(r)return r;if("WebLink"===t.type)return o().createElement(s.Z,{name:s.c.globe});var n=(0,f.c)(t.type);return o().createElement(c.Z,{id:"".concat(n,"-icon")})}w.propTypes={link:i().object};class b extends o().Component{constructor(){var e;super(...arguments),e=this,g(this,"handleDeleteLink",y(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.onVisibilityChange(),t.next=3,l.Z.showAsync({title:"Delete Link",message:"Are you sure you want to delete the link ".concat(e.props.link.name,"?"),confirmButtonVariation:"danger"});case 3:if(!t.sent){t.next=10;break}return window.showAJAXLoaderModal(),t.next=8,p.ProductPlan.roadmapManager.deleteLinkFromBar(e.props.link.id,e.props.barId);case 8:"function"===typeof e.props.onDeleted&&e.props.onDeleted(),window.hideAJAXLoaderModal();case 10:e.props.onVisibilityChange();case 11:case"end":return t.stop()}}),t)}))))}renderDeleteLinkIcon(){return this.props.editMode?o().createElement(s.Z,{classes:"links-delete-icon",name:s.c.times,onClick:this.handleDeleteLink}):null}renderDeadLinkIcon(){return this.props.link.is_dead&&this.props.editMode?o().createElement(s.Z,{classes:"links-dead-icon",name:s.c.warningSquare}):null}renderExternalLinkIcon(){return o().createElement(s.Z,{name:s.c.externalLinkSquare})}render(){var e=h()({link:!0,"dead-link":this.props.link.is_dead});return o().createElement("li",{className:e},o().createElement("a",{href:this.props.link.url,target:"_blank",title:this.props.link.name},this.renderDeadLinkIcon(),o().createElement(w,{link:this.props.link}),o().createElement("span",{className:"link-name"},this.props.link.name),this.renderExternalLinkIcon()),this.renderDeleteLinkIcon())}}g(b,"propTypes",{barId:i().number.isRequired,editMode:i().bool.isRequired,link:i().object.isRequired,onVisibilityChange:i().func.isRequired,onDeleted:i().func}),g(b,"defaultProps",{onDeleted:null});const E=b},93143:(e,t,r)=>{r.d(t,{Z:()=>m});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(39012);var l=r(34844),s=r(40955),u=r(17563);function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,c(g,"constructor",f),c(f,"constructor",p),p.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function h(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m(e){var t=e.url,r=e.onClickXLS,a=e.layout,i=e.includeLayoutParam,l=e.wrapperClasses,f=void 0===l?null:l,m=p((0,n.useState)(!1),2),g=m[0],w=m[1],b=()=>w(!1),E=function(){var e,t=(e=d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:b();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){h(a,n,o,i,c,"next",e)}function c(e){h(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();g&&document.body.addEventListener("mouseup",(()=>{setTimeout(b,10)}),{once:!0});var x=e=>{var r={mode:e,layout:a};return i||delete r.layout,u.stringifyUrl({url:t,query:r})};return o().createElement("li",{className:f,key:"export-menu-button","aria-label":"Settings sidebar button"},o().createElement("a",{href:"javascript:void(0)",className:"export-target",id:"export-menu-item",onClick:()=>w(!g)},o().createElement(c.Z,{name:c.c.download}),o().createElement("span",null,"Export")),g&&o().createElement("div",{className:"export-menu",id:v(a)?"export-menu-without-pdf":"export-menu"},o().createElement(y,{href:x(s.Z.PNG),onClick:b},"PNG"),!v(a)&&o().createElement(y,{href:x(s.Z.PDF),onClick:b},"PDF"),o().createElement("a",{id:"download-xls",href:"javascript:void(0)",className:"export-option",onClick:E},"XLS")))}function v(e){return e===l.Z.LIST}function y(e){var t=e.href,r=e.onClick,n=e.children;return o().createElement("a",{href:t,className:"export-option",target:"_blank",onClick:r,rel:"noreferrer"},n)}m.propTypes={url:i().string,layout:i().string,includeLayoutParam:i().bool,onClickXLS:i().func,wrapperClasses:i().string}},10687:(e,t,r)=>{r.d(t,{l:()=>s,d:()=>l});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(39012);function l(e){var t=e.id,r=e.icon,n=e.downloading,a=e.onClick,i=e.children;return o().createElement("button",{id:t,className:"export-download-button",disabled:n,onClick:()=>{n||a()}},o().createElement(c.Z,{classes:"download-type-icon",name:r}),o().createElement("span",{className:"download-button-text"},i),o().createElement(c.Z,{classes:"download-icon",name:n?{classes:"fa-spinner fa-spin",prefix:"fad"}:c.c.download}))}function s(e){var t=e.onClick;return o().createElement("div",{className:"export-done-button",role:"button",onClick:t},"Done")}l.propTypes={id:i().string,icon:i().object,downloading:i().bool,onClick:i().func,children:i().any},s.propTypes={onClick:i().func}},27364:(e,t,r)=>{r.d(t,{WL:()=>d,cl:()=>s,iT:()=>u});var n=r(67294),o=r.n(n),a=r(94184),i=r.n(a);var c=r(45697),l=r.n(c),s={default:{id:"default",type:"default",text:"Default"},r43:{id:"r43",type:"ratio",ratio:4/3,text:"4:3"},r169:{id:"r169",type:"ratio",ratio:16/9,text:"16:9"}};function u(e){var t;switch(null!==(t=null===e||void 0===e?void 0:e.id)&&void 0!==t?t:"default"){case"default":case"r43":return 1024;case"r169":return 1280}}function d(e){var t=e.exportSize,r=e.setExportSize;return o().createElement(o().Fragment,null,o().createElement("h2",null,p.size),o().createElement("div",{className:"export-size-buttons"},o().createElement(h,{exportSize:t,setExportSize:r,targetExportSize:s.r43}),o().createElement(h,{exportSize:t,setExportSize:r,targetExportSize:s.r169}),o().createElement(h,{exportSize:t,setExportSize:r,targetExportSize:s.default})))}function h(e){var t=e.exportSize,r=e.setExportSize,n=e.targetExportSize,a=t.id===n.id;return o().createElement("button",{className:i()("export-size-button",n.id,{active:a}),onClick:()=>{a||r(n)}},n.text)}d.propTypes={exportSize:l().object.isRequired,setExportSize:l().func.isRequired},h.propTypes={exportSize:l().object.isRequired,setExportSize:l().func.isRequired,targetExportSize:l().object.isRequired};var p={size:"Size"}},88781:(e,t,r)=>{r.d(t,{Fo:()=>k,LR:()=>f,ZP:()=>d,aF:()=>g,h3:()=>v,hj:()=>O,wk:()=>_});var n=r(80008),o=r.n(n);function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=s;var d={};function h(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))}}function d(){return h.apply(this,arguments)}function h(){return h=u(a().mark((function e(){var t,n,o,i,l,s,u,d,h,f,m=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=m.length>0&&void 0!==m[0]?m[0]:document.querySelector("#to-export"),i=m.length>1&&void 0!==m[1]?m[1]:{},l={scale:1,width:null!==(t=$(o).outerWidth())&&void 0!==t?t:0,height:null!==(n=$(o).outerHeight())&&void 0!==n?n:0,removeContainer:!0,scrollX:0,scrollY:-window.scrollY,logging:!1,ignoreElements:e=>{var t="HEAD"===e.tagName,r="HEAD"===e.parentNode.tagName,n=e.contains(o),a=o.contains(e);return!(t||r||n||a)}},s=c(c({},l),i),e.next=6,r.e(120).then(r.t.bind(r,61120,23));case 6:return u=e.sent,e.next=9,u.default(o,s);case 9:return d=e.sent,h=d.toDataURL("image/png",1),e.next=13,p(h);case 13:return f=e.sent,e.abrupt("return",c({dataUrl:h},f));case 15:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function p(e){var t=e.length-"data:image/png;base64,".length,r=4*Math.ceil(t/3)*.5624896334383812/1e3,n=new Image;return new Promise((t=>{n.onload=()=>t({resolution:"".concat(n.width," x ").concat(n.height),size:Math.round(r)}),n.src=e}))}function f(e){return m.apply(this,arguments)}function m(){return(m=u(a().mark((function e(t){var r,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=o()().format("YYYY-MM-DD"),n="".concat(window.currentRoadmapable.title()," ").concat(r,".png"),(i=document.createElement("a")).href=t,document.body.appendChild(i),i.download=n,i.click(),i.remove();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=u(a().mark((function e(t){var r,n,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:r=e.sent,n=parseInt(r.resolution.split(" x ")[0])>window.innerWidth?"100%":"",o=["<!DOCTYPE html>\n  <html style=\"width: 100%; height: 100%; background: #d3d3d3;\">\n  <head>\n      <meta charset='utf-8'>\n      <meta http-equiv='X-UA-Compatible' content='IE=edge'>\n      <title>PNG Export Details</title>\n      <meta name='viewport' content='width=device-width, initial-scale=1'>\n  </head>\n  <body style=\"margin: 0;\">\n      <div data-id=\"image-resolution\">Resolution: ".concat(r.resolution,'</div>\n      <div data-id="image-size" style="visibility:hidden;">Size: ').concat(r.size,'</div>\n      <img style="width: ').concat(n,';" src=').concat(t," />\n  </body>\n  </html>")],i=new Blob(o,{type:"text/html"}),"final-asset.html",(c=document.createElement("a")).href=URL.createObjectURL(i),document.body.appendChild(c),c.download="final-asset.html",c.click(),c.remove();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null;t?(r=e.cloneNode(),e.parentNode.append(r)):(r=document.createElement("span"),e.append(r)),r.style.visibility="hidden",r.style.display="flex";var n=w(e,r),o=n.shouldTruncateText,a=n.visibleLetters,i=n.availableWidth,c=n.actualHeight;o&&b(e,r,a,i,c),r.remove()},w=(e,t)=>{for(var r=e.innerText,n=e.getBoundingClientRect().width,o=e.getBoundingClientRect().height,a=n+2,i=!1,c=0,l=0;l<r.length;l++)if(t.innerHTML+=r[l],E(t,a)){i=!0,c=l-1;break}return{shouldTruncateText:i,visibleLetters:c,text:r,actualHeight:o,actualWidth:n,availableWidth:a}},b=(e,t,r,n,o)=>{var a=e.innerText,i=a.substring(0,r),c=""!==i?i:a;t.innerHTML=c+"...",E(t,n)||x(t,o)?b(e,t,a,r-1,n,o):e.innerHTML=c+"..."},E=(e,t)=>e.getBoundingClientRect().width>t,x=(e,t)=>e.getBoundingClientRect().height>t,_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.innerText,n=e.getBoundingClientRect(),o=n.width,a=n.height,i=parseInt(window.getComputedStyle(e).lineHeight),c=Math.round(a/i);if(t){var l=e.parentNode,s=l.getBoundingClientRect();o=s.width,a=s.height,c=Math.round(a/i)}e.innerHTML="";var u=r.split(" ").map((e=>'<span style="display:inline-block">'.concat(e,"</span>"))).join("<span> </span>");e.innerHTML=u;for(var d=0,h=1,p=0,f=!1,m=e.querySelectorAll("span"),v=0;v<m.length;v++){var y=m[v];f&&1===h&&1===c&&(y.innerHTML="");var g=" "!==y.innerText&&y.innerText.length>0,w=y.getBoundingClientRect();if(d+=w.width,0===p&&(p=w.top),g&&w.top!==p&&(p=w.top,d=w.width,h+=1,f=!1),!f&&d>o){var b=o-(d-w.width),E=L(y,b);"..."===E&&m[v-1]&&(m[v-1].innerHTML=""),y.innerHTML=E,f=!0,d=0}}},L=(e,t)=>{var r=e.cloneNode();e.parentNode.append(r);var n=e.innerText;r.innerHTML="";for(var o=0;o<n.length;o++)if(r.innerHTML+=n[o],E(r,t)){P(r,t,o);break}var a=r.innerText;return r.remove(),a},P=(e,t,r)=>{var n=e.innerText.substring(0,r)+"...";e.innerHTML=n,!("..."===n)&&E(e,t)&&P(e,t,r-1)},k=function(e){for(var t=window.getComputedStyle(e),r=t.length-1;r>=0;r--){var n=t.item(r);"content"!==n&&e.style.setProperty(n,t.getPropertyValue(n))}},O=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=window.getComputedStyle(e),n=r.length-1;n>=0;n--){var o=r.item(n);t.includes(o)&&"content"!==o&&e.style.setProperty(o,r.getPropertyValue(o))}}},7360:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(41293),l=r(87850),s=r(99411);class u extends o().Component{componentDidMount(){}render(){return o().createElement("div",{className:"check-with-select"},o().createElement(c.Z,{enableLabelToggle:!0,formAligment:"form-inline",id:this.props.checkboxId,text:this.props.label,value:this.props.checkboxValue,onChange:this.props.onCheckChange}),o().createElement(l.Z,{disabled:!this.props.checkboxValue,displayLabel:!1,formAligment:"form-inline",inputId:this.props.selectboxId,inputName:this.props.selectboxName,label:"",minimumResultsForSearch:"-1",options:this.props.options,selectionClass:"",value:this.props.selectboxValue,width:"element",onChange:this.props.onSelectChange}),s.Z.displayErrors(this.props.errors))}}var d,h,p;d=u,h="propTypes",p={checkboxId:i().string.isRequired,label:i().string.isRequired,checkboxValue:i().bool,onCheckChange:i().func.isRequired,selectboxId:i().string,selectboxName:i().string.isRequired,options:i().array,selectboxValue:i().string,onSelectChange:i().func.isRequired,errors:i().string},h in d?Object.defineProperty(d,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[h]=p;const f=u},19797:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(33685);class l extends o().Component{constructor(e){super(e)}render(){var e=this.props.actionsConstructor();return e.length>0?o().createElement(c.Z,{actionable:this.props.actionable,actions:e,busy:this.props.busy}):null}}l.propTypes={actionable:i().object.isRequired,actionsConstructor:i().func.isRequired,busy:i().bool.isRequired},l.defaultProps={};const s=l},11536:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(94184),l=r.n(c),s=r(99411),u=r(39012);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends o().Component{constructor(){super(...arguments),d(this,"handleToggleCheck",(()=>{if(this.props.disabled)return!1;this.props.onChange({attribute:this.props.id,value:!this.props.value})})),d(this,"handleLabelClick",(()=>{this.props.enableLabelToggle&&this.handleToggleCheck(),this.props.onLabelClick()}))}checkedClass(){return null===this.props.value?this.props.indeterminateIcon:this.props.value?u.c.checkSquare.string:u.c.squareOutline.string}classes(){return l()({checkbox:!0,"js-checkbox-disable":this.props.disabled})}render(){return o().createElement("label",{className:this.classes()},o().createElement("i",{className:this.checkedClass(),id:this.props.id,onClick:this.handleToggleCheck}),this.props.text?o().createElement("span",{className:"checkbox-text",onClick:this.handleLabelClick},this.props.text):null,s.Z.displayErrors(this.props.errors))}}d(h,"propTypes",{disabled:i().bool,value:i().bool,id:i().string.isRequired,text:i().string,errors:i().string,onChange:i().func.isRequired,onLabelClick:i().func,enableLabelToggle:i().bool,indeterminateIcon:i().string}),d(h,"defaultProps",{disabled:!1,onChange:()=>{},onLabelClick:()=>{},text:void 0,value:!1,enableLabelToggle:!1,indeterminateIcon:u.c.minusSquareOutline.string});const p=h},47108:(e,t,r)=>{r.d(t,{Z:()=>je});var n=r(67294),o=r.n(n);var a=r(53775),i=r(45697),c=r.n(i),l=r(39012),s=r(7440),u=r(58909);var d=r(94184),h=r.n(d);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=e.barId,r=e.barName,n=e.className,a=e.displayStatus,i=e.hasBorder,c=void 0!==i&&i,l=e.hasChevron,s=void 0!==l&&l,u=e.expanded,d=void 0!==u&&u,p=e.onChevronClick,f=e.hasParkedIcon,m=e.hasStrikeThrough,v=e.hslColor,y=e.hslContrastClass,w=e.changeSummary,b=e.changes,x=e.displayAction,_=e.onClick;return o().createElement("div",{id:"mutation_card_".concat(t),className:h()("mutationCard",n)},o().createElement("div",{className:h()("mutationCard__content",{"mutationCard__content--withBorder":c,"mutationCard__content--clickable":!!_}),onClick:_},o().createElement("div",{className:"mutationCard__titleRow"},o().createElement("div",{className:"mutationCard__colorSwatch"},o().createElement(E,{hasParkedIcon:f,hasChevron:s,expanded:d,onChevronClick:p,hslColor:v,hslContrastClass:y})),o().createElement(g,{barName:r,hasStrikeThrough:m})),o().createElement("span",{className:"mutationCard__displayStatus"},a),o().createElement("span",{className:"mutationCard__actions"},x),o().createElement("span",{className:"mutationCard__changeSummary"},w),b))}function y(e){var t=e.barId,r=e.barName,n=e.displayStatus,a=e.hasParkedIcon,i=e.hasStrikeThrough,c=e.hslColor,l=e.hslContrastClass,s=e.changeSummary,u=e.changes,d=e.displayAction,h=e.onClick,m=e.containedBarSummaries,y=f(o().useState(!0),2),g=y[0],w=y[1];return o().createElement(o().Fragment,null,o().createElement(v,{barId:t,barName:r,className:"mutationCard--container ".concat(g?"mutationCard--containerOpen":"mutationCard--containerClosed"),displayStatus:n,hasParkedIcon:a,hasStrikeThrough:i,hslColor:c,hslContrastClass:l,changeSummary:s,changes:u,displayAction:d,onClick:h,hasChevron:!0,hasBorder:g,expanded:g,onChevronClick:e=>{e.stopPropagation(),w((e=>!e))}}),g&&m.map(((e,t)=>{var r=t===m.length-1;return o().createElement(v,p({key:e.barId},e,{hasBorder:!0,className:"mutationCard--contained ".concat(r?"mutationCard--lastContained":"")}))})))}function g(e){var t=e.barName,r=e.hasStrikeThrough,n=e.onClick;return r?o().createElement("s",{className:"mutationCard__name",onClick:n},t):o().createElement("span",{className:"mutationCard__name",onClick:n},t)}function w(e){var t=e.hslColor,r=e.hslContrastClass,n=e.expanded,a=e.onChevronClick;return o().createElement("div",{className:"mutationCard__colorSwatch--containerOuter"},o().createElement("div",{className:"mutationCard__colorSwatch--containerInner",style:{backgroundColor:t},onClick:a},o().createElement(l.Z,{classes:r,name:n?l.c.chevronDown:l.c.chevronRight})))}function b(e){var t=e.hslColor;return o().createElement("div",{className:"mutationCard__colorSwatch--outer"},o().createElement("div",{className:"mutationCard__colorSwatch--inner",style:{backgroundColor:t}}))}function E(e){var t=e.hasParkedIcon,r=e.hasChevron,n=e.expanded,a=e.onChevronClick,i=e.hslColor,c=e.hslContrastClass;return t?o().createElement(b,{hslColor:i}):r?o().createElement(w,{hslColor:i,hslContrastClass:c,expanded:n,onChevronClick:a}):o().createElement(b,{hslColor:i})}v.propTypes={displayAction:c().string,barId:c().number,barName:c().string,className:c().string,changeSummary:c().string,displayStatus:c().string,hasStrikeThrough:c().bool,hslColor:c().string,hslContrastClass:c().string,hasBorder:c().bool,hasChevron:c().bool,expanded:c().bool,onChevronClick:c().func,hasParkedIcon:c().bool,changes:c().array,onClick:c().func},y.propTypes={displayAction:c().string,barId:c().number,barName:c().string,changeSummary:c().string,displayStatus:c().string,hasStrikeThrough:c().bool,hslColor:c().string,hslContrastClass:c().string,hasParkedIcon:c().bool,changes:c().array,onClick:c().func,containedBarSummaries:c().array};var x=r(54228),_=r(19728);function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L.apply(this,arguments)}function P(e){var t,r,n=e.highlights,i=e.clearHighlights,c=e.mutationIds;t={Escape:i},r=o().useCallback((e=>{var r;null===(r=t[e.code])||void 0===r||r.call(t)}),[t]),o().useEffect((()=>(document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r))),[r]),(0,s.useEventsChannel)(u.eventNames.MULTISELECT_MODE_ENABLED,i);return o().createElement(a.d,{position:a.L.right,useDefaultZindex:!1},k(n,i,(()=>{i(),function(e){u.default.publish(u.eventNames.EDIT_HIGHLIGHTS,e)}(c)})))}var k=(e,t,r)=>o().createElement("div",{className:"highlights-drawer-ga"},o().createElement("header",null,o().createElement("span",null,"Highlights"),o().createElement("div",null,o().createElement(x.Z,{placement:"bottom",rootClose:!0,overlay:o().createElement(_.Z,{id:"edit-highlights-tooltip"},"Edit selection")},o().createElement("span",{onClick:r,className:"highlights-drawer__edit","data-name":"edit selection"},o().createElement(l.Z,{name:l.c.pencil}))),o().createElement(x.Z,{placement:"bottom",rootClose:!0,overlay:o().createElement(_.Z,{id:"clear-highlights-tooltip"},"Clear highlights")},o().createElement("span",{className:"close-panel",onClick:t},o().createElement("span",{className:"close-panel__icon","data-name":"close highlights panel"},o().createElement(l.Z,{name:l.c.times})))))),o().createElement("div",{className:"content"},e.map((e=>{var t=e.containedBarSummaries?y:v;return o().createElement(t,L({},e,{key:e.barId}))}))),o().createElement("footer",null,o().createElement(O,null)));function O(){return o().createElement("div",{className:"highlights_BetaFlare"},o().createElement("div",{className:"highlights_CommentCTA"},"We\u2019d love your feedback!"," ",o().createElement(l.Z,{name:l.c.commentSmile})))}P.propTypes={highlights:c().arrayOf(c().object),clearHighlights:c().func,mutationIds:c().array};var S=r(89090),j=r(34844);function C(e){var t,r,n=e.highlights,a=o().useMemo((()=>n.concat(n.flatMap((e=>{var t;return null!==(t=e.containedBarSummaries)&&void 0!==t?t:[]})))),[n]);return t=a,r=(0,S.T)(),o().useEffect((()=>{var e,r;return e=T(),null===(r=document.querySelector(e))||void 0===r||r.classList.toggle("isHighlightMode",!0),t.forEach((e=>{N(e).forEach((e=>{null===e||void 0===e||e.classList.toggle("highlighted",!0)}))})),()=>{(()=>{var e=T(),t=document.querySelector(e);null===t||void 0===t||t.classList.toggle("isHighlightMode",!1)})(),t.forEach((e=>{N(e).forEach((e=>{null===e||void 0===e||e.classList.toggle("highlighted",!1)}))}))}}),[r,t]),o().createElement(o().Fragment,null)}function N(e){var t=function(e){switch(window.getLayout()){case j.Z.TIMELINE:return".project-bar[data-id='".concat(e,"'] > .bar-content .dimmable");case j.Z.LIST:var t=".list-view-bar-group[data-id='".concat(e,"'] .squiggly > .dimmable"),r=".list-view-bar[data-id='".concat(e,"'].dimmable");return"".concat(t,",").concat(r);default:throw new Error("layout not supported")}}(e.barId);return document.querySelectorAll(t)}function T(){switch(window.getLayout()){case j.Z.TIMELINE:return".main-content-holder";case j.Z.LIST:return".view-app";default:throw new Error("layout not supported")}}C.propTypes={highlights:c().arrayOf(c().object)};var I=r(73935),A=r.n(I);var R=r(65943);function D(e){var t=e.highlights,r=(0,S.U)(),n=(0,S.T)(),a=o().useMemo((()=>t.concat(t.flatMap((e=>{var t;return null!==(t=e.containedBarSummaries)&&void 0!==t?t:[]})))),[t]);return o().useMemo((()=>r?null:window.getLayout()===j.Z.LIST?o().createElement(M,{entities:a}):o().createElement(F,{entities:a})),[n,r,a])}function F(e){var t,r,n,a,i,c,l,s,u,d=e.entities,h=(t=document.querySelector("#timeline-app"),r=t.getBoundingClientRect(),n=r.x,a=r.y,i=t.clientWidth,c=t.clientHeight,s=(l={x:n+1,y:a+1,width:i-2,height:c-2}).x+l.width,u=l.y+l.height,"polygon(".concat(n,"px ").concat(a,"px, ").concat(s,"px ").concat(a,"px, ").concat(s,"px ").concat(u,"px, ").concat(n,"px ").concat(u,"px)"));return A().createPortal(o().createElement("div",{className:"action-tags-overlay",style:{clipPath:h}},d.map((e=>o().createElement(Z,{key:e.barId,entity:e})))),document.querySelector("#timeline-overlays-mount"))}function M(e){return e.entities.flatMap((e=>{var t,r,n,a=document.querySelectorAll((t=e.barId,r=".list-view-container-action-tags[data-id='".concat(t,"']"),n=".list-view-bar-action-tags[data-id='".concat(t,"']"),"".concat(r,",").concat(n))),i=e.displayAction,c=[];return a.forEach(((t,r)=>{c.push(o().createElement(G,{entity:e,key:"".concat(e.barId,"-").concat(r),portalMount:t,tagText:i}))})),c}))}function G(e){var t=e.entity,r=e.portalMount,n=e.tagText;return A().createPortal(o().createElement("div",{key:t.barId,className:"action-tag-container"},o().createElement("span",{className:"action-tag"},n)),r)}function Z(e){var t=e.entity,r=function(e){var t,r,n,o=document.querySelector(".lanes:not(.collapsed-lane) .project-bar[data-id='".concat(e.barId,"']"));if(!o||!R.RZ.elementIsDisplayed(o))return;var a=o.getBoundingClientRect(),i=a.x,c=a.y,l=a.height,s=null!==(t=null===(r=o.querySelector(".container-holder"))||void 0===r||null===(n=r.getBoundingClientRect())||void 0===n?void 0:n.height)&&void 0!==t?t:0;return{x:i,y:c+l+s}}(t);if(!r)return null;var n=t.displayAction;return o().createElement("div",{key:t.barId,className:"action-tag-container action-tag-container--in-timeline",style:{left:r.x,top:r.y}},o().createElement("span",{className:"action-tag"},n))}D.propTypes={highlights:c().array.isRequired},G.propTypes={entity:c().object.isRequired,portalMount:c().object.isRequired,tagText:c().string.isRequired},Z.propTypes={entity:c().object.isRequired};var B=r(43174),q=r.n(B),V=r(75472),H=r.n(V),$=r(7739),U=r.n($),z=r(74527),Y=r(3759),W=r(55652),K=r(93128),X=r(20493);function J(e){var t=(0,X.K)(e);return t?t.map(((e,t)=>o().createElement("div",{className:"mutationCard__change",key:"".concat(t,"-").concat(e.attribute,"-").concat(e.from,"-").concat(e.to)},o().createElement("strong",null,e.attribute,":")," ",function(e){var t=e.attribute,r=e.from,n=e.to;switch(t){case"Description":case"Strategic Importance":return function(e,t){return o().createElement(o().Fragment,null,o().createElement("span",null,Q(t)))}(0,n);default:return o().createElement(o().Fragment,null,r&&o().createElement(o().Fragment,null,o().createElement("s",null,r)," \u2192 "),o().createElement("span",null,Q(n)))}}(e)))):null}function Q(e){return e?0===e.length?"none":e:"none"}var ee=r(20297);function te(){te=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ce(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"===typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function se(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function ue(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){se(a,n,o,i,c,"next",e)}function c(e){se(a,n,o,i,c,"throw",e)}i(void 0)}))}}function de(e){return he.apply(this,arguments)}function he(){return he=ue(te().mark((function e(t){var r,n,o,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=pe(t),e.next=3,Promise.all(r.map(function(){var e=ue(te().mark((function e(t){var r,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.barId,n=t.mutations,e.t0=ne,e.t1={barId:r,mutations:n},e.next=5,fe(r);case 5:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return n=e.sent,o=we(n),a=o.map(ve),e.abrupt("return",be(a));case 7:case"end":return e.stop()}}),e)}))),he.apply(this,arguments)}function pe(e){return Object.entries(U()(H()(e,(e=>e.id)),(e=>e.mutable_id))).map((e=>{var t=ie(e,2),r=t[0],n=t[1];return{barId:Number(r),mutations:n}}))}function fe(e){return me.apply(this,arguments)}function me(){return(me=ue(te().mark((function e(t){var r,n,o,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=window.currentRoadmapable.findBar(t))){e.next=13;break}if(!r.deleted){e.next=4;break}return e.abrupt("return",{bar:r,status:"deleted"});case 4:if(!r.parked){e.next=6;break}return e.abrupt("return",{bar:r,status:"parked"});case 6:if(!Y.Z.isBarFilteredOut(r)){e.next=12;break}if(!r.bars().every(Y.Z.isBarFilteredOut)){e.next=11;break}return e.abrupt("return",{bar:r,status:"personal-filtered"});case 11:return e.abrupt("return",{bar:r,status:"ghosted"});case 12:return e.abrupt("return",{bar:r,status:"visible"});case 13:return e.prev=13,e.next=16,z.default.bars.show(void 0,"/bars/".concat(t));case 16:if(n=e.sent,o=n.data.bar,!(a=new ee.Z(ne(ne({},o),{},{roadmap:window.currentRoadmapable}))).parked){e.next=21;break}return e.abrupt("return",{bar:a,status:"parked"});case 21:if(!a.ghosted){e.next=23;break}return e.abrupt("return",{bar:a,status:"ghosted"});case 23:return e.abrupt("return",{bar:a,status:"view-filtered"});case 26:if(e.prev=26,e.t0=e.catch(13),404!==e.t0.response.status){e.next=30;break}return e.abrupt("return",{bar:null,status:"deleted"});case 30:throw e.t0;case 31:case"end":return e.stop()}}),e,null,[[13,26]])})))).apply(this,arguments)}function ve(e){var t,r,n,o,a,i=e.barId,c=e.bar,l=e.status,s=e.mutations;return{barId:i,status:l,isContainer:null===c||void 0===c?void 0:c.isContainer,containerId:null===c||void 0===c?void 0:c.containerId,barName:null!==(t=null===c||void 0===c?void 0:c.name)&&void 0!==t?t:s[0].object_name,hasParkedIcon:"parked"===l,hasStrikeThrough:"deleted"===l,hslColor:null!==(r=null===c||void 0===c||null===(n=c.hsl)||void 0===n?void 0:n.call(c))&&void 0!==r?r:W.ProductPlan.defaultNoneColor(),hslContrastClass:null!==(o=null===c||void 0===c||null===(a=c.colorContrastTextClass)||void 0===a?void 0:a.call(c))&&void 0!==o?o:"dark-text",displayAction:Ee(s.map((e=>e.action))),displayStatus:_e(l),changeSummary:Le(s),changes:J(ye(s.flatMap((e=>e.changes)))),onClick:ge({status:l,bar:c})}}function ye(e){e=e.filter((e=>null===e||void 0===e?void 0:e.attribute));var t=ie(q()(e,(e=>e.attribute.includes("Tag"))),2),r=t[0],n=t[1],o=Object.entries(U()(n,(e=>e.attribute))).map((e=>{var t=ie(e,2),r=t[0],n=t[1];return{attribute:r,from:n[0].from,to:n[n.length-1].to}})),a=Object.entries(U()(r,(e=>e.action))).map((e=>{var t=ie(e,2),r=t[0],n=t[1];return{attribute:1===n.length&&"Tag"===n[0].attribute?"Tag":"Tags",action:r,to:n.map((e=>e.to)).join(", ")}}));return o.concat(a)}function ge(e){var t=e.status,r=e.bar;switch(t){case"visible":case"ghosted":return()=>{window.currentRoadmapable.scrollToAndEmphasisBar(r.id)};case"personal-filtered":case"view-filtered":return()=>{K.Z.unsuccessful("".concat(r.name," is currently filtered out \u2014 update Filters to view."))};case"deleted":case"parked":return null}}function we(e){return H()(e,[e=>function(e){switch(e){case"visible":case"ghosted":case"personal-filtered":case"view-filtered":return 1;case"parked":return 2;case"deleted":return 3}}(e.status),e=>{var t=e.bar;return t&&t.startDate()}])}function be(e){var t,r=U()(e,(e=>{var t;return null!==(t=e.containerId)&&void 0!==t?t:"none"})),n=new Set(e.map((e=>e.barId))),o=[],a=ae(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.isContainer){var c=r[i.barId];o.push(ne(ne({},i),{},{containedBarSummaries:c}))}else i.containerId&&n.has(i.containerId)||o.push(i)}}catch(l){a.e(l)}finally{a.f()}return o}var Ee=e=>{if(0===e.length)return"";var t,r,n=(t=e,r=new Map,t.forEach((e=>{var t;return r.set(e,(null!==(t=r.get(e))&&void 0!==t?t:0)+1)})),Array.from(r.entries())).map((e=>{var t=ie(e,2),r=t[0],n=t[1];return 1===n?r:"".concat(r," ").concat(n," times")}));return xe(n.join(", "))};var xe=e=>e.charAt(0).toUpperCase()+e.slice(1),_e=e=>{if(e&&"parked"===e)return"(Parked item)"},Le=e=>{var t,r=[],n=ae(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.info&&o.info.length>0&&r.push(o.info)}}catch(a){n.e(a)}finally{n.f()}return xe(r.join(", "))};function Pe(){Pe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ke(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function je(){var e=function(){var e=Oe(o().useState([]),2),t=e[0],r=e[1],n=Oe(o().useState([]),2),a=n[0],i=n[1],c=()=>{r([])},l=function(){var e,t=(e=Pe().mark((function e(t){var n,o;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((e=>e.parentId?e.parentId:e.id)),e.next=3,de(t);case 3:o=e.sent,r(o),i(n);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ke(a,n,o,i,c,"next",e)}function c(e){ke(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,s.useEventsChannel)(u.eventNames.HIGHLIGHT_REQUESTED,l),{highlights:t,clearHighlights:c,mutationIds:a}}(),t=e.highlights,r=e.clearHighlights,n=e.mutationIds;return function(e){return e.length>=1}(t)?o().createElement(o().Fragment,null,o().createElement(P,{highlights:t,clearHighlights:r,mutationIds:n}),o().createElement(C,{highlights:t}),o().createElement(D,{highlights:t})):null}},20493:(e,t,r)=>{r.d(t,{K:()=>v,s:()=>u});var n=r(30381),o=r.n(n);function a(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=e.map((r=>function(e,t,r){var n=v(e.changes),a=function(e,t,r){var n,o;if(e.isBarMutation&&(null!==(n=e.info)&&void 0!==n&&n.startsWith("into container")||null!==(o=e.info)&&void 0!==o&&o.startsWith("out of container"))){var a,i,c=function(e,t){var r,n=e.info.replace(/(^into container |out of container )/g,"","");if(null!==(r=e.pathBarIds)&&void 0!==r&&r.length)return{id:e.pathBarIds[0],name:n};var o=t.find((t=>t.path===e.path&&"container"===t.object_type&&t.object_name===n));return{id:null===o||void 0===o?void 0:o.mutable_id,name:n}}(e,t);if(c.id)c.name=null!==(a=null!==(i=r.get(c.id))&&void 0!==i?i:p(c.id,t))&&void 0!==a?a:c.name;return c}}(e,t,r);return{id:e.id,mutableId:e.mutable_id,action:e.action,displayAction:f(e),displayName:h(e,t,r),changes:n,changeSummary:y(e,n,a),name:e.object_name,type:e.object_type,info:e.info,path:e.path,tooltipText:e.changes_for_tooltip,author:e.user_name,dayOfChange:e.time_of_change&&o()(e.time_of_change).format("MMM D, YYYY"),timeOfChange:e.time_of_change&&o()(e.time_of_change).format("h:mm A"),tooltipDate:e.time_of_change&&o()(e.time_of_change).format("MMM D, YYYY [at] h:mm A"),hasChildren:e.has_children,parentId:e.parentId,canBeSelected:d(e)}}(r,e,t)));return function(e){var t,r=[],n={},o=a(e);try{for(o.s();!(t=o.n()).done;){var i,c=t.value;if(c.parentId)n[i=c.parentId]||(n[i]=[]),n[c.parentId].push(c);else if(c.hasChildren){var l;c.children=null!==(l=n[c.id])&&void 0!==l?l:null,c.changeSummary=E(c),r.push(c)}else r.push(c)}}catch(s){o.e(s)}finally{o.f()}return r}(r)}function d(e){return e.isBarMutation||"multiple bars"===e.object_type}function h(e,t,r){if(e.isBarMutation){var n,o=e.mutable_id;return null!==(n=r.get(o))&&void 0!==n?n:p(o,t)}if((e.isLink||e.isComment)&&e.relatedBar){var a,i,c=e.relatedBar.id,l=e.relatedBar.name;return null!==(a=null!==(i=r.get(c))&&void 0!==i?i:p(c,t))&&void 0!==a?a:l}return"shared"===e.action||"stopped sharing"===e.action||"updated rights"===e.action?e.info.replace(/(^with )/g,""):"multiple bars"===e.object_type?e.object_type:e.object_name}var p=(e,t)=>{var r=t.find((t=>t.mutable_id===e&&t.isBarMutation));if(r){var n,o,a=null===(n=r.changes)||void 0===n||null===(o=n.find((e=>"Title"===e.attribute)))||void 0===o?void 0:o.to;return null!==a&&void 0!==a?a:r.object_name}},f=e=>{if(e.action)return"shared"===e.action?"Shared ".concat(e.object_type," with"):"stopped sharing"===e.action?"Stopped sharing ".concat(e.object_type," with"):"updated rights"===e.action?"Updated ".concat(e.object_type," rights for"):"added"===e.action&&e.relatedBar?"Added ".concat(e.object_type," to"):"removed"===e.action&&e.relatedBar?"Removed ".concat(e.object_type," from"):"multiple bars"===e.object_type?m(e.action):"".concat(m(e.action)," ").concat(e.object_type)},m=e=>(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.slice(1));function v(e){var t=[],r=[];if(null===e||void 0===e||e.forEach((e=>{!function(e){return"Start date"===e.attribute||"End date"===e.attribute}(e)?r.push(function(e){var t,r={to:e.to,from:e.from,attribute:e.attribute};null!==(t=e.attribute)&&void 0!==t&&t.includes("Tag")&&(r.attribute="".concat(e.attribute," ").concat(e.action.toLowerCase()));return r}(e)):t.push(e)})),t.length){var n=function(e){var t=e.find((e=>"Start date"===e.attribute)),r=e.find((e=>"End date"===e.attribute));if(t&&r){var n=function(e,t){var r=w(e.from,t.from),n=w(e.to,t.to),o=r.from&&r.to&&"".concat(r.from," \u2013 ").concat(r.to),a=n.from&&n.to&&"".concat(n.from," \u2013 ").concat(n.to);return{from:o,to:a}}(t,r);return{attribute:"Dates",from:n.from,to:n.to}}var o=null!==t&&void 0!==t?t:r,a=b(o.from,g),i=b(o.to,g);return l(l({},o),{},{from:a,to:i})}(t);r.push(n)}return r}function y(e,t,r){var n,o,a,i;if(("roadmap"!==e.object_type||"created"!==e.action)&&("view"!==e.object_type||"created"!==e.action)){if(null!==(n=e.info)&&void 0!==n&&n.startsWith("into container"))return"into container ".concat(r.name);if(null!==(o=e.info)&&void 0!==o&&o.startsWith("out of container"))return"out of container ".concat(r.name);if(!e.parentId){if(null!==(a=e.info)&&void 0!==a&&a.includes("planned"))return"status to planned";if(null!==(i=e.info)&&void 0!==i&&i.includes("parked"))return"status to parked";if(!e.isLink&&!e.isComment){var c=null===t||void 0===t?void 0:t.map((e=>{var t;return null!==(t=e.attribute)&&void 0!==t&&t.includes("Tag")?"Tags":e.attribute})),l=[...new Set(c)];return null===l||void 0===l?void 0:l.join(", ").toLowerCase()}}}}var g="MMM D, YYYY";function w(e,t){var r=o()(e),n=o()(t);if(r.isValid()){var a=r.isSame(n,"year")?"MMM D":g;e=r.format(a)}return n.isValid()&&(t=n.format(g)),{from:e,to:t}}function b(e,t){var r=o()(e);return r.isValid()?r.format(t):e}function E(e){if(e.children){var t=new Set;return e.children.forEach((e=>{var r,n,o;null!==(r=e.info)&&void 0!==r&&r.includes("planned")?t.add("status to planned"):null!==(n=e.info)&&void 0!==n&&n.includes("parked")?t.add("status to parked"):null===(o=e.changes)||void 0===o||o.forEach((e=>e.attribute&&t.add(e.attribute)))})),t.has("Dates")&&(t.delete("Start date"),t.delete("End date")),t.has("Start date")&&t.has("End date")&&(t.delete("Start date"),t.delete("End date"),t.add("Dates")),[...t].join(", ").toLowerCase()}}},68181:(e,t,r)=>{r.d(t,{f:()=>z});var n=r(75472),o=r.n(n),a=r(67294),i=r.n(a),c=r(98061),l=r(39185),s=r(7440),u=r(7739),d=r.n(u);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e){var t=m(),r=m(),n=i().useMemo((()=>e.filter((e=>t.isIdSelected(e.id)))),[e,t]),o=i().useMemo((()=>Object.entries(v(e)).map((e=>{var n=h(e,2),o=n[0],a=n[1],c=a.filter((e=>e.canBeSelected)).map((e=>e.id)),l=c.length&&c.every(t.isIdSelected),s=c.some(t.isIdSelected),u=!!l||!!s&&null;return{id:o,groupName:o,groupChecked:u,handleGroupClicked:function(){!0===u?t.deselectIds(c):t.selectIds(c)},members:a.map((e=>function(e,t,r){var n;return e.hasCheckbox=e.canBeSelected,e.isChecked=t.isIdSelected(e.id),e.onCheck=t.toggleId,e.expanded=r.isIdSelected(e.id),e.hasExpandedContent=(null===e||void 0===e||null===(n=e.changes)||void 0===n?void 0:n.length)>0||e.hasChildren,e.toggleExpanded=()=>{e.hasExpandedContent&&r.toggleId(e.id)},e.expandedContent=e.hasExpandedContent&&i().createElement(g,{member:e}),e.mainContent=i().createElement(y,{member:e}),e}(e,t,r)))}}))),[e,t,r]);return{mutationGroups:o,selectedState:t,chevronState:r,selectedMutations:n}}function m(){var e=h(i().useState(new Set),2),t=e[0],r=e[1],n=i().useCallback((e=>t.has(e)),[t]),o=i().useMemo((()=>Array.from(t)),[t]);function a(e){var t=new Set(o);e.forEach((e=>t.add(e))),r(t)}function c(e){var t=new Set(o);e.forEach((e=>t.delete(e))),r(t)}return{isIdSelected:n,selectedIds:o,selectIds:a,deselectIds:c,toggleId:function(e){n(e)?c([e]):a([e])},clearSelection:function(){r(new Set)}}}var v=e=>d()(e,(e=>e.dayOfChange));function y(e){var t=e.member,r=t.displayAction,n=t.displayName,o=t.changeSummary;return i().createElement(i().Fragment,null,i().createElement("span",null,r)," ",i().createElement("strong",null,n)," ",i().createElement("span",null,o))}function g(e){var t=e.member;return t.hasChildren?t.children?t.children.map((e=>i().createElement(b,{key:e.id,member:e}))):i().createElement("span",null,"Loading..."):i().createElement(w,{member:t})}function w(e){var t=e.member;if(!t.changes)return!1;var r=t.id;return t.changes.map(((e,t)=>i().createElement("div",{className:"HistoryItem__change",key:"".concat(t,"-").concat(r,"-").concat(e.attribute,"-").concat(e.from,"-").concat(e.to)},i().createElement("strong",null,e.attribute,":")," ",e.from&&i().createElement(i().Fragment,null,i().createElement("s",null,e.from)," ","\u2192")," ",i().createElement("span",null,e.to))))}function b(e){var t=e.member,r=t.id,n=t.changes;return i().createElement("div",{className:"HistoryItem__change HistoryItem__child"},i().createElement("div",{className:"summary"},i().createElement("strong",null,t.displayName)),i().createElement("div",{className:"changes"},t.changeSummary&&i().createElement("div",null,t.changeSummary),n.map(((e,t)=>i().createElement("div",{key:"".concat(t,"-").concat(r,"-").concat(e.attribute,"-").concat(e.from,"-").concat(e.to)},e.attribute&&i().createElement("strong",null,"".concat(e.attribute,": ")),e.from&&i().createElement(i().Fragment,null,i().createElement("s",null,e.from)," ","\u2192")," ",i().createElement("span",null,e.to))))))}function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var x=E().mark(j);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=P(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function P(e,t){if(e){if("string"===typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=t.trim().toLowerCase();return""===r||(!!S(e,r)||function(e,t){if(!e.children)return!1;var r,n=L(e.children);try{for(n.s();!(r=n.n()).done;){if(S(r.value,t))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}(e,r))}function S(e,t){var r,n=L(j(e));try{for(n.s();!(r=n.n()).done;){if((0,r.value)(t))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}function j(e){var t,r,n,o;return E().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C([e.displayAction,e.displayName,e.changeSummary].filter((e=>e)).join(" "));case 2:return a.next=4,C(e.author);case 4:return a.next=6,C(e.dayOfChange);case 6:r=L(null!==(t=e.changes)&&void 0!==t?t:[]),a.prev=7,r.s();case 9:if((n=r.n()).done){a.next=19;break}return o=n.value,a.next=13,C(o.attribute);case 13:return a.next=15,C(o.from);case 15:return a.next=17,C(o.to);case 17:a.next=9;break;case 19:a.next=24;break;case 21:a.prev=21,a.t0=a.catch(7),r.e(a.t0);case 24:return a.prev=24,r.f(),a.finish(24);case 27:if(!e.path){a.next=29;break}return a.delegateYield(e.path.split("/").map((e=>e.split("-"))).map((e=>{var t=_(e,2),r=t[0],n=t[1];return N("".concat(n,":").concat(r))})),"t1",29);case 29:case"end":return a.stop()}}),x,null,[[7,21,24,27]])}var C=e=>t=>!!e&&e.toLowerCase().includes(t),N=e=>t=>!!e&&e.toLowerCase()===t;function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){if(e){if("string"===typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=e=>{var t=new Map;return e.forEach((e=>{var r,n=null===(r=window.currentRoadmapable.findBar(e))||void 0===r?void 0:r.name;n&&t.set(e,n)})),t},D=(e,t)=>{if(e.size!==t.size)return!1;var r,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=I(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}(e);try{for(n.s();!(r=n.n()).done;){var o=T(r.value,2),a=o[0],i=o[1];if(t.get(a)!==i)return!1}}catch(c){n.e(c)}finally{n.f()}return!0},F=r(58909),M=r(20493);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H(){H=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function $(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){$(a,n,o,i,c,"next",e)}function c(e){$(a,n,o,i,c,"throw",e)}i(void 0)}))}}function z(e){var t,r,n,u,d,h=e.url,p=e.initialPanelVisible,m=void 0!==p&&p,v=e.pageSize,y=void 0===v?50:v,g=(t=m,r=q(i().useState(t),2),n=r[0],u=r[1],{panelVisible:n,showPanel:()=>u(!0),hidePanel:()=>u(!1)}),w=function(e,t,r){var n,a,s={mutations:[],loadingNewerMutations:!1,loadingNextPage:t,possiblyMoreMutations:!0},u=q(i().useState(s),2),d=u[0],h=u[1],p=null===(n=d.mutations[0])||void 0===n?void 0:n.id,f=null===(a=d.mutations.slice(-1)[0])||void 0===a?void 0:a.id,m=i().useCallback((()=>h((e=>Z(Z({},e),{},{loadingNewerMutations:!0})))),[]),v=i().useCallback((()=>h((e=>Z(Z({},e),{},{loadingNextPage:!0})))),[]),y=p?m:v;(0,c.bd)(function(){var t=U(H().mark((function t(n){var o,a,i;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.loadingNextPage){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,l.Z.fetchPage({url:e,maximumId:f,pageSize:r,cancelToken:n});case 4:o=t.sent,a=o.mutations,i=o.possiblyMoreMutations,n.throwIfRequested(),h((e=>Z(Z({},e),{},{mutations:e.mutations.concat(a),possiblyMoreMutations:i,loadingNextPage:!1})));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[d.loadingNextPage,e,f,r]),(0,c.bd)(function(){var t=U(H().mark((function t(n){var o;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.loadingNewerMutations){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,l.Z.fetchAll({url:e,minimumId:p,pageSize:r,cancelToken:n});case 4:o=t.sent,n.throwIfRequested(),h((e=>Z(Z({},e),{},{mutations:o.concat(d.mutations),loadingNewerMutations:!1})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[d.loadingNewerMutations,e,p,r]);var g=i().useRef(new Set),w=(0,c.Uq)(),b=i().useCallback(function(){var e=U(H().mark((function e(t){var n,a;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=U(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.current.has(t)){e.next=2;break}return e.abrupt("return",[]);case 2:return g.current.add(t),e.next=5,l.Z.fetchAll({url:"/mutations/".concat(t,"/history"),pageSize:r,cancelToken:w});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:n=e.sent,w.throwIfRequested(),(a=n.flat()).length&&h((e=>Z(Z({},e),{},{mutations:o()(e.mutations.concat(a),["id"],["desc"])})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Z(Z({},d),{},{loadChildrenFor:b,loadNextPage:v,checkForNewMutations:y})}(h,m,y),b=(d=w.mutations,function(e){var t=T(i().useState((()=>R(e))),2),r=t[0],n=t[1],o=i().useRef(!1),a=i().useCallback((()=>{var t=r,o=R(e);!D(t,o)&&n(o)}),[e]);return i().useEffect((()=>{o.current?a():o.current=!0}),[e]),(0,s.useEventsChannel)("UPDATED_BAR",a),(0,s.useEventsChannel)("SILENTLY_UPDATED_BAR",a),r}(i().useMemo((()=>W(d)),[d]))),E=i().useMemo((()=>(0,M.s)(w.mutations,b)),[w.mutations,b]),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=q(i().useState({textFilter:e,throttledTextFilter:e}),2),n=r[0],o=r[1],a=e=>o((t=>Z(Z({},t),{},{textFilter:e}))),c=i().useCallback((()=>o((e=>Z(Z({},e),{},{throttledTextFilter:e.textFilter})))),[]);return(0,s.useThrottledEffect)(c,[n.textFilter],t,Y),Z(Z({},n),{},{setTextFilter:a})}(),_=function(e,t){return i().useMemo((()=>e.filter((e=>O(e,t)))),[e,t])}(E,x.throttledTextFilter),L=()=>{g.showPanel(),w.checkForNewMutations()},P=i().useCallback((()=>{j.clearSelection(),N.clearSelection(),x.setTextFilter("")}),[j,N,x]),k=f(_),S=k.mutationGroups,j=k.selectedState,C=k.selectedMutations,N=k.chevronState,I=i().useMemo((()=>E.filter((e=>e.hasChildren&&!e.children))),[E]);!function(e,t){var r=q(i().useState([]),2),n=r[0],o=r[1];(0,a.useEffect)((()=>{null!==n&&void 0!==n&&n.length&&(t(n),e(),o([]))}),[n]),(0,s.useEventsChannel)(F.eventNames.EDIT_HIGHLIGHTS,o)}(L,j.selectIds),(0,c.bd)(U(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.loadChildrenFor(I.map((e=>e.id)));case 2:case"end":return e.stop()}}),e)}))),[I,w.loadChildrenFor]);var A=q(i().useState(!1),2),G=A[0],B=A[1],V=I.length>0;return i().useEffect((()=>{if(G&&!V){var e=w.mutations.filter((e=>!e.has_children&&(j.isIdSelected(e.id)||j.isIdSelected(e.parentId))));j.clearSelection(),function(e){e.length>0&&(F.default.publish(F.eventNames.HIGHLIGHT_REQUESTED,e),window.dataLayer.push({event:"history_highlighted",highlightedBarCount:e.length}))}(e),g.hidePanel(),B(!1)}}),[V,G,C,w.mutations]),(0,s.useGlobal)("closeHistoryPanel",g.hidePanel),function(e,t){(0,s.useEventsChannel)(F.eventNames.SHOW_BAR_HISTORY,(r=>{t.setTextFilter("Bar:".concat(r)),e()}))}(L,x),Z(Z(Z(Z({},g),w),{},{uiMutations:E},x),{},{showPanel:L,resetTempUI:P,selectedState:j,chevronState:N,filteredMutations:_,selectedMutations:C,mutationGroups:S,highlightSelectedMutations:()=>B(!0),highlightsRequested:G})}var Y={leading:!1};var W=e=>{var t=new Set;return e.forEach((e=>{var r;e.isBarMutation?t.add(e.mutable_id):e.relatedBar&&t.add(e.relatedBar.id),null===(r=e.pathBarIds)||void 0===r||r.forEach((e=>t.add(e)))})),[...t]}},76191:(e,t,r)=>{r.d(t,{Z:()=>k});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(54228),l=r(19728),s=r(39012),u=r(69518),d=r(97414),h=r(55652);function p(e){var t,r,n,a,i;t={pusher:h.ProductPlan.pusher,channelName:window.currentRoadmapable.pusherChannel,eventName:"mutation-created",handler:e},r=t.pusher,n=t.channelName,a=t.eventName,i=t.handler,o().useEffect((()=>{var e=r.subscribe(n);return e.bind(a,i),()=>{e.unbind(a,i),r.unsubscribe(e)}}),[r,n,a,i])}var f=r(7440);var m=r(11536),v=r(41293);function y(e){var t=e.mutationGroups;return o().createElement("div",{className:"HistoryList"},t.map((e=>o().createElement("section",{className:"HistoryGroup",key:"".concat(e.groupName,"-row-header"),disabled:e.disabled},o().createElement("header",{className:"HistoryGroup__header"},o().createElement(m.Z,{id:"history-list-group-checkbox-".concat(e.groupName),value:e.groupChecked,onChange:e.handleGroupClicked}),o().createElement("time",null,e.groupName)),e.members.map((e=>{var t=e.id,r=e.mainContent,n=e.expandedContent,a=e.author,i=e.tooltipDate,s=e.timeOfChange,u=e.hasCheckbox,d=e.isChecked,h=e.onCheck,p=e.hasExpandedContent,f=e.expanded,m=e.toggleExpanded,y=e.disabled;return o().createElement("details",{className:"HistoryItem",key:t,open:f,disabled:y},o().createElement("summary",{className:"HistoryItem__summary",onClick:e=>{e.preventDefault(),m()}},o().createElement("div",{className:"HistoryItem__summaryLeft"},o().createElement("span",{className:"HistoryItem__checkbox"},u&&o().createElement(v.Z,{id:"history-item-checkbox-".concat(t),className:"HistoryItem__checkbox",value:d,onChange:()=>h(t)})),p?o().createElement("div",{className:"chev"}):o().createElement("div",null),o().createElement("div",{className:"HistoryItem__mainContent"},r)),o().createElement("div",{className:"HistoryItem__summaryRight"},o().createElement("span",null,a)," \u2022 ",o().createElement(c.Z,{rootClose:!0,overlay:o().createElement(l.Z,{id:"".concat(t,"-time-of-change")},i),placement:"left"},o().createElement("time",null,s)))),o().createElement("div",{className:"HistoryItem__details"},n))}))))))}y.propTypes={mutationGroups:i().array};var g=r(79349),w=1;function b(e){for(var t=[],r=0;r<e;r++)t.push({id:"skeleton-member-".concat(w++),mainContent:o().createElement(g.N,null,"Lorem ipsum dolor sit amet consectetur adipiscing elit"),author:o().createElement(g.N,null,"Morbi turpis"),timeOfChange:o().createElement(g.N,null,"12:04 PM"),hasCheckbox:!0,hasChevron:!0,hasExpandedContent:!0,disabled:!0});return t}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){var t=e.panelVisible,r=e.hidePanel,n=e.resetTempUI,a=e.mutationGroups,i=e.checkForNewMutations,c=e.textFilter,l=e.setTextFilter,u=e.possiblyMoreMutations,d=e.loadNextPage,h=e.loadingNextPage,m=e.selectedMutations,v=e.highlightSelectedMutations,y=e.highlightsRequested;return o().createElement(O,null,t&&o().createElement("div",{className:"history-panel"},o().createElement("header",null,o().createElement("span",{className:"title"},"History"),o().createElement("div",{className:"close-panel",onClick:()=>{r(),n()}},o().createElement("span",{className:"close-panel__icon"},o().createElement(s.Z,{name:s.c.times})))),o().createElement(f.HookProvider,{useHook:p,args:[i]}),o().createElement("div",{className:"history-panel-actions"},o().createElement(C,{textFilter:c,setTextFilter:l}),o().createElement(I,{mutations:m,highlightSelectedMutations:v,highlightsRequested:y})),o().createElement("div",{className:"history-list__wrapper"},o().createElement(S,{mutationGroups:a,possiblyMoreMutations:u,loadNextPage:d,loadingNextPage:h}))))}function O(e){var t=e.children;return o().createElement(u.Z,{className:"side-panel-wrapper"},t&&o().createElement(d.Z,{classNames:"side-panel-right-slide",timeout:256},o().createElement("div",{className:"side-panel side-panel-right"},t)))}function S(e){var t,r=e.mutationGroups,n=e.possiblyMoreMutations,a=e.loadNextPage,i=e.loadingNextPage;return 0===r.length&&i?o().createElement(y,{mutationGroups:[(t=20,{id:"skeleton-group-".concat(w++),groupName:o().createElement(g.N,null,"Lorem ipsum dolor sit amet consectetur adipiscing elit"),groupChecked:!1,members:b(t),disabled:!0})]}):0===r.length?o().createElement(o().Fragment,null,o().createElement(N,{possiblyMoreMutations:n}),n&&o().createElement(T,{loadNextPage:a,loadingNextPage:i})):o().createElement(o().Fragment,null,o().createElement(y,{mutationGroups:i?j(r):r}),n&&o().createElement(o().Fragment,null,o().createElement("div",{className:"divider"}),o().createElement(T,{loadNextPage:a,loadingNextPage:i})))}function j(e){var t=L(e.slice(-1),1)[0];return[...e.slice(0,-1),x(x({},t),{},{members:[...t.members,...b(3)]})]}function C(e){var t=e.textFilter,r=e.setTextFilter;return o().createElement("span",{className:"history-panel-text-filter"},o().createElement(s.Z,{name:s.c.search}),o().createElement("input",{placeholder:"Filter list",value:t,onChange:e=>r(e.target.value)}))}function N(e){var t=e.possiblyMoreMutations;return o().createElement("div",{className:"history-list__empty"},o().createElement("h3",null,"No results found"),o().createElement("p",null,"Try adjusting your filter text".concat(t?" or loading more changes":"")))}function T(e){var t=e.loadNextPage,r=e.loadingNextPage;return o().createElement("div",{className:"history-panel-load-more-changes"},o().createElement("button",{onClick:t,disabled:r},"Load more changes"))}function I(e){var t=e.mutations,r=e.highlightSelectedMutations,n=e.highlightsRequested,a=0===t.length||n,i=e=>{var t=e.condition,r=e.wrapper,n=e.children;return t?r(n):n};return o().createElement("div",{className:"history-panel__highlight-button"},o().createElement(i,{condition:a,wrapper:e=>(e=>o().createElement(c.Z,{rootClose:!0,placement:"bottom",overlay:o().createElement(l.Z,{id:"history-highlight-button-tooltip"},"Select some changes first, then click this button")},e))(e)},o().createElement("button",{className:a?"disabled":"",onClick:()=>{if(a)return null;r()}},o().createElement(s.Z,{name:s.c.highlighter}),o().createElement("span",null,"Highlight selected changes"))))}k.propTypes={hidePanel:i().func.isRequired,resetTempUI:i().func.isRequired,panelVisible:i().bool,mutationGroups:i().array,checkForNewMutations:i().func,textFilter:i().string,setTextFilter:i().func,possiblyMoreMutations:i().bool,loadNextPage:i().func,loadingNextPage:i().bool,selectedState:i().object,selectedMutations:i().array,highlightSelectedMutations:i().func,highlightsRequested:i().bool},O.propTypes={children:i().any},S.propTypes={mutationGroups:i().array,possiblyMoreMutations:i().bool,loadNextPage:i().func,loadingNextPage:i().bool},C.propTypes={textFilter:i().string,setTextFilter:i().func},N.propTypes={possiblyMoreMutations:i().bool},T.propTypes={loadNextPage:i().func,loadingNextPage:i().bool},I.propTypes={mutations:i().array,highlightSelectedMutations:i().func,highlightsRequested:i().bool}},66799:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(67294),o=r.n(n),a=r(22314),i=o().lazy((()=>Promise.all([r.e(689),r.e(489)]).then(r.bind(r,49489))));function c(e){return o().createElement(n.Suspense,{fallback:o().createElement(a.AjaxLoaderComponent,null)},o().createElement(i,e))}},43804:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(35161),o=r.n(n),a=r(59704),i=r.n(a),c=r(67294),l=r.n(c),s=r(45697),u=r.n(s),d=r(76395),h=r(34428),p=(r(58865),r(39012));function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends l().Component{constructor(e){super(e),m(this,"updateConditionalsConfirmButtonState",((e,t)=>{this.state.conditionals[e].isChecked=t.target.checked,this.setState({conditionals:this.state.conditionals,confirmButtonEnabled:!i()(this.state.conditionals,["isChecked",!1])})})),m(this,"renderDeleteText",(()=>l().createElement("p",{className:"text-left"},l().createElement("strong",null,"Please note this cannot be undone.")))),this.state={confirmButtonEnabled:!1,conditionals:this.props.modalConditionals}}static show(e){return d.Z.show(this,e)}renderConditionals(){if(0!==this.state.conditionals.length)return l().createElement("div",{className:"confirm-conditionals row"},l().createElement("div",{className:"col-xs-12"},o()(this.state.conditionals,((e,t)=>l().createElement("div",{className:"conditional option-".concat(t),key:t},l().createElement("label",null,l().createElement("span",{className:"conditional-checkbox"},l().createElement("input",{checked:e.isChecked,name:"modal-conditional",type:"checkbox",onChange:e=>this.updateConditionalsConfirmButtonState(t,e)}),l().createElement("span",{className:"checkbox-target ".concat(e.isChecked?p.c.checkSquare.string:p.c.squareOutline.string)})),l().createElement("span",{className:"conditional-text"},e.text)))))))}render(){return l().createElement(h.Z,f({},this.props,{confirmButtonEnabled:this.state.confirmButtonEnabled,message:this.renderDeleteText}),this.renderConditionals())}}m(v,"propTypes",{modalConditionals:u().array}),m(v,"defaultProps",{confirmButtonLabel:"Confirm",cancelButtonLabel:"Cancel",confirmButtonVariation:"danger",isChild:!1,modalConditionals:[]});const y=v},44576:(e,t,r)=>{r.d(t,{CO:()=>ie,eI:()=>ce,V1:()=>oe,ku:()=>le});var n=r(67294),o=r.n(n),a=r(57200),i=r(94184),c=r.n(i),l=r(89734),s=r.n(l),u=r(7440),d=r(45697),h=r.n(d),p=r(39012);function f(e){var t=e.views,r=e.currentView,n=e.onViewSelected,a=e.onViewCreated,i=e.onViewDeleted,l=e.onClickAway,d=e.readonly,h=(0,u.useOnClickAway)(l);if(null===t)return o().createElement("div",{className:"views-menu"},o().createElement("div",{className:"loader"},"Loading views..."));var f=s()(t,(e=>!e.is_primary_view),(e=>e.name));return o().createElement("div",{className:"views-menu"},f.map((e=>{var t=e.name,a=e.view_id,l=e.is_primary_view;return o().createElement("div",{ref:h,className:c()("menu-item","view",{primary:l,active:a===r.view_id}),key:a,role:"button",onClick:()=>{n&&n({name:t,view_id:a})}},t,!l&&!d&&o().createElement("button",{className:"delete-icon",onClick:e=>{e.stopPropagation(),i&&i({name:t,view_id:a})}},o().createElement(p.Z,{name:p.c.times})))})),!d&&o().createElement("div",{className:"menu-item create-view",role:"button",onClick:()=>{a&&a()}},o().createElement(p.Z,{classes:"view-icon",name:p.c.plus}),"Add New View"))}f.propTypes={views:h().array,readonly:h().bool,currentView:h().object,onViewSelected:h().func,onViewCreated:h().func,onViewDeleted:h().func,onClickAway:h().func};var m=r(54228),v=r(95234),y=r(80008),g=r.n(y);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e){var t=e.active,r=e.onActivated,n=e.primaryView,a=e.views,i=e.currentView,l=e.onViewSelected,s=e.onViewCreated,u=e.onViewDeleted,d=e.description,h=e.readonly,y=w(o().useState(!1),2),g=y[0],b=y[1];o().useEffect((()=>{t||b(!1)}),[t]);var E=o().useCallback((()=>{b(!1)}),[]),x=o().useCallback((()=>{t?b((e=>!e)):r&&r()}),[t,r]),_=i.view_id===n.view_id?n.name:"".concat(n.name," - ").concat(i.name);return o().createElement("div",{className:c()("roadmap-title",{active:t})},o().createElement(m.Z,{rootClose:!0,overlay:o().createElement(v.Z,{id:"roadmap-title-popover",title:_},o().createElement("div",{className:"break-word respect-newlines"},d)),placement:"bottom"},o().createElement("button",{className:"title-button",onClick:x},o().createElement("span",{className:"title-text"},_),o().createElement(p.Z,{name:p.c.caretDown}))),g&&o().createElement(f,{readonly:h,currentView:i,views:a,onViewCreated:s,onViewDeleted:u,onViewSelected:l,onClickAway:E}))}function x(e){var t=e.children,r=e.childName,n=e.description,a=r?"".concat(t," - ").concat(r):t;return o().createElement(m.Z,{overlay:o().createElement(v.Z,{id:"roadmap-title-popover",title:a},n),placement:"bottom"},o().createElement("span",{className:"simple-title"},a))}function _(e){var t=e.date,r=g()(t).format("MMM Do, YYYY");return o().createElement("div",{className:"timestamp-subtitle"},"Viewing ".concat(r," version"))}E.propTypes={active:h().bool,readonly:h().bool,onActivated:h().func,primaryView:h().object,views:h().array,currentView:h().object,onViewSelected:h().func,onViewCreated:h().func,onViewDeleted:h().func,description:h().string},x.propTypes={children:h().any,childName:h().string,description:h().string},_.propTypes={date:h().string.isRequired};var L=r(74527);function P(){P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function k(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}const O=class{static getRoadmapViews(e,t){return(r=P().mark((function r(){var n,o;return P().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={roadmap_id:e},r.next=3,L.default.roadmapableViews.getViews(n,t);case 3:return o=r.sent,r.abrupt("return",o.data);case 5:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){k(a,n,o,i,c,"next",e)}function c(e){k(a,n,o,i,c,"throw",e)}i(void 0)}))})();var r}};var S=r(87563),j=r(34428),C=r(43525),N=r(55652),T=r(34844);r(6063);var I=r(76141),A=r(19728),R=r(48414),D=r(71460);function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(){G=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Z(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function B(e){var t,r,n,a,i,c=e.showingParked,l=void 0!==c&&c,s=e.canEditDates,d=(0,u.useEventKey)("ROADMAPABLE_SETTINGS_UPDATE"),h=(t=window.currentRoadmapable.roadmapableId(),r=window.currentRoadmapable.currentViewId,n=window.currentRoadmapable.isMasterPlan(),a=function(e){var t=(0,D.X)(),r=r=>{window.showAJAXLoaderModal(),t.mutate({viewId:e,data:r},{onSuccess:V,onError:U})};return{isLoading:t.isLoading,mutate:r}}(r),i=function(e,t){var r=(0,D.xb)(),n=n=>{window.showAJAXLoaderModal(),r.mutate({portfolioId:e,viewId:t,data:n},{onSuccess:V,onError:U})};return{isLoading:r.isLoading,mutate:n}}(t,r),n?i:a);return l?o().createElement(q,null):o().createElement(z,{key:d,editable:null!==s&&void 0!==s?s:window.currentRoadmapable.permissions.can_edit,initialStartDate:g()(window.currentRoadmapable.startDateSetting),initialEndDate:g()(window.currentRoadmapable.endDateSetting),onStartDateChange:e=>h.mutate({startDate:e.format("yyyy-MM-DD")}),onEndDateChange:e=>h.mutate({endDate:e.format("yyyy-MM-DD")})})}function q(){var e=window.currentRoadmapable.isMasterPlan(),t="The Parked tab shows all parked bars in this ".concat(e?"portfolio":"roadmap"," whether or not they have dates");return o().createElement(m.Z,{overlay:o().createElement(A.Z,{id:"parked-set-shows-all-bars-tooltip",title:t},t),placement:"bottom"},o().createElement("span",{className:"nav-bar-date-disabledMessage"},"All time"))}B.propTypes={showingParked:h().bool,canEditDates:h().bool};var V=function(){var e,t=(e=G().mark((function e(t,r){var n;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(r.data),!(n=void 0!==r.portfolioId)){e.next=5;break}return e.next=5,N.ProductPlan.masterPlanView.handleSettingsUpdate(t,null,!1);case 5:n||N.ProductPlan.displaySettings.resetZoomWindow(),(!n||t.viewStyle===T.Z.LIST)&&window.remountLayout(),window.hideAJAXLoaderModal();case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Z(a,n,o,i,c,"next",e)}function c(e){Z(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();function H(e){e.startDate&&(0,R.logPageAction)("NavBarDates - start_date changed"),e.endDate&&(0,R.logPageAction)("NavBarDates - end_date changed")}function U(){window.hideAJAXLoaderModal(),N.ProductPlan.requireRefresh()}function z(e){var t=e.editable,r=void 0===t||t,n=e.initialStartDate,a=e.initialEndDate,i=e.onStartDateChange,l=e.onEndDateChange,s=F(o().useState(n),2),u=s[0],d=s[1],h=F(o().useState(a),2),p=h[0],f=h[1],m=c()("nav-bar-dates",{"nav-bar-dates--editable":r});return o().createElement("div",{className:m},o().createElement(Y,{className:"nav-bar-start-date",editable:r,date:u,maxDate:p,onDateChange:e=>{d(e),i&&i(e)}}),o().createElement("span",{className:"nav-bar-date-textOnly"},"\u2014"),o().createElement(Y,{className:"nav-bar-end-date",editable:r,date:p,minDate:u,onDateChange:e=>{f(e),l&&l(e)}}))}function Y(e){var t=e.editable,r=void 0===t||t,n=e.date,a=e.onDateChange,i=e.minDate,l=void 0===i?null:i,s=e.maxDate,d=void 0===s?null:s,h=e.className,f=void 0===h?"":h,m=F(o().useState(!1),2),v=m[0],y=m[1],g=(0,u.useOnClickAway)((()=>y(!1)));var w=c()("nav-bar-date",{"nav-bar-date--editable":r}),b=c()("nav-bar-date-display",f);return o().createElement("div",{className:w,onClick:()=>{r&&y(!v)},ref:g},o().createElement("div",{className:b},n.format("MMM Do, YYYY")),r&&v&&o().createElement("div",{className:"nav-bar-date-calendar"},o().createElement(W,null),o().createElement(I.DayPickerSingleDateController,{date:n,focused:v,onClose:()=>{},onDateChange:function(e){y(!1),a&&a(e)},enableOutsideDays:!1,isDayBlocked:()=>!1,isOutsideRange:e=>!(!l||!e.isSameOrBefore(l,"day"))||!(!d||!e.isSameOrAfter(d,"day")),numberOfMonths:1,hideKeyboardShortcutsPanel:!0,navPrev:o().createElement(p.Z,{name:p.c.arrowLeft}),navNext:o().createElement(p.Z,{name:p.c.arrowRight}),daySize:30})))}z.propTypes={editable:h().bool,initialStartDate:h().object.isRequired,initialEndDate:h().object.isRequired,onStartDateChange:h().func,onEndDateChange:h().func},Y.propTypes={editable:h().bool,date:h().object.isRequired,onDateChange:h().func,minDate:h().object,maxDate:h().object,className:h().string};var W=()=>o().createElement("svg",{role:"presentation",focusable:"false",className:"DateInput_fang DateInput_fang_1 nav-bar-date-calendar-arrow"},o().createElement("path",{className:"DateInput_fangShape DateInput_fangShape_1",d:"M0,0 20,0 10,10z"}),o().createElement("path",{className:"DateInput_fangStroke DateInput_fangStroke_1",d:"M0,0 10,10 20,0"})),K=r(65943),X=r(21372),J=r(98061);function Q(){Q=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ee(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function te(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ee(a,n,o,i,c,"next",e)}function c(e){ee(a,n,o,i,c,"throw",e)}i(void 0)}))}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oe(e){var t,r,n,a,i=e.layout,c=window.currentRoadmapable.roadmapableId(),l=function(e){var t=re(o().useState(null),2),r=t[0],n=t[1],a=re(o().useState(null),2),i=a[0],c=a[1],l=(0,u.useEventKey)("ROADMAPABLE_SETTINGS_UPDATE");return(0,J.bd)(function(){var t=te(Q().mark((function t(r){var o;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O.getRoadmapViews(e,r);case 3:o=t.sent,n(o),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),c(t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),[e,l]),{views:r,error:i}}(c),s=l.views,d=(0,u.usePlannedFilter)(),h=i===T.Z.PARKING_LOT&&d===X.Z.parked,p=(t=window.currentRoadmapable.isPublic(),r=window.currentRoadmapable.is_Snapshot,n=window.currentRoadmapable.permissions.can_view,a=N.ProductPlan.currentUser(),!t&&!r&&a&&n),f=function(){var e=(0,D.qJ)();return function(){var t=te(Q().mark((function t(r){var n,o,a,i,c,l,s;return Q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.view_id,o=r.name,t.next=3,j.Z.showAsync({title:"Delete This View",message:"Are you sure you want to delete the view '".concat(o,"'?"),confirmButtonLabel:"Delete View",cancelButtonLabel:"Cancel",confirmButtonVariation:"danger"});case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:window.showAJAXLoaderModal(),a=window.currentRoadmapable,i=a.currentViewId,c=a.primaryViewId,l=n===i?c:i,s=()=>(0,K.iN)(window.currentRoadmapable.routeForView(l)),e.mutate(n,{onSuccess:s});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(),m={active:!0,readonly:!N.ProductPlan.canEdit(),views:s,currentView:{name:window.currentRoadmapable.title(),view_id:window.currentRoadmapable.currentViewId},primaryView:{name:window.currentRoadmapable.primaryViewName(),view_id:window.currentRoadmapable.primaryViewId},description:window.currentRoadmapable.description,onActivated:()=>{window.setLayout(window.currentRoadmapable.defaultLayout)},onViewDeleted:f,onViewSelected:e=>{!function(e){ue.apply(this,arguments)}(e.view_id)},onViewCreated:()=>{(0,C.Z)({viewId:window.currentRoadmapable.primaryViewId})}};return o().createElement(se,{showingParked:h,showRecentChanges:p,roadmapId:c},o().createElement(E,m),o().createElement("div",{className:"navbar-view-icons"},o().createElement(S.Ac,{active:i===T.Z.TIMELINE,name:T.Z.TIMELINE,onClick:()=>{window.setLayout(T.Z.TIMELINE)}}),o().createElement(S.Gz,{active:i===T.Z.LIST,name:T.Z.LIST,onClick:()=>{window.setLayout(T.Z.LIST)}}),o().createElement(S.y2,{active:i===T.Z.PARKING_LOT,name:T.Z.PARKING_LOT,onClick:()=>{window.setLayout(T.Z.PARKING_LOT)}})),function(){if(window.currentRoadmapable.isPrimaryView())return o().createElement("div",{className:"navbar-roadmapable-tools-icons"},o().createElement(S.CQ,{name:"prioritization-mode-icon"}))}())}function ae(e){var t,r=e.layout,n=e.portfolioTableState;if(!N.ProductPlan.isFeatureEnabled("portfolio_table")||window.currentRoadmapable.isPublic())return o().createElement("div",{style:{width:"16px"}});switch(r){case T.Z.ROADMAP:case T.Z.ROADMAP_VIEW:case T.Z.TIMELINE:t=o().createElement(S.Ac,{active:!n.showingPortfolioTable,name:T.Z.TIMELINE,onClick:()=>n.hidePortfolioTable()});break;case T.Z.LIST:t=o().createElement(S.Gz,{active:!n.showingPortfolioTable,name:T.Z.LIST,onClick:()=>n.hidePortfolioTable()});break;default:throw new Error("Invalid layout '".concat(r,"'"))}return o().createElement("div",{className:"navbar-view-icons"},t,o().createElement(S.y2,{active:n.showingPortfolioTable,name:T.Z.PARKING_LOT,tooltipText:"Table",onClick:()=>n.showPortfolioTable()}))}oe.propTypes={layout:h().string.isRequired,showingPortfolioTable:h().bool,togglePortfolioTable:h().func},ae.propTypes={layout:h().string.isRequired,portfolioTableState:h().object.isRequired};var ie=o().memo((function(e){var t=e.layout,r=e.portfolioTableState,n=e.parked,a=e.canEditDates;return o().createElement(se,{showingParked:n,canEditDates:a},o().createElement(x,{description:window.currentRoadmapable.description},window.currentRoadmapable.primaryViewName()),o().createElement(ae,{layout:t,portfolioTableState:r}))}));function ce(){var e=window.currentRoadmapable.isPrimaryView()?null:window.currentRoadmapable.title();return o().createElement(se,null,o().createElement(x,{childName:e,description:window.currentRoadmapable.description},window.currentRoadmapable.primaryViewName()),window.currentRoadmapable.isSnapshot&&o().createElement(_,{date:window.currentRoadmapable.versionDate}))}function le(){var e=o().createElement(_,{date:window.currentRoadmapable.versionDate});return o().createElement(se,{rightChildren:e},o().createElement(x,{description:window.currentRoadmapable.description},window.currentRoadmapable.primaryViewName()))}ie.propTypes={layout:h().string.isRequired,portfolioTableState:h().object.isRequired};function se(e){var t=e.children,r=e.rightChildren,n=e.showingParked,i=e.canEditDates,c=e.showRecentChanges,l=e.roadmapId,s=o().useMemo((()=>{$("body").data("company-name")}),[]);return o().createElement(a.ZP,{companyName:s,currentUser:N.ProductPlan.currentUser(),showFullscreenLink:!0,showRecentChanges:c,roadmapId:l},t&&o().createElement(a.m0,{classes:"flex-shrink-0"},t),o().createElement(a.m0,{classes:"flex-shrink-1 flex-grow-1 truncate"},o().createElement(B,{showingParked:n,canEditDates:i}),r))}function ue(){return(ue=te(Q().mark((function e(t){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.showAJAXLoaderModal(),e.next=3,(0,K.iN)(window.currentRoadmapable.routeForView(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}se.propTypes={children:h().any,rightChildren:h().any,showingParked:h().bool,canEditDates:h().bool,showRecentChanges:h().bool,roadmapId:h().number}},82921:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(64193),l=r(2826),s=r(39012),u=r(3759),d=r(94184),h=r.n(d);function p(e){var t=e=>{var t=e.showPersonalFiltersModal,r=o().createElement(o().Fragment,null,o().createElement(s.Z,{name:s.c.filter}),o().createElement("span",{className:"title"},"Filter"));return o().createElement("div",{className:"active-state-btn"},o().createElement(l.Z,{buttonContent:r,hasNotificationDot:!0,handleButtonClick:t,onClearActiveState:()=>{u.Z.setFilters([])},popoverContent:"Clear personal filters",htmlId:"filter_state"}))},r=e=>{var t=e.showPersonalFiltersModal,r=h()("btn","btn-default","plain-filter-button",{"view-filters-applied":window.currentRoadmapable.shouldShowViewFiltersAppliedIndication()});return o().createElement("button",{onClick:t,className:r},o().createElement(s.Z,{name:s.c.filter}),o().createElement("span",{className:"title"},"Filter"))};return o().createElement(c.F,{dataLoaded:e.dataLoaded},(e=>{var n=e.showPersonalFiltersModal;return e.personalFiltersAreApplied?o().createElement(t,{showPersonalFiltersModal:n}):o().createElement(r,{showPersonalFiltersModal:n})}))}p.propTypes={dataLoaded:i().bool.isRequired}},64193:(e,t,r)=>{r.d(t,{F:()=>D});var n=r(67294),o=r.n(n),a=r(11579),i=r(3759),c=r(48414),l=(r(53431),r(49546)),s=r(79213),u=r(93128),d=r(43525),h=r(65943),p=r(88090),f=r(45697),m=r.n(f),v=r(7440),y=r(22314),g=r(71460),w=r(56264),b=r.n(w),E=r(98061),x=["columns"],_=["editableColumns","includeAll","excludeAll"];function L(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function P(){P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function k(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){k(a,n,o,i,c,"next",e)}function c(e){k(a,n,o,i,c,"throw",e)}i(void 0)}))}}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var A=()=>{var e;return null===(e=window.currentRoadmapable.permissions)||void 0===e?void 0:e.can_edit},R=()=>{var e=window.currentRoadmapable.currentViewId;(0,c.logFilters)({message:"Click on Create View CTA",viewId:e,attributes:{source:"PersonalFiltersModal"}}),q(),(0,d.Z)({viewId:e,useCurrentViewsActiveFilters:!0})};function D(e){var t,r,n,a,l=e.visibleInitially,s=void 0!==l&&l,d=e.dataLoaded,h=void 0===d||d,p=e.children,f=T(o().useState(s),2),m=f[0],w=f[1],b=(r=window.currentRoadmapable.currentViewId,n=window.currentRoadmapable.publicUrlCode,a=(0,g.Pl)({id:r,publicUrlCode:n}),t=a.data,void o().useEffect((()=>{if(t){var e=t.laneViewFilters.filter((e=>!e.included)).map((e=>e.filterId)),r=t.legendViewFilters.filter((e=>!e.included)).map((e=>e.filterId)),n=t.tagViewFilters.filter((e=>!e.included)).map((e=>e.filterId));return t.showNoLegend||r.push("none"),t.showUntagged||n.push("none"),t.showUntaggedMilestones||n.push("untagged-milestone"),window.currentFilterables={viewId:window.currentRoadmapable.currentViewId,excludedLanes:e,excludedLegends:r,excludedTags:n},()=>window.currentFilterables=null}}),[t]),o().useMemo((()=>function(e){if(!e)return null;var t=e.laneViewFilters.filter((e=>e.included)),r=e.legendViewFilters.filter((e=>e.included)),n=e.tagViewFilters.filter((e=>e.included)),o=e.customLabelViewFilters.map((e=>{var t=e.filters.filter((e=>e.included));return j(j({},e),{},{filters:G(t,(e=>"".concat(e.name,"-").concat(e.color)))})})),a={lanes:G(t,(e=>e.name)),legends:G(r,(e=>"".concat(e.name,"-").concat(e.color))),tags:G(n,(e=>e.name)),customLabelGroups:o};return a.legends.unshift({ids:["none"],name:"(None)",included:e.showNoLegend}),a.tags.unshift({ids:["untagged-milestone"],name:"Untagged Milestones",included:e.showUntaggedMilestones}),a.tags.unshift({ids:["none"],name:"Untagged Bars",included:e.showUntagged}),a}(a.data)),[a.data])),E=(0,v.usePersonalFiltersApplied)(),x=h&&E;!function(e){o().useEffect((()=>{e&&i.Z.setFilters(z(H(e)))}),[e])}(b),(0,v.useEventsChannel)("CREATED_BAR",(e=>{var t=e.bar;i.Z.isBarFilteredOut(t)&&u.Z.success("New item added. Clear filters to see it")}));var _=()=>w(!1),L=o().useMemo((()=>{var e,t;if(!m)return null;if(!b)return o().createElement(y.AjaxLoaderComponent,null);var r={filterSettings:b,onHide:_};return(null===(e=window.currentRoadmapable)||void 0===e||null===(t=e.permissions)||void 0===t?void 0:t.can_edit)?o().createElement(F,r):o().createElement(M,r)}),[m,b]);return o().createElement(o().Fragment,null,p&&p({showPersonalFiltersModal:()=>{w(!0),(0,c.logPageAction)("PersonalFilter - open")},hidePersonalFiltersModal:_,personalFiltersAreApplied:x}),L)}function F(e){var t=function(e){var t=T(o().useState(!1),2),r=t[0],n=t[1],a=(0,g.ZJ)(),l=(0,g.Pl)({id:e});return o().useEffect((()=>{r?(window.showAJAXLoaderModal(),$(".modal-backdrop").last().css("z-index","2000")):window.hideAJAXLoaderModal()}),[r]),(0,E.bd)(O(P().mark((function t(){return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.isFetching&&r){t.next=2;break}return t.abrupt("return");case 2:return n(!1),(0,c.logFilters)({message:"Click on Apply Filters CTA",viewId:e,attributes:{source:"PersonalFiltersModal"},currentView:l.data,hasPersonalFilters:i.Z.hasFilters()}),t.next=6,B(a,l);case 6:case"end":return t.stop()}}),t)}))),[e,r,l,a]),()=>n(!0)}(window.currentRoadmapable.currentViewId);return o().createElement(Z,N({},e,{applyToView:t}))}function M(e){return o().createElement(Z,e)}function G(e,t){var r=e.reduce(((e,r)=>{var n=t(r),o=e.get(n)||j(j({},r),{},{ids:[]});return o.ids.push(r.filterId),e.set(n,o)}),new Map);return Array.from(r.values())}function Z(e){var t,r,n,s,u=e.onHide,d=e.filterSettings,h=e.applyToView,f=(t=H(d),r=function(e){var t=(0,a.Hw)(e),r=t.editableColumns,n=t.includeAll,o=t.excludeAll,i=L(t,_);function l(e,t){(0,c.logPageAction)("PersonalFilter - ".concat(e),j({},t))}return r.forEach((e=>{var t=e.type,r=e.onCheckColumn,n=e.onUncheckColumn,o=e.filters;e.onCheckColumn=function(){r(...arguments),l("column",{type:t,action:"show"})},e.onUncheckColumn=function(){n(...arguments),l("column",{type:t,action:"hide"})},o.forEach((e=>{var r=e.onClick,n=e.included,o=e.ids;e.onClick=function(){r(...arguments);var e=n?"hide":"show",a=null===o||void 0===o?void 0:o.join(",");l("single",{type:t,action:e,filterId:a})}}))})),j({editableColumns:r,includeAll:function(){n(...arguments),l("all",{action:"show"})},excludeAll:function(){o(...arguments),l("all",{action:"hide"})}},i)}(t),n=r.columns,s=L(r,x),o().useEffect((()=>{i.Z.setFilters(z(n))}),[n]),j({columns:n},s)),m=f.editableColumns,v=f.includeAll,y=f.excludeAll,g=f.allIncluded,w=f.allExcluded;return o().createElement(p.Z,{className:"personal-filters-modal",backdrop:!0,onHide:u,show:!0,animation:!1},o().createElement(p.Z.Header,{className:"pp-modal-header",closeButton:!0},o().createElement(p.Z.Title,{componentClass:"h3"},"Personal Filters")),o().createElement(p.Z.Body,null,o().createElement("p",null,"Adjust what\u2019s displayed for you in this view without impacting others."),window.currentRoadmapable.shouldShowViewFiltersAppliedIndication()&&o().createElement(l.Z,{bsStyle:"info",className:"personal-filter-message"},o().createElement("h4",null,"Additional filters are applied"),o().createElement("p",null,"To see and update the filters saved to this view, visit ",o().createElement("a",{href:"javascript:void(0)",onClick:V},"Settings > View Filter"))),o().createElement(a.Dm,{columns:m}),o().createElement("div",{className:"pp-centered-buttons"},o().createElement("button",{className:"btn btn-success","data-dismiss":"modal",id:"done-filter",onClick:u},"Done")," ",o().createElement("button",{className:"btn btn-default",id:"select-filters",onClick:v,disabled:g},"Select All")," ",o().createElement("button",{className:"btn btn-default",id:"clear-filters",onClick:y,disabled:w},"Deselect All"),o().createElement(o().Fragment,null,!!A()&&!window.currentRoadmapable.isMasterPlan()&&o().createElement("button",{style:{marginLeft:"8px"},className:"btn btn-info",id:"create-view-from-filters",onClick:R},"Save as new view"),(()=>{if(!A())return!1;var e=!window.currentRoadmapable.isPrimaryView(),t=window.currentRoadmapable.isMasterPlan();return e||t})()&&o().createElement("button",{style:{marginLeft:"8px"},className:"btn btn-info",id:"apply-filters-to-roadmap",onClick:h},"Apply to view")))))}D.propTypes={visibleInitially:m().bool,dataLoaded:m().bool,children:m().func},Z.propTypes={onHide:m().func,filterSettings:m().object.isRequired,applyToView:m().func};var B=function(){var e=O(P().mark((function e(t,r){var n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isError){e.next=3;break}return u.Z.unsuccessful(o().createElement(o().Fragment,null,"View filters could not be saved. Please try again")),e.abrupt("return");case 3:if(e.prev=3,i.Z.hasFilters()){e.next=8;break}return e.next=7,(0,h.fP)();case 7:return e.abrupt("return");case 8:return n=i.Z.mergeWithViewFilters(b().decamelizeKeys(r.data)),e.next=11,t.mutateAsync({viewId:r.data.id,data:n});case 11:return e.next=13,(0,h.fP)();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),u.Z.unsuccessful(o().createElement(o().Fragment,null,"View filters could not be saved. Please try again"));case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,r){return e.apply(this,arguments)}}();function q(){$(".personal-filters-modal button.close").trigger("click")}function V(){q(),(0,s.p)("View Filter")}function H(e){var t=i.Z.getParsedPersonalFilters(),r=[{id:"Lanes",name:"Lanes",type:"lane",filters:e.lanes.map((e=>U("lane",t,e)))},{id:"Legends",name:"Legends",type:"legend",filters:e.legends.map((e=>U("legend",t,e)))},{id:"Tags",name:"Tags",type:"tag",filters:e.tags.map((e=>U("tag",t,e)))}];return e.customLabelGroups.forEach((e=>r.push({id:e.id,name:e.name,type:"custom",filters:e.filters.map((e=>U("custom",t,{ids:[e.filterId],name:e.name,color:e.color})))}))),r}function U(e,t,r){var n=r.ids,o=r.name,a=r.color,i=!t.some((t=>t.type===e&&n.some((e=>"".concat(e)===t.id))));return{id:"".concat(e,"-").concat(n.join(",")),ids:n,name:o,color:a,included:i,type:e}}function z(e){return e.flatMap((e=>e.filters.filter((e=>!e.included)).flatMap((e=>e.ids.map((t=>"filter_".concat(e.type,"_").concat(t)))))))}},51164:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(95234),l=r(54228);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends n.Component{getTooltipTitle(){var e=this.props,t=e.title,r=e.subtitle;return o().createElement("span",null,t,""!==r?[o().createElement("br",{key:"popover-separator"}),o().createElement("span",{key:"popover-subtitle"},r)]:null)}getPopoverComponent(){var e=this.props.description;return o().createElement(c.Z,{className:"popup-description",id:"popover-positioned-bottom",title:this.getTooltipTitle()},e)}renderSubtitle(){var e=this.props.subtitle;if(e)return o().createElement("h3",{className:"subtitle"},o().createElement("span",null,e))}render(){var e=this.props.title;return o().createElement(o().Fragment,null,o().createElement("h1",{className:"board-title"},o().createElement(l.Z,{overlay:this.getPopoverComponent(),placement:"bottom",trigger:["hover","focus"]},o().createElement("span",null,e))),this.renderSubtitle())}}s(u,"propTypes",{title:i().string.isRequired,subtitle:i().string,description:i().string}),s(u,"defaultProps",{subtitle:"",description:""});const d=u},44403:(e,t,r)=>{r.d(t,{Z:()=>j,Q:()=>O});var n=r(89734),o=r.n(n),a=r(67294),i=r.n(a),c=r(45697),l=r.n(c),s=r(38022),u=r(76395),d=r(39012);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends i().Component{constructor(){super(...arguments),h(this,"state",{withSampleData:!0,clickEnabled:!0}),h(this,"handleLinkClick",(e=>{var t=this.props,r=t.template;(0,t.handleCreateRoadmap)({with_sample_data:this.state.withSampleData},r.uuid.split("_").join("-")),this.state.clickEnabled?(this.handleClose(),this.setState({clickEnabled:!1})):e.preventDefault()})),h(this,"handleClose",(()=>{this.useTemplate.close()})),h(this,"handleSampleData",(e=>{this.setState({withSampleData:e.target.checked})}))}static show(e){return u.Z.show(this,e)}renderBody(){var e=this.props,t=e.template,r=e.image,n=this.state.withSampleData;return i().createElement("div",{className:"useTemplateBody"},i().createElement("div",{className:"row"},i().createElement("div",{className:"col-xs-12"},i().createElement("div",{className:"useTemplateBody__title"},"".concat(t.name," Template")),i().createElement("div",{className:"useTemplateBody__icon large"},i().createElement("img",{alt:t.name,src:r})),i().createElement("div",{className:"useTemplateBody__description"},t.description),i().createElement("div",{className:"withSampleData"},i().createElement("label",null,i().createElement("input",{checked:n,name:"with-sample-data",type:"checkbox",onChange:this.handleSampleData}),i().createElement("span",{className:"checkbox-target ".concat(n?d.c.checkSquare.string:d.c.squareOutline.string)}),i().createElement("span",{className:"withSampleData__label"},"Include sample data")),i().createElement("div",{className:"withSampleData__hint"},"This fills the template with sample data that can help you understand roadmap best practices. ")))))}renderFooter(){return i().createElement("div",{className:"useTemplateFooter"},i().createElement("button",{className:"a-button useTemplateBtn",disabled:!this.state.clickEnabled,onClick:this.handleLinkClick},"Use this template"))}render(){return i().createElement(u.Z,{additionalClasses:"use-template-modal",ref:e=>{this.useTemplate=e},onClose:this.handleClose},this.renderBody(),this.renderFooter())}}h(p,"propTypes",{template:l().object.isRequired,image:l().string.isRequired,handleCreateRoadmap:l().func.isRequired});const f=p;var m=r(94184),v=r.n(m);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends i().Component{constructor(){super(...arguments),y(this,"handleSelectCard",(e=>{"click"!==e.type&&13!==e.keyCode||this.props.onSelectClick(this.props.template)}))}render(){var e=this.props,t=e.template,r=e.small,n=e.image,o=v()("templateCard",{large:!r,small:r}),a=v()("templateCard__icon",{large:!r,small:r});return i().createElement("div",{className:o,tabIndex:"0",onClick:this.handleSelectCard,onKeyDown:this.handleSelectCard},i().createElement("div",{className:a},i().createElement("img",{alt:t.name,src:n})),i().createElement("div",{className:"templateCard__title"},"".concat(t.name," Template")),i().createElement("div",{className:"templateCard__description"},t.description))}}y(g,"propTypes",{template:l().object,small:l().bool,onSelectClick:l().func,image:l().string.isRequired});const w=g;var b=r(87326);function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k={agile_roadmap:r.p+"static/agile_roadmap-2ef6cf2bd93d2da83a02.png",business_roadmap:r.p+"static/business_roadmap-34fdf238eaba9402c3f6.png",digital_marketing_roadmap:r.p+"static/digital_marketing_roadmap-d30e24a2e0fa401a8cc2.png",enterprise_it_roadmap:r.p+"static/enterprise_it_roadmap-337efba048e1f865a3f8.png",it_architecture_roadmap:r.p+"static/it_architecture_roadmap-8ecc7b46154998185ae5.png",it_project_roadmap:r.p+"static/it_project_roadmap-274e9c8ef4fe133507ab.png",marketing_plan:r.p+"static/marketing_plan-011ea629816da1aa4a99.png",product_development_roadmap:r.p+"static/product_development_roadmap-67341e8f884c65921187.png",product_launch_plan:r.p+"static/product_launch_plan-2f9283bd52cfdce61ee4.png",product_roadmap:r.p+"static/product_roadmap-165df678eacd6a3371f8.png",software_roadmap:r.p+"static/software_roadmap-1c471bfa04403779010e.png",technology_roadmap:r.p+"static/technology_roadmap-ea14a8da89c71780613a.png",release_plan:r.p+"static/release_plan-5fe5100ab3ca42c53d48.png",marketing_strategy:r.p+"static/marketing_strategy-3a1cf231553eed007cc7.png",ux_ui_roadmap:r.p+"static/ux_ui_roadmap-feb1831858fb65fdb634.png",mobile_marketing_roadmap:r.p+"static/mobile_marketing_roadmap-4230f8ffe73989c0cbbc.png",devops_roadmap:r.p+"static/devops_roadmap-889677e91a26ef8fee59.png",engineering_roadmap:r.p+"static/engineering_roadmap-7b30bcd9614924506484.png",multiple_product_roadmap:r.p+"static/multiple_product_roadmap-3add59870b1c71a1091a.png",executive_facing_portfolio_roadmap:r.p+"static/executive_facing_portfolio_roadmap-05d1be65b47098a007f1.png",customer_facing_product_roadmap:r.p+"static/customer_facing_product_roadmap-a3b378616f058c1f4494.png",it_strategy_roadmap:r.p+"static/it_strategy_roadmap-68ecac5df8ae2a1c44e0.png",hr_roadmap:r.p+"static/hr_roadmap-046c1950ad688dd7e594.png",it_infrastructure_roadmap:r.p+"static/it_infrastructure_roadmap-0432b9d11547da94b4a9.png",quarterly_release_plan_roadmap:r.p+"static/quarterly_release_plan_roadmap-ecd92209df91e4e100e1.png",okr_roadmap:r.p+"static/okr_roadmap-ded74314b49cbd3399dc.png",it_service_management_roadmap:r.p+"static/it_service_management_roadmap-a73464980d7bca07ef94.png",program_management_roadmap:r.p+"static/program_management_roadmap-ef6b577f92b77051a2dc.png",theme_based_product_roadmap:r.p+"static/theme_based_product_roadmap-6db7e9f5542f089f8e80.png"},O=[{name:"Product Roadmap",uuid:"product_roadmap",order:1,featured:!0,description:"If you're a product manager responsible for one specific product, this roadmap template will help you communicate your product strategy."},{name:"Agile Roadmap",uuid:"agile_roadmap",order:2,featured:!0,description:"This roadmap template is for agile product teams that are looking to communicate their near-term plans based on sprint cycles."},{name:"Product Launch Plan",uuid:"product_launch_plan",order:3,featured:!0,description:"This template will help keep your teams in sync and ensure initiatives are completed on time when launching a new product."},{name:"Enterprise IT Roadmap",uuid:"enterprise_it_roadmap",order:4,description:"Use this roadmap template if you are an IT professional looking to visualize your plan for a large-scale project to internal stakeholders."},{name:"Business Roadmap",uuid:"business_roadmap",order:5,featured:!0},{name:"Digital Marketing Roadmap",uuid:"digital_marketing_roadmap",order:6},{name:"IT Architecture Roadmap",uuid:"it_architecture_roadmap",order:7},{name:"IT Project Roadmap",uuid:"it_project_roadmap",order:8,featured:!0},{name:"Marketing Plan",uuid:"marketing_plan",order:9},{name:"Product Development Roadmap",uuid:"product_development_roadmap",order:10,featured:!0},{name:"Software Roadmap",uuid:"software_roadmap",order:11},{name:"Technology Roadmap",uuid:"technology_roadmap",order:12},{name:"Release Plan",uuid:"release_plan",order:13,featured:!0},{name:"Marketing Strategy",uuid:"marketing_strategy",order:14},{name:"UX/UI Roadmap",uuid:"ux_ui_roadmap",order:15,featured:!0},{name:"Mobile Marketing Roadmap",uuid:"mobile_marketing_roadmap",order:16},{name:"DevOps Roadmap",uuid:"devops_roadmap",order:17},{name:"Engineering Roadmap",uuid:"engineering_roadmap",order:18,featured:!0},{name:"Multiple Product Roadmap",uuid:"multiple_product_roadmap",order:19,featured:!0},{name:"Executive-Facing Portfolio Roadmap",uuid:"executive_facing_portfolio_roadmap",order:20},{name:"Objective & Key Results (OKR) Roadmap",uuid:"okr_roadmap",order:21},{name:"Theme-Based Product Roadmap",uuid:"theme_based_product_roadmap",order:22},{name:"Customer-Facing Product Roadmap",uuid:"customer_facing_product_roadmap",order:23},{name:"Quarterly Release Plan Roadmap",uuid:"quarterly_release_plan_roadmap",order:24},{name:"IT Strategy Roadmap",uuid:"it_strategy_roadmap",order:25},{name:"Program Management Roadmap",uuid:"program_management_roadmap",order:26},{name:"IT Service Management Roadmap",uuid:"it_service_management_roadmap",order:27},{name:"IT Infrastructure Roadmap",uuid:"it_infrastructure_roadmap",order:28},{name:"HR Roadmap",uuid:"hr_roadmap",order:29}];class S extends i().Component{constructor(){var e;super(...arguments),e=this,P(this,"handleTemplateCardClick",(e=>{f.show({template:e,image:k[e.uuid],handleCreateRoadmap:this.handleCreateRoadmap})})),P(this,"handleCreateRoadmap",function(){var t,r=(t=E().mark((function t(r,n){var o;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=_({},r),window.showAJAXLoaderModal(),t.next=4,b.Z.load(n,o,{onNextStep:e.props.onNextStep});case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){L(a,n,o,i,c,"next",e)}function c(e){L(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}()),P(this,"handleGoBack",(()=>{this.props.history.goBack()}))}renderTopFourCards(){var e=O.filter((e=>e.order<=4)),t=o()(e,["name"]).map((e=>i().createElement(w,{image:k[e.uuid],key:e.uuid,template:e,onSelectClick:this.handleTemplateCardClick})));return i().createElement("div",{className:"selectTemplate__topFourCards"},t)}renderOtherCards(){var e=O.filter((e=>e.order>4)),t=o()(e,["name"]).map((e=>i().createElement(w,{small:!0,image:k[e.uuid],key:e.uuid,template:e,onSelectClick:this.handleTemplateCardClick})));return i().createElement("div",{className:"selectTemplate__otherCards"},t)}render(){return i().createElement("div",{className:"selectTemplate"},i().createElement("div",{className:"selectTemplate__header"},"Start with a Template"),i().createElement("div",{className:"selectTemplate__list"},this.renderTopFourCards(),this.renderOtherCards()),i().createElement("div",{className:"selectTemplate__footer"},i().createElement("button",{className:"a-button a-button--link",onClick:this.handleGoBack},"Go Back")))}}P(S,"propTypes",{onNextStep:l().func,history:l().object.isRequired});const j=(0,s.EN)(S)},48017:(e,t,r)=>{r.d(t,{Z:()=>vr});var n,o,a,i=r(67294),c=r.n(i),l=r(73935),s=r.n(l),u=r(22314),d=r(35161),h=r.n(d),p=r(75472),f=r.n(p),m=r(25325),v=r.n(m),y=r(41609),g=r.n(y),w=r(64721),b=r.n(w),E=r(47037),x=r.n(E),_=r(63105),L=r.n(_),P=r(82723),k=r.n(P),O=r(45697),S=r.n(O),j=r(55652),C=r(82886),N=r(58732),T=r(74527),I=r(80008),A=r.n(I),R=r(28583),D=r.n(R),F=r(56264),M=r.n(F),G=r(19797),Z=r(34428),B=r(94828),q=r(32646),V=r(55705),H=r(45771),U=r(6778),z=r(23657),Y=r(77271);function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W.apply(this,arguments)}class K extends c().Component{static get defaultFormData(){return{name:"",description:""}}renderName(){return c().createElement(z.Z,{editMode:!0,field:this.props.formData.fieldFor("name")})}renderDescription(){return c().createElement(Y.Z,W({editMode:!0,label:"Description"},this.props.formData.fieldFor("description"),{rows:5}))}render(){return c().createElement(U.Z,{className:"form-vertical",onSubmit:e=>{e.preventDefault()}},this.renderName(),this.renderDescription())}}n=K,o="propTypes",a={formData:S().object.isRequired},o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a;const X=K;var J=r(39012),Q=r(79213);function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ee.apply(this,arguments)}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class re extends c().Component{constructor(){super(...arguments),this.panes=[],this.panes.push({content:X,icon:J.c.infoCircle,title:"General"})}render(){return c().createElement(Q.Z,ee({discardChangesSubjectName:"Folder",panes:this.panes,extraSettingsClasses:"folder"},this.props))}}te(re,"mountPoint",Q.Z.mountPoint),te(re,"propTypes",{formData:S().object,submitText:S().string,title:S().string,onExited:S().func.isRequired,onSubmit:S().func.isRequired});const ne=re;var oe=r(93314);class ae extends oe.Z{constructor(){super({name:"name",description:"description"},{})}buildPayload(e){return{name:e.name,description:e.description}}}const ie=ae;function ce(){ce=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function le(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function se(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){le(a,n,o,i,c,"next",e)}function c(e){le(a,n,o,i,c,"throw",e)}i(void 0)}))}}const ue=class{static create(e){return se(ce().mark((function t(){var r;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new ie,window.showAJAXLoaderModal(),t.prev=2,t.next=5,T.default.folders.create(r.getPayload(e));case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t.catch(2),r.mapErrors(t.t0.response.data);case 11:return t.prev=11,window.hideAJAXLoaderModal(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})))()}static update(e,t){return se(ce().mark((function r(){var n;return ce().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new ie,r.prev=1,r.next=4,T.default.folders.update(e,n.getPayload(t));case 4:return r.abrupt("return",r.sent);case 7:throw r.prev=7,r.t0=r.catch(1),n.mapErrors(r.t0.response.data);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()}};function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},de.apply(this,arguments)}function he(){he=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function pe(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class me extends c().Component{constructor(){var e;super(...arguments),e=this,fe(this,"handleSubmit",function(){var t,r=(t=he().mark((function t(r){var n,o;return he().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.update(e.props.folderId,r);case 2:n=t.sent,o=n.data,e.props.onExited(),e.props.onSuccess(o);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){pe(a,n,o,i,c,"next",e)}function c(e){pe(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}render(){var e=de({},this.props);return delete e.onSuccess,delete e.folderId,c().createElement(ne,de({onSubmit:this.handleSubmit},e))}}fe(me,"propTypes",{onExited:S().func.isRequired,onSuccess:S().func.isRequired,folderId:S().number.isRequired}),(0,H.Z)(ne.mountPoint,me);const ve=me;function ye(e){var t=e.exposed_type||e.type;return"masterplan"!==t&&"master_plan"!==t||(t="portfolio_view"),t}function ge(e){switch(ye(e)){case"roadmap":q.ZP.roadmapSettings(e.id,e.primary_view_id,we);break;case"portfolio_view":(0,V.ZP)(e.id,e.primary_view_id,we);break;case"folder":r=we,n={name:(t=e).name,description:t.description},ve.show({formData:n,folderId:t.id,onSuccess:r||(()=>null)})}var t,r,n}function we(){window.reloadRoadmapableIndexData()}var be=r(75389),Ee=r(25473),xe=r(43804),_e=r(76395),Le=r(7736),Pe=r(94184),ke=r.n(Pe);var Oe=r(93128);function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Se.apply(this,arguments)}function je(){je=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Ce(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ne(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ce(a,n,o,i,c,"next",e)}function c(e){Ce(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ie extends c().Component{constructor(){var e;super(...arguments),e=this,Te(this,"handleClose",(()=>{this.modal.close()})),Te(this,"handleMove",Ne(je().mark((function t(){var r,n,o,a;return je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=-1===(r=e.getSelectedValue())?null:r,e.modal.close(),r!==e.props.currentFolderId){t.next=5;break}return t.abrupt("return");case 5:return n=e.props.roadmapable,o="roadmap"===n.exposed_type?T.default.roadmaps.changeFolder:T.default.portfolioViews.changeFolder,a=("master_plan"===n.exposed_type?"portfolio_view":n.exposed_type).titleize(),window.showAJAXLoaderModal(),t.prev=9,t.next=12,o(n.id,r);case 12:Oe.Z.success("Successfully moved '".concat(n.name,"'")),window.reloadRoadmapableIndexData(),t.next=20;break;case 16:throw t.prev=16,t.t0=t.catch(9),Oe.Z.unsuccessful("There was an error moving the ".concat(a,". Please try again later.")),t.t0;case 20:return t.prev=20,window.hideAJAXLoaderModal(),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[9,16,20,23]])})))),Te(this,"handleFolderSelect",(e=>{this.setState({selectedFolderName:e.target.name,selectedFolderId:e.target.value})})),Te(this,"getSelectedValue",(()=>(this.state?this.state.selectedFolderId:this.props.currentFolderId)||-1)),Te(this,"loadOptions",Ne(je().mark((function e(){var t,r,n;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.default.folders.editable();case 2:return t=e.sent,r=t.data,n={id:-1,name:"Main Folder (Index)"},e.abrupt("return",{options:[n,...r]});case 6:case"end":return e.stop()}}),e)}))))}displayDropDown(){return c().createElement(Le.Z.Input,{async:!0,loadOptions:this.loadOptions,className:"js-select",clearable:!1,creatable:!1,id:"select-field-folders",labelKey:"name",name:"folder",placeholder:"Choose folder",searchable:!1,value:this.getSelectedValue(),valueKey:"id",onChange:this.handleFolderSelect})}modalBody(){return c().createElement("div",{className:"move-to-folder-modal-body"},c().createElement("div",{className:"row"},c().createElement("div",{className:"col-xs-1"}),c().createElement("div",{className:"col-xs-10"},this.displayDropDown())))}modalFooter(){return c().createElement("div",{className:"modal-footer move-to-folder-modal-footer"},c().createElement("form",{className:"text-center"},c().createElement("button",{className:this.classNames(),type:"button",onClick:()=>this.handleMove()},"Move"),"\xa0",c().createElement("button",{className:"btn btn-default cancel",type:"button",onClick:()=>this.handleClose()},"Cancel")))}classNames(){return ke()({btn:!0,add:!0,confirm:!0,"btn-success":!0})}render(){return c().createElement(_e.Z,Se({ref:e=>{this.modal=e},title:"Move to Folder",onClose:this.handleClose},this.props),c().createElement("div",{className:"modal-bulk-action"},this.modalBody(),this.modalFooter()))}static show(e){return _e.Z.show(this,e)}}Te(Ie,"propTypes",{currentFolderId:S().number,roadmapable:S().object.isRequired});const Ae=Ie;function Re(){Re=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function De(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Fe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){De(a,n,o,i,c,"next",e)}function c(e){De(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ge extends c().Component{static handleFailedDelete(e,t){Oe.Z.unsuccessful("There was a problem trying to remove this ".concat(e.titleize())),j.ProductPlan.requireRefresh(t)}static roadmapableDeleted(e){window.reloadRoadmapableIndexData(),Oe.Z.success("1 ".concat(e.titleize()," deleted"))}constructor(e){var t;super(e),t=this,Me(this,"handleMasterPlanCopy",Fe(Re().mark((function e(){var r,n;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.copyingRoadmapable=!0,e.prev=1,e.next=4,T.default.portfolioViews.copy(t.props.roadmapable.id);case 4:r=e.sent,n=r.data,j.ProductPlan.changeLocation("/pv/"+n.url_code),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),delete window.copyingRoadmapable,t.actionCompletedHandler(),Oe.Z.unsuccessful("There was a problem trying to copy this portfolio view");case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))),Me(this,"handleRoadmapCopy",Fe(Re().mark((function e(){var r;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.copyingRoadmapable=!0,e.prev=1,e.next=4,T.default.copyRoadmapable(t.props.roadmapable.id);case 4:r=e.sent,j.ProductPlan.changeLocation("/"+r.url_code),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),delete window.copyingRoadmapable,t.actionCompletedHandler(),Oe.Z.unsuccessful("There was a problem trying to copy this roadmap");case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))),this.ROADMAPABLE_TYPE=ye(this.props.roadmapable),this.IS_UPGRADABLE=!this.props.attrs.isAdminMode&&this.props.attrs.isViewOnly&&this.props.attrs.isShare&&this.props.attrs.isSnapshot&&this.props.attrs.canEdit,this.state={busy:!1},this.availableActions=this.availableActions.bind(this),this.handleCopy=this.handleCopy.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleShare=this.handleShare.bind(this),this.handleMove=this.handleMove.bind(this)}actionInProgressHandler(){this.setState({busy:!0})}actionCompletedHandler(){this.setState({busy:!1})}availableActions(){var e=!this.props.attrs.isAdminMode&&!this.props.attrs.isViewOnly&&this.props.attrs.canEdit,t=!this.props.attrs.isViewOnly&&this.props.attrs.isOwner,r="folder"!==this.props.roadmapable.exposed_type,n=!("master_plan"===this.props.roadmapable.exposed_type)||j.ProductPlan.isFeatureEnabled("portfolio_views"),o=[{text:"Settings...",class:"edit",selected:!1,show:e&&!this.props.attrs.isSnapshot,callback:ge},{text:"Copy...",class:"copy",selected:!1,show:e&&r&&!this.props.attrs.isSnapshot&&n,callback:this.handleCopy},{text:"Move...",class:"move",selected:!1,show:e&&r,callback:this.handleMove},{text:"Share...",class:"share",selected:!1,show:e||this.props.attrs.isAdminMode,callback:this.handleShare},{text:"Delete...",class:"delete",selected:!1,show:t,callback:this.handleDelete}];return L()(o,(e=>e.show))}handleCopy(){window.copyingRoadmapable?Oe.Z.unsuccessful("You can only copy one roadmap at a time"):(this.actionInProgressHandler(),Z.Z.show({title:"Copy This :type".replace(":type",this.ROADMAPABLE_TYPE.titleize()),message:"Would you like to create a copy of ':name'?".replace(":name",this.props.roadmapable.name),confirmCallback:()=>"master_plan"===this.props.roadmapable.exposed_type?this.handleMasterPlanCopy():this.handleRoadmapCopy(),cancelCallback:()=>this.actionCompletedHandler()}))}handleDelete(){var e,t=this,r=this.props.roadmapable.name,n="folder"===this.props.roadmapable.exposed_type?[{text:"Permissions associated with folder will be deleted",isChecked:!1},{text:"Roadmaps and Portfolio Views will be moved to main folder (index)",isChecked:!1}]:[{text:"Remove access for all users",isChecked:!1},{text:"Remove access for all teams",isChecked:!1},{text:"Deactivate all shared links",isChecked:!1}];xe.Z.show({title:"Are you sure you want to delete ".concat(r,"?"),modalConditionals:n,confirmButtonVariation:"danger",confirmCallback:(e=Fe(Re().mark((function e(){return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.actionInProgressHandler(),e.prev=1,e.next=4,be.Z.delete(t.props.roadmapable);case 4:Ge.roadmapableDeleted(t.ROADMAPABLE_TYPE),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Ge.handleFailedDelete(t.ROADMAPABLE_TYPE,e.t0);case 10:return e.prev=10,t.actionCompletedHandler(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])}))),function(){return e.apply(this,arguments)})})}handleShare(){var e=this;return Fe(Re().mark((function t(){var r,n,o,a;return Re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Ee.Z({type:e.props.roadmapable.exposed_type,id:e.props.roadmapable.id}),t.next=3,r.fetchPermissions();case 3:n=t.sent,o=n.data,a={roadmapableName:e.props.roadmapable.name,roadmapableId:e.props.roadmapable.id,roadmapableType:e.props.roadmapable.exposed_type,disableShareLink:!0},B.Z.show(D()({permissions:M().camelizeKeys(o),show:!0},a));case 7:case"end":return t.stop()}}),t)})))()}handleMove(){Ae.show({currentFolderId:this.props.currentFolderId,roadmapable:this.props.roadmapable})}render(){return this.IS_UPGRADABLE?c().createElement("a",{className:"actions-dropdown-item","data-remote":"true",href:"/upgrade_account?from=roadmap"},c().createElement(J.Z,{name:J.c.ellipsisVertical})):c().createElement(G.Z,{actionable:this.props.roadmapable,actionsConstructor:this.availableActions,busy:this.state.busy})}}Me(Ge,"propTypes",{currentFolderId:S().number,roadmapable:S().object.isRequired,attrs:S().object.isRequired});const Ze=Ge;var Be=r(79349);class qe extends c().Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this),this.handleGTMOpenEvent=this.handleGTMOpenEvent.bind(this),this.linkForRoadmapable=this.linkForRoadmapable.bind(this),this.dateToDisplay=this.dateToDisplay.bind(this)}static renderEmptyRow(e){return c().createElement("tr",{className:"empty-roadmapables-table-row"},c().createElement("td",{colSpan:e},c().createElement("div",{style:{fontWeight:"normal",fontSize:"16px"}},"Sorry, there is nothing here.")))}static renderSkeletonRow(e){return c().createElement("tr",{className:"roadmapable-skeleton-row",key:e,"aria-label":"Loading"},c().createElement("td",{className:"roadmapable_row_img_cell"},c().createElement(J.Z,{classes:"roadmapable-image-skeleton",name:J.c.circleSolid})),c().createElement("td",{className:"roadmapable_row_title_cell"},c().createElement(Be.N,null,"Roadmap Title")),c().createElement("td",{className:"roadmapable_row_owner"},c().createElement(Be.N,null,"Owner")),c().createElement("td",{className:"roadmapable_row_updated_at"},c().createElement(Be.N,null,"Updated At")),c().createElement("td",{className:"roadmapable_row_actions_cell"}))}static renderSkeletonRows(e){return Array.from({length:e},((e,t)=>this.renderSkeletonRow(t)))}static loadFolder(e){window.setRoadmapableIndexFolderId(e)}handleClick(e){"folder"===this.props.roadmapable.exposed_type&&(e.preventDefault(),qe.loadFolder(this.props.roadmapable.id)),this.handleGTMOpenEvent()}handleGTMOpenEvent(){"master_plan"===this.props.roadmapable.exposed_type?this.props.attrs.isAdminMode?window.dataLayer.push({event:"open_admin_master"}):this.props.attrs.isShare?window.dataLayer.push({event:"open_shared_master"}):window.dataLayer.push({event:"open_master"}):"roadmap"===this.props.roadmapable.exposed_type?this.props.attrs.isAdminMode?window.dataLayer.push({event:"open_admin_roadmap"}):this.props.attrs.isSnapshot?window.dataLayer.push({event:"open_shared_version"}):this.props.attrs.isShare?window.dataLayer.push({event:"open_shared_roadmap"}):window.dataLayer.push({event:"open_roadmap"}):"folder"===this.props.roadmapable.exposed_type&&(this.props.attrs.isAdminMode?window.dataLayer.push({event:"open_admin_folder"}):this.props.attrs.isShare?window.dataLayer.push({event:"open_shared_folder"}):window.dataLayer.push({event:"open_folder"}))}linkForRoadmapable(){switch(this.props.roadmapable.exposed_type){case"roadmap":return"/roadmaps/".concat(this.props.roadmapable.id);case"folder":return"?folder_id=".concat(this.props.roadmapable.id);default:return"/portfolio_views/".concat(this.props.roadmapable.id)}}dateToDisplay(){var e=A()(),t=A()(this.props.roadmapable.updated_at,A().ISO_8601);return t.diff(e,"days")>=0?A()(t,A().ISO_8601).fromNow():A()(t,A().ISO_8601).format("MMMM DD, YYYY")}renderRoadmapableLink(){return this.props.roadmapable.feature_enabled?c().createElement(c().Fragment,null,c().createElement("a",{href:this.linkForRoadmapable(),onClick:this.handleClick},c().createElement("div",{className:"roadmapable_row_title"},c().createElement("span",{className:"roadmapable-title"},this.props.roadmapable.name),!this.props.attrs.isAdminMode&&!this.props.roadmapable.editor&&c().createElement("span",{className:"info-bubble"},"View Only")),c().createElement("div",{className:"roadmapable_row_description"},this.props.roadmapable.description))):c().createElement(c().Fragment,null,c().createElement("div",{className:"roadmapable_row_title"},c().createElement("span",{className:"roadmapable-title"},this.props.roadmapable.name),c().createElement("span",{className:"info-bubble"},"Unavailable with current plan")),c().createElement("div",{className:"roadmapable_row_description"},this.props.roadmapable.description))}render(){return c().createElement("tr",{className:"".concat(this.props.roadmapable.exposed_type," ").concat(this.props.roadmapable.feature_enabled?"":"no-feature")},c().createElement("td",{className:"roadmapable_row_img_cell"},"string"===typeof this.props.image?c().createElement("img",{alt:this.props.roadmapable.exposed_type,className:"roadmapable_row_image",src:this.props.image}):c().createElement(J.Z,{alt:this.props.roadmapable.exposed_type,name:this.props.image,className:"roadmapable_row_image"})),c().createElement("td",{className:"roadmapable_row_title_cell"},this.renderRoadmapableLink()),c().createElement("td",{className:"roadmapable_row_owner"},this.props.roadmapable.owner),c().createElement("td",{className:"roadmapable_row_updated_at"},this.dateToDisplay()),c().createElement("td",{className:"roadmapable_row_actions_cell"},c().createElement(Ze,{attrs:this.props.attrs,roadmapable:this.props.roadmapable,currentFolderId:this.props.currentFolderId})))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(qe,"propTypes",{attrs:S().object.isRequired,roadmapable:S().object.isRequired,image:S().oneOfType([S().string,S().object]),id:S().string.isRequired,currentFolderId:S().number});const Ve=qe;function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class $e extends c().Component{static buildAttrsForRoadmapableActionMenu(e){var t=e.is_shared_with_current_user,r=e.is_snapshot;return{isRoadmap:"roadmap"===e.exposed_type,isMasterPlan:"master_plan"===e.exposed_type,isShare:t,isSnapshot:r,isViewOnly:e.viewonly,canEdit:e.editor,isAdminMode:this.props.isAdminMode,isOwner:e.is_owner}}constructor(e){super(e),He(this,"sortArrowSelector",(e=>e===this.props.sortColumn?this.props.sortDirection?J.c.arrowUp.string:J.c.arrowDown.string:"")),He(this,"imageSelector",(e=>{switch(e){case"roadmap":return this.props.images.roadmaps;case"folder":return this.props.images.folders;default:return this.props.images.master_plans}})),this.buildAttrsForRoadmapableActionMenu=$e.buildAttrsForRoadmapableActionMenu.bind(this),this.sortArrowSelector=this.sortArrowSelector.bind(this)}renderHeaderRow(){return c().createElement("tr",{className:"roadmapables_table_header"},c().createElement("th",{className:"col img_col"}),c().createElement("th",{className:"col roadmapable_name_col"},c().createElement("div",{className:"title-text",onClick:this.props.onHandleTitleSort},"Title",c().createElement("i",{className:this.sortArrowSelector("title")},""))),c().createElement("th",{className:"col roadmapable_owner_col"},c().createElement("div",{className:"owner-text",onClick:this.props.onHandleOwnerSort},"Owner",c().createElement("i",{className:this.sortArrowSelector("owner")},""))),c().createElement("th",{className:"col roadmapable_date_col"},c().createElement("div",{className:"date-text",onClick:this.props.onHandleDateSort},"Updated At",c().createElement("i",{className:this.sortArrowSelector("date")},""))),c().createElement("th",{className:"col roadmapable_actions_col"}))}renderRows(){var e=this.props.roadmapables;return null===e?Ve.renderSkeletonRows(10):0===e.length?Ve.renderEmptyRow(5):e.map((e=>{var t=this.buildAttrsForRoadmapableActionMenu(e);return c().createElement(Ve,{attrs:t,id:"roadmapable_row_"+e.id,image:this.imageSelector(e.exposed_type),key:e.id+e.exposed_type,roadmapable:e,text:"",currentFolderId:this.props.folderId})}))}render(){return c().createElement("div",null,c().createElement("table",{className:"roadmapables_table"},c().createElement("thead",null,this.renderHeaderRow()),c().createElement("tbody",null,this.renderRows())))}}He($e,"propTypes",{roadmapables:S().array,images:S().object.isRequired,sortColumn:S().string.isRequired,sortDirection:S().bool.isRequired,onHandleTitleSort:S().func.isRequired,onHandleOwnerSort:S().func.isRequired,onHandleDateSort:S().func.isRequired,isAdminMode:S().bool.isRequired,folderId:S().number});const Ue=$e;function ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ye extends c().PureComponent{static renderSelectedItem(e){return c().createElement("span",{className:"selected-group-item"},e.text,c().createElement(J.Z,{name:J.c.check}))}renderMenuItems(){return this.props.items.map((e=>{var t;return c().createElement(N.Z,{key:e.id,onClick:null!==(t=this.props.onChange)&&void 0!==t?t:()=>{var t,r;return null===(t=(r=this.props).onItemSelected)||void 0===t?void 0:t.call(r,e)},className:e.text===this.props.selected?"is-selected":""},e.text===this.props.selected?Ye.renderSelectedItem(e):e.text)}))}render(){var e=this.props.selected===this.props.items.find((e=>0===e.id)).text,t=ke()("actions-dropdown-item",{"is-default":e});return c().createElement(C.Z,{pullRight:!0,className:t,id:this.props.id,title:this.props.selected},this.renderMenuItems())}}ze(Ye,"propTypes",{id:S().string.isRequired,items:S().arrayOf(S().shape({id:S().number,text:S().string})).isRequired,selected:S().string.isRequired,onChange:S().func,onItemSelected:S().func}),ze(Ye,"defaultProps",{id:"group-dropdown-button"});const We=Ye;var Ke=r(17678);class Xe extends oe.Z{constructor(){super({"roadmap.name":"name","roadmap.description":"description","roadmap.timeline_type":"timeline_style","roadmap.start_date":"start_date","roadmap.end_date":"end_date","roadmap.slack_notifications_channel":"slack_notifications_channel","roadmap.ms_teams_webhook_id":"ms_teams_webhook_id","roadmap.folder_id":"folder_id","roadmap.secondary_label_group_id":"secondary_label_group_id","primary_view.name":"name","primary_view.description":"description","primary_view.style":"bar_style","primary_view.effort_type":"effort_type","primary_view.start_date":"start_date","primary_view.end_date":"end_date","primary_view.renderer.style":"timeline_style","primary_view.renderer.fiscal_year_first_month":"fiscal_year_first_month","primary_view.renderer.grid_style":"display_grid","primary_view.renderer.interval_duration":"sprint_interval_duration","primary_view.renderer.interval_offset":"sprint_interval_offset","primary_view.renderer.intervals_to_display":"intervals_to_display"},{effort_type:{size:"Sizes (S-XL)",numeric:"Numeric (0-10)"},display_grid:{none:"(None)",months:"Months",quarters:"Quarters",weeks:"Weeks",sprints:"Sprints"}})}buildPayload(e){var t={name:e.name,description:e.description,timeline_type:e.timeline_style,start_date:e.start_date,end_date:e.end_date,slack_notifications_channel:e.slack_notifications_channel,ms_teams_webhook_id:e.ms_teams_webhook_id,folder_id:e.folder_id};e.secondary_label_group_id&&(t.secondary_label_group_id=e.secondary_label_group_id);var r={name:t.name,description:t.description,style:e.bar_style,effort_type:e.effort_type,start_date:t.start_date,end_date:t.end_date,view_style:e.view_style,renderer_type:"Timeline",is_primary_view:!0,renderer_attributes:{style:t.timeline_type,fiscal_year_first_month:e.fiscal_year_first_month,grid_style:e.display_grid,interval_duration:e.sprint_interval_duration,interval_offset:e.sprint_interval_offset,intervals_to_display:e.intervals_to_display}},n={roadmap:t};return n.roadmap.primary_view_attributes=r,n}}const Je=Xe;function Qe(){Qe=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function et(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}const tt=class{static create(e){return(t=Qe().mark((function t(){var r;return Qe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Je,t.prev=1,t.next=4,T.default.roadmaps.create(r.getPayload(e));case 4:return t.abrupt("return",t.sent);case 7:throw t.prev=7,t.t0=t.catch(1),r.mapErrors(t.t0.response.data);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){et(a,n,o,i,c,"next",e)}function c(e){et(a,n,o,i,c,"throw",e)}i(void 0)}))})();var t}};var rt=r(34844),nt=r(48414),ot=r(65943);function at(){return at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},at.apply(this,arguments)}function it(){it=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ct(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class st extends c().Component{constructor(){var e;super(...arguments),e=this,lt(this,"handleSubmit",function(){var t,r=(t=it().mark((function t(r){var n;return it().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.folder_id=e.props.folderId,t.next=3,tt.create(r);case 3:n=t.sent,(0,nt.logPageAction)("SettingsModal - saved changes",{isPortfolio:!1,isPrimary:!0,roadmapableId:0,currentViewId:0}),e.pushGTMEvent(r.view_style),(0,ot.iN)(n.headers.location);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){ct(a,n,o,i,c,"next",e)}function c(e){ct(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}pushGTMEvent(e){switch(e){case rt.Z.TIMELINE:return window.dataLayer.push({event:"new_timeline_primary_view"});case rt.Z.LIST:return window.dataLayer.push({event:"new_list_primary_view"});default:return}}render(){return c().createElement(Ke.Z,at({submitText:"Create",title:"New Roadmap",onSubmit:this.handleSubmit,ownerMsTeamsEntitled:j.ProductPlan.isFeatureEnabled("ms_teams"),integrations:window.current_user.integrations,ownerId:window.current_user.id,allowMapping:!1},this.props))}}lt(st,"propTypes",{folderId:S().number,legendGroupOptions:S().object}),(0,H.Z)(Ke.Z.mountPoint,st);const ut=st;var dt=r(91088),ht=r(49351);function pt(){return pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pt.apply(this,arguments)}function ft(){ft=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function mt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function vt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class yt extends c().Component{constructor(){var e;super(...arguments),e=this,vt(this,"handleSubmit",function(){var t,r=(t=ft().mark((function t(r){var n;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.folder_id=e.props.folderId,t.next=3,ht.Z.create(r);case 3:n=t.sent,(0,nt.logPageAction)("SettingsModal - saved changes",{isPortfolio:!0,isPrimary:!1,roadmapableId:0,currentViewId:0}),e.handleGTMCreationEvent(r.view_style),(0,ot.iN)(n.headers.location);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){mt(a,n,o,i,c,"next",e)}function c(e){mt(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}handleGTMCreationEvent(e){if(e)return window.dataLayer.push({event:"new_".concat(e,"_portfolio")})}render(){return c().createElement(dt.Z,pt({availableRoadmaps:[],submitText:"Create",title:"New Portfolio View",onSubmit:this.handleSubmit},this.props))}}vt(yt,"propTypes",{folderId:S().number}),(0,H.Z)(dt.Z.mountPoint,yt);const gt=yt;function wt(){return wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wt.apply(this,arguments)}function bt(){bt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Et(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function xt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Et(a,n,o,i,c,"next",e)}function c(e){Et(a,n,o,i,c,"throw",e)}i(void 0)}))}}function _t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Lt extends c().Component{constructor(){var e;super(...arguments),e=this,_t(this,"handleSubmit",function(){var t=xt(bt().mark((function t(r){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ue.create(r);case 2:return e.handleGTMCreationEvent(),t.next=5,e.onSuccess();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}onSuccess(){var e=this;return xt(bt().mark((function t(){return bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.onExited(),window.reloadRoadmapableIndexData();case 2:case"end":return t.stop()}}),t)})))()}handleGTMCreationEvent(){window.dataLayer.push({event:"new_folder"})}render(){return c().createElement(ne,wt({submitText:"Create",title:"New Folder",onSubmit:this.handleSubmit},this.props))}}_t(Lt,"propTypes",{onExited:S().func.isRequired}),(0,H.Z)(ne.mountPoint,Lt);const Pt=Lt;var kt=r(44403),Ot=r(12266),St=r(54228),jt=r(95234);function Ct(e){var t=e.folderName,r=e.onIndexClick;return c().createElement("div",{className:"RoadmapableBreadcrumbs"},t?c().createElement("a",{href:window.location.pathname,className:"RoadmapableBreadcrumbs__link",onClick:function(e){e.preventDefault(),r()}},"Roadmap Index"):c().createElement("span",{className:"RoadmapableBreadcrumbs__current"},"Roadmap Index"),t?c().createElement("span",{className:"RoadmapableBreadcrumbs__seperator"},"/"):null,c().createElement("span",{className:"RoadmapableBreadcrumbs__current"},t))}function Nt(){Nt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Tt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function It(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Tt(a,n,o,i,c,"next",e)}function c(e){Tt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ct.propTypes={folderName:S().string,onIndexClick:S().func.isRequired};class Rt extends c().Component{constructor(e){var t;super(e),t=this,At(this,"dropdownGroupItems",(()=>this.props.supportedGroupFilters.map((e=>k()(e,"matches"))))),At(this,"roadmapablesFilteredByText",(e=>null===e?null:L()(e,(e=>{var t=x()(e.description)?e.description.toLowerCase():"",r=e.name.toLowerCase()+t+e.owner.toLowerCase()+e.updated_at.toLowerCase();return b()(r,this.state.searchTerm.toLowerCase())})))),At(this,"roadmapablesFilteredByGroup",(e=>null===e?null:L()(e,(e=>!g()(v()(this.props.selectedGroupFilter.matches,e.qualifications)))))),At(this,"roadmapablesMatchingFilterTerms",(()=>{var e=0===this.props.selectedGroupFilter.id?this.props.roadmapables:this.roadmapablesFilteredByGroup(this.props.roadmapables);return null===this.state.searchTerm?e:this.roadmapablesFilteredByText(e)})),At(this,"sortDirectionFor",(e=>this.state.sortDirection[e]?"asc":"desc")),At(this,"applySortRule",(e=>{var t=[],r="asc"===this.sortDirectionFor(this.state.sortType)?-1:1;return"title"===this.state.sortType?t=[e=>"".concat("folder"===e.exposed_type?r:0,"-").concat(e.name.toLowerCase())]:"owner"===this.state.sortType?t=[e=>"".concat("folder"===e.exposed_type?r:0,"-").concat(e.owner.toLowerCase()),e=>e.name.toLowerCase()]:"date"===this.state.sortType&&(t=[e=>"".concat("folder"===e.exposed_type?r:0,"-").concat(e.updated_at),e=>e.name.toLowerCase()]),f()(e,t,[this.sortDirectionFor(this.state.sortType)])})),At(this,"sortedRoadmapables",(()=>{var e=this.roadmapablesMatchingFilterTerms();return null===e?null:this.applySortRule(e)})),At(this,"handleSearchFilter",(e=>{this.setState({searchTerm:e.target.value})})),At(this,"handleIndexClick",(()=>window.setRoadmapableIndexFolderId(null))),At(this,"handleNewRoadmap",It(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,nt.logPageAction)("SettingsModal - open",{roadmapableId:0,viewId:0,isPortfolio:!1,isPrimary:!0}),e.next=3,t.upgradeOrCallback("new_roadmap",It(Nt().mark((function e(){var r,n;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.default.roadmaps.new();case 2:r=e.sent,n=r.data,ut.show({folderId:t.props.folderId,legendGroupOptions:n.legend_group_options});case 5:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})))),At(this,"handleNewMasterPlan",It(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,nt.logPageAction)("SettingsModal - open",{roadmapableId:0,viewId:0,isPortfolio:!0,isPrimary:!1}),e.next=3,t.upgradeOrCallback("new_masterplan",(()=>{gt.show({folderId:t.props.folderId})}));case 3:case"end":return e.stop()}}),e)})))),At(this,"handleNewFolder",It(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.upgradeOrCallback("new_folder",Pt.show);case 2:case"end":return e.stop()}}),e)})))),At(this,"handleNewFromTemplateInBackground",function(){var e=It(Nt().mark((function e(r){var n;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.target.id,e.next=3,t.upgradeOrCallback("new_roadmap",It(Nt().mark((function e(){var r,o;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,window.showAJAXLoaderModal(),e.next=4,T.default.loadTemplateInBackground(n,{folder_id:t.props.folderId});case 4:return r=e.sent,o=r.roadmap,Ot.Z.loadTemplateGTMEvent(n),e.next=9,(0,ot.iN)("/roadmaps/".concat(o.id));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),Oe.Z.unsuccessful("Error while creating roadmap. Please try again."),window.hideAJAXLoaderModal();case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),At(this,"upgradeOrCallback",function(){var e=It(Nt().mark((function e(r,n){var o,a;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.props.userIsEditor){e.next=8;break}return e.next=3,T.default.accountActions.upgradeAccount(r);case 3:o=e.sent,a=o.data,new Function(a)(),e.next=10;break;case 8:return e.next=10,null===n||void 0===n?void 0:n();case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),At(this,"handleGroupSelected",(e=>{window.setRoadmapableIndexSelectedGroupFilter(e.key)})),At(this,"handleColumnSort",function(){var e=It(Nt().mark((function e(r){var n,o;return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state.sortDirection[r],(o={sortType:r,sortDirection:{}}).sortDirection[r]=!n,t.props.isAdminMode){e.next=6;break}return e.next=6,T.default.roadmapableIndexActions.updateRoadmapableSortOrder(r,!n);case 6:t.setState(o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),At(this,"handleTitleSort",It(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleColumnSort("title");case 2:case"end":return e.stop()}}),e)})))),At(this,"handleOwnerSort",It(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleColumnSort("owner");case 2:case"end":return e.stop()}}),e)})))),At(this,"handleDateSort",It(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleColumnSort("date");case 2:case"end":return e.stop()}}),e)})))),At(this,"renderTemplateButton",(()=>c().createElement(C.Z,{pullRight:!0,className:"template-dropdown-button",id:"new-from-template-menu",title:"Use a Template"},this.renderTemplateMenuItems(),c().createElement(N.Z,{divider:!0}),this.renderViewAllTemplatesItem()))),At(this,"handleOpenTemplates",It(Nt().mark((function e(){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.upgradeOrCallback("new_roadmap",(()=>{j.ProductPlan.openLink({url:"/roadmaps/new#start_with_template"})}));case 2:case"end":return e.stop()}}),e)})))),At(this,"renderViewAllTemplatesItem",(()=>c().createElement(N.Z,{id:"view-all-templates-item",key:"view-all-templates-item",onClick:this.handleOpenTemplates},"View All Templates"))),At(this,"renderTemplateMenuItems",(()=>{var e=kt.Q.filter((e=>e.featured)).sort(ot.RZ.alphaSort);return h()(e,(e=>{var t=e.uuid.replace(/_/g,"-");return c().createElement(N.Z,{id:t,key:t,onClick:this.handleNewFromTemplateInBackground},e.name)}))})),At(this,"handlePercentCompleteDefaultZero",(e=>{this.setState({percentCompleteDefaultZero:e.target.checked}),T.default.setPercentCompleteDefaultZero(j.ProductPlan.currentUser().account_id,e.target.checked)}));var r=this.props.selectedColumn||"date",n=this.props.selectedColumnSort||!1;this.state={searchTerm:null,sortType:r,sortDirection:{[r]:n},percentCompleteDefaultZero:!1}}componentDidMount(){this.loadPercentCompleteDefaultZero()}loadPercentCompleteDefaultZero(){var e=this;return It(Nt().mark((function t(){var r,n;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j.ProductPlan.getCurrentURL().includes("manage_subscription")){t.next=6;break}return t.next=3,T.default.percentCompleteDefaultZero(j.ProductPlan.currentUser().account_id);case 3:r=t.sent,n=r.data,e.setState({percentCompleteDefaultZero:n.percent_complete_default_zero});case 6:case"end":return t.stop()}}),t)})))()}renderAddFolder(){if(null==this.props.folderId)return c().createElement("button",{className:"btn btn-success new-folder",title:"Create a new folder",type:"button",onClick:this.handleNewFolder},"New Folder")}renderButtonGroup(){return this.props.isAdminMode?null:null==this.props.folderId||this.props.canEditFolder?c().createElement("div",{className:"roadmapables-button-group"},c().createElement("button",{className:"btn btn-success new-roadmap",title:"Create a new roadmap",type:"button",onClick:this.handleNewRoadmap},"New Roadmap"),j.ProductPlan.isFeatureEnabled("portfolio_views")&&c().createElement("button",{className:"btn btn-success new-portfolio-view",title:"View multiple roadmaps simultaneously",type:"button",onClick:this.handleNewMasterPlan},"New Portfolio View"),this.renderAddFolder(),this.renderTemplateButton()):c().createElement("div",{className:"roadmapables-button-group"},c().createElement("button",{disabled:!0,className:"btn btn-success new-roadmap",title:"You do not have permissions to add to this folder",type:"button"},"New Roadmap"),j.ProductPlan.isFeatureEnabled("portfolio_views")&&c().createElement("button",{disabled:!0,className:"btn btn-success new-portfolio-view",title:"You do not have permissions to add to this folder",type:"button"},"New Portfolio View"))}renderHeader(){return c().createElement(c().Fragment,null,this.props.isAdminMode&&c().createElement("div",{className:"page-header"},c().createElement("div",{className:"productplan-page-heading"},"Roadmaps")),this.renderHeaderDescription(),this.renderPercentCompleteDefaultZero())}renderHeaderDescription(){if(this.props.isAdminMode)return c().createElement("div",{className:"view-roadmaps-description"},"View, delete, or change ownership of all roadmaps across your ProductPlan account.")}renderPercentCompleteDefaultZero(){var e=this.state.percentCompleteDefaultZero;if(this.props.isAdminMode)return c().createElement("div",{className:"percent-complete-zero"},c().createElement("label",null,c().createElement("input",{checked:e,id:"percent-complete-default-zero",name:"default-to-zero",type:"checkbox",onChange:this.handlePercentCompleteDefaultZero}),c().createElement("span",{className:"checkbox-target ".concat(e?J.c.checkSquare.string:J.c.squareOutline.string)}),c().createElement("span",{className:"percent-complete-zero__label"},"Set default percent complete to 0 for new bars."),c().createElement("span",{className:"percent-complete-zero__hint"},c().createElement(St.Z,{placement:"top",rootClose:!0,overlay:c().createElement(jt.Z,{id:"popover-info-percent-complete-zero"},c().createElement("div",{className:"description"},"By default, percent complete on new bars have no value. Turning this feature on will set the default to '0' for new bars created on all roadmaps."))},c().createElement("span",{className:"info-icon"},c().createElement(J.Z,{name:J.c.infoCircle}))))))}renderBody(){return c().createElement("div",{className:"roadmapables-component"},c().createElement("div",{id:"roadmapables-page-action-header"},this.renderButtonGroup()),c().createElement("div",{className:"roadmapables-page-navigation-header"},c().createElement(Ct,{folderName:this.props.folderName,onIndexClick:this.handleIndexClick}),c().createElement("div",{className:"roadmapables-filter-group"},c().createElement("div",{id:"roadmapables-page-dropdown-group"},c().createElement(We,{id:"roadmapables-group-selector",items:this.dropdownGroupItems(),selected:this.props.selectedGroupFilter.text,onItemSelected:this.handleGroupSelected})),c().createElement("div",{id:"roadmapables-page-filter"},c().createElement("input",{className:"form-control",disabled:!1,id:"roadmapables-filter",placeholder:"Type to filter the list",type:"text",onChange:this.handleSearchFilter})))),c().createElement(Ue,{images:this.props.images,roadmapables:this.sortedRoadmapables(),sortColumn:this.state.sortType,sortDirection:this.state.sortDirection[this.state.sortType],onHandleDateSort:this.handleDateSort,onHandleOwnerSort:this.handleOwnerSort,onHandleTitleSort:this.handleTitleSort,isAdminMode:this.props.isAdminMode,folderId:this.props.folderId}))}render(){return c().createElement("div",{className:"roadmapables-page"},this.renderHeader(),this.renderBody())}}At(Rt,"propTypes",{images:S().object.isRequired,roadmapables:S().array,selectedGroupFilter:S().object.isRequired,supportedGroupFilters:S().array.isRequired,userIsEditor:S().bool.isRequired,selectedColumn:S().string,selectedColumnSort:S().bool,isAdminMode:S().bool.isRequired,folderId:S().number,folderName:S().string,canEditFolder:S().bool});const Dt=Rt;var Ft=r(36007),Mt=r(89563),Gt=r(13202),Zt=r(98061),Bt=r(7440);function qt(){qt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Vt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ht(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Vt(a,n,o,i,c,"next",e)}function c(e){Vt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kt(){var e=Yt((0,Gt.Wd)({name:"folder_id",fromParam:Xt,toParam:Jt,validate:Qt}),3),t=e[0],r=e[1],n=function(e,t){var r=Yt(c().useState(null),2),n=r[0],o=r[1];return(0,Zt.bd)(function(){var r=Ht(qt().mark((function r(a){var i;return qt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n&&o(null),r.prev=1,!e){r.next=8;break}return r.t0=o,r.next=6,er(e,a);case 6:r.t1=r.sent,(0,r.t0)(r.t1);case 8:r.next=19;break;case 10:if(r.prev=10,r.t2=r.catch(1),![401,403,404].includes(null===(i=r.t2.response)||void 0===i?void 0:i.status)){r.next=18;break}t(void 0),Oe.Z.unsuccessful("Folder not found. Make sure the URL is correct, and that the folder is shared with you."),console.error(r.t2),r.next=19;break;case 18:throw r.t2;case 19:case"end":return r.stop()}}),r,null,[[1,10]])})));return function(e){return r.apply(this,arguments)}}(),[e]),n}(t,e[2]);return(0,Bt.useGlobal)("setRoadmapableIndexFolderId",r),Ut(Ut({folderId:t},null!==n&&void 0!==n?n:{}),{},{loadingFolderData:!!t&&!n})}function Xt(e){if(null===e)return null;var t=Number(e);return isNaN(t)?null:t}function Jt(e){if(null!=e)return"".concat(e)}var Qt=e=>e<1?null:e;function er(e,t){return tr.apply(this,arguments)}function tr(){return(tr=Ht(qt().mark((function e(t,r){var n,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.default.folders.get(t,r);case 2:return n=e.sent,o=n.data,e.abrupt("return",{folderName:o.name,canEditFolder:o.editor});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(){rr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function nr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}class or{static getUserRoadmaps(e,t){return or.getRoadmapables("/roadmapables/roadmaps",e,t)}static getUserMasterPlans(e,t){return or.getRoadmapables("/roadmapables/portfolio_views",e,t)}static getUserFolders(e,t){return or.getRoadmapables("/roadmapables/folders",e,t)}static getUserRoadmapShares(e,t){return or.getRoadmapables("/roadmapables/roadmap_shares",e,t)}static getUserMasterPlanShares(e,t){return or.getRoadmapables("/roadmapables/portfolio_view_shares",e,t)}static getUserFolderShares(e,t){return or.getRoadmapables("/roadmapables/folder_shares",e,t)}static getAccountRoadmaps(e,t){return or.getRoadmapables("/roadmapables/account_roadmaps",e,t)}static getAccountMasterPlans(e,t){return or.getRoadmapables("/roadmapables/account_portfolio_views",e,t)}static getAccountFolders(e,t){return or.getRoadmapables("/roadmapables/account_folders",e,t)}static collectUserRoadmapables(e,t){var r=[or.getUserRoadmaps(e,t),or.getUserMasterPlans(e,t),or.getUserRoadmapShares(e,t),or.getUserMasterPlanShares(e,t)];return null==e&&(r.push(or.getUserFolders(e,t)),r.push(or.getUserFolderShares(e,t))),Promise.all(r)}static collectAccountRoadmapables(e,t){var r=[or.getAccountRoadmaps(e,t),or.getAccountMasterPlans(e,t)];return null==e&&r.push(or.getAccountFolders(e,t)),Promise.all(r)}static collectRoadmapables(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2?arguments[2]:void 0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.collectAccountRoadmapables(e,t):this.collectUserRoadmapables(e,t)}static getRoadmapables(e,t,r){return(n=rr().mark((function n(){var o,a,i;return rr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=[],a=0;case 2:return n.next=4,T.default.roadmapableIndexActions.paginateRoadmapResults(e,a,t,r);case 4:if(0!==(i=n.sent).length){n.next=7;break}return n.abrupt("return",o);case 7:o.push(...i),a=i[i.length-1].id+1;case 9:n.next=2;break;case 11:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){nr(a,r,o,i,c,"next",e)}function c(e){nr(a,r,o,i,c,"throw",e)}i(void 0)}))})();var n}}const ar=or;function ir(){ir=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function cr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function lr(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){cr(a,n,o,i,c,"next",e)}function c(e){cr(a,n,o,i,c,"throw",e)}i(void 0)}))}}function sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dr(e,t,r){return hr.apply(this,arguments)}function hr(){return(hr=lr(ir().mark((function e(t,r,n){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ar.collectRoadmapables(t,r,n);case 2:return e.abrupt("return",e.sent.flat());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mr=e=>e?[{id:0,key:"all",matches:["roadmap","masterplan","folder","shared"],text:"All Items"},{id:1,key:"roadmaps",matches:["roadmap"],text:"Roadmaps"},{id:2,key:"portfolios",matches:["masterplan"],text:"Portfolio Views"}]:j.ProductPlan.isFeatureEnabled("portfolio_views")?[{id:0,key:"all",matches:["roadmap","masterplan","folder","shared"],text:"All Items"},{id:1,key:"my_roadmaps",matches:["my_roadmap"],text:"My Roadmaps"},{id:2,key:"my_portfolios",matches:["my_master_plan"],text:"My Portfolio Views"},{id:3,key:"shared_with_me",matches:["shared"],text:"Shared With Me"}]:[{id:0,key:"all",matches:["roadmap","folder","shared"],text:"All"},{id:1,key:"my_roadmaps",matches:["my_roadmap"],text:"My Roadmaps"},{id:3,key:"shared_with_me",matches:["shared"],text:"Shared With Me"}];function vr(e){var t=e.userIsEditor,r=e.isAdminMode,n=Kt(),o=n.folderId,a=n.folderName,i=n.canEditFolder,l=n.loadingFolderData,s=function(e,t){var r=sr(c().useState(null),2),n=r[0],o=r[1],a=sr(c().useState(0),2),i=a[0],l=a[1],s=c().useCallback((()=>l((e=>e+1))),[]);return(0,Bt.useGlobal)("reloadRoadmapableIndexData",s),(0,Zt.bd)(function(){var r=lr(ir().mark((function r(n){var a;return ir().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(null),r.next=3,dr(e,t,n);case 3:a=r.sent,n.throwIfRequested(),o(a);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[e,t,i]),{roadmapables:n,loadingRoadmapables:!n}}(r,o),d=s.roadmapables,h=s.loadingRoadmapables,p=function(e){var t=c().useMemo((()=>mr(e)),[e]),r=c().useCallback((e=>{var r,n;return null!==(r=null===(n=t.find((t=>t.key===e)))||void 0===n?void 0:n.key)&&void 0!==r?r:"all"}),[t]),n=pr((0,Gt.Wd)({name:"group",validate:r,fromParam:r,toParam:c().useCallback((e=>"all"===e?void 0:e),[])}),2),o=n[0],a=n[1],i=t.find((e=>e.key===o));return(0,Bt.useGlobal)("setRoadmapableIndexSelectedGroupFilter",a),{selectedGroupFilter:i,supportedGroupFilters:t}}(r),f=p.selectedGroupFilter,m=p.supportedGroupFilters,v={images:yr,userIsEditor:t,isAdminMode:r,roadmapables:d,folderId:o,folderName:a,canEditFolder:i,selectedGroupFilter:f,supportedGroupFilters:m,selectedColumn:r?null:window.current_user.roadmapable_order.column,selectedColumnSort:r?null:window.current_user.roadmapable_order.sort},y=l||h;return c().createElement(c().Fragment,null,y&&c().createElement(u.AjaxLoaderComponent,null),c().createElement(Dt,v))}vr.mount=e=>{var t=$("#new-roadmaps-page-mount-point"),r=t.data("adminMode"),n={isAdminMode:r,userIsEditor:!r&&t.data("userIsEditor")};s().render(c().createElement(Gt.YO,{basename:e},c().createElement(vr,n)),t[0])},vr.propTypes={userIsEditor:S().bool.isRequired,isAdminMode:S().bool.isRequired};var yr={roadmaps:Ft,master_plans:Mt,folders:J.c.folder}},50715:(e,t,r)=>{r.r(t),r.d(t,{ScoreDrawer:()=>qe,language:()=>Ge});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(94184),l=r.n(c);var s=r(27087),u=r(66073),d=r.n(u),h=r(82729),p=r.n(h),f=r(7440),m=r(12902),v=r(88241);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(t){var n=e.bars[t.id];if(n)if(t.toScore){var o="name"===e.sortSettings.column&&n.name!==t.name,a=r&&r.type===e.sortSettings.type&&r.field===e.sortSettings.column;(o||a||"score"===e.sortSettings.column)&&(e.sortSettings={}),n.name=t.name,n.parked=t.parked,n.cost_scores=g({},t.costScores),n.benefit_scores=g({},t.benefitScores),n.score=(0,v.C)(e.headings,n)}else delete e.bars[t.id],p()(e.order,(e=>e===t.id));else if(t.toScore){var i={id:t.id,name:t.name,parked:t.parked,benefit_scores:g({},t.benefitScores),cost_scores:g({},t.costScores)};i.score=(0,v.C)(e.headings,i),e.bars[t.id]=i,e.order.unshift(t.id),e.sortSettings={}}}}function _(e,t){var r,n=b(t);try{for(n.s();!(r=n.n()).done;){var o=r.value;delete e.bars[o]}}catch(a){n.e(a)}finally{n.f()}p()(e.order,(e=>t.includes(e)))}function L(e){for(var t=0,r=Object.values(e.bars);t<r.length;t++){var n=r[t];n.score=(0,v.C)(e.headings,n)}}var P=r(87563),k=r(34844),O="Nothing prioritized yet",S='Right click on any bar and select "Prioritize" - making sure you\'re working on the right initiative',j="Select \u201cPrioritize\u201d from the overflow menu\u2014making sure you\u2019re working on the right initiative",C="Learn more",N="Start prioritizing";function T(e){var t=e.activeLayout,r=(0,s.useScoreDrawerContext)().toggleScoreDrawer;function n(){switch(t){case k.Z.LIST:return o().createElement(P.mc,null);case k.Z.PARKING_LOT:return o().createElement(P.Eu,null);default:return o().createElement(P.EY,null)}}function a(){return t===k.Z.PARKING_LOT?j:S}return o().createElement("div",{id:"empty-scoring-table",className:"empty-table"},o().createElement(n,null),o().createElement("span",{className:"empty-table-message-header"},O),o().createElement("span",{className:"empty-table-message-body"},o().createElement(a,null)),o().createElement("span",{className:"empty-table-message-cta"},o().createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.productplan.com/en/articles/2978898-how-to-use-the-planning-board"},C),o().createElement("button",{id:"start-prioritizing-".concat(t),className:"a-button add-invite",onClick:r},N)))}T.propTypes={activeLayout:a.PropTypes.string.isRequired},T.defaultProps={activeLayout:"timeline"};const I=T;var A=r(39012),R=r(19728),D=r(54228),F=r(82886),M=r(58732);function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var B="Title",q="Score",V=e=>"Weight: ".concat(e),H=e=>"Maximum: ".concat(e),$="Edit...",U="Hide",z="Park",Y="Unpark",W="The bar's score was unable to save. Please refresh your browser and try again.",K="Unable to load the bar details. Please try again.",X="Unable to park the bar. Please try again.",J="Unable to unpark the bar. Please try again.",Q="Unable to remove the bar. Please try again.",ee=o().memo((function(e){var t=e.barData,r=e.updateBarScore,n=e.readOnly,a=e.updateSort,i=e.onFatalError,c=e.showBarDetailsDialog,l=e.parkBar,s=e.unparkBar,u=e.deprioritizeBars,d=t.bars,h=t.order,p=t.headings,f=t.sortSettings;if(0===h.length)return o().createElement(I,{activeLayout:window.getLayout()});function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(f.column===e&&f.type===t){if("asc"===f.direction)return o().createElement(A.Z,{name:A.c.sortUp,classes:"sort-arrow visible"});if("desc"===f.direction)return o().createElement(A.Z,{name:A.c.sortDown,classes:"sort-arrow visible"})}return o().createElement(A.Z,{name:A.c.sort,classes:"sort-arrow"})}var y=(0,v.y)(p);return o().createElement("div",{className:"score-drawer-table-wrapper"},o().createElement("table",{className:"score-drawer-table"},o().createElement("thead",null,function(e){var t=96,r=e.benefitOrder.length,n=e.costOrder.length,a={benefit:8*(r-1),cost:8*(n-1)};return o().createElement("tr",{className:"upper-heading"},o().createElement("th",{className:"title-heading"},"\xa0"),r>0&&o().createElement("th",{colSpan:r,className:"benefit-top-heading",style:{width:"".concat(r*t+a.benefit,"px")}},"Benefit"),n>0&&o().createElement("th",{colSpan:n,className:"cost-top-heading",style:{width:"".concat(n*t+a.cost,"px")}},"Cost"),o().createElement("th",{className:"score-heading"},"\xa0"))}(p),o().createElement("tr",{className:"lower-heading"},o().createElement("th",{className:"title-heading no-select",onClick:()=>a("name")},o().createElement("span",null,B),m("name")),te(p,"benefit",a,m),te(p,"cost",a,m),o().createElement("th",{className:"score-heading no-select",onClick:()=>a("score")},o().createElement(re,{value:H(y)},o().createElement("div",null,o().createElement("span",null,q),m("score")))))),o().createElement("tbody",null,h.map((e=>o().createElement(ne,{key:e,bar:d[e],headings:p,updateBarScore:r,readOnly:n,onFatalError:i,showBarDetailsDialog:c,parkBar:l,unparkBar:s,deprioritizeBars:u}))))))}));function te(e,t,r,n){var a=e["".concat(t,"Headings")],i=e["".concat(t,"Order")];return i.map(((e,c)=>o().createElement("th",{key:e,className:l()("".concat(t,"-heading ").concat(t,"-score no-select editable-column"),{first:0===c},{last:c===i.length-1}),onClick:()=>r(e,"".concat(t,"_scores"))},o().createElement(re,{value:V(a[e])},o().createElement("div",null,o().createElement("span",null,e),n(e,"".concat(t,"_scores")))))))}function re(e){var t=e.value,r=e.children,n=o().createElement(R.Z,{id:"table-header-tooltip"},t);return o().createElement(D.Z,{rootClose:!0,overlay:n,placement:"bottom"},r)}ee.propTypes={barData:i().object.isRequired,updateBarScore:i().func.isRequired,updateSort:i().func.isRequired,deprioritizeBars:i().func.isRequired,showBarDetailsDialog:i().func.isRequired,parkBar:i().func.isRequired,unparkBar:i().func.isRequired,onFatalError:i().func.isRequired,readOnly:i().bool.isRequired},re.propTypes={value:i().string,children:i().any};var ne=o().memo((function(e){var t=e.bar,r=e.headings,n=e.updateBarScore,a=e.deprioritizeBars,i=e.showBarDetailsDialog,c=e.parkBar,l=e.unparkBar,s=e.readOnly,u=e.onFatalError;return o().createElement("tr",{className:"prioritized-bar","data-id":t.id},o().createElement("td",{className:"title-cell"},o().createElement("span",{className:"parked-icon"},t.parked?o().createElement(A.Z,{name:A.c.parking}):o().createElement(A.Z,{name:A.c.stream})),o().createElement("a",{role:"button",onClick:()=>{i(t.id).catch((()=>u(K)))}},t.name)),ae(t,r,"benefit",n,s,u),ae(t,r,"cost",n,s,u),o().createElement("td",{className:"score-cell"},o().createElement("div",{className:"score-cell-wrapper"},o().createElement("div",{className:"score-value"},t.score),!s&&o().createElement("div",{className:"bar-actions"},o().createElement(ie,{bar:t,deprioritizeBars:a,showBarDetailsDialog:i,parkBar:c,unparkBar:l,onFatalError:u})))))}));ne.propTypes={bar:i().object.isRequired,headings:i().object.isRequired,updateBarScore:i().func.isRequired,deprioritizeBars:i().func.isRequired,showBarDetailsDialog:i().func.isRequired,parkBar:i().func.isRequired,unparkBar:i().func.isRequired,onFatalError:i().func.isRequired,readOnly:i().bool.isRequired};var oe=["","0","1","2","3","4","5"];function ae(e,t,r,n,a,i){var c=e["".concat(r,"_scores")],s=Object.keys(t["".concat(r,"Headings")]);return t["".concat(r,"Order")].map(((t,u)=>{var d=c[t];return void 0===d&&(d=""),o().createElement("td",{key:t,className:l()("".concat(r,"-score editable-column"),{first:0===u},{last:u===s.length-1}),"data-column":t},o().createElement("input",{type:"text",value:d,placeholder:"0-5","aria-label":t,disabled:a,onChange:o=>{var a=o.target.value;oe.includes(a)&&n(e.id,r,t,a).catch((e=>{throw i(W),e}))}}))}))}function ie(e){var t=e.bar,r=e.showBarDetailsDialog,a=e.deprioritizeBars,i=e.parkBar,c=e.unparkBar,l=e.onFatalError,s=G((0,n.useState)(!1),2),u=s[0],d=s[1],h=o().createElement(A.Z,{name:A.c.ellipsisVertical});return o().createElement(F.Z,{open:u,noCaret:!0,pullRight:!0,className:"ellipsis-menu-button",title:h,id:"ellipsis-menu-".concat(t.id),onMouseLeave:()=>{d(!1)},onToggle:function(e){d(e)}},o().createElement(M.Z,{onClick:()=>{r(t.id).catch((()=>l(K)))}},$),t.parked?o().createElement(M.Z,{onClick:()=>{c(t.id).catch((()=>l(J)))}},Y):o().createElement(M.Z,{onClick:()=>{i(t.id).catch((()=>l(X)))}},z),o().createElement(M.Z,{onClick:()=>{a([t.id]).catch((()=>l(Q)))}},U))}ie.propTypes={bar:i().object.isRequired,deprioritizeBars:i().func.isRequired,showBarDetailsDialog:i().func.isRequired,parkBar:i().func.isRequired,unparkBar:i().func.isRequired,onFatalError:i().func.isRequired};function ce(){ce=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function le(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function se(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){le(a,n,o,i,c,"next",e)}function c(e){le(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(this,arguments)}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return he(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pe="Update Columns",fe="Done",me="Benefit",ve="Cost",ye="Add Column",ge="Are you sure you want to remove this column?",we="Unable to create a new column. Please try again.",be="Unable to save the column weight. Please refresh your browser and try again.",Ee="Unable to delete the column. Please refresh your browser and try again.",xe="Unable to save the column name. Please refresh your browser and try again.";function _e(e){var t=e.headings,r=e.onDone,n=e.addScoreColumn,a=e.updateScoreColumnWeight,i=e.deleteScoreColumn,c=e.updateScoreColumnHeading,l=e.onFatalError,s=de(o().useState(null),2),u={headings:t,updates:{addScoreColumn:n,deleteScoreColumn:i,updateScoreColumnHeading:c,updateScoreColumnWeight:a},columnBeingDeleted:s[0],setColumnBeingDeleted:s[1],onFatalError:l};return o().createElement("div",{className:"score-drawer-column-management"},o().createElement("h3",{className:"column-managers-header"},pe),o().createElement("div",{className:"column-managers"},o().createElement(Le,ue({type:"benefit"},u)),o().createElement(Le,ue({type:"cost"},u))),o().createElement("button",{className:"score-drawer-done-button",onClick:r},fe))}function Le(e){var t=e.type,r=e.headings,n=e.updates,a=e.columnBeingDeleted,i=e.setColumnBeingDeleted,c=e.onFatalError,l=de(o().useState(!1),2),s=l[0],u=l[1],d=r["".concat(t,"Headings")],h=r["".concat(t,"Order")],p="benefit"===t?me:ve;return o().createElement("div",{className:"column-manager ".concat(t,"-column-manager")},o().createElement("h4",{className:"column-manager-header"},p),o().createElement("div",{className:"edit-column-headers"},o().createElement("h5",{className:"edit-column-name"},"Title"),o().createElement("h5",{className:"edit-column-weight"},"Weight")),h.map((e=>{var r=d[e];return a&&a.type===t&&a.name===e?o().createElement(ke,{key:e,onCancel:()=>{i(null)},onConfirm:()=>{n.deleteScoreColumn(e,t).catch((()=>{c(Ee)}))}}):o().createElement(Pe,{key:e,type:t,name:e,weight:r,updates:n,onDelete:()=>{i({type:t,name:e})},onFatalError:c})})),o().createElement("button",{className:"add-column-button add-".concat(t,"-column-button"),disabled:s,onClick:se(ce().mark((function e(){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,n.addScoreColumn(t);case 4:u(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c(we);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))},o().createElement(A.Z,{name:A.c.plusCircle}),ye))}function Pe(e){var t=e.type,r=e.name,n=e.weight,a=e.updates,i=e.onDelete,c=e.onFatalError,l=de(o().useState(r),2),s=l[0],u=l[1],d=de(o().useState(n),2),h=d[0],p=d[1];return o().useEffect((()=>{u(r)}),[r]),o().createElement("div",{className:"column-manager-row ".concat(t,"-column-manager-row")},o().createElement("input",{className:"edit-column-name",type:"text",value:s,onChange:e=>{u(e.target.value)},onBlur:()=>{r&&s&&s!==r&&a.updateScoreColumnHeading(r,s,t).catch((()=>c(xe)))}}),o().createElement("input",{className:"edit-column-weight",type:"text",value:h,onChange:e=>{var t=function(e){var t=Number(e);return Number.isNaN(t)||t<0?null:Math.floor(t)}(e.target.value);null!==t&&p(t)},onBlur:()=>{a.updateScoreColumnWeight(r,t,h).catch((()=>c(be)))}}),o().createElement(A.Z,{classes:"delete-column-icon",name:A.c.minusCircle,role:"button","aria-label":"Delete Column",onClick:i}))}function ke(e){var t=e.onCancel,r=e.onConfirm;return o().createElement("div",{className:"delete-column-confirmation"},o().createElement("span",null,ge),o().createElement(A.Z,{name:A.c.timesSquare,classes:"cancel-delete-column-icon",role:"button","aria-label":"Cancel Delete Column",onClick:t}),o().createElement(A.Z,{name:A.c.checkSquare,classes:"confirm-delete-column-icon",role:"button","aria-label":"Confirm Delete Column",onClick:r}))}_e.propTypes={headings:i().object.isRequired,onDone:i().func.isRequired,addScoreColumn:i().func.isRequired,updateScoreColumnWeight:i().func.isRequired,deleteScoreColumn:i().func.isRequired,updateScoreColumnHeading:i().func.isRequired,onFatalError:i().func.isRequired},Le.propTypes={type:i().string.isRequired,headings:i().object.isRequired,updates:i().object.isRequired,columnBeingDeleted:i().object,setColumnBeingDeleted:i().func.isRequired,onFatalError:i().func.isRequired},Pe.propTypes={type:i().string.isRequired,name:i().string.isRequired,weight:i().number.isRequired,updates:i().object.isRequired,onDelete:i().func.isRequired,onFatalError:i().func.isRequired},ke.propTypes={onCancel:i().func.isRequired,onConfirm:i().func.isRequired};var Oe=r(75472),Se=r.n(Oe),je=r(58909),Ce=r(65835);function Ne(){Ne=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function De(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Re(a,n,o,i,c,"next",e)}function c(e){Re(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ge={updateBars:"Update bars",hideAllBars:"Hide all bars",loadPrioritizedBarsError:"Unable to load your prioritized bars. Please refresh your browser and try again.",deprioritizeBarsError:"Unable to hide all bars. Please refresh your browser and try again.",deprioritizeBarsSuccess:"All bars have been hidden.",undoHideAllBars:"Undo.",undoHideAllBarsError:"Unable to undo. Please refresh your browser.",header:"Prioritize Bars",done:"Done",editColumns:"Edit Columns"},Ze="scoringTable",Be="columnManagement";function qe(e){var t,r,n,a=e.loadPrioritizedBars,i=e.deprioritizeBars,c=e.prioritizeBars,u=e.updateBarScore,h=e.addScoreColumn,y=e.updateScoreColumnWeight,g=e.deleteScoreColumn,w=e.updateScoreColumnHeading,E=e.showBarDetailsDialog,P=e.parkBar,k=e.unparkBar,O=e.onFatalError,S=e.onSuccess,j=e.readOnly,C=void 0!==j&&j,N=e.showDataDelay,T=void 0===N?250:N,I=(0,s.useScoreDrawerContext)(),R=I.expanded,D=I.toggleScoreDrawer,F=Fe(o().useState(null),2),M=F[0],G=F[1],Z=Fe(o().useState(Ze),2),B=Z[0],q=Z[1];function V(){return H.apply(this,arguments)}function H(){return(H=De(Ne().mark((function e(){var t,r,n,o;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M&&G(null),e.prev=1,e.next=4,Promise.all([a(),(0,Ce.g)(T)]);case 4:t=e.sent,r=Fe(t,1),n=r[0],o=$(n.bars,["score"],["desc"]),G(Ie(Ie({},n),{},{order:o,sortSettings:{column:"score",direction:"desc",type:null}})),je.default.publish("SCORE_DRAWER_LOADED"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),O(Ge.loadPrioritizedBarsError);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function $(e,t,r){var n=[...t],o=[...r];return"name"!==t[0]&&(n.push("name"),o.push("asc")),Se()(Object.values(e),n,o).map((e=>e.id))}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=M.sortSettings,n=r.column,o=r.direction,a=r.type,i="asc",c=t?r=>{var n=r[t][e];return void 0===n||""===n?-1:n}:e,l=t||null,s=e===n&&i===o&&l===a;s&&(i="desc");var u=$(M.bars,[c],[i]);G(Ie(Ie({},M),{},{order:u,sortSettings:{type:l,column:e,direction:i}}))}function z(){return Y.apply(this,arguments)}function Y(){return Y=De(Ne().mark((function e(){var t,r,n;return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return(n=De(Ne().mark((function e(){return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(null),e.prev=1,e.next=4,c(t);case 4:return e.next=6,V();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),O(Ge.undoHideAllBarsError);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)},r=function(){return n.apply(this,arguments)},t=M.order,e.prev=3,e.next=6,i(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),O(Ge.deprioritizeBarsError);case 11:S(Ve(r));case 12:case"end":return e.stop()}}),e,null,[[3,8]])}))),Y.apply(this,arguments)}function W(){q(Be)}t=R,r=V,n=o().useRef(!1),o().useEffect((()=>{n.current?je.default.publish("SCORE_DRAWER_LOADED"):t&&(r(),n.current=!0)}),[t]),function(e){var t=t=>e((0,m.ZP)((e=>e&&t(e))));(0,f.useEventsChannel)("UPDATED_BAR",((e,r)=>{t((t=>{x(t,e,r)}))})),(0,f.useEventsChannel)(["UPDATED_BARS","UNDO_DELETE_BARS"],(e=>{e&&e.length&&t((t=>{var r,n=b(e);try{for(n.s();!(r=n.n()).done;)x(t,r.value)}catch(o){n.e(o)}finally{n.f()}}))})),(0,f.useEventsChannel)("DELETED_BAR",(e=>{t((t=>{delete t.bars[e.id],p()(t.order,(t=>t===e.id))}))})),(0,f.useEventsChannel)(["DELETED_BARS","UNDO_CREATE_BARS"],(e=>{t((t=>{_(t,e)}))})),(0,f.useEventsChannel)("UPDATED_BAR_SCORE",(e=>{var r=e.barId,n=e.type,o=e.column,a=e.value;t((e=>{var t=e.bars[r];t&&(t["".concat(n,"_scores")][o]=a,t.score=(0,v.C)(e.headings,t),e.sortSettings.column===o&&e.sortSettings.type==="".concat(n,"_scores")&&(e.sortSettings={}))}))})),(0,f.useEventsChannel)("DEPRIORITIZED_BARS",(e=>{t((t=>{_(t,e)}))})),(0,f.useEventsChannel)("SCORE_COLUMN_RENAMED",(e=>{var r=e.oldKey,n=e.newKey,o=e.columnType;t((e=>{d()(e.bars,(e=>{e&&(e["".concat(o,"_scores")][n]=e["".concat(o,"_scores")][r],delete e["".concat(o,"_scores")][r])}));var t=e.headings["".concat(o,"Headings")];t[n]=t[r],delete t[r];var a=e.headings["".concat(o,"Order")];a.forEach(((e,t)=>{e===r&&(a[t]=n)})),e.sortSettings.type==="".concat(o,"_scores")&&e.sortSettings.column===r&&(e.sortSettings.column=n)}))})),(0,f.useEventsChannel)("SCORE_COLUMN_WEIGHT_UPDATED",(e=>{var r=e.columnKey,n=e.columnType,o=e.newWeight;t((e=>{e.headings["".concat(n,"Headings")][r]=o,L(e),"score"===e.sortSettings.column&&(e.sortSettings={})}))})),(0,f.useEventsChannel)("SCORE_COLUMN_CREATED",(e=>{var r=e.columnKey,n=e.columnType,o=e.columnWeight;t((e=>{e.headings["".concat(n,"Headings")][r]=o,e.headings["".concat(n,"Order")].push(r)}))})),(0,f.useEventsChannel)("SCORE_COLUMN_DELETED",(e=>{var r=e.columnKey,n=e.columnType;t((e=>{delete e.headings["".concat(n,"Headings")][r],p()(e.headings["".concat(n,"Order")],(e=>e===r));for(var t=0,o=Object.values(e.bars);t<o.length;t++)delete o[t]["".concat(n,"_scores")][r];e.sortSettings.type==="".concat(n,"_scores")&&e.sortSettings.column===r&&(e.sortSettings={}),L(e)}))}))}(G),o().useEffect((()=>{R||B===Ze||q(Ze)}),[R,B]);var K=l()({"score-drawer":!0,expanded:R,collapsed:!R});return o().createElement(o().Fragment,null,R&&o().createElement("span",{className:"score-drawer-backdrop",onClick:D}),o().createElement("div",{className:K},function(){var e=null;switch(B){case Ze:e=M?o().createElement(ee,{updateSort:U,onEditColumns:()=>{q(Be)},barData:M,updateBarScore:u,readOnly:C,deprioritizeBars:i,showBarDetailsDialog:E,parkBar:P,unparkBar:k,onFatalError:O}):o().createElement(A.Z,{classes:"score-drawer-loader",name:A.c.pulseSpinner,"aria-label":"Loading"});break;case Be:e=o().createElement(_e,{headings:M.headings,onDone:()=>{q(Ze)},addScoreColumn:h,deleteScoreColumn:g,updateScoreColumnWeight:y,updateScoreColumnHeading:w,onFatalError:O})}var t=M&&M.bars&&M.order.length>0&&B===Ze;return o().createElement(o().Fragment,null,o().createElement("header",null,Ge.header,o().createElement("span",{className:"header-actions"},o().createElement(o().Fragment,null,!C&&o().createElement("span",{className:"cta edit-columns-icon",onClick:W},o().createElement(A.Z,{name:A.c.pencil,classes:"cta-icon"}),Ge.editColumns),o().createElement("span",{className:"cta update-bars",onClick:V},o().createElement(A.Z,{name:A.c.refresh,classes:"cta-icon"}),Ge.updateBars),!C&&o().createElement("span",{className:"cta hide-all-bars",onClick:z},o().createElement(A.Z,{name:A.c.eyeSlashSolid,classes:"cta-icon"}),Ge.hideAllBars)),o().createElement(A.Z,{name:A.c.times,onClick:D,classes:"cta"}))),e,t&&o().createElement("footer",null,o().createElement("button",{className:"cta score-drawer-done-button",onClick:D},Ge.done)))}()))}function Ve(e){return o().createElement(o().Fragment,null,Ge.deprioritizeBarsSuccess," ",o().createElement("a",{role:"button",onClick:e},Ge.undoHideAllBars))}qe.propTypes={loadPrioritizedBars:i().func.isRequired,deprioritizeBars:i().func.isRequired,prioritizeBars:i().func.isRequired,updateBarScore:i().func.isRequired,addScoreColumn:i().func.isRequired,updateScoreColumnWeight:i().func.isRequired,deleteScoreColumn:i().func.isRequired,updateScoreColumnHeading:i().func.isRequired,onFatalError:i().func.isRequired,onSuccess:i().func.isRequired,showBarDetailsDialog:i().func.isRequired,parkBar:i().func.isRequired,unparkBar:i().func.isRequired,readOnly:i().bool}},61581:(e,t,r)=>{r.d(t,{N:()=>h});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a);var c=r(94184),l=r.n(c),s=r(39012);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=e.children,r=e.width,n=e.position,a=e.initiallyExpanded,i=void 0===a||a,c=e.tab,d=void 0===c?null:c,h=u(o().useState(i),2),p=h[0],f=h[1],m={[n]:p?0:"-".concat(r),width:r};return o().createElement("div",{className:l()("sidebar-drawer",n,{expanded:p}),style:m},o().createElement("div",{className:"drawer-tab",role:"button",onClick:()=>{f((e=>!e))},style:{[n]:r}},d,!d&&o().createElement(s.Z,{name:"left"===n?p?s.c.caretLeft:s.c.caretRight:p?s.c.caretRight:s.c.caretLeft})),t)}h.propTypes={children:i().any,width:i().string.isRequired,position:i().string.isRequired,initiallyExpanded:i().bool,tab:i().any}},79349:(e,t,r)=>{r.d(t,{N:()=>c});var n=r(67294),o=r.n(n);var a=r(45697),i=r.n(a);function c(e){var t=e.children;return o().createElement("span",{className:"skeletonText"},t)}c.propTypes={children:i().any}},97725:(e,t,r)=>{r.d(t,{Z:()=>f,d:()=>p});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(55652),l=r(39012);var s=r(93143),u=r(76191),d=r(34844),h=r(68181),p={hide:"Hide",list:"List",settings:"Settings",colors:"Colors",editRoadmap:"Edit Roadmap",filter:"Filter",version:"Version",export:"Export",history:"History",activityMetrics:"Activity",addBar:"Add Bar",addContainer:"Add Container",addMilestone:"Add Milestone",addLane:"Add Lane",dragBar:"Drag to add a bar to the roadmap",dragContainer:"Drag to add a container to the roadmap",dragMilestone:"Drag to the timeline or lane title",dragLane:"Drag to add a lane to the roadmap"};function f(e){var t=e.roadmap,r=e.currentUser,n=e.originalPermissions,a=e.onClickXLS,i=window.currentRoadmapable.isPublic(),f=!i&&r&&t.permissions.can_edit&&!t.is_snapshot,m=!i&&r&&t.permissions.can_edit&&!t.is_snapshot,v=!i&&r&&t.permissions.plan_limited,y=!i&&r&&window.currentRoadmapable.ownerHasFeature("versions")&&t.permissions.can_edit&&!t.is_snapshot,g=!i&&r&&n.can_edit,w=!i&&r&&n.can_edit,b=!i&&!t.is_snapshot&&r&&t.permissions.can_view,E=!i&&t.permissions.can_edit&&!t.is_snapshot,x=!i&&!t.is_snapshot&&r&&t.permissions.can_edit&&c.ProductPlan.isFeatureEnabled("activity_metrics"),_=(0,h.f)({url:"/roadmaps/".concat(window.currentRoadmapable.roadmapableId(),"/history")});return o().createElement(o().Fragment,null,o().createElement("div",{className:"toolbar-body",id:"toolbar-body"},o().createElement("ul",{className:"list-group no-border tool-settings toolbar-section"},o().createElement("li",{className:"list-group-item timeline-toolbar-item toolbar-hide-link"},o().createElement("a",{href:"javascript:void(0)",id:"hide_toolbar_button"},o().createElement(l.Z,{name:l.c.caretRight}),o().createElement("div",{className:"toolbar-hide-text"},p.hide))),f&&o().createElement("li",{className:"list-group-item timeline-toolbar-item",id:"edit_roadmap_settings_button"},o().createElement("a",{className:"settings-roadmap-modal","current-view-id":t.roadmap_id,href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.cog}),p.settings)),m&&o().createElement("li",{className:"list-group-item timeline-toolbar-item",id:"edit_roadmap_colors"},o().createElement("a",{className:"roadmap-colors-modal","current-view-id":t.roadmap_id,href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.paintBrush}),p.colors)),v&&o().createElement("li",{className:"list-group-item timeline-toolbar-item"},o().createElement("a",{"data-remote":"true",href:"/upgrade_account?from=roadmap"},o().createElement(l.Z,{name:l.c.edit}),o().createElement("span",{className:"title-text"},p.editRoadmap))),o().createElement("li",{className:"list-group-item timeline-toolbar-item",id:"filter-button"},o().createElement("a",{className:"add-filter filter-roadmap-modal",href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.filter}),o().createElement("span",{className:"title-text"},p.filter))),g&&o().createElement("li",{className:"list-group-item timeline-toolbar-item",id:"share-button"}),y&&o().createElement("li",{className:"list-group-item timeline-toolbar-item"},o().createElement("a",{className:"js-open-version-modal","data-roadmap-id":t.roadmap_id,href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.archive}),o().createElement("span",{className:"title-text"}," ",p.version))),w&&o().createElement(s.Z,{url:window.currentRoadmapable.exportUrl(),layout:d.Z.TIMELINE,includeLayoutParam:window.currentRoadmapable.supportsLayoutSwitching(),onClickXLS:a,wrapperClasses:"list-group-item timeline-toolbar-item"}),b&&o().createElement("li",{className:"list-group-item timeline-toolbar-item",id:"history-menu-item",onClick:()=>{_.showPanel()}},o().createElement("a",{className:"history-modal",href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.history}),o().createElement("span",{className:"title-text"}," ",p.history))),x&&o().createElement("li",{className:"list-group-item timeline-toolbar-item","data-name":t.name,id:"activity-menu-item"},o().createElement("a",{className:"activity-modal",href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.chartLine}),o().createElement("span",{className:"title-text"}," ",p.activityMetrics)))),E&&o().createElement("ul",{className:"list-group no-border add-section toolbar-section"},o().createElement("li",{className:"list-group-item timeline-toolbar-item add-bar-button",id:"add_bar_button"},o().createElement("a",{className:"add-bar mytips","data-placement":"left","data-title":p.dragBar,"data-toggle":"tooltip",href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.gripVertical}),o().createElement("span",{className:"title-text"}," ",p.addBar))),o().createElement("li",{className:"list-group-item timeline-toolbar-item add-bar-button"},o().createElement("a",{className:"add-container mytips","data-placement":"left","data-title":p.dragContainer,"data-toggle":"tooltip",href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.gripVertical}),o().createElement("span",{className:"title-text"},p.addContainer))),o().createElement("li",{className:"list-group-item timeline-toolbar-item add-bar-button"},o().createElement("a",{className:"add-milestone mytips","data-placement":"left","data-title":p.dragMilestone,"data-toggle":"tooltip",href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.gripVertical}),o().createElement("span",{className:"title-text"},p.addMilestone))),o().createElement("li",{className:"list-group-item timeline-toolbar-item add-bar-button"},o().createElement("a",{className:"add-lane mytips","data-placement":"left","data-title":p.dragLane,"data-toggle":"tooltip",href:"javascript:void(0)"},o().createElement(l.Z,{name:l.c.gripVertical}),o().createElement("span",{className:"title-text"},p.addLane)))),o().createElement("div",{id:"toolbar-integrations-mount-point"}),o().createElement("div",{id:"toolbar-legend-mount-point"})),o().createElement(u.Z,_))}f.propTypes={roadmap:i().object.isRequired,currentUser:i().oneOfType([i().object,i().bool]).isRequired,originalPermissions:i().object.isRequired,onClickXLS:i().func}},40955:(e,t,r)=>{r.d(t,{Z:()=>n});const n={PDF:"pdf",PNG:"png"}},74557:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(67294),o=r.n(n),a=r(22314),i=o().lazy((()=>Promise.all([r.e(222),r.e(867)]).then(r.bind(r,24867))));function c(e){return o().createElement(n.Suspense,{fallback:o().createElement(a.AjaxLoaderComponent,null)},o().createElement(i,e))}},75139:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(66799),l=r(34844),s=r(55652),u=r(37808),d=r(47108),h=r(71460),p=r(7440);class f extends o().Component{constructor(){var e,t,r;super(...arguments),r=()=>{$("#show_toolbar_button").hide()},(t="adjustLayoutView")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}componentDidMount(){s.ProductPlan.roadmapRenderer.applyRoadmapStyle(window.currentRoadmapable.roadmapStyle),this.originalCheckResize=window.check_window_resize,window.check_window_resize=()=>{},this.adjustLayoutView()}componentWillUnmount(){window.check_window_resize=this.originalCheckResize}renderHighlights(){return o().createElement(d.Z,null)}render(){var e,t,r=null===(e=window.currentRoadmapable)||void 0===e?void 0:e.currentViewId,n=null===(t=window.currentRoadmapable)||void 0===t?void 0:t.publicUrlCode;return o().createElement(o().Fragment,null,o().createElement(u.Z,{layout:l.Z.LIST,portfolioTableState:this.props.portfolioTableState}),o().createElement(p.HookProvider,{useHook:h.Pl,args:[{id:r,publicUrlCode:n}]},(e=>o().createElement(c.Z,{roadmapManager:s.ProductPlan.roadmapManager,currentView:e}))),this.renderHighlights())}}f.propTypes={portfolioTableState:i().object}},94892:(e,t,r)=>{r.r(t),r.d(t,{PortfolioTable:()=>lr,PortfolioWithTable:()=>cr});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(44576),l=r(23493),s=r.n(l),u=r(74527),d=r(75472),h=r.n(d);function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function f(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=d.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=f,c(g,"constructor",f),c(f,"constructor",h),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),c(g,i,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var f=p().mark(L);function m(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){var t=g({tags:[],custom_fields:[],custom_labels:[]},e);return t.container&&(t.containedBars=[]),t}function E(){return window.currentRoadmapable.customFieldDefinitions.map((e=>{var t=e.key,r=e.label;return{id:Number(t.split("custom_")[1]),name:r}}))}function x(){var e;return null!==(e=window.currentRoadmapable.customLabelGroups)&&void 0!==e?e:[]}function _(e,t,r){var n,o,a=t.toLowerCase(),i=(n={},r.forEach((e=>{n[e]=!0})),n),c=e=>function(e,t,r){return function(e,t){if(!t||t.length<2)return!0;var r,n=m(L(e));try{for(n.s();!(r=n.n()).done;){if(P(r.value,t))return!0}}catch(o){n.e(o)}finally{n.f()}return!1}(e,t)&&function(e,t){if(e.lane&&t["filter_lane_".concat(e.lane.id)])return!1;if(e.legend){if(t["filter_legend_".concat(e.legend.id)])return!1}else if(t.filter_legend_none)return!1;if(e.tags.length){if(e.tags.every((e=>t["filter_tag_".concat(e.id)])))return!1}else if(t.filter_tag_none)return!1;return!e.custom_labels.some((e=>t["filter_custom_".concat(e.id)]))}(e,r)}(e,a,i),l=[],s=m(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.container){var d=u.containedBars.filter(c),h=c(u),p=d.length>0,f=u.ghosted||!h&&p;(h||p)&&l.push(g(g({},u),{},{ghosted:f,containedBars:d}))}else c(u)&&l.push(u)}}catch(v){s.e(v)}finally{s.f()}return l}function L(e){var t,r,n;return p().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.name;case 2:return o.next=4,null===(t=e.roadmap)||void 0===t?void 0:t.name;case 4:return o.next=6,e.description;case 6:return o.next=8,e.strategic_value;case 8:return o.next=10,null===(r=e.lane)||void 0===r?void 0:r.name;case 10:return o.next=12,null===(n=e.legend)||void 0===n?void 0:n.name;case 12:return o.next=14,e.starts_on;case 14:return o.next=16,e.ends_on;case 16:return o.delegateYield(e.tags.map((e=>e.name)),"t0",17);case 17:return o.delegateYield(e.custom_fields.map((e=>e.value)),"t1",18);case 18:return o.delegateYield(e.custom_labels.map((e=>e.name)),"t2",19);case 19:case"end":return o.stop()}}),f)}function P(e,t){return e&&e.toLowerCase().includes(t)}function k(e){switch(e){case"asc":return"desc";case"desc":return"asc";default:throw Error("Unsupported sort direction ".concat(e))}}function O(e,t){var r=function(e){switch(e.column){case"name":return e=>S(e.name);case"description":return e=>j(S(e.description));case"roadmap":return e=>{var t;return S(null===(t=e.roadmap)||void 0===t?void 0:t.name)};case"strategic_value":return e=>j(S(e.strategic_value));case"effort":return e=>function(e){switch(e){case"Small":return 0;case"Medium":return 1;case"Large":return 2;case"Extra Large":return 3;default:return e}}(e.effort);case"lane":return e=>{var t;return S(null===(t=e.lane)||void 0===t?void 0:t.name)};case"legend":return e=>{var t;return S(null===(t=e.legend)||void 0===t?void 0:t.name)};case"custom_field":return t=>{var r;return j(S(null===(r=t.custom_fields.find((t=>t.id===e.id)))||void 0===r?void 0:r.value))};case"custom_label_group":return t=>{var r;return j(S(null===(r=t.custom_labels.find((t=>t.label_group_id===e.id)))||void 0===r?void 0:r.name))};case"score":return e=>e.score?e.score.assigned/e.score.maximum:null;default:return t=>t[e.column]}}(t);return h()(e,[e=>null!=r(e),r],["desc",t.direction])}function S(e){var t;return null!==(t=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:null}function j(e){var t;return""===(null===e||void 0===e||null===(t=e.trim)||void 0===t?void 0:t.call(e))?null:e}var C=r(7440);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(){var e,t;return null!==(e=null===(t=window.current_filter)||void 0===t?void 0:t.filters)&&void 0!==e?e:[]}var A=r(98061),R=r(58909);function D(){D=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function F(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){F(a,n,o,i,c,"next",e)}function c(e){F(a,n,o,i,c,"throw",e)}i(void 0)}))}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B(){var e=G(o().useState(q),2),t=e[0],r=e[1];return(0,C.useEventsChannel)("UPDATED_TABLE_COLUMNS",r),(0,C.useGlobal)("clearTableColumnsSetting",(()=>V(null))),{savedColumnIds:t,saveColumnIds:V}}function q(){return window.currentRoadmapable.tableColumns}function V(e){return H.apply(this,arguments)}function H(){return(H=M(D().mark((function e(t){var r,n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.currentRoadmapable,n=r.orderedRoadmapIds.join(","),e.next=4,u.default.portfolioViews.update(r.id,$(n,t));case 4:window.currentRoadmapable.tableColumns=t,R.default.publish("UPDATED_TABLE_COLUMNS",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return{master_plan:{included_roadmaps:e,preferences:{table_columns:t}}}}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y(e){var t=e.savedColumnIds,r=e.saveColumnIds,n=function(e,t){return o().useMemo((()=>{var r=function(e,t){var r=function(e,t){return{id:e,type:e,displayName:t,sortType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}};return[r("name","Title","alphabetical"),r("description","Description","alphabetical"),r("roadmap","Roadmap","alphabetical"),r("starts_on","Start Date","temporal"),r("ends_on","End Date","temporal"),r("percent_done","Percent Complete","numerical"),r("strategic_value","Strategic Importance","alphabetical"),r("lane","Lane","alphabetical"),r("legend",window.currentRoadmapable.legendTitle,"alphabetical"),...t.map((e=>({id:"custom_label_group_".concat(e.id),type:"custom_label_group",displayName:e.name,sortType:"alphabetical",labelGroup:e}))),r("effort","Effort","numerical"),r("links","Links"),r("connections","Connections"),...e.map((e=>({id:"custom_field_".concat(e.id),type:"custom_field",displayName:e.name,sortType:"alphabetical",field:e}))),r("tags","Tags"),r("score","Score","numerical")]}(e,t);return{supportedColumns:r,defaultColumnIds:function(e,t){var r=window.currentRoadmapable.barFieldSettings(),n=[];return n.push("name"),n.push("description"),n.push("roadmap"),r.datesVisible&&(n.push("starts_on"),n.push("ends_on")),r.percentCompleteVisible&&n.push("percent_done"),r.strategicImportanceVisible&&n.push("strategic_value"),n.push("lane"),n.push("legend"),r.effortVisible&&n.push("effort"),r.connectionsVisible&&n.push("connections"),n.push("score"),n}(),customLabelGroups:t}}),[e,t])}(e.customFields,e.customLabelGroups),a=n.supportedColumns,i=n.defaultColumnIds,c=t?function(e,t){return t.filter((t=>e.some((e=>e.id===t))))}(a,t):i,l=function(e){var t=U(o().useState(e),2),r=t[0],n=t[1];function a(e){n([...r,e])}function i(e){n(r.filter((t=>t!==e)))}function c(e,t){if(e!==t){var o=[...r],a=U(o.splice(e,1),1)[0];o.splice(t,0,a),n(o)}}return{ids:r,setIds:n,add:a,remove:i,move:c}}(c),s=function(e,t){return o().useMemo((()=>t.map((t=>e.find((e=>e.id===t))))),[e,t])}(a,l.ids),u=o().useMemo((()=>i.join(",")===l.ids.join(",")),[i,l.ids]);return{columns:s,savedColumnIds:t,supportedColumns:a,defaultColumnIds:i,currentColumnsAreDefaults:u,restoreDefaultColumns:()=>l.setIds(i),addColumn:l.add,removeColumn:l.remove,moveColumn:l.move,saveCurrentColumns:()=>r(l.ids),clearUnsavedColumnChanges:()=>l.setIds(c)}}function W(e,t){var r,n=J(e,t);return null===(r=K(n))||void 0===r||r}var K=e=>{var t=localStorage.getItem(e);return t&&JSON.parse(t)},X=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},J=(e,t)=>"parked-set-preference-user-".concat(e,"-view-").concat(t),Q=r(71460);function ee(){ee=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function te(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function re(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){te(a,n,o,i,c,"next",e)}function c(e){te(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var le=100;function se(e){var t,r,n=e.portfolioId,a=e.initialSort,i=void 0===a?null:a,c=e.initialTextFilter,l=void 0===c?"":c,d=null!==(t=null===(r=window.current_user)||void 0===r?void 0:r.id)&&void 0!==t?t:0,h=window.currentRoadmapable.currentViewId,p=ie(o().useState((()=>({sort:i,textFilter:l,throttledTextFilter:l,parked:W(d,h),bars:[],loading:!0,totalBars:null,rowLimit:le,showingColumnManager:!1}))),2),f=p[0],v=p[1];!function(e){var t=e.portfolioId,r=e.parked,n=e.addBars,o=ue;function a(e){return i.apply(this,arguments)}function i(){return(i=re(ee().mark((function e(a){var i,l,s,d,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.portfolioViews.bars({portfolioId:t,parked:r,limit:o,offset:0,cancelToken:a});case 2:if(i=e.sent,a.throwIfRequested(),l=i.data,s=l.bars,d=l.meta,h=d.total_count,s.length!==h){e.next=10;break}n({bars:s,totalBars:h,loading:!1}),e.next=13;break;case 10:return n({bars:s,totalBars:h,loading:!0}),e.next=13,c(h,a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e,t){return l.apply(this,arguments)}function l(){return(l=re(ee().mark((function e(a,i){var c,l,s,d;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c=[],l=o;l<a;l+=o)c.push(u.default.portfolioViews.bars({portfolioId:t,parked:r,limit:o,offset:l,cancelToken:i}));return e.next=4,Promise.all(c);case 4:s=e.sent,i.throwIfRequested(),d=s.flatMap((e=>e.data.bars)),n({bars:d,totalBars:a,loading:!1});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,A.bd)(a,[t,r])}(oe(oe({portfolioId:n},f),{},{addBars:function(e){var t=e.loading,r=e.bars,n=e.totalBars;v((e=>oe(oe({},e),{},{loading:t,totalBars:n,bars:[...e.bars,...r]})))}}));var y=function(e,t){var r=o().useCallback((()=>{t((e=>oe(oe({},e),{},{rowLimit:le,throttledTextFilter:e.textFilter})))}),[t]);return{cancelThrottledTextFilterUpdate:(0,C.useThrottledEffect)(r,[e.textFilter],200,de)}}(f,v),w=y.cancelThrottledTextFilterUpdate,L={bars:[],loading:!0,totalBars:null,rowLimit:le};function P(e){v((t=>oe(oe({},t),{},{sort:e,rowLimit:le})))}var S,j,T,R,D,F=window.currentRoadmapable.publicUrlCode,M=(0,Q.Pl)({id:h,publicUrlCode:F}),G=function(){var e=N(o().useState(I()),2),t=e[0],r=e[1],n=o().useCallback((()=>{r(I())}),[]);return(0,C.useEventsChannel)("UPDATED_FILTERS",n),{personalFilters:t}}(),Z=G.personalFilters,q=o().useMemo((()=>{if(!M.data)return Z;var e=[...Z];return M.data.tagViewFilters.forEach((t=>{t.included||e.push("filter_tag_".concat(t.filterId))})),e}),[M.data,Z]),V=o().useMemo((()=>function(e){var t=e.map(b),r=function(e){var t={};return e.forEach((e=>{e.container&&(t[e.id]=e)})),t}(t),n=[];return t.forEach((e=>{var t,o,a;e.container_id?null===(t=r[e.container_id])||void 0===t||null===(o=t.containedBars)||void 0===o||null===(a=o.push)||void 0===a||a.call(o,e):n.push(e)})),n}(f.bars)),[f.bars]),H=o().useMemo(E,[]),$=o().useMemo(x,[]),U=B(),z=Y({customFields:H,customLabelGroups:$,savedColumnIds:U.savedColumnIds,saveColumnIds:U.saveColumnIds}),K=o().useMemo((()=>{return e=V,(t=f.sort)?O(e.map((e=>e.container?g(g({},e),{},{containedBars:O(e.containedBars,t)}):e)),t):e;var e,t}),[V,f.sort]),te=o().useMemo((()=>_(K,f.throttledTextFilter,q)),[K,f.throttledTextFilter,q]),ne=o().useMemo((()=>function(e){var t,r=0,n=m(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;o.ghosted||r++,o.container&&(r+=o.containedBars.length)}}catch(a){n.e(a)}finally{n.f()}return r}(te)),[te]),ae=(S={isLoading:f.loading,parked:f.parked,sourceBarLength:f.bars.length,filteredBarLength:te.length},j=S.isLoading,T=S.parked,R=S.sourceBarLength,D=S.filteredBarLength,o().useMemo((()=>{if(j)return!1;var e=window.currentRoadmapable.shouldShowViewFiltersAppliedIndication();return 0===Object.keys(window.currentRoadmapable.roadmaps).length?"NO_ROADMAPS":0===D&&(R>0||e)?"NO_RESULTS_FOUND":0===R&&(T?"NO_PARKED_BARS":"NONE_IN_PLANNED_RANGE")}),[j,T,R,D])),ce=o().useCallback(s()((()=>{f.totalBars&&(f.rowLimit>=te.length||v((e=>oe(oe({},e),{},{rowLimit:e.rowLimit+30}))))}),50),[te.length,f.rowLimit]);return oe(oe(oe({},f),z),{},{domainBars:V,customFields:H,sortedBars:K,filteredBars:te,filteredBarsCount:ne,emptyPortfolioState:ae,setSort:P,reverseSort:function(){v((e=>{return oe(oe({},e),{},{sort:(t=e.sort,null===t?null:g(g({},t),{},{direction:k(t.direction)})),rowLimit:le});var t}))},clearSort:function(){P(null)},setTextFilter:function(e){v((t=>oe(oe({},t),{},{textFilter:e})))},setParked:function(e){w(),function(e,t,r){var n=J(e,t);X(n,r)}(d,h,e),v(oe(oe({sort:null,textFilter:"",throttledTextFilter:""},L),{},{parked:e}))},increaseRowLimit:ce,setShowingColumnManager:function(e){v((t=>oe(oe({},t),{},{showingColumnManager:e})))}})}var ue=500;var de={leading:!1};var he=r(39012);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ge(e){var t=e.columns,r=e.setSort,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{r(ve({column:e,direction:n},t))}};return o().createElement("thead",{className:"portfolioTable__header"},o().createElement("tr",null,o().createElement(be,null),t.map((e=>{var t;return e.sortType?o().createElement(Ee,{key:e.id,className:we[e.type],onSort:n(e.type,null!==(t=e.field)&&void 0!==t?t:e.labelGroup),type:e.sortType,flipSortMenuOrder:Le.includes(e.type)},e.displayName):o().createElement(be,{key:e.id,className:we[e.type]},e.displayName)}))))}var we={name:"Name",description:"Description",roadmap:"RoadmapName",starts_on:"StartsOn",ends_on:"EndsOn",percent_done:"PercentDone",strategic_value:"StrategicValue",lane:"Lane",legend:"Legend",effort:"Effort",links:"Links",connections:"Connections",custom_field:"CustomField",tags:"Tags",score:"Score",custom_label_group:"CustomLabelGroup"};function be(e){var t=e.className,r=e.children;return o().createElement("th",{className:"portfolioTable__heading portfolioTable__heading--".concat(t)},o().createElement("div",{className:"portfolioTable__headingContent--plain"},o().createElement("span",{className:"clamp--1"},r)))}function Ee(e){var t=e.onSort,r=e.type,n=void 0===r?"alphabetical":r,a=e.className,i=e.flipSortMenuOrder,c=e.children,l=pe(o().useState(!1),2),s=l[0],u=l[1],d=o().useCallback((()=>u(!1)),[]);return o().createElement("th",{className:"portfolioTable__heading portfolioTable__heading--".concat(a)},o().createElement("div",{className:"portfolioTable__headingContent--withMenu",onClick:()=>u((e=>!e))},o().createElement("span",{className:"clamp--1"},c),o().createElement(he.Z,{name:he.c.ellipsisVertical}),s&&o().createElement(xe,{onSort:t,type:n,hideMenu:d,flipSortMenuOrder:i})))}function xe(e){var t=e.onSort,r=e.type,n=e.hideMenu,a=e.flipSortMenuOrder,i=void 0!==a&&a,c=e=>r=>{r.stopPropagation(),t(e),n()},l=(0,C.useOnClickAway)(n);function s(e){var t=e.direction,n="asc"===t?he.c.arrowDown:he.c.arrowUp;return o().createElement("div",{className:"portfolioTable__headerCellMenuItem",onClick:c(t)},o().createElement(he.Z,{name:n}),_e[r][t])}var u=i?["desc","asc"]:["asc","desc"];return o().createElement("div",{ref:l,className:"portfolioTable__headerCellMenu"},u.map((e=>o().createElement(s,{key:e,direction:e}))))}ge.propTypes={columns:i().array.isRequired,setSort:i().func.isRequired},be.propTypes={children:i().any,className:i().string},Ee.propTypes={onSort:i().func.isRequired,type:i().string,children:i().any,className:i().string,flipSortMenuOrder:i().bool},xe.propTypes={onSort:i().func.isRequired,type:i().string.isRequired,hideMenu:i().func.isRequired,flipSortMenuOrder:i().bool};var _e={alphabetical:{asc:"Sort A \u2013 Z",desc:"Sort Z \u2013 A"},numerical:{asc:"Sort low to high",desc:"Sort high to low"},temporal:{asc:"Sort earliest to latest",desc:"Sort latest to earliest"}},Le=["score","percent_done"];function Pe(e){var t=e.state,r=e.leftContent,n=e.rightContent,a=e.onClick;function i(e){a&&e!==t&&a(e)}return o().createElement("div",{className:"binary-button"},o().createElement("button",{className:"binary-button__toggle".concat("left"===t?" -active":""),onClick:()=>i("left")},r),o().createElement("button",{className:"binary-button__toggle".concat("right"===t?" -active":""),onClick:()=>i("right")},n))}Pe.propTypes={state:i().string.isRequired,onClick:i().func,leftContent:i().oneOfType([i().string,i().node]).isRequired,rightContent:i().oneOfType([i().string,i().node]).isRequired};function ke(e){var t=e.textFilter,r=e.setTextFilter;return o().createElement("div",{className:"portfolioTable__textFilterInputWrapper"},o().createElement(he.Z,{name:he.c.search}),o().createElement("input",{className:"portfolioTable__textFilterInput",value:t,onChange:e=>r(e.target.value),placeholder:"Type to filter the list"}))}ke.propTypes={textFilter:i().string.isRequired,setTextFilter:i().func.isRequired};var Oe=r(82921),Se=r(2826);function je(e){var t=e.sort,r=e.clearSort,n=e.reverseSort;return o().createElement(Se.Z,{buttonContent:o().createElement(o().Fragment,null,Ne(t.direction),o().createElement("span",{className:"title"},"Sorted by ",Ce(t))),handleButtonClick:n,onClearActiveState:r,popoverContent:"Clear applied sort"})}function Ce(e){switch(e.column){case"name":return"Title";case"description":return"Description";case"roadmap":return"Roadmap";case"starts_on":return"Start Date";case"ends_on":return"End Date";case"percent_done":return"Percent Complete";case"strategic_value":return"Strategic Importance";case"effort":return"Effort";case"lane":return"Lane";case"legend":return"Legend";case"score":return"Score";case"custom_field":case"custom_label_group":return e.name;default:throw Error("Unsupported sort column ".concat(e.column))}}function Ne(e){switch(e){case"asc":return o().createElement(he.Z,{name:he.c.arrowDown,"aria-label":"Ascending sort icon"});case"desc":return o().createElement(he.Z,{name:he.c.arrowUp,"aria-label":"Descending sort icon"});default:throw Error("Unsupported sort direction ".concat(e))}}function Te(e){var t=e.canEdit,r=e.parked,n=e.setParked,a=e.textFilter,i=e.setTextFilter,c=e.sort,l=e.clearSort,s=e.reverseSort,u=e.setShowingColumnManager;return o().createElement("header",{className:"portfolioTable__menu"},o().createElement(Pe,{state:r?"right":"left",leftContent:"Planned",rightContent:"Parked",onClick:e=>n("right"===e)}),o().createElement(Oe.Z,{dataLoaded:!0}),c&&o().createElement(je,{sort:c,clearSort:l,reverseSort:s}),o().createElement(ke,{textFilter:a,setTextFilter:i}),t&&o().createElement(Ie,{onClick:()=>u(!0)}))}function Ie(e){var t=e.onClick;return o().createElement("button",{className:"portfolioTable__editColumnsButton",onClick:t},o().createElement(he.Z,{name:he.c.cog}),"Edit Columns")}je.propTypes={sort:i().object.isRequired,clearSort:i().func.isRequired,reverseSort:i().func.isRequired},Te.propTypes={canEdit:i().bool.isRequired,parked:i().bool.isRequired,setParked:i().func.isRequired,textFilter:i().string.isRequired,setTextFilter:i().func.isRequired,sort:i().object,clearSort:i().func,reverseSort:i().func,setShowingColumnManager:i().func.isRequired},Ie.propTypes={onClick:i().func};function Ae(e){var t=e.data,r=e.type;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(r)},t)}function Re(e){var t=e.data,r=e.type,n=null===t||void 0===t?void 0:t.assigned,a=null===t||void 0===t?void 0:t.maximum;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(r)},n&&a&&o().createElement("div",{className:"portfolioScoreCell"},o().createElement("span",{className:"portfolioScoreCell__numerator"},n),o().createElement("span",{className:"portfolioScoreCell__separator"},"/"),o().createElement("span",{className:"portfolioScoreCell__denominator"},a)))}Ae.propTypes={data:i().oneOfType([i().string,i().number]),type:i().string},Re.propTypes={data:i().object,type:i().string};var De=r(48290);function Fe(e){var t=e.data,r=e.type;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(r)},t&&o().createElement("div",{className:"portfolioLabelCell"},o().createElement("span",{className:"portfolioLabelCell__circle ".concat(De.UX.circle," ").concat(De.UX.circle,"--very-small"),style:{backgroundColor:"#".concat(t.hex)}}),o().createElement("span",{className:"portfolioLabelCell__name clamp clamp--2"},t.name)))}function Me(e){var t=e.data,r=e.type;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(r)},o().createElement("p",{className:"clamp clamp--2",title:t},t))}Fe.propTypes={data:i().object,type:i().string},Me.propTypes={data:i().string,type:i().string};var Ge=r(54228),Ze=r(19728);function Be(e){var t=e.data,r=e.type,n=e.barId,a=e.showBarDetails;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(r),onClick:a},o().createElement("div",{className:"portfolioTitleCellContent"},o().createElement("p",{className:"clamp clamp--2",title:t},t),o().createElement(Ge.Z,{rootClose:!0,overlay:o().createElement(Ze.Z,{id:"bar_".concat(n,"_expand_icon")},"Expand details")},o().createElement(he.Z,{classes:"portfolioTitleCellContent__expandIcon",name:he.c.expand}))))}Be.propTypes={barId:i().number,data:i().string,showBarDetails:i().func,type:i().string};function qe(e){var t=e.tags,r=void 0===t?[]:t,n=e.showBarDetails,a=r.length,i=2===a?2:1,c=[];return a>1?c=r.slice(0,i):a>0&&(c=[r[0]]),o().createElement("div",{className:"tag-list"},c.map((e=>o().createElement(He,{tag:e,key:e.id}))),o().createElement(Ve,{totalTags:a,visibleTags:i,showBarDetails:n}))}function Ve(e){var t=e.totalTags,r=e.visibleTags,n=e.showBarDetails;if(t>r){var a=t-r;return o().createElement(Ge.Z,{rootClose:!0,overlay:o().createElement(Ze.Z,{id:"expand_icon"},"Expand details")},o().createElement("span",{className:"portfolioTagsCell__more",onClick:n},"+ ".concat(a," More")))}return null}function He(e){var t=e.tag;return o().createElement("span",{className:"tag-item",key:t.id,title:t.name},t.name)}function $e(e){var t=e.data,r=e.type,n=e.showBarDetails;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(r)},o().createElement("div",{className:"portfolioTagsCell"},o().createElement(qe,{tags:t,showBarDetails:n})))}$e.propTypes={data:i().array.isRequired,type:i().string,showBarDetails:i().func};var Ue=r(10356);function ze(e){var t=e.links,r=void 0===t?[]:t,n=e.showBarDetails,a=r.length,i=2===a?2:1,c=[];return a>1?c=r.slice(0,i):a>0&&(c=[r[0]]),o().createElement("ul",{className:"portfolioLinkCell__ul"},c.map((e=>o().createElement(We,{link:e,key:e.id}))),o().createElement(Ye,{totalLinks:a,visibleLinks:c.length,key:"more-links",showBarDetails:n}))}function Ye(e){var t=e.totalLinks,r=e.visibleLinks,n=e.showBarDetails;if(t>r){var a=t-r;return o().createElement(Ge.Z,{rootClose:!0,overlay:o().createElement(Ze.Z,{id:"expand_icon"},"Expand details")},o().createElement("span",{className:"portfolioLinkCell__more",onClick:n},"+ ".concat(a," More")))}return null}function We(e){var t=e.link;return o().createElement("li",{className:"portfolioLinkCell__li"},o().createElement("a",{className:"portfolioLinkCell__anchor",href:t.url,rel:"noopener noreferrer",target:"_blank",title:t.name},o().createElement(Ue.x,{link:t}),o().createElement("span",{className:"portfolioLinkCell__name clamp--1"},t.name),o().createElement(he.Z,{name:he.c.externalLinkSquare})))}function Ke(e){var t=e.data,r=e.type,n=e.showBarDetails;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(r)},o().createElement("div",{className:"portfolioLinkCell"},o().createElement(ze,{links:t,showBarDetails:n})))}Ke.propTypes={data:i().array,showBarDetails:i().func,type:i().string};var Xe=r(83424),Je=r(24e3);function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rt(e){var t=e.dependencies,r=void 0===t?[]:t,n=e.dependents,a=void 0===n?[]:n,i=e.showBarDetails,c=r.length+a.length,l=2===c?2:1,s=[...r.map((e=>et({type:"dependency"},e))),...a.map((e=>et({type:"dependent"},e)))].splice(0,l);return o().createElement("ul",{className:"portfolioConnectionsCell__ul"},s.map((e=>o().createElement(ot,{connection:e,key:e.id}))),o().createElement(nt,{totalConnections:c,visibleConnections:l,key:"more-connections",showBarDetails:i}))}function nt(e){var t=e.totalConnections,r=e.visibleConnections,n=e.showBarDetails;if(t>r){var a=t-r;return o().createElement(Ge.Z,{rootClose:!0,overlay:o().createElement(Ze.Z,{id:"expand_icon"},"Expand details")},o().createElement("span",{className:"portfolioConnectionsCell__more",onClick:n},"+ ".concat(a," More")))}return null}function ot(e){var t=e.connection,r="dependency"===t.type;return o().createElement("li",{className:"portfolioConnectionsCell__li"},o().createElement("span",{className:"portfolioConnectionsCell__anchor",onClick:()=>function(e){window.currentRoadmapable.roadmaps[e.roadmap.id]?(0,Je.c)(e):window.open(e.url)}(t),title:r?"Requires":"Required By"},r?o().createElement(Xe.Z,{id:"bar_connects_from-icon"}):o().createElement(Xe.Z,{id:"bar_connects_to-icon"}),o().createElement("span",{className:"portfolioConnectionsCell__name clamp--1"},t.name)))}function at(e){var t=e.dependencies,r=e.dependents,n=e.type,a=e.showBarDetails;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(n)},o().createElement("div",{className:"portfolioConnectionsCell"},o().createElement(rt,{dependencies:t,dependents:r,showBarDetails:a})))}function it(e){var t=e.barName,r=e.expanded,n=e.toggleExpanded;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--ContainerControl"},null!=r&&o().createElement(he.Z,{"aria-label":"Toggle ".concat(t),name:r?he.c.chevronDown:he.c.chevronRight,onClick:n}))}at.propTypes={dependencies:i().array,dependents:i().array,showBarDetails:i().func,type:i().string},it.propTypes={barName:i().string,expanded:i().bool,toggleExpanded:i().func};var ct=r(94184),lt=r.n(ct),st=r(79349),ut=o().memo((function(e){var t=e.bar,r=e.expanded,n=e.toggleExpanded,a=e.columns,i=lt()("portfolioTable__tr",{"portfolioTable__tr--isContained":!!t.container_id,"portfolioTable__tr--ghosted":!!t.ghosted}),c=o().useCallback((()=>(0,Je.c)(t)),[t]),l=e=>{if(0===e||e)return"".concat(e," %")};return o().createElement("tr",{className:i},o().createElement(it,{barName:t.name,expanded:r,toggleExpanded:n}),a.map((e=>{var r;switch(e.type){case"name":return o().createElement(Be,{key:e.id,data:t.name,type:"Name",showBarDetails:c,barId:t.id});case"description":return o().createElement(Me,{key:e.id,data:t.description,type:"Description"});case"roadmap":return o().createElement(Me,{key:e.id,data:t.roadmap.name,type:"RoadmapName"});case"starts_on":return o().createElement(Ae,{key:e.id,data:t.starts_on,type:"StartsOn"});case"ends_on":return o().createElement(Ae,{key:e.id,data:t.ends_on,type:"EndsOn"});case"percent_done":return o().createElement(Ae,{key:e.id,data:l(t.percent_done),type:"PercentDone"});case"strategic_value":return o().createElement(Me,{key:e.id,data:t.strategic_value,type:"StrategicValue"});case"lane":return o().createElement(Fe,{key:e.id,data:t.lane,type:"Lane"});case"legend":return o().createElement(Fe,{key:e.id,data:t.legend,type:"Legend"});case"effort":return o().createElement(Ae,{key:e.id,data:t.effort,type:"Effort"});case"links":return o().createElement(Ke,{key:e.id,data:t.links,type:"Links",showBarDetails:c});case"connections":return o().createElement(at,{key:e.id,dependencies:t.dependencies,dependents:t.dependents,type:"Connections",showBarDetails:c});case"tags":return o().createElement($e,{key:e.id,data:t.tags,type:"Tags",showBarDetails:c});case"score":return o().createElement(Re,{key:e.id,data:t.score,type:"Score"});case"custom_field":return o().createElement(Me,{key:e.id,data:null===(r=t.custom_fields.find((t=>t.id===e.field.id)))||void 0===r?void 0:r.value,type:"CustomField"});case"custom_label_group":return o().createElement(Fe,{key:e.id,data:t.custom_labels.find((t=>t.label_group_id===e.labelGroup.id)),type:"CustomLabelGroup"})}})))}));ut.propTypes={bar:i().object.isRequired,columns:i().array.isRequired,expanded:i().bool,toggleExpanded:i().func};const dt=ut;function ht(e){var t=e.columns,r=void 0===t?[]:t;return o().createElement("tr",{className:"portfolioTable__tr portfolioTable__tr--skeleton","aria-label":"Portfolio Table Skeleton Row"},o().createElement("td",null),r.map((e=>o().createElement(pt,{key:e.id,type:ft[e.type]},mt[e.type]))))}function pt(e){var t=e.type,r=e.children;return o().createElement("td",{className:"portfolioTable__td portfolioTable__td--".concat(t)},o().createElement(st.N,null,r))}ht.propTypes={columns:i().array},pt.propTypes={type:i().string,children:i().any};var ft={name:"Name",description:"Description",roadmap:"RoadmapName",starts_on:"StartsOn",ends_on:"EndsOn",percent_done:"PercentDone",strategic_value:"StrategicValue",lane:"Lane",legend:"Legend",effort:"Effort",links:"Links",connections:"Connections",custom_field:"CustomField",tags:"Tags",score:"Score"},mt={name:"Lorem ipsum dolor",description:"Donec vel ornare risus. Aliquam lobortis tincidunt libero, et aliquam dui lobortis id",roadmap:"Aenean blandit libero",starts_on:"Sedquis",ends_on:"Sedquis",percent_done:"enim",strategic_value:"Donec vel ornare risus. Aliquam lobortis tincidunt libero, et aliquam dui lobortis id",lane:"AliquamCurabitur",legend:"Curabitur",effort:"rutrum",links:"Aenean blandit libero",connections:"Aenean blandit libero",custom_field:"Aenean blandit libero",tags:"rutrum",score:"100/100"},vt=r(87563);function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wt=o().memo((function(e){var t=e.loading,r=e.filteredBars,n=e.sort,a=e.columns,i=e.rowLimit;return!t||0!==r.length&&null===n?o().createElement(o().Fragment,null,o().createElement(Et,{bars:r.slice(0,i),loading:t,columns:a}),t&&o().createElement(Pt,{count:3,columns:a})):o().createElement(Pt,{count:16,columns:a})}));wt.propTypes={loading:i().bool.isRequired,filteredBars:i().array.isRequired,columns:i().array.isRequired};const bt=wt;function Et(e){var t=e.bars,r=e.loading,n=e.columns;return t.map((e=>o().createElement(xt,{key:e.id,bar:e,loading:r,columns:n})))}Et.propTypes={bars:i().array.isRequired,loading:i().bool.isRequired,columns:i().array.isRequired};var xt=o().memo((function(e){var t=e.bar,r=e.loading,n=e.columns;return t.container&&t.containedBars.length>0?o().createElement(Lt,{bar:t,loading:r,columns:n}):o().createElement(_t,{bar:t,columns:n})}));function _t(e){var t=e.bar,r=e.columns;return o().createElement("tbody",{className:"portfolioTable__rowWrapper"},o().createElement(dt,{bar:t,columns:r}))}function Lt(e){var t=e.bar,r=e.loading,n=e.columns,a=yt(o().useState(!1),2),i=a[0],c=a[1],l=o().useCallback((()=>{c((e=>!e))}),[]);return o().createElement("tbody",{className:"portfolioTable__rowWrapper"},o().createElement(dt,{key:t.id,bar:t,expanded:i,toggleExpanded:l,columns:n}),i&&o().createElement(o().Fragment,null,t.containedBars.map((e=>o().createElement(dt,{bar:e,key:e.id,columns:n}))),r&&o().createElement(o().Fragment,null,o().createElement(ht,{columns:n}),o().createElement(ht,{columns:n}),o().createElement(ht,{columns:n}))))}function Pt(e){for(var t=e.count,r=e.columns,n=void 0===r?[]:r,a=[],i=0;i<t;i++)a.push(o().createElement("tbody",{key:i,className:"portfolioTable__rowWrapper"},o().createElement(ht,{columns:n})));return a}function kt(e){var t,r,n=e.emptyPortfolioState;if(!n)return null;var a={NO_ROADMAPS:{message:"Portfolios allow you to view items from multiple roadmaps together",subMessage:!1,image:o().createElement(vt.oM,null)},NO_PARKED_BARS:{message:"There are no parked items in the roadmaps",subMessage:"Add items to the roadmap",image:o().createElement(vt.KL,null)},NONE_IN_PLANNED_RANGE:{message:"There are no planned items in the roadmaps for this date range",subMessage:"Adjust the portfolio date range or add items to the roadmap",image:o().createElement(vt.KL,null)},NO_RESULTS_FOUND:{message:"No results found",subMessage:"Try adjusting filters to find what you're looking for",image:o().createElement(vt.bN,null)}};if(!a[n])throw Error("Unsupported empty portfolio ".concat(n));return o().createElement("div",{className:"emptyPortfolioTable"},a[n].image,o().createElement("h3",{className:"emptyPortfolioTable__message"},a[n].message),a[n].subMessage&&(null===(t=window.currentRoadmapable)||void 0===t||null===(r=t.permissions)||void 0===r?void 0:r.can_edit)&&o().createElement("span",{className:"emptyPortfolioTable__subMessage"},a[n].subMessage))}xt.propTypes={bar:i().object.isRequired,loading:i().bool.isRequired,columns:i().array.isRequired},_t.propTypes={bar:i().object.isRequired,columns:i().array.isRequired},Lt.propTypes={bar:i().object.isRequired,loading:i().bool.isRequired,columns:i().array.isRequired},Pt.propTypes={count:i().number.isRequired},kt.propTypes={emptyPortfolioState:i().oneOfType([i().bool,i().string]).isRequired};function Ot(e){var t=e.itemCount,r=e.loading;return o().createElement("footer",{className:"portfolioTable__footer"},o().createElement(St,{itemCount:t,loading:r}),o().createElement(jt,null))}function St(e){var t=e.itemCount;return e.loading?o().createElement(st.N,null,"Loading"):o().createElement("span",{"aria-label":"Item Count"},o().createElement("strong",null,t)," ",1===t?"item":"items")}function jt(){return o().createElement("div",{className:"portfolioTable__footerPendoFlare"},o().createElement("button",{className:"portfolioTable__footerCommentCTA"},"We\u2019d love your feedback!"," ",o().createElement(he.Z,{name:he.c.commentSmile})))}Ot.propTypes={itemCount:i().number.isRequired,loading:i().bool.isRequired},St.propTypes={itemCount:i().number.isRequired,loading:i().bool.isRequired};var Ct=r(73935),Nt=r.n(Ct),Tt=r(31808);var It=r(49546),At=r(88090),Rt=r(82886),Dt=r(58732),Ft=r(57299),Mt=["showingColumnManager","setShowingColumnManager","clearUnsavedColumnChanges","saveCurrentColumns","restoreDefaultColumns","currentColumnsAreDefaults"];function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gt.apply(this,arguments)}function Zt(e){return Yt(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ut(e)||$t()}function Bt(){Bt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function qt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){qt(a,n,o,i,c,"next",e)}function c(e){qt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Ht(e,t){return Yt(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||Ut(e,t)||$t()}function $t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ut(e,t){if(e){if("string"===typeof e)return zt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yt(e){if(Array.isArray(e))return e}function Wt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Kt(e){var t=e.showingColumnManager,r=e.setShowingColumnManager,n=e.clearUnsavedColumnChanges,a=e.saveCurrentColumns,i=e.restoreDefaultColumns,c=e.currentColumnsAreDefaults,l=Wt(e,Mt),s=Ht(o().useState(null),2),u=s[0],d=s[1],h=()=>u&&d(null);function p(){return(p=Vt(Bt().mark((function e(){return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!1),window.showAJAXLoaderModal(),e.next=5,a();case 5:h(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),r(!0),d(e.t0);case 13:return e.prev=13,window.hideAJAXLoaderModal(),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,8,13,16]])})))).apply(this,arguments)}return t?o().createElement(Xt,{onCancel:function(){n(),r(!1),h()},onSave:function(){return p.apply(this,arguments)}},u&&o().createElement(It.Z,{bsStyle:"danger"},o().createElement(he.Z,{name:he.c.warning}),"Couldn\u2019t save changes. Please try again."),o().createElement("div",{className:"explainer"},o().createElement("span",null,"Add, reorder, and remove columns"),o().createElement("button",{className:"restore-default-columns-button",disabled:c,onClick:i},"Reset defaults")),o().createElement(Jt,l)):null}function Xt(e){var t=e.children,r=e.onCancel,n=e.onSave;return o().createElement(At.Z,{className:"portfolioTable__ColumnManagerModal",backdrop:!0,onHide:r,show:!0,animation:!1},o().createElement(At.Z.Header,{closeButton:!0},o().createElement(At.Z.Title,{componentClass:"h3"},"Edit Columns")),o().createElement(At.Z.Body,null,t),o().createElement(At.Z.Footer,null,o().createElement("button",{className:"btn btn-success",onClick:n},"Save"),o().createElement("button",{className:"btn btn-light",onClick:r},"Cancel")))}function Jt(e){var t,r,n,a=e.columns,i=e.supportedColumns,c=e.addColumn,l=e.removeColumn,s=e.moveColumn,u=i.filter((e=>!a.some((t=>t.id===e.id)))),d=Zt(a),h=d[0],p=d.slice(1),f=(t="column-management-drag-container",r=o().useRef(),o().useEffect((()=>(r.current=document.createElement("div"),r.current.classList.add(t),document.body.appendChild(r.current),()=>r.current.remove())),[t]),r),m=o().useRef(),v=(n=o().useRef([]),o().useEffect((()=>{n.current.forEach((e=>e())),n.current=[]})),e=>n.current.push(e));return o().createElement(o().Fragment,null,o().createElement("div",{className:"ColumnManager__ColumnList",role:"listbox"},o().createElement(Tt.Z5,{onDragEnd:e=>{var t=e.source,r=e.destination;return r&&s(t.index,r.index)}},o().createElement(Tt.bK,{droppableId:"columns"},(e=>o().createElement("div",Gt({ref:e.innerRef},e.droppableProps,{className:"ColumnManager__Columns"}),o().createElement(er,{column:h}),p.map(((e,t)=>o().createElement(Tt._l,{key:e.id,draggableId:e.id,index:t+1},((t,r)=>o().createElement(Qt,{ref:t.innerRef,column:e,onRemove:()=>l(e.id),snapshot:r,draggableProps:t.draggableProps,dragHandleProps:t.dragHandleProps,portalDiv:f}))))),e.placeholder)))),o().createElement("div",{ref:m})),o().createElement(tr,{hiddenColumns:u,addColumn:function(){var e=Vt(Bt().mark((function e(t){return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t),v((()=>{m.current.scrollIntoView({block:"end",behavior:"smooth"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))}Kt.propTypes={showingColumnManager:i().bool,setShowingColumnManager:i().func,clearUnsavedColumnChanges:i().func,saveCurrentColumns:i().func,restoreDefaultColumns:i().func,currentColumnsAreDefaults:i().bool,columns:i().array.isRequired,supportedColumns:i().array.isRequired,addColumn:i().func.isRequired,removeColumn:i().func.isRequired,moveColumn:i().func.isRequired},Xt.propTypes={children:i().any,onCancel:i().func,onSave:i().func},Jt.propTypes={columns:i().array.isRequired,supportedColumns:i().array.isRequired,addColumn:i().func.isRequired,removeColumn:i().func.isRequired,moveColumn:i().func.isRequired};var Qt=o().forwardRef((function(e,t){var r=e.column,n=e.onRemove,a=e.draggableProps,i=e.dragHandleProps,c=e.snapshot,l=e.portalDiv,s=c.isDragging,u=o().createElement("div",Gt({ref:t,className:"ColumnManager__Column"},a,{role:"option"}),o().createElement("div",Gt({className:lt()("ColumnManager__Column--dragHandle",{isDragging:s})},i,{"aria-label":"Drag to move ".concat(r.displayName)}),o().createElement(Ft.Z,{classes:"pp-icon",id:"grab_handle"}),o().createElement("div",{className:"display-name"},r.displayName)),o().createElement(he.Z,{classes:"ColumnManager__Column--removeIcon",name:he.c.times,onClick:n,"aria-label":"Remove ".concat(r.displayName)}));return s?Nt().createPortal(u,l.current):u}));function er(e){var t=e.column;return o().createElement("div",{className:"ColumnManager__Column ColumnManager__Column--static",role:"option"},o().createElement("div",{className:"ColumnManager__Column--dragHandle"},o().createElement(Ft.Z,{classes:"pp-icon",id:"grab_handle"}),o().createElement("div",{className:"display-name"},t.displayName)),o().createElement(he.Z,{classes:"ColumnManager__Column--removeIcon",name:he.c.times}))}function tr(e){var t=e.hiddenColumns,r=e.addColumn;return 0===t.length?null:o().createElement(Rt.Z,{className:"ColumnManager__AddColumnControl",title:"Add Columns",id:"add-columns-dropdown-button"},t.map((e=>{var t=e.id,n=e.displayName;return o().createElement(Dt.Z,{key:t,onSelect:()=>r(t)},n)})))}function rr(){return rr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rr.apply(this,arguments)}function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cr(e){var t=e.initiallyShowing,r=void 0!==t&&t,n=e.layout,a=e.children,i=ar(o().useState(r),2),c=i[0],l=i[1],s=o().useCallback((()=>l(!0)),[]),u=o().useCallback((()=>l(!1)),[]),d=o().useMemo((()=>({showingPortfolioTable:c,showPortfolioTable:s,hidePortfolioTable:u})),[c,s,u]);return c?o().createElement(lr,{layout:n,portfolioTableState:d}):a(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{layout:n,portfolioTableState:d}))}function lr(e){var t,r,a,i,l=e.layout,s=e.portfolioTableState,u=se({portfolioId:window.currentRoadmapable.id}),d=o().useRef(),h=function(e){var t=ar((0,n.useState)(!1),2),r=t[0],o=t[1];return(0,C.useEventListener)(e,"scroll",(e=>{var t=e.target,n=t.scrollLeft>0;t&&n!==r&&o(n)})),r}(d.current);t=d.current,r=2e3,a=u.increaseRowLimit,i=o().useCallback((e=>{var t=e.target;t.scrollHeight-t.offsetHeight-t.scrollTop<r&&a()}),[r,a]),(0,C.useEventListener)(t,"scroll",i),function(e,t){o().useEffect((()=>{e&&(e.scrollTop=0,e.scrollLeft=0)}),t)}(d.current,[u.parked,u.sort,u.throttledTextFilter,u.personalFilters]);var p=window.currentRoadmapable.permissions.can_edit;return o().createElement(o().Fragment,null,o().createElement(c.CO,{layout:l,portfolioTableState:s,parked:u.parked,canEditDates:!1}),o().createElement("div",{className:"portfolioTable"},o().createElement(Te,rr({canEdit:p},u)),o().createElement("main",{ref:d,className:"portfolioTable__main ".concat(h?"is-scrolled-x":"")},o().createElement("table",{"aria-label":"Portfolio Table",className:"portfolioTable__table"},o().createElement(ge,{columns:u.columns,setSort:u.setSort}),o().createElement(bt,{filteredBars:u.filteredBars,loading:u.loading,sort:u.sort,columns:u.columns,rowLimit:u.rowLimit})),o().createElement(kt,{emptyPortfolioState:u.emptyPortfolioState})),o().createElement(Ot,{itemCount:u.filteredBarsCount,loading:u.loading})),o().createElement(Kt,u))}Qt.propTypes={column:i().object.isRequired,onRemove:i().func.isRequired,draggableProps:i().object.isRequired,dragHandleProps:i().object.isRequired,snapshot:i().object.isRequired,portalDiv:i().object.isRequired},er.propTypes={column:i().object},tr.propTypes={hiddenColumns:i().array.isRequired,addColumn:i().func.isRequired},cr.propTypes={initiallyShowing:i().bool,layout:i().string,children:i().func},lr.propTypes={layout:i().string.isRequired,portfolioTableState:i().object.isRequired}},37808:(e,t,r)=>{r.d(t,{Z:()=>l});var n=r(67294),o=r.n(n),a=r(44576),i=r(45697),c=r.n(i);function l(e){var t=e.layout,r=e.portfolioTableState;return window.currentRoadmapable.isMasterPlan()?o().createElement(a.CO,{layout:t,portfolioTableState:r}):window.currentRoadmapable.isPublic()?o().createElement(a.eI,null):window.currentRoadmapable.isSnapshot?o().createElement(a.ku,null):o().createElement(a.V1,{layout:t})}l.propTypes={layout:c().string.isRequired}},58228:(e,t,r)=>{r.d(t,{Z:()=>ne});var n=r(67294),o=r.n(n),a=r(45697),i=r.n(a),c=r(34844),l=r(55652),s=r(58909),u=r(97725),d=r(94184),h=r.n(d);var p=r(39012);function f(e){var t=e.canZoomIn,r=e.canZoomOut,n=e.zoomIn,a=e.zoomOut,i=e.visibleWidth,c="".concat((100*i).toFixed(),"%");return o().createElement("div",{className:"viewport-controls","data-roadmap-visible-width":c},o().createElement("div",{className:"zoom-controls"},o().createElement(m,{canZoom:r,iconName:p.c.minus,id:"zoomout",title:"Temporarily zoom timeline out",zoom:a}),o().createElement("span",{className:"zoom-controls-separator"}),o().createElement(m,{canZoom:t,iconName:p.c.plus,id:"zoomin",title:"Temporarily zoom timeline in",zoom:n})))}function m(e){var t=e.canZoom,r=e.zoom,n=e.iconName,a=e.id,i=e.title;return o().createElement("a",{className:h()("zoom-control",{"ui-state-disabled":!t}),id:a,title:i,onClick:e=>{e.preventDefault(),t&&r()}},o().createElement(p.Z,{name:n}))}f.propTypes={canZoomIn:i().bool.isRequired,canZoomOut:i().bool.isRequired,zoomIn:i().func.isRequired,zoomOut:i().func.isRequired,visibleWidth:i().number.isRequired},m.propTypes={canZoom:i().bool.isRequired,zoom:i().func.isRequired,id:i().string.isRequired,title:i().string.isRequired,iconName:i().object.isRequired};var v=r(79182),y=r(87563),g=r(7440);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(){var e="show-all-connections-".concat(window.currentRoadmapable.roadmapableType(),"-").concat(window.currentRoadmapable.roadmapId),t=w((0,g.useLocalStorage)(e,(()=>!1)),2),r=t[0],n=t[1],a=function(){var e,t,r,n=w(o().useState(null!==(e=null===(t=window.currentRoadmapable)||void 0===t||null===(r=t.barFieldSettings)||void 0===r?void 0:r.call(t).connectionsVisible)&&void 0!==e&&e),2),a=n[0],i=n[1];return(0,g.useEventsChannel)("UPDATED_BARS_FIELD_VISIBILITY",(e=>{var t;i(null!==(t=null===e||void 0===e?void 0:e.connectionsVisible)&&void 0!==t&&t)})),a}();return o().createElement("div",{className:h()("show-all-connections-control",{active:r,hidden:!a}),"aria-label":"Show all connections control",style:a?{}:{display:"none"},onClick:()=>n((e=>!e))},o().createElement(y.Kl,null),a&&r&&o().createElement(v.M,null))}var x=r(37808),_=r(64193),L=r(90571),P=r(3759),k=r(45578),O=r.n(k);function S(e){var t=e.legendStyle,r=e.roadmaps,n=e.roadmapColorById,a=e.canEdit,i=e.canView;switch(t){case"original":return o().createElement(j,{roadmaps:r,canEdit:a,canView:i});case"consolidated":return o().createElement(C,{roadmaps:r});case"roadmap":return o().createElement(N,{roadmaps:r,roadmapColorById:n,canEdit:a,canView:i});default:return null}}function j(e){var t=e.roadmaps,r=e.canEdit,n=e.canView;return o().createElement("div",{id:"portfolio-view-legend"},t.map((e=>o().createElement("ul",{key:e.roadmapId,className:"list-group no-border"},o().createElement("li",{key:"roadmap-title-".concat(e.roadmapId),className:"legend-title list-group-item"},o().createElement(I,{roadmap:e,canEdit:r,canView:n})),Object.values(e.legends).map((e=>o().createElement(A,{key:e.id,legend:e})))))))}function C(e){var t=e.roadmaps.flatMap((e=>Object.values(e.legends))),r=O()(t,(e=>"".concat(e.name,"/").concat(e.hex)));return o().createElement("div",{id:"portfolio-view-legend"},o().createElement("ul",{className:"list-group no-border"},o().createElement("li",{key:"legend-title",className:"legend-title list-group-item"},window.currentRoadmapable.legendTitle),r.map((e=>o().createElement(A,{key:e.id,legend:e})))))}function N(e){var t=e.roadmaps,r=e.roadmapColorById,n=e.canEdit,a=e.canView;return o().createElement("div",{id:"portfolio-view-legend"},o().createElement("ul",{className:"list-group no-border"},o().createElement("li",{className:"legend-title list-group-item"},"Roadmaps"),t.map((e=>o().createElement("li",{key:e.roadmapId,className:"lane-text-label list-group-item"},o().createElement(T,{roadmap:e,roadmapColor:r(e.roadmapId),canEdit:n,canView:a}))))))}function T(e){var t=e.roadmap,r=e.roadmapColor,n=e.canEdit,a=e.canView;return o().createElement(o().Fragment,null,n?o().createElement(D,{roadmap:t},o().createElement(R,{hex:r})):o().createElement(R,{hex:r}),o().createElement("span",null,n||a?o().createElement(D,{roadmap:t},t.title()):o().createElement("p",{className:"roadmap-name"},t.title())))}function I(e){var t=e.roadmap,r=e.canEdit,n=e.canView;return r||n?o().createElement(D,{roadmap:t},t.title()):t.title()}function A(e){var t=e.legend;return o().createElement("li",{className:"lane-label list-group-item"},o().createElement(R,{hex:t.hex}),t.name)}function R(e){var t=e.hex;return o().createElement("div",{className:"toolbar-color-box",style:{backgroundColor:t}})}function D(e){var t=e.roadmap,r=e.children;return o().createElement("a",{href:"/roadmaps/".concat(t.roadmapId),target:"_blank",rel:"noreferrer"},r)}S.propTypes={legendStyle:i().string,roadmaps:i().array,roadmapColorById:i().func,canEdit:i().bool,canView:i().bool},j.propTypes={roadmaps:i().array,canEdit:i().bool,canView:i().bool},C.propTypes={roadmaps:i().array},N.propTypes={roadmaps:i().array,roadmapColorById:i().func,canEdit:i().bool,canView:i().bool},T.propTypes={roadmap:i().object,roadmapColor:i().string,canEdit:i().bool,canView:i().bool},I.propTypes={roadmap:i().object,canEdit:i().bool,canView:i().bool},A.propTypes={legend:i().object},R.propTypes={hex:i().string},D.propTypes={roadmap:i().object,children:i().any};var F=r(93143);function M(e){var t=e.loggedIn,r=e.isPublic,n=e.canEdit,a=e.canView,i=e.planLimited,s=e.currentViewId,u=e.legendStyle,d=e.roadmaps,h=e.roadmapColorById,f=e.onClickXLS;return o().createElement("div",{className:"board-actions react-component-version",style:{visibility:"hidden"}},o().createElement("div",{id:"toolbar","data-mode":"toolbar"},o().createElement("div",{id:"toolbar-body",className:"toolbar-body"},o().createElement("ul",{className:"list-group no-border tool-settings"},o().createElement("li",{className:"list-group-item",style:{marginTop:"-17px",marginBottom:"10px"}},o().createElement("a",{id:"hide_toolbar_button",href:"javascript:void(0)"},o().createElement(p.Z,{name:p.c.caretRight})," ",o().createElement("div",{className:"toolbar-hide-text"},"Hide"))),i&&o().createElement(q,null),t&&!r&&n&&o().createElement(G,{currentViewId:s}),o().createElement(Z,null),t&&!r&&n&&o().createElement(B,null),t&&!r&&n&&o().createElement(F.Z,{url:window.currentRoadmapable.exportUrl(),layout:c.Z.TIMELINE,includeLayoutParam:window.currentRoadmapable.supportsLayoutSwitching(),onClickXLS:f,wrapperClasses:"list-group-item timeline-toolbar-item"}),function(e,t){return e&&t&&l.ProductPlan.isFeatureEnabled("activity_metrics")}(t,n)&&o().createElement(V,null)),o().createElement(S,{legendStyle:u,roadmaps:d,roadmapColorById:h,canEdit:n,canView:a}))))}function G(e){var t=e.currentViewId;return o().createElement("li",{id:"portfolio-view-settings",className:"list-group-item tool"},o().createElement("a",{href:"javascript:void(0)",className:"settings-portfolio-view-modal","data-current-view-id":t},o().createElement(p.Z,{name:p.c.cog})," ",o().createElement("span",{className:"title-text"},"Settings")))}function Z(){return o().createElement("li",{id:"filter-button",className:"list-group-item"},o().createElement("a",{href:"javascript:void(0)",className:"add-filter filter-portfolio-view-modal"},o().createElement(p.Z,{name:p.c.filter})," ",o().createElement("span",{className:"title-text"},"Filter")))}function B(){return o().createElement("li",{id:"share-button","aria-label":"Share Toolbar Button",className:"list-group-item timeline-toolbar-item"})}function q(){return o().createElement("li",{className:"list-group-item tool"},o().createElement("a",{"data-remote":"true",href:"/upgrade_account?from=roadmap"},o().createElement(p.Z,{name:p.c.edit})," ",o().createElement("span",{className:"title-text"},"Edit Portfolio View")))}function V(){return o().createElement("li",{id:"activity-menu-item",className:"list-group-item"},o().createElement("a",{href:"javascript:void(0)",className:"see-activity activity-portfolio-modal"},o().createElement(p.Z,{name:p.c.chartLine})," ",o().createElement("span",{className:"title-text"},"Activity")))}M.propTypes={loggedIn:i().bool,isPublic:i().bool,canEdit:i().bool,canView:i().bool,planLimited:i().bool,currentViewId:i().number,legendStyle:i().string,roadmaps:i().array,roadmapColorById:i().func,onClickXLS:i().func},G.propTypes={currentViewId:i().number};var H=r(47108),U=r(71460),z=r(89012),Y=r(94828),W=r(13202),K=r(91650);function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function J(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Q(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){J(a,n,o,i,c,"next",e)}function c(e){J(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ne extends o().Component{constructor(){super(...arguments),re(this,"state",te(te({},l.ProductPlan.displaySettings.zoomState()),{},{initialized:!1}))}componentDidMount(){window.showAJAXLoaderModal(),l.ProductPlan.roadmapRenderer.applyRoadmapStyle(window.currentRoadmapable.roadmapStyle),window.currentRoadmapable.isMasterPlan()?this.loadMasterPlan():this.loadRoadmap(),s.default.subscribe("CHANGED_ZOOM_LEVEL",this.handleChangedZoomLevel,this)}loadMasterPlan(){var e=this;return Q(X().mark((function t(){var r,n;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=l.ProductPlan.masterPlanView.showMasterPlan(),e.unhideMainContentHolder(),n=$(".board-actions"),$("#main-wrapper").append(n),n.css("visibility","visible"),t.next=7,r;case 7:e.setState({initialized:!0});case 8:case"end":return t.stop()}}),t)})))()}loadRoadmap(){var e=this;return Q(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.ProductPlan.roadmapView.initialized=!1,l.ProductPlan.EventRegistrar.turnOn(l.ProductPlan.roadmapView.mode),!l.ProductPlan.roadmapView.loadRoadmapPromise){t.next=9;break}return t.next=5,l.ProductPlan.roadmapView.loadRoadmapPromise;case 5:e.setState({initialized:!0}),l.ProductPlan.roadmapView.show(),e.unhideMainContentHolder(),window.hideAJAXLoaderModal();case 9:window.setLayoutRendered(!0);case 10:case"end":return t.stop()}}),t)})))()}handleChangedZoomLevel(e){this.setState(e)}componentWillUnmount(){window.currentRoadmapable.isMasterPlan()||l.ProductPlan.EventRegistrar.turnOff(l.ProductPlan.roadmapView.mode),l.ProductPlan.roadmapRenderer.cleanUpEventListeners(),s.default.unsubscribe("CHANGED_ZOOM_LEVEL",this.handleChangedZoomLevel,this)}unhideMainContentHolder(){$("#roadmap-tab .main-content-holder").css("visibility","visible")}renderZoomControls(){return o().createElement(f,{canZoomIn:this.state.canZoomIn,canZoomOut:this.state.canZoomOut,zoomIn:l.ProductPlan.displaySettings.zoomin,zoomOut:l.ProductPlan.displaySettings.zoomout,visibleWidth:l.ProductPlan.displaySettings.zoomState().visibleWidth})}renderShowAllConnectionsControl(){return o().createElement(E,null)}renderHighlights(){return o().createElement(H.Z,null)}renderRoadmapTimeline(){var e={roadmapManager:l.ProductPlan.roadmapManager,roadmap:window.roadmap,currentUser:window.current_user||!1,originalPermissions:window.originalPermissions||window.permissions||{can_edit:!1,can_view:!1,plan_limited:!1,public_urls_enabled:!1},onClickXLS:z.d};return o().createElement("div",{className:"tab-pane active",id:"roadmap-tab"},o().createElement("div",{className:"main-wrapper roadmap-layout view-layout","data-toolbar":"true",id:"main-wrapper"},o().createElement(x.Z,{layout:c.Z.TIMELINE}),o().createElement("div",{className:"connection-lines-container"}),o().createElement("div",{className:"main-content-holder js-roadmap-content","data-name":"main-content-holder"},this.renderZoomControls(),this.renderShowAllConnectionsControl(),o().createElement("div",{className:"js-main-container",id:"timeline-app","data-name":"timeline-app"},o().createElement("table",{className:"js-timeline-table"},o().createElement("thead",null,o().createElement("tr",null,o().createElement("th",null,o().createElement("div",{className:"js-date-row"})))),o().createElement("tbody",null,o().createElement("tr",null,o().createElement("td",null,o().createElement("div",{className:"js-gridline-container"}),o().createElement("div",{className:"js-lane-container"},o().createElement("div",{className:"smart-guide hidden",id:"smart-guide"}),o().createElement("div",{className:"smart-guide-date hidden",id:"smart-guide-date"}),o().createElement("div",{id:"last_lane"}),o().createElement("div",{className:"create-lane-drop",id:"create-new-lane"},ne.language.dropToCreateNewLane),o().createElement("div",{className:"lanes new-lane lane-drop",id:"new-lane"},ne.language.createNewLane)))))))),o().createElement("div",{className:"board-actions"},o().createElement("div",{id:"toolbar",mode:"toolbar"},o().createElement(u.Z,e),this.renderHighlights()))))}renderMasterPlanTimeline(){return o().createElement("div",{className:"tab-pane active",id:"roadmap-tab"},o().createElement("div",{className:"main-wrapper roadmap-layout view-layout","data-toolbar":"true",id:"main-wrapper"},o().createElement(x.Z,{layout:c.Z.TIMELINE,portfolioTableState:this.props.portfolioTableState}),o().createElement("div",{className:"connection-lines-container"}),o().createElement("div",{className:"main-content-holder js-roadmap-content"},this.renderZoomControls(),this.renderShowAllConnectionsControl(),o().createElement("div",{className:"hidden",id:"empty-portfolio-view-message"},o().createElement("br",null),o().createElement("div",{className:"alert alert-danger"},ne.language.masterPlansAlert)),o().createElement("div",{className:"hidden",id:"completely-filtered-portfolio-view-message"},o().createElement("br",null),o().createElement("div",{className:"alert alert-danger"},ne.language.noBarsOrContainersAlert)),o().createElement("div",{className:"hidden",id:"completely-hidden-portfolio-view-message"},o().createElement("br",null),o().createElement("div",{className:"alert alert-danger"},ne.language.adjustFiltersAlert)),o().createElement("div",{className:"js-main-container",id:"portfolio-view-timeline-app"},o().createElement("table",{className:"js-timeline-table"},o().createElement("thead",null,o().createElement("tr",null,o().createElement("th",null,o().createElement("div",{className:"js-date-row"})))),o().createElement("tbody",null,o().createElement("tr",null,o().createElement("td",null,o().createElement("div",{className:"js-gridline-container"}),o().createElement("div",{className:"js-lane-container"},o().createElement("div",{className:"smart-guide hidden",id:"smart-guide"}),o().createElement("div",{className:"smart-guide-date hidden",id:"smart-guide-date"}),o().createElement("div",{id:"last_lane"}),o().createElement("div",{className:"create-lane-drop",id:"create-new-lane"},ne.language.dropToCreateNewLane),o().createElement("div",{className:"lanes new-lane lane-drop",id:"new-lane"},ne.language.createNewLane)))))))),o().createElement(M,(a=window,i=a.current_user,l=a.currentRoadmapable,{loggedIn:!!i,isPublic:l.isPublic(),canEdit:null===(e=l.permissions)||void 0===e?void 0:e.can_edit,canView:null===(t=l.permissions)||void 0===t?void 0:t.can_view,planLimited:null===(r=l.permissions)||void 0===r?void 0:r.plan_limited,currentViewId:l.currentViewId,legendStyle:null===(n=l.preferences)||void 0===n?void 0:n.color_style,roadmaps:Object.values(l.roadmaps),roadmapColorById:e=>"#"+l.roadmapColors[e].hex,onClickXLS:z.d}))));var e,t,r,n,a,i,l}render(){return o().createElement(oe,null,window.currentRoadmapable.isMasterPlan()?this.renderMasterPlanTimeline():this.renderRoadmapTimeline(),o().createElement(_.F,{dataLoaded:this.state.initialized},(e=>{var t=e.showPersonalFiltersModal;return o().createElement(ie,{onClick:t})})),o().createElement(ae,{dataLoaded:this.state.initialized}),this.state.initialized&&o().createElement(g.HookProvider,{useHook:ce}),this.state.initialized&&o().createElement(g.HookProvider,{useHook:K.p}))}}function oe(e){var t=e.children,r=(0,U.X)();return(0,g.useGlobal)("updateViewForTimeline",r),t}function ae(e){var t=e.dataLoaded,r=(0,g.useEventKey)("UPDATED_FILTERS");return o().useEffect((()=>{var e=t&&P.Z.hasFilters();$("#filter-button").toggleClass("btn-filter-personal-filters-applied",e),$("#filter-button").toggleClass("btn-filter-view-filters-applied",!e&&window.currentRoadmapable.shouldShowViewFiltersAppliedIndication())}),[r,t]),(0,g.useEventsChannel)("UPDATED_FILTERS",(()=>{L.Z.applyFilters()})),null}function ie(e){var t=e.onClick;return o().useEffect((()=>($("body").on("click",".add-filter",t),()=>{$("body").off("click",".add-filter")})),[]),null}function ce(){var e=o().useCallback(((e,t)=>Y.Z.fetchPermissionsAndShow(t)),[]);(0,W.Ko)({name:"open_sharing",effect:e})}re(ne,"language",{masterPlansAlert:"Portfolio Views allow you to view multiple roadmaps as one. Select the roadmaps to view in Settings.",noBarsOrContainersAlert:"There are no Bars or Containers that are available to be viewed. To display them, an editor can adjust the View Filters.",adjustFiltersAlert:"To display bars, adjust your filters or Portfolio View settings.",dropToCreateNewLane:"Drop to Create New Lane",createNewLane:"Create New Lane"}),ne.propTypes={portfolioTableState:i().object},oe.propTypes={children:i().any}},89012:(e,t,r)=>{r.d(t,{d:()=>l});var n=r(71119),o=r(93128);function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=s;var d={};function h(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(P([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(o,a,i,c){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=f,l(g,"constructor",f),l(f,"constructor",p),p.displayName=l(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){i(a,n,o,c,l,"next",e)}function l(e){i(a,n,o,c,l,"throw",e)}c(void 0)}))}}function l(){return s.apply(this,arguments)}function s(){return(s=c(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.Z.info("Processing download"),t=u(),e.next=4,n.Z.generateXls("Roadmap",t);case 4:o.Z.success("Download complete");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){var e={};return Object.values(window.currentRoadmapable.scoringBars()).forEach((t=>{e[t.id]=t.score})),e}},14723:(e,t,r)=>{var n={};r.r(n),r.d(n,{JiraMappings:()=>Un,VstsMappings:()=>Xn});var o=r(28583),a=r.n(o),i=(r(53002),r(11749),r(397)),c=r(16852),l=r(67294),s=r.n(l),u=r(73935),d=r.n(u),h=r(30998),p=r.n(h),f=r(45697),m=r.n(f),v=r(18446),y=r.n(v),g=r(41293);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}class b extends s().Component{render(){return s().createElement(g.Z,w({enableLabelToggle:!0},this.props))}}b.propTypes={value:m().bool.isRequired,id:m().string.isRequired,text:m().string.isRequired,errors:m().string,onChange:m().func.isRequired},b.defaultProps={};const E=b;var x=r(7360),_=[{id:"Daily",name:"Daily"},{id:"Weekly",name:"Weekly"},{id:"Monthly",name:"Monthly"}];class L extends s().Component{constructor(e){super(e),this.handleFrequencyChange=this.handleFrequencyChange.bind(this),this.handleCheckBoxChange=this.handleCheckBoxChange.bind(this)}initFrequencyValue(){return y()(this.props.frequency,1)?"Daily":y()(this.props.frequency,2)?"Weekly":"Monthly"}frequencyValue(e){var t=e.target.value;return y()(t,"Daily")?1:y()(t,"Weekly")?2:3}handleCheckBoxChange(){var e={attribute:"roadmap_diff",frequency:this.props.value?0:2,value:!this.props.value};this.props.onChange(e)}handleFrequencyChange(e){var t={attribute:"roadmap_diff",frequency:this.frequencyValue(e)};this.props.onChange(t)}render(){return s().createElement(x.Z,{checkboxId:this.props.id,checkboxValue:this.props.value,errors:this.props.errors,label:this.props.text,options:_,selectboxId:"roadmap_diff_frequency",selectboxName:"roadmap_diff_frequency",selectboxValue:this.initFrequencyValue(),onCheckChange:this.handleCheckBoxChange,onSelectChange:this.handleFrequencyChange})}}L.propTypes={errors:m().string,frequency:m().number,id:m().string.isRequired,text:m().string.isRequired,value:m().bool.isRequired,onChange:m().func.isRequired},L.defaultProps={disabled:!1,frequency:2};const P=L;class k extends s().Component{constructor(e){super(e)}commentCheckBoxValue(){return this.props.emailPreferences?10==this.props.emailPreferences.comment:null}roadmapDiffCheckBoxValue(){return this.props.emailPreferences?0!=this.props.emailPreferences.roadmap_diff:null}initFrequencyValue(e){return y()(e,1)?1:y()(e,2)?2:3}disableFrequencySelect(){return 0==this.props.emailPreferences.roadmap_diff}roadmapFrequencyValue(){return this.props.emailPreferences?0!=this.props.emailPreferences.roadmap_diff?this.initFrequencyValue(this.props.emailPreferences.roadmap_diff):2:null}render(){return s().createElement("div",{className:"notifications-option-wrapper"},s().createElement("h4",null,"Email me when:"),s().createElement(E,{errors:this.props.errors,id:"comment",text:"Someone comments (immediately)",value:this.commentCheckBoxValue(),onChange:this.props.onChange}),s().createElement(P,{disabled:this.disableFrequencySelect(),errors:this.props.errors,frequency:this.roadmapFrequencyValue(),id:"roadmap_diff",text:"Roadmap changes: ",value:this.roadmapDiffCheckBoxValue(),onChange:this.props.onChange}))}}k.propTypes={currentUser:m().object,emailPreferences:m().object.isRequired,errors:m().string,onChange:m().func.isRequired},k.defaultProps={emailPreferences:null,onChange:()=>{}};const O=k;var S=r(75472),j=r.n(S);class C extends s().Component{constructor(e){super(e)}onCommentFollowsChange(){var e={id:this.props.follow.id,attribute:"opt_in",followable_id:this.props.followable.id,value:!this.props.value.comments};this.props.onChange(e)}onRoadmapDiffFollowsChange(){var e={id:this.props.follow.id,attribute:"roadmap_diff",followable_id:this.props.followable.id,value:!this.props.value.roadmap_diffs};this.props.onChange(e)}renderCell(e,t){return s().createElement("td",{className:t},e)}renderImageCell(e,t,r){return s().createElement("td",{className:"roadmapable_follows_img_cell"},s().createElement("img",{alt:r,className:t,src:e}))}renderCommentFollowsCheckBox(){return s().createElement(g.Z,{disabled:0==this.props.disabled.comments,errors:this.props.errors,id:this.props.id+"_comments",text:"",value:this.props.value.comments,onChange:this.onCommentFollowsChange.bind(this)})}renderDiffFollowsCheckBox(){return s().createElement(g.Z,{disabled:0==this.props.disabled.roadmap_diff,errors:this.props.errors,id:this.props.id+"_diffs",text:"",value:this.props.value.roadmap_diffs,onChange:this.onRoadmapDiffFollowsChange.bind(this)})}render(){return s().createElement("tr",null,this.renderImageCell(this.props.image,"roadmapable_row_image",this.props.followable.type),this.renderCell(this.props.followable.name,"roadmapable_row_title"),this.renderCell(this.renderCommentFollowsCheckBox(),"comment_follows_checkbox"),this.renderCell(this.renderDiffFollowsCheckBox(),"roadmap_diff_follows_checkbox"))}}C.propTypes={disabled:m().object.isRequired,follow:m().object.isRequired,followable:m().object.isRequired,image:m().string.isRequired,value:m().object.isRequired,id:m().string.isRequired,text:m().string.isRequired,errors:m().string,onChange:m().func.isRequired},C.defaultProps={disabled:{},followable:{},image:"",value:{comments:!0,roadmap_diffs:!0},id:null,text:"",onChange:()=>{}};const N=C;var T=r(39012),I=r(11536);class A extends s().Component{constructor(e){super(e)}alphabetizeFollows(){return j()(this.props.follows,[function(e){return e.followable.name.toLowerCase()}],["asc"],[!0])}disableOptions(){var e={};return this.props.emailPreferences?(e.comments=this.props.emailPreferences.comment,e.roadmap_diff=this.props.emailPreferences.roadmap_diff):(e.comments=10,e.roadmap_diff=2),e}roadmapableFollowsValues(e){return{comments:e.opt_in,roadmap_diffs:e.roadmap_diff}}onToggleAllComments(e){this.props.onBulkUpdate({opt_in:e.value})}onToggleAllChanges(e){this.props.onBulkUpdate({roadmap_diff:e.value})}renderHeaderRow(){var e=this.disableOptions();return s().createElement("tr",{className:"roadmap_follows_table_header"},s().createElement("th",{className:"col img_col"}),s().createElement("th",{className:"col roadmap_name_col"},s().createElement("div",null,s().createElement("span",null,"Title"),s().createElement(T.Z,{name:T.c.arrowDown}))),s().createElement("th",{className:"col comments_col"},s().createElement("div",null,s().createElement(I.Z,{disabled:0===e.comments,id:"all_comments",text:"Comments",value:this.setSelectAllValue("opt_in"),onChange:this.onToggleAllComments.bind(this),indeterminateIcon:T.c.minusSquare.string}))),s().createElement("th",{className:"col diffs_col"},s().createElement("div",null,s().createElement(I.Z,{disabled:0===e.roadmap_diff,id:"all_changes",text:"Changes",value:this.setSelectAllValue("roadmap_diff"),onChange:this.onToggleAllChanges.bind(this),indeterminateIcon:T.c.minusSquare.string}))))}setSelectAllValue(e){var t=this.props.follows.filter((t=>!0===t[e]));return 0!==t.length&&(t.length===this.props.follows.length||null)}imageSelector(e){return"Roadmap"==e?this.props.images.roadmaps:this.props.images.master_plans}renderRows(){var e=this;return e.alphabetizeFollows().map((function(t){return s().createElement(N,{disabled:e.disableOptions(),errors:e.props.errors,follow:t,followable:t.followable,id:"followable_row_"+t.followable.id,image:e.imageSelector(t.followable.type),key:t.id,text:"",value:e.roadmapableFollowsValues(t),onChange:e.props.onChange})}))}render(){return s().createElement("table",{className:"roadmapable_follows_table pp-table"},s().createElement("thead",null,this.renderHeaderRow()),s().createElement("tbody",null,this.renderRows()))}}A.propTypes={emailPreferences:m().object.isRequired,errors:m().string,follows:m().array.isRequired,images:m().object.isRequired,onChange:m().func.isRequired,onBulkUpdate:m().func.isRequired},A.defaultProps={emailPreferences:null,follows:[],images:null};const R=A;const D=class{static updateEmailSettingsOnWindow(e){e.email_notification_setting&&Object.assign(window.current_user.email_notification_setting,{comment:e.email_notification_setting.comment,roadmap_diff:e.email_notification_setting.roadmap_diff})}};var F=r(74527),M=r(55652);function G(){G=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Z(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Z(a,n,o,i,c,"next",e)}function c(e){Z(a,n,o,i,c,"throw",e)}i(void 0)}))}}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class V extends s().Component{constructor(){var e;super(...arguments),e=this,q(this,"state",{errors:null,follows:this.props.follows}),q(this,"handleError",(e=>{var t,r,n=(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"There was an error processing your request. Please try again later.";this.setState({errors:n})})),q(this,"handleFollowsUpdate",function(){var t=B(G().mark((function t(r){var n,o,a,i,c,l;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n={}).id=r.id,n[r.attribute]=r.value,t.prev=3,t.next=6,F.default.notifications.updateRoadmapableFollowsSetting(n);case 6:o=t.sent,a=o.data,i=e.state.follows,c=[...i],-1!==(l=p()(c,{id:a.id}))&&(c[l]=a,e.setState({follows:c})),e.resetError(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),e.handleError(t.t0);case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}()),q(this,"handleFollowsBulkUpdate",function(){var t=B(G().mark((function t(r){var n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.default.notifications.bulkUpdate(r);case 3:n=[...e.state.follows],Object.keys(r).forEach((e=>{n.forEach((t=>{t[e]=r[e]}))})),e.setState({follows:n}),e.resetError(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),M.ProductPlan.requireRefresh(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()),q(this,"handleGlobalSettingChange",function(){var t=B(G().mark((function t(r){var n,o,a,i,c;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},o=r.attribute,a=r.value,"comment"==o?n[r.attribute]=a?10:0:n.roadmap_diff=r.frequency,t.prev=4,t.next=7,F.default.notifications.updateGlobalNotificationSetting(n);case 7:i=t.sent,c=i.data,D.updateEmailSettingsOnWindow(c),e.resetError(),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),e.handleError(t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}())}resetError(){this.setState({errors:null})}render(){return s().createElement("div",{className:"notifications-settings-top-level-container"},s().createElement(O,{currentUser:this.props.currentUser,emailPreferences:this.props.emailPreferences,errors:this.state.errors,onChange:this.handleGlobalSettingChange}),s().createElement(R,{emailPreferences:this.props.emailPreferences,errors:this.state.errors,follows:this.state.follows,images:this.props.images,onChange:this.handleFollowsUpdate,onBulkUpdate:this.handleFollowsBulkUpdate}))}}V.propTypes={currentUser:m().object.isRequired,emailPreferences:m().object.isRequired,follows:m().array.isRequired,images:m().object.isRequired},V.defaultProps={currentUser:null,emailPreferences:null,follows:[],images:null};const H=V;var U=r(36673),z=r(36007),Y=r(89563);function W(){W=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function K(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}const X=class{notifications(){return(e=W().mark((function e(){var t,r,n,o,a;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.showAJAXLoaderModal(),e.prev=1,0!==(t=$(".js-notifications-mount-point")).length){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,F.default.notifications.get();case 7:r=e.sent,n=r.data,o={roadmaps:z,master_plans:Y},a={currentUser:window.current_user,emailPreferences:window.current_user.email_notification_setting?window.current_user.email_notification_setting:null,follows:n,images:o},d().render(s().createElement(H,a),t[0]);case 12:return e.prev=12,window.hideAJAXLoaderModal(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,,12,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){K(a,n,o,i,c,"next",e)}function c(e){K(a,n,o,i,c,"throw",e)}i(void 0)}))})();var e}personal_token(){U.Z.init()}};var J=r(47438),Q=r.n(J),ee=r(16689),te={setUndoQueue(e){this.queueManager=e},getUndoQueue(){return this.queueManager?this.queueManager:i.Z},undoRequested(e){return!e.shiftKey&&(this.isModifierKeyPressed(e)&&90===e.keyCode)},redoRequested(e){return e.shiftKey&&this.isModifierKeyPressed(e)&&90===e.keyCode||this.isModifierKeyPressed(e)&&89===e.keyCode},isModifierKeyPressed:e=>e.metaKey||e.ctrlKey,bindTimelineListeners(){this.enableUndoListener(),this.enableRedoListener(),this.enableUndoAndRedoToggleListener()},unbindTimelineListeners(){this.disableUndoListener(),this.disableRedoListener(),this.disableUndoAndRedoToggleListener()},enableUndoAndRedoToggleListener(){$("body").on("enable_undo",(e=>{this.enableUndoListener(e),this.enableRedoListener(e)})),$("body").on("disable_undo",(e=>{this.disableUndoListener(e),this.enableRedoListener(e)}))},disableUndoAndRedoToggleListener(){$("body").off("enable_undo"),$("body").off("disable_undo")},enableUndoListener(){$("body").off("keydown.undo").on("keydown.undo",this.handleUndo)},disableUndoListener(){$("body").off("keydown.undo")},enableRedoListener(){$("body").off("keydown.redo").on("keydown.redo",this.handleRedo)},disableRedoListener(){$("body").off("keydown.redo")},handleUndo(e){if(this.undoRequested(e))return e.preventDefault(),e.stopPropagation(),window.dataLayer.push({event:"undo_triggered"}),this.getUndoQueue().undo()},handleRedo(e){if(this.redoRequested(e))return e.preventDefault(),e.stopPropagation(),window.dataLayer.push({event:"redo_triggered"}),this.getUndoQueue().redo()}},re=r.n(ee)()(te);Q()(te,re);const ne=te;var oe=r(96647),ae=r(93128),ie=r(58909),ce=r(24497),le={modalDetected:()=>$(".modal-backdrop.in").length>0,bulkEditMenuDetected:()=>$("#more-options-menu").length>0,isBulkMenuActionClick(e){if($(e.target).closest("#more-options-menu").length>0)return!0;var t=$(e.target).closest(".multi-select-banner-bulk-action-button");return!!t.length&&t.children(".fas.fa-ellipsis-v").length>0},onRoadmapView:()=>M.ProductPlan.roadmapView.isActive()&&!window.currentRoadmapable.isMasterPlan(),meetsMultiBarMoveCriteria:()=>le.onRoadmapView()&&!le.modalDetected(),isModifierKeyPressed:e=>e.metaKey||e.shiftKey,checkAndCloseBulkEditMenu(e){this.isBulkMenuActionClick(e)||ie.default.publish("CLOSE_BULK_EDIT_MENU")},isExitPointClickEvent(e){if(this.modalDetected())return!1;if(this.bulkEditMenuDetected(e))return this.checkAndCloseBulkEditMenu(e),!1;var t="\n      .project-bar .bar-content,\n      .project-bar .bar_connects_to-icon,\n      .multi-select-banner,\n      .container-toggles,\n      .lanes ".concat(T.c.chevronRight.selectorString,",\n      .lanes ").concat(T.c.chevronDown.selectorString,",\n      #zoomout, #zoomin,\n      .toast\n    ");if($(e.target).closest(t).length>0)return!1;return!(this.isModifierKeyPressed(e)&&$(e.target).closest("\n      .project-bar .bar-content,\n      .project-bar .bar_connects_to-icon,\n      .lane-bar-holder.base-drop,\n      .lane-bar-holder.container-drop,\n      .lane-title-box\n    ").length>0)},shiftLeftRequested:e=>37===e.keyCode,shiftRightRequested:e=>39===e.keyCode,shiftUpRequested:e=>38===e.keyCode,shiftDownRequested:e=>40===e.keyCode,forwardSlashRequested:e=>191===e.keyCode,horizontalShiftRequested(e){return this.shiftLeftRequested(e)||this.shiftRightRequested(e)},verticalShiftRequested(e){return this.shiftUpRequested(e)||this.shiftDownRequested(e)},deleteRequested:e=>46===e.keyCode||8===e.keyCode,turnOnMultiSelectIfNotAlreadyOn(){!M.ProductPlan.roadmapView.inMultiSelectMode()&&c.Z.barsLength()>0&&(M.ProductPlan.roadmapView.updateMode("multiSelect"),ie.default.publish("BAR_SELECTION_UPDATE"))},filterInvalidEventsAndCallHandler(e,t){this.meetsMultiBarMoveCriteria()&&this.isModifierKeyPressed(e)&&(e.preventDefault(),e.stopPropagation(),t(e),this.turnOnMultiSelectIfNotAlreadyOn())},filterShiftsForDirectionAndCallHandler(e){this.horizontalShiftRequested(e)&&!c.Z.isEmpty()&&(e.preventDefault(),e.stopPropagation(),window.dataLayer.push({event:"mbm_horizontal_arrows_triggered"}),this.shiftLeftRequested(e)&&this.jumpOrShiftBasedOnModifier(e,-1),this.shiftRightRequested(e)&&this.jumpOrShiftBasedOnModifier(e,1))},filterVerticalShiftsAndCallHandler(e){this.verticalShiftRequested(e)&&!c.Z.isEmpty()&&(window.dataLayer.push({event:"mbm_vertical_arrows_triggered"}),c.Z.isEligibleForVerticalKeys()?(e.preventDefault(),e.stopPropagation(),this.shiftUpRequested(e)&&this.jumpOrShiftVerticallyBasedOnModifier(e,-1),this.shiftDownRequested(e)&&this.jumpOrShiftVerticallyBasedOnModifier(e,1)):ae.Z.unsuccessful("Choose bars in the same Lane"))},shortcutsPanelHandler(e){this.forwardSlashRequested(e)&&this.isModifierKeyPressed(e)&&(e.preventDefault(),e.stopPropagation(),ie.default.publish("PANEL_TOGGLED"))},shortcutsDeleteHandler(e){this.meetsMultiBarMoveCriteria()&&this.deleteRequested(e)&&(e.preventDefault(),e.stopPropagation(),ce.Z.show({modalAction:"delete",numberBars:c.Z.refinedBarsList().length,confirmCallback:oe.Z.deleteSelection}))},jumpOrShiftBasedOnModifier(e,t){if(this.isModifierKeyPressed(e)){var r=window.currentRoadmapable.unitsPerBlock;oe.Z.jumpSelectionHorizontally(t*r)}else oe.Z.shiftSelectionHorizontally(t)},jumpOrShiftVerticallyBasedOnModifier(e,t){this.isModifierKeyPressed(e)?oe.Z.jumpSelectionVertically(t):oe.Z.shiftSelectionVertically(t)},eventNamespaces:{horizontalAndVerticalShiftListener:"keydown.horizontalAndVerticalShiftListener",shortcutPanelListener:"keydown.shortcutPanelListener",shortcutDeleteListener:"keydown.shortcutDeleteListener",barSelectionListener:"click.barSelectionListener",selectDependentsListener:"click.selectDependentsListener",selectAllLaneSublaneListener:"click.selectAllLaneSublaneListener",selectAllContainerSublaneListener:"click.selectAllContainerSublaneListener",selectAllLaneListener:"click.selectAllLaneListener"},bindTimelineListeners(){this.horizontalAndVerticalShiftListener(),this.shortcutPanelListener(),this.shortcutDeleteListener(),this.selectDependentsListener(),this.barSelectionListener(),this.selectAllLaneSublaneListener(),this.selectAllContainerSublaneListener(),this.selectAllLaneListener()},unbindTimelineListeners(){for(var e=0,t=Object.values(this.eventNamespaces);e<t.length;e++){var r=t[e];$("body").off(r)}},horizontalAndVerticalShiftListener(){se(this.eventNamespaces.horizontalAndVerticalShiftListener,(e=>{M.ProductPlan.roadmapView.inMultiSelectMode()&&(this.filterShiftsForDirectionAndCallHandler(e),this.filterVerticalShiftsAndCallHandler(e))}))},shortcutPanelListener(){se(this.eventNamespaces.shortcutPanelListener,(e=>{M.ProductPlan.roadmapView.inMultiSelectMode()&&this.shortcutsPanelHandler(e)}))},shortcutDeleteListener(){se(this.eventNamespaces.shortcutDeleteListener,(e=>{M.ProductPlan.roadmapView.inMultiSelectMode()&&this.shortcutsDeleteHandler(e)}))},barSelectionListener(){this.setMultiSelectListener({selector:".project-bar .bar-content",namespace:this.eventNamespaces.barSelectionListener,handler:oe.Z.selectBar})},selectDependentsListener(){this.setMultiSelectListener({selector:".project-bar .bar_connects_to-icon",namespace:this.eventNamespaces.selectDependentsListener,handler:oe.Z.selectDependents})},selectAllLaneSublaneListener(){this.setMultiSelectListener({selector:".lane-bar-holder.base-drop",namespace:this.eventNamespaces.selectAllLaneSublaneListener,handler:oe.Z.selectAllBarsInLaneSublane})},selectAllContainerSublaneListener(){this.setMultiSelectListener({selector:".lane-bar-holder.container-drop",namespace:this.eventNamespaces.selectAllContainerSublaneListener,handler:oe.Z.selectAllBarsInContainerSublane})},selectAllLaneListener(){this.setMultiSelectListener({selector:".lane-title-box",namespace:this.eventNamespaces.selectAllLaneListener,handler:oe.Z.selectAllBarsInLane})},setMultiSelectListener(e){var t=e.selector,r=e.namespace,n=e.handler;se(r,t,(e=>{this.filterInvalidEventsAndCallHandler(e,n)}))}};function se(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];$("body").off(e).on(e,...r)}const ue=le;var de=r(66073),he=r.n(de);const pe=class{constructor(){this.events=[]}turnOn(){he()(this.events,(e=>{var t=e.event,r=e.handler,n=e.context;ie.default.subscribe(t,r,n)}))}turnOff(){he()(this.events,(e=>{var t=e.event,r=e.context;ie.default.unsubscribe(t,r)}))}};var fe=r(56546);function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ve=class extends pe{constructor(){super(),me(this,"turnOn",(()=>{super.turnOn(),M.ProductPlan.roadmapView.setupDefaultMode()})),me(this,"turnOff",(()=>{super.turnOff(),M.ProductPlan.roadmapView.disableDefaultMode()})),this.events=[{event:fe.Z.roadmapRemoteSyncCompletedEvent,handler:M.ProductPlan.roadmapView.handleRoadmapIntegrationRemoteSyncComplete,context:M.ProductPlan.roadmapView},{event:fe.Z.barsRemoteSyncStatusChange,handler:M.ProductPlan.roadmapView.handleRoadmapBarsRemoteSyncStatusChange,context:M.ProductPlan.roadmapView},{event:"REDRAW_SPECIFIC_BARS",handler:M.ProductPlan.roadmapView.handleSpecificBarsRedraw,context:M.ProductPlan.roadmapView},{event:"UPDATING_BARS",handler:M.ProductPlan.roadmapView.handleUpdatingBars,context:M.ProductPlan.roadmapView},{event:"UPDATED_BARS",handler:M.ProductPlan.roadmapView.handleUpdatedBars,context:M.ProductPlan.roadmapView},{event:"UPDATED_BAR",handler:M.ProductPlan.roadmapView.handleUpdatedBar,context:M.ProductPlan.roadmapView},{event:"CREATED_BAR",handler:M.ProductPlan.roadmapView.handleCreatedBar,context:M.ProductPlan.roadmapView},{event:"DUPLICATED_BAR",handler:M.ProductPlan.roadmapView.handleDuplicatedBar,context:M.ProductPlan.roadmapView},{event:"DELETED_BAR",handler:M.ProductPlan.roadmapView.handleDeletedBarComplete,context:M.ProductPlan.roadmapView},{event:"DELETED_LANE",handler:M.ProductPlan.roadmapView.handleDeletedLane,context:M.ProductPlan.roadmapView},{event:"UPDATED_LANE",handler:M.ProductPlan.roadmapView.handleUpdatedLane,context:M.ProductPlan.roadmapView},{event:"CREATED_LANE",handler:M.ProductPlan.roadmapView.handleCreatedLane,context:M.ProductPlan.roadmapView},{event:"DELETED_LEGEND",handler:M.ProductPlan.roadmapView.handleDeletedLegend,context:M.ProductPlan.roadmapView},{event:"UPDATED_LEGEND",handler:M.ProductPlan.roadmapView.handleUpdatedLegend,context:M.ProductPlan.roadmapView},{event:"UPDATED_LEGEND_POSITION",handler:M.ProductPlan.roadmapView.handleUpdatedLegendPosition,context:M.ProductPlan.roadmapView},{event:"CREATED_LEGEND",handler:M.ProductPlan.roadmapView.handleCreatedLegend,context:M.ProductPlan.roadmapView},{event:"UPDATED_LABEL_GROUP",handler:M.ProductPlan.roadmapView.handleUpdatedLabelGroup,context:M.ProductPlan.roadmapView},{event:"DELETING_MILESTONE",handler:M.ProductPlan.roadmapView.handleDeletedMilestone,context:M.ProductPlan.roadmapView},{event:"UPDATED_MILESTONE",handler:M.ProductPlan.roadmapView.handleUpdatedMilestone,context:M.ProductPlan.roadmapView},{event:"CREATED_MILESTONE",handler:M.ProductPlan.roadmapView.handleCreatedMilestone,context:M.ProductPlan.roadmapView},{event:"CREATED_SUBLANE",handler:M.ProductPlan.roadmapView.handleCreatedSublane,context:M.ProductPlan.roadmapView},{event:"DELETED_SUBLANE",handler:M.ProductPlan.roadmapView.handleDeletedSublane,context:M.ProductPlan.roadmapView},{event:"UNDO_BAR_EVENT",handler:M.ProductPlan.roadmapView.handleUndo,context:M.ProductPlan.roadmapView},{event:"UNDO_DELETE_BARS",handler:M.ProductPlan.roadmapView.handleRoadmapBarsRemoteSyncStatusChange,context:M.ProductPlan.roadmapView},{event:"UNDO_PARK_BARS",handler:M.ProductPlan.roadmapView.handleRoadmapBarsRemoteSyncStatusChange,context:M.ProductPlan.roadmapView},{event:"REDRAW_BARS_EVENT",handler:M.ProductPlan.roadmapView.handleRedrawBars,context:M.ProductPlan.roadmapView},{event:"UPDATED_LANES",handler:M.ProductPlan.roadmapView.handleRedrawBars,context:M.ProductPlan.roadmapView},{event:"EDIT_MILESTONE",handler:M.ProductPlan.roadmapView.editMilestone,context:M.ProductPlan.roadmapView},{event:"ROADMAP_STYLE_UPDATED",handler:M.ProductPlan.roadmapRenderer.applyRoadmapStyle,context:M.ProductPlan.roadmapRenderer}]}};function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ge=class extends pe{constructor(){super(),ye(this,"turnOn",(()=>{super.turnOn(),M.ProductPlan.roadmapView.setupMultiSelectMode()})),ye(this,"turnOff",(()=>{super.turnOff(),M.ProductPlan.roadmapView.disableMultiSelectMode()})),this.events=[{event:"BARS_SHIFTED",handler:M.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect,context:M.ProductPlan.roadmapRenderer},{event:"UNDO_BAR_EVENT",handler:M.ProductPlan.roadmapView.handleUndo,context:M.ProductPlan.roadmapView},{event:"REDRAW_BARS_EVENT",handler:M.ProductPlan.roadmapView.handleRedrawBars,context:M.ProductPlan.roadmapView},{event:"BAR_SELECTION_UPDATE",handler:M.ProductPlan.roadmapView.handleSelectionUpdate,context:M.ProductPlan.roadmapView}]}};function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const be=class{constructor(){var e=this;we(this,"turnOn",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(0!==e.modeEventRegistry.length){var n=e.modeEventRegistry[t],o=e.modeEventRegistry[r];o&&o.turnOff(),n&&n.turnOn()}})),we(this,"turnOff",(e=>{if(0!==this.modeEventRegistry.length){var t=this.modeEventRegistry[e];t&&t.turnOff()}})),this.modeEventRegistry={default:new ve,multiSelect:new ge}}};var Ee=r(56264),xe=r.n(Ee),_e=r(99411),Le=r(34428),Pe=r(75389),ke=r(94828),Oe=r(25473),Se=r(34844),je=r(51164);var Ce=r(94184),Ne=r.n(Ce),Te=r(7440),Ie=r(71119),Ae=r(61581),Re=r(10687),De=r(40955),Fe=r(27364),Me=r(88781),Ge=r(48414),Ze=r(65835);function Be(){Be=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function qe(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ve(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){qe(a,n,o,i,c,"next",e)}function c(e){qe(a,n,o,i,c,"throw",e)}i(void 0)}))}}function He(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ue(e){var t=e.exportMode,r=(0,Te.useZoomControls)(),n=He(s().useState(!1),2),o=n[0],a=n[1],i=He(s().useState(Fe.cl.default),2),c=i[0],l=i[1];function u(){var e="#to-export",t=".project-bar .inner .title-text";return document.querySelectorAll(t).forEach((e=>(0,Me.hj)(e,["font-size"]))),(0,Me.ZP)(document.querySelector(e),{onclone:r=>{r.querySelector(e).style.setProperty("transform",""),r.querySelectorAll(t).forEach((e=>(0,Me.wk)(e,!0))),r.querySelectorAll(".flag-box .flag-text").forEach((e=>(0,Me.aF)(e,!0)))}})}function d(){return(d=Ve(Be().mark((function e(){var t,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),h(),e.next=4,(0,Ze.g)(0);case 4:return e.next=6,u();case 6:return t=e.sent,r=t.dataUrl,e.next=10,(0,Me.h3)(r);case 10:a(!1),p();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){ae.Z.info("Your export is in progress and will download shortly")}function p(){ae.Z.success("Download complete")}return(0,Te.useGlobal)("downloadPngHtml",(function(){return d.apply(this,arguments)})),s().useEffect((()=>{window.exportSize=c,M.ProductPlan.layout.drawTimelineExport()}),[c]),s().createElement(Ae.N,{width:"232px",position:"left"},s().createElement(Qe,{exportMode:t,exportSize:c,setExportSize:l,zoomControls:r,onSetIncludeTitle:ze,onSetIncludeLegend:Ye,onSetIncludeMilestones:We,onSetIncludeDetails:Ke,onDone:()=>{window.close()},downloading:o,onDownloadPdf:Ve(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),h(),e.prev=2,e.next=5,Ie.Z.generatePdf();case 5:p();case 6:return e.prev=6,a(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[2,,6,9]])}))),onDownloadPng:Ve(Be().mark((function e(){var t,r,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),h(),e.prev=2,e.next=5,u();case 5:return t=e.sent,r=t.resolution,n=t.dataUrl,e.next=10,(0,Me.LR)(n);case 10:p(),at({aspect:c.text,resolution:r});case 12:return e.prev=12,a(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,,12,15]])})))}))}function ze(e){Xe($("#js-title-mounting-point"),e),M.ProductPlan.layout.drawTimelineExport()}function Ye(e){Xe($("#legend"),e),M.ProductPlan.layout.drawTimelineExport()}function We(e){Xe($(".sublanes-container"),e)}function Ke(e){e&&M.ProductPlan.updateExportDetails(!0),$("#bar-details").toggleClass("filtered",!e)}function Xe(e,t){t?e.show():e.hide()}Ue.propTypes={exportMode:m().string.isRequired};var Je={export:e=>{if(e===De.Z.PDF)return"Export PDF";if(e===De.Z.PNG)return"Export PNG";throw Error("Invalid export mode '".concat(e,"'"))},options:"Options",includeTitle:"Include Title",includeLegend:"Include Legend",includeMilestones:"Include Milestones",includeDetails:"Include Details",zoomTimeline:"Zoom Timeline",zoomTip:s().createElement(s().Fragment,null,s().createElement("b",null,"Tip: "),"Use your browser's zoom capabilities to adjust the size before exporting."),download:"Download",pdf:"PDF",png:"PNG",xls:"XLS"};function Qe(e){var t=e.exportMode,r=e.exportSize,n=e.setExportSize,o=e.initialIncludeTitle,a=void 0===o||o,i=e.initialIncludeLegend,c=void 0===i||i,l=e.initialIncludeMilestones,u=void 0===l||l,d=e.initialIncludeDetails,h=void 0!==d&&d,p=e.onSetIncludeTitle,f=e.onSetIncludeLegend,m=e.onSetIncludeMilestones,v=e.onSetIncludeDetails,y=e.downloading,g=e.onDownloadPdf,w=e.onDownloadPng,b=e.onDone,E=e.zoomControls,x=tt(a,p),_=tt(c,f),L=tt(u,m),P=tt(h,v),k=t===De.Z.PDF;return s().createElement("div",{className:"export-settings-ui"},s().createElement("h1",null,Je.export(t)),s().createElement("h2",null,Je.options),s().createElement("label",{className:"include-title"},s().createElement("input",x),s().createElement("span",{className:"label-text"},Je.includeTitle)),s().createElement("label",{className:"include-legend"},s().createElement("input",_),s().createElement("span",{className:"label-text"},Je.includeLegend)),s().createElement("label",{className:"include-milestones"},s().createElement("input",L),s().createElement("span",{className:"label-text"},Je.includeMilestones)),t===De.Z.PDF&&s().createElement("label",{className:"include-details"},s().createElement("input",P),s().createElement("span",{className:"label-text"},Je.includeDetails)),s().createElement("h2",{className:"zoom-heading"},Je.zoomTimeline,s().createElement(et,E)),k&&s().createElement("p",{className:"zoom-tip"},Je.zoomTip),t===De.Z.PNG&&s().createElement(Fe.WL,{exportSize:r,setExportSize:n}),s().createElement("h2",null,Je.download),s().createElement("div",null,t===De.Z.PDF&&s().createElement(Re.d,{id:"download-pdf",icon:T.c.filePdf,downloading:y,onClick:g},Je.pdf),t===De.Z.PNG&&s().createElement(Re.d,{id:"download-png",icon:T.c.fileImage,downloading:y,onClick:w},Je.png)),s().createElement(Re.l,{onClick:b}))}function et(e){var t=e.canZoomIn,r=e.canZoomOut,n=e.zoomIn,o=e.zoomOut,a=e.visibleWidth,i="".concat((100*a).toFixed(),"%");return s().createElement("span",{className:"zoom-controls","data-roadmap-width-visible":i},s().createElement(T.Z,{id:"zoomout",classes:Ne()({"ui-state-disabled":!r}),name:T.c.minusCircle,onClick:()=>{r&&o()}}),s().createElement(T.Z,{id:"zoomin",classes:Ne()({"ui-state-disabled":!t}),name:T.c.plusCircle,onClick:()=>{t&&n()}}))}function tt(e,t){var r=He(s().useState(e),2),n=r[0],o=r[1];s().useEffect((()=>{t&&t(n)}),[n,t]);var a=s().useCallback((e=>{o(e.target.checked)}),[]);return{type:"checkbox",checked:n,onChange:a}}Qe.propTypes={exportMode:m().string.isRequired,exportSize:m().object.isRequired,setExportSize:m().func.isRequired,initialIncludeTitle:m().bool,initialIncludeLegend:m().bool,initialIncludeMilestones:m().bool,initialIncludeDetails:m().bool,onSetIncludeTitle:m().func,onSetIncludeLegend:m().func,onSetIncludeMilestones:m().func,onSetIncludeDetails:m().func,downloading:m().bool,onDownloadPdf:m().func,onDownloadPng:m().func,onDone:m().func,zoomControls:m().object},et.propTypes={canZoomIn:m().bool,canZoomOut:m().bool,zoomIn:m().func,zoomOut:m().func,visibleWidth:m().number};var rt,nt,ot,at=e=>{var t,r,n={aspect:e.aspect,resolution:e.resolution,mediaType:De.Z.PNG,barCount:$(".project-bar:visible").length,barTotalCount:Object.values(window.currentRoadmapable.bars()).length,laneCount:$(".lane-title:visible").length,laneTotalCount:window.currentRoadmapable.laneIds().length,milestoneCount:$(".milestone:visible").length,milestoneTotalCount:window.currentRoadmapable.milestoneList().length,roadmapWidthVisible:$(".zoom-controls").attr("data-roadmap-width-visible"),windowInnerHeight:window.innerHeight,windowInnerWidth:window.innerWidth,contentHeight:$("#to-export").outerHeight(),pageCount:Ie.Z.pageCount,isSnapshot:null!==(t=null===(r=M.ProductPlan.roadmapManager.roadmap)||void 0===r?void 0:r.isSnapshot)&&void 0!==t&&t,roadmapStyle:window.currentRoadmapable.roadmapStyle,timelineType:window.currentRoadmapable.timelineSettings().timelineType,intervalsInWindow:window.currentRoadmapable.intervalsInWindow(),defaultLayout:window.currentRoadmapable.defaultLayout,roadmapableId:window.currentRoadmapable.roadmapableId(),currentViewId:window.currentRoadmapable.currentViewId,isPrimaryView:window.currentRoadmapable.isPrimaryView(),isPortfolio:window.currentRoadmapable.isMasterPlan(),detailsVisible:$("#bar-details:visible").length>0,titleVisible:$(".board-title").is(":visible"),milestonesVisible:$(".milestone").is(":visible"),legendVisible:$("#legend").is(":visible")};(0,Ge.logPageAction)("Export timeline",n)};function it(){it=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ct(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}class lt extends s().Component{componentDidMount(){window.currentRoadmapable.setExportView(),this.loadTimeline()}loadTimeline(){var e,t=this;return(e=it().mark((function e(){var r;return it().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.currentRoadmapable.isMasterPlan()){e.next=10;break}return e.next=3,M.ProductPlan.roadmapManager.loadMasterPlan();case 3:r=$(".board-actions"),$("#to-export .flex-wrapper").append(r),r.css("visibility","visible"),t.postLoadCallback(),M.ProductPlan.masterPlanView.showContentOrMessage(),e.next=15;break;case 10:return e.next=12,M.ProductPlan.roadmapManager.loadRoadmap();case 12:t.postLoadCallback(),M.ProductPlan.showMainContent(),M.ProductPlan.roadmapRenderer.redrawRoadmapObjects();case 15:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ct(a,n,o,i,c,"next",e)}function c(e){ct(a,n,o,i,c,"throw",e)}i(void 0)}))})()}postLoadCallback(){var e=!1,t=!1;M.ProductPlan.initExport(),$(".board-title span").off(),$("body").addClass("export"),$(".export-viewport").show(),M.ProductPlan.roadmapManager.loadBarDetails(),M.ProductPlan.roadmapRenderer.initializeRoadmapView(t,e)}renderTitle(){var e={description:window.currentRoadmapable.description,title:window.currentRoadmapable.primaryViewName(),subtitle:window.currentRoadmapable.subtitle()};return s().createElement("div",{id:"js-title-mounting-point"},s().createElement(je.Z,{title:e.title,description:e.description,subtitle:e.subtitle}))}renderRoadmapTimeline(){return s().createElement(s().Fragment,null,s().createElement("div",{className:"black-text",id:"to-export"},s().createElement("div",{className:"flex-wrapper"},s().createElement("div",{className:"main-wrapper roadmap-layout","data-setupmenu":"true",id:"main-wrapper"},s().createElement("div",{className:"connection-lines-container"}),this.renderTitle(),s().createElement("div",{className:"main-content-holder js-roadmap-content"},s().createElement("div",{className:"js-main-container",id:"timeline-app"},s().createElement("div",{className:"js-date-row"}),s().createElement("div",{className:"js-gridline-container"}),s().createElement("div",{className:"js-lane-container js-lane-container-export"},s().createElement("div",{id:"last_lane"}))))),s().createElement("div",{className:"roadmap-timeline board-actions"},s().createElement("div",{id:"legend",className:"export-legend"},s().createElement("div",{id:"toolbar-legend-mount-point"})))),s().createElement("div",{className:"filtered",id:"bar-details"})))}renderPortfolioTimeline(){return s().createElement(s().Fragment,null,s().createElement("div",{className:"black-text",id:"to-export"},s().createElement("div",{className:"flex-wrapper"},s().createElement("div",{className:"main-wrapper roadmap-layout","data-setupmenu":"true",id:"main-wrapper"},s().createElement("div",{className:"connection-lines-container"}),this.renderTitle(),s().createElement("div",{className:"main-content-holder js-roadmap-content"},s().createElement("div",{className:"hidden",id:"empty-portfolio-view-message"},s().createElement("br",null),s().createElement("div",{className:"alert alert-danger"},lt.language.masterPlansAlert)),s().createElement("div",{className:"hidden",id:"completely-filtered-portfolio-view-message"},s().createElement("br",null),s().createElement("div",{className:"alert alert-danger"},lt.language.noBarsOrContainersAlert)),s().createElement("div",{className:"js-main-container",id:"portfolio-view-timeline-app"},s().createElement("div",{className:"js-date-row"}),s().createElement("div",{className:"js-gridline-container"}),s().createElement("div",{className:"js-lane-container js-lane-container-export"},s().createElement("div",{id:"last_lane"})))))),s().createElement("div",{className:"filtered",id:"bar-details"})))}render(){return s().createElement(s().Fragment,null,s().createElement(Ue,{exportMode:this.props.exportMode}),s().createElement("div",{className:"export-viewport"},!window.currentRoadmapable.isMasterPlan()&&this.renderRoadmapTimeline(),window.currentRoadmapable.isMasterPlan()&&this.renderPortfolioTimeline()))}}ot={masterPlansAlert:"Portfolio Views allow you to view multiple roadmaps as one. Select the roadmaps to view in Settings.",noBarsOrContainersAlert:"There are no Bars or Containers that are available to be viewed. To display them, an editor can adjust the View Filters.",adjustFiltersAlert:"To display bars, adjust your filters or Portfolio View settings."},(nt="language")in(rt=lt)?Object.defineProperty(rt,nt,{value:ot,enumerable:!0,configurable:!0,writable:!0}):rt[nt]=ot,lt.propTypes={exportMode:m().string.isRequired};var st=r(66799),ut=r(71460);class dt extends s().Component{componentDidMount(){M.ProductPlan.roadmapRenderer.applyRoadmapStyle(window.currentRoadmapable.roadmapStyle),this.originalCheckResize=window.check_window_resize,window.check_window_resize=()=>{}}componentWillUnmount(){window.check_window_resize=this.originalCheckResize}render(){var e,t,r=null===(e=window.currentRoadmapable)||void 0===e?void 0:e.currentViewId,n=null===(t=window.currentRoadmapable)||void 0===t?void 0:t.publicUrlCode;return s().createElement("div",{className:"to-export"},s().createElement(Te.HookProvider,{useHook:()=>(0,ut.Pl)({id:r,publicUrlCode:n})},(e=>s().createElement(st.Z,{isExport:!0,exportMode:this.props.exportMode,roadmapManager:M.ProductPlan.roadmapManager,currentView:e}))))}}dt.propTypes={exportMode:m().string.isRequired};var ht=r(18902),pt=r(27521),ft=r(13202),mt=["layout"];function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function wt(){return s().createElement(ft.YO,{basename:window.currentRoadmapable.exportUrl()},s().createElement(pt.aH,null,s().createElement(bt,null)))}function bt(){return window.currentRoadmapable.isPublic()||window.currentRoadmapable.isMasterPlan()||window.currentRoadmapable.isSnapshot?s().createElement(Et,null):s().createElement(xt,null)}function Et(){var e=window.currentRoadmapable.defaultLayout,t=Pt(e);return s().createElement(_t,{layout:e,exportMode:t})}function xt(){var e=vt((0,ft.Wd)({name:"layout",validate:ht.q}),1)[0],t=Pt(e);return s().createElement(_t,{layout:e,exportMode:t})}function _t(e){var t=e.layout,r=gt(e,mt);return(0,Te.useGlobal)("getLayout",(()=>t)),t===Se.Z.TIMELINE?s().createElement(lt,r):t===Se.Z.LIST?s().createElement(dt,r):void 0}wt.init=()=>{d().render(s().createElement(wt,null),document.getElementById("app-mount"))},_t.propTypes={layout:m().oneOf([Se.Z.TIMELINE,Se.Z.LIST]).isRequired};var Lt={[Se.Z.LIST]:[De.Z.PNG],[Se.Z.TIMELINE]:[De.Z.PNG,De.Z.PDF]};function Pt(e){var t=s().useCallback((t=>{var r,n=Lt[e];return null!==(r=n.find((e=>e===t)))&&void 0!==r?r:n[0]}),[e]),r=vt((0,ft.Wd)({name:"mode",validate:t}),1)[0];return s().useEffect((()=>{r===De.Z.PNG&&M.ProductPlan.displaySettings.zoomEntirelyOut()}),[r]),(0,Te.useGlobal)("exportMode",r),r}function kt(){return"localhost:9551"===window.location.host?s().createElement(Te.HookProvider,{useHook:Ot}):null}function Ot(){(0,Te.useEventListener)(document,"keydown",jt),(0,Te.useEventListener)(document,"keyup",Ct)}var St=["meta","shift","control","alt"];function jt(e){var t=e.key.toLowerCase();St.includes(t)&&console.log("--TestAction => key_down: ".concat(t))}function Ct(){var e=event.key.toLowerCase();St.includes(e)&&console.log("--TestAction => key_up: ".concat(e))}function Nt(){Nt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Tt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function It(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Tt(a,n,o,i,c,"next",e)}function c(e){Tt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function At(){var e=r(50715).ScoreDrawer,t=r(93128).Z,n=r(90820).Z,o=r(91650).Z;return s().createElement(e,{loadPrioritizedBars:M.ProductPlan.roadmapManager.loadPrioritizedBars,deprioritizeBars:M.ProductPlan.roadmapManager.deprioritizeBars,prioritizeBars:M.ProductPlan.roadmapManager.prioritizeBars,updateBarScore:M.ProductPlan.roadmapManager.updateBarScore,addScoreColumn:M.ProductPlan.roadmapManager.addScoreColumn,deleteScoreColumn:M.ProductPlan.roadmapManager.deleteScoreColumn,updateScoreColumnWeight:M.ProductPlan.roadmapManager.updateScoreColumnWeight,updateScoreColumnHeading:M.ProductPlan.roadmapManager.updateScoreColumnHeading,showBarDetailsDialog:o.loadBarModal,parkBar:function(){var e=It(Nt().mark((function e(t){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.ProductPlan.roadmapManager.loadBar(t);case 2:return e.next=4,M.ProductPlan.roadmapManager.parkBars([t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unparkBar:function(){var e=It(Nt().mark((function e(t){return Nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.ProductPlan.roadmapManager.loadBar(t);case 2:return e.next=4,n.run([t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onFatalError:e=>{t.unsuccessful(e)},onSuccess:e=>{t.success(e)},readOnly:!M.ProductPlan.canEdit()})}var Rt=r(32926),Dt=r(18641),Ft=r(98061),Mt=["layout"];function Gt(){return Gt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gt.apply(this,arguments)}function Zt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Bt(){Bt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function qt(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){qt(a,n,o,i,c,"next",e)}function c(e){qt(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return $t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $t(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ut(){var e=r(75289).RoadmapConversationsProvider;return s().createElement(ft.YO,{basename:window.currentRoadmapable.baseUrl()},s().createElement(pt.aH,null,s().createElement(e,null,s().createElement(zt,null),s().createElement(kt,null))))}function zt(){return window.currentRoadmapable.isMasterPlan()?s().createElement(Wt,null):window.currentRoadmapable.isSnapshot||window.currentRoadmapable.isPublic()?s().createElement(Yt,null):s().createElement(Kt,null)}function Yt(){return s().createElement(Xt,{layout:window.currentRoadmapable.defaultLayout})}function Wt(){var e=r(94892).PortfolioWithTable,t=window.currentRoadmapable.defaultLayout;return s().createElement(e,{layout:t},(e=>{var r=e.portfolioTableState;return s().createElement(Xt,{layout:t,portfolioTableState:r})}))}function Kt(){var e=r(27087).ScoreDrawerProvider,t=r(7440).useGlobal,n=Ht((0,Rt.OH)(),2),o=n[0];return t("setLayout",n[1]),(0,Ft.bd)(Vt(Bt().mark((function e(){return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt.$.save(o);case 2:case"end":return e.stop()}}),e)}))),[o]),s().createElement(e,null,s().createElement(Xt,{layout:o}),window.currentRoadmapable.isPrimaryView()&&s().createElement(At,null))}function Xt(e){var t=e.layout,n=Zt(e,Mt),o=r(58228).Z,a=r(75139).Z,i=r(74557).Z,c=r(7440).useGlobal,u=r(48414).logPersonalFilters;c("layoutRendered",!1),c("setLayoutRendered",Rt.gL);var d=Ht((0,l.useState)(0),2),h=d[0],p=d[1];switch(c("getLayout",(()=>t)),c("remountLayout",(()=>{p(h+1),(0,Rt.gL)(!1)})),t){case Se.Z.ROADMAP:case Se.Z.ROADMAP_VIEW:case Se.Z.TIMELINE:return u(t),s().createElement(o,Gt({key:h},n));case Se.Z.LIST:return u(t),s().createElement(a,Gt({key:h},n));case Se.Z.PARKING_LOT:return u(t),s().createElement(i,Gt({key:h},n));default:throw new Error("Invalid layout '".concat(t,"'"))}}Xt.propTypes={layout:m().string.isRequired};class Jt{static init(){var e=s().createElement(Ut),t=document.getElementById("app-mount");d().render(e,t)}}var Qt=r(38022),er=r(57299),tr=[{height:385,id:"blue-blob",width:400},{height:270,id:"red-blob",width:336},{height:230,id:"green-blob",width:400},{height:230,id:"yellow-blob",width:400}];function rr(){return s().createElement(s().Fragment,null,tr.map(((e,t)=>s().createElement(er.Z,{height:e.height,id:e.id,key:t,width:e.width}))))}var nr={start_with_template:r.p+"static/start_with_template-6f3d5adc89c9de9958f4.png",start_from_scratch:r.p+"static/start_from_scratch-7b09a527f29e3721c21b.png",import_roadmap:r.p+"static/import_roadmap-9719b4d45fc468cb3338.png"},or=[{id:"start_with_template",title:"Start with a Template",description:"Build from one of our polished roadmap templates."},{id:"start_from_scratch",title:"Start from Scratch",description:"Trailblaze ProductPlan like it\u2019s the new frontier."},{id:"import_roadmap",title:"Import Your Roadmap",description:"Import with one of our integrations or from a file."}],ar=e=>{var t=e=>s().createElement("li",{className:"card",id:e.id,tabIndex:"0",onClick:()=>{e.onNextStep("start-flow",e.id)},onKeyDown:t=>{13===t.keyCode&&e.onNextStep("start-flow",e.id)}},s().createElement("img",{alt:e.title,className:"cardImage",height:"92",src:nr[e.id],width:"154"}),s().createElement("div",{className:"cardTitle"},e.title),s().createElement("div",{className:"cardDescription"},e.description));return t.propTypes={id:m().string.isRequired,title:m().string.isRequired,description:m().string.isRequired,onNextStep:m().func.isRequired},s().createElement("div",{className:"roadmapNewOptions"},s().createElement("h1",{className:"header"},"Let's get building, ".concat(M.ProductPlan.currentUser().name.split(" ")[0],"!")),s().createElement("ul",{className:"cards"},or.map((r=>s().createElement(t,{description:r.description,id:r.id,key:r.id,title:r.title,onNextStep:e.onNextStep})))))};ar.propTypes={onNextStep:m().func.isRequired};const ir=(0,Qt.EN)(ar);var cr=r(44403),lr=r(27361),sr=r.n(lr),ur=r(38565),dr=r(97846);function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){fr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yr(e){var t=mr((0,l.useState)(),2),r=t[0],n=t[1],o=mr((0,l.useState)(),2),a=o[0],i=o[1],c=mr((0,l.useState)({name:e.userName?"".concat(e.userName.split(" ")[0],"'s Roadmap"):"Product Roadmap",description:""}),2),u=c[0],d=c[1];var h=e=>{var t=sr()(e,"target.name"),r=sr()(e,"target.value");d(pr(pr({},u),{},{[t]:r}))};return s().createElement("div",{className:"roadmapConfigName"},s().createElement("div",{className:"roadmapConfigName__title"},"Name Your Roadmap"),s().createElement(ur.Z,{id:"roadmap_name",label:"Roadmap Name",name:"name",type:"text",value:u.name,onHandleBlur:e=>{var t=!e.target.value.trim();n(t),i(t?{errorText:"Please enter a Roadmap Name"}:void 0)},onHandleChange:h,error:a}),s().createElement(dr.Z,{isEventTargetEnabled:!0,optional:!0,defaultValue:"",label:"Description",inputName:"description",inputId:"description",isAtlas:!0,value:u.description,onChange:h,rows:4,textareaClasses:"roadmapConfigName__description"}),s().createElement("div",{className:"roadmapConfigName__submit"},s().createElement("button",{className:"a-button",disabled:r,onClick:function(t){t.preventDefault();var r=!!u.name.trim();n(!0),window.showAJAXLoaderModal(),r&&e.onSubmit(u)}},"Create Roadmap")))}yr.propTypes={onSubmit:m().func,userName:m().string};var gr=r(87326);function wr(){wr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){xr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _r(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}var Lr=e=>{var t=window.current_user.name,r=(0,Qt.UO)().view,n="parking_lot"===r?r:"";var o=function(){var t,r=(t=wr().mark((function t(r){var o;return wr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Er(Er({},r),{users_roadmaps_attributes_tab:n}),t.next=3,gr.Z.load("default",o,{onNextStep:e.onNextStep});case 3:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){_r(a,n,o,i,c,"next",e)}function c(e){_r(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return s().createElement("div",{className:"roadmapConfig"},s().createElement("form",null,s().createElement(yr,{onSubmit:o,userName:t})),s().createElement("div",{className:"roadmapConfig__goBack"},s().createElement("button",{className:"a-button a-button--link",onClick:function(){e.history.goBack()}},"Go Back")))};Lr.propTypes={history:m().object.isRequired,onNextStep:m().func.isRequired};const Pr=(0,Qt.EN)(Lr);var kr=r(12266);var Or=r(59731);function Sr(){Sr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function jr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(r),!0).forEach((function(t){Nr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}var Ir=(0,Or.q_)({hashType:"noslash"});function Ar(){var e=function(){var e,t=(e=Sr().mark((function e(t){var r;return Sr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cr({},{users_roadmaps_attributes_tab:t}),e.next=3,gr.Z.load("default",r,{openLink:M.ProductPlan.openLink});case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Tr(a,n,o,i,c,"next",e)}function c(e){Tr(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),t=(t,r,n)=>{switch(t){case"start-flow":(t=>{"start_with_template"===t?Ir.push("/".concat(t)):"start_from_scratch"===t?(window.showAJAXLoaderModal(),e("timeline")):"import_roadmap"===t&&(window.showAJAXLoaderModal(),e("parking_lot"))})(r);break;case"roadmap-config-success":kr.Z.loadTemplateGTMEvent(n.template,n.with_sample_data),M.ProductPlan.openLink({url:"/".concat(r.url_code)})}};return s().createElement("div",{className:"roadmapNew"},s().createElement(Qt.F0,{history:Ir},s().createElement(rr,null),s().createElement(Qt.rs,null,s().createElement(Qt.AW,{exact:!0,path:"/"},s().createElement(ir,{onNextStep:t})),s().createElement(Qt.AW,{path:"/start_with_template"},s().createElement(cr.Z,{onNextStep:t})),s().createElement(Qt.AW,{path:"/configure/:view?"},s().createElement(Pr,{onNextStep:t})),s().createElement(Qt.AW,{path:"*"},s().createElement(Qt.l_,{push:!0,to:"/"})))))}var Rr=r(20044),Dr=r(36804),Fr=r(48017);function Mr(){return s().createElement("div",{className:"ViewUnavailable--wrapper"},s().createElement("div",{className:"ViewUnavailable--box"},s().createElement("p",null,"This roadmap view is not available."),s().createElement("p",null,"It may have been deleted by the roadmap owner.",s().createElement("br",null),"Try contacting the roadmap owner to get an updated URL link.")))}function Gr(){Gr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Zr(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Br(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Zr(a,n,o,i,c,"next",e)}function c(e){Zr(a,n,o,i,c,"throw",e)}i(void 0)}))}}const qr=class{index(){Fr.Z.mount("/roadmaps")}new(){var e=$("#roadmap-new-mount-point");return _e.Z.renderComponent(Ar,{},e)}draw_view(){window.originalPermissions=Object.assign({},window.roadmap.permissions),M.ProductPlan.fullScreenSettings.initFullScreen(),window.currentRoadmapable=new Dr.Z(window.roadmap),M.ProductPlan.roadmapManager=new Rr.Z(window.currentRoadmapable),Jt.init(),M.ProductPlan.roadmapRenderer.drawDateRows()}view_unavailable(){d().render(s().createElement(Mr,null),document.getElementById("view-unavailable-mount"))}export_view(){window.originalPermissions=Object.assign({},window.roadmap.permissions),window.roadmap.permissions.can_edit=!1,window.currentRoadmapable=new Dr.Z(window.roadmap),M.ProductPlan.roadmapManager=new Rr.Z(window.currentRoadmapable),wt.init()}snapshot(){window.originalPermissions=Object.assign({},window.roadmap.permissions),window.roadmap.permissions.can_edit=!1,M.ProductPlan.fullScreenSettings.initFullScreen(),window.currentRoadmapable=new Dr.Z(window.roadmap),M.ProductPlan.roadmapManager=new Rr.Z(window.currentRoadmapable),M.ProductPlan.roadmapView.mountToolbarLegend(),M.ProductPlan.roadmapRenderer.initializeRoadmapView(),Jt.init()}export_snapshot(){this.export_view()}snapshotModal(e){return $("#modal_content_holder").html(e),$("#primary-modal").modal(),$(".dropdown").removeClass("open"),$("#create_roadmap_version_button").on("click",Br(Gr().mark((function e(){var t;return Gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(this).toggleClass("disabled",!0).find("span").text("Creating Version..."),window.creatingSnapshot=!0,e.next=4,Pe.Z.createVersion(M.ProductPlan.roadmapManager.roadmap);case 4:t=e.sent,M.ProductPlan.roadmapsController.snapshotModal(t),delete window.creatingSnapshot;case 7:case"end":return e.stop()}}),e,this)})))),$(".permissions-table").on("click",".js-delete-snapshot",(function(e){e.preventDefault();var t=$(this).data("id"),r=$(this).data("created-on");return Le.Z.show({title:"Delete This Version",message:"Are you sure you want to delete the version created on ".concat(r,"?"),confirmButtonVariation:"danger",confirmCallback:()=>M.ProductPlan.roadmapsController.deleteSnapshot(t)})})),$(".permissions-table").on("click",".js-show-share-modal",function(){var e=Br(Gr().mark((function e(t){var r,n,o,i,c,l,s,u;return Gr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $("#primary-modal").modal("hide"),t.preventDefault(),r=$(this),n=r.data(),o=new Oe.Z({type:n.shareableType,id:n.shareableId}),e.next=7,o.fetchAccountMemberships();case 7:return i=e.sent,c=i.data.hasOwnProperty("roadmap_account_memberships")?"roadmap_account_memberships":"master_plan_account_memberships",l=i.data[c],e.next=12,o.fetchPermissions();case 12:s=e.sent,u={roadmapableType:window.currentRoadmapable.roadmapableType(),roadmapableId:n.shareableId,roadmapableName:window.currentRoadmapable.primaryViewName()},ke.Z.show(a()({permissions:xe().camelizeKeys(s.data),show:!0,accountMemberships:l},u));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()),$("#primary-modal").on("hidden.bs.modal",(function(){delete window.creatingSnapshot}))}toggleToolBar(e,t){null==t&&(t=!1),$(".main-wrapper").data("toolbar",e),$("#main-wrapper").toggleClass("hide-board-actions",!e),$("#show_toolbar_button").toggle(t&&!e),window.check_window_resize()}defaultDuration(){return window.roadmap.default_bar_duration}deleteSnapshot(e){return Br(Gr().mark((function t(){return Gr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.default.deleteSnapshot(e);case 3:M.ProductPlan.roadmapsController.snapshotDeleted(e),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),M.ProductPlan.requireRefresh(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()}snapshotDeleted(e){var t=$("#snapshot_".concat(e)),r=t.closest("tbody").children("tr");1===r.filter(".permission-line:visible").length&&r.filter(".js-snapshots-message").show(),t.remove(),M.ProductPlan.showActionAlert("1 version deleted","success")}toggleFollowBell(e,t){var r=$(".roadmapable-row").filter((function(){return $(this).data("id")===t}));if(e){var n=$(r).find(".fa-bell");return $(n).show()}return $(r).find(".fa-bell").hide()}};var Vr=r(65943);const Hr={MAIN_CONTENT_HOLDER_TOP_PADDING:5,MAIN_CONTENT_HOLDER_HEIGHT_PADDING:20,MAIN_CONTENT_HOLDER_WIDTH_PADDING:18,drawTimeline:function(){var e,t=null!==(e=$(".navbar").outerHeight(true))&&void 0!==e?e:0,r=$(".roadmap-heading").outerHeight(true),n=$(window).height(),o=$(".js-date-row"),a=$("#roadmap-tab .js-roadmap-content"),i=$(".js-timeline-table"),c=i.floatThead("getRowGroups"),l=c.find("tbody"),s=c.find(".js-lane-container"),u=c.find(".js-gridline-container"),d=$(".js-main-container"),h=a[0].clientWidth-M.ProductPlan.layout.MAIN_CONTENT_HOLDER_WIDTH_PADDING,p=n-(t+r);p=n-t-16-3,d.height()!==d[0].clientHeight&&(h-=10),M.ProductPlan.fullScreenSettings.isFullScreen()&&(p-=1),d.css({height:Vr.RZ.addPixelSuffix(p)});var f=M.ProductPlan.displaySettings.intervalsInWindow();window.currentRoadmapable.timelineSettings().setIntervalsInWindow(f);var m=h/window.currentRoadmapable.timelineSettings().totalUnitsInWindow();window.currentRoadmapable.setPixelsPerDay(m);var v=window.currentRoadmapable.unitsPerBlock,y=window.currentRoadmapable.timelineSettings().totalIntervals,g=v*m,w=g*y;o.css({width:Vr.RZ.addPixelSuffix(w)}),s.css({width:Vr.RZ.addPixelSuffix(w)}),u.css({width:Vr.RZ.addPixelSuffix(w)});var b=Vr.RZ.addPixelSuffix(g);$(".dots").each((function(e,t){$(t).css({left:Vr.RZ.addPixelSuffix(e*g),width:b})}));var E=M.ProductPlan.layout.gridHeightCss(l);$(".grid-line").each((function(e,t){M.ProductPlan.layout.setGridlinePosition($(t),E,m)})),$(".smart-guide").css({height:E}),M.ProductPlan.displaySettings.todayIsInView()?($(".today-line").css({height:E}),$(".today-holder").css({left:Vr.RZ.addPixelSuffix(M.ProductPlan.displaySettings.todayInPixels())})):$(".today-holder").hide(),M.ProductPlan.roadmapRenderer.positionBars(),M.ProductPlan.roadmapRenderer.updateMilestones(),M.ProductPlan.layout.adjustGridlineHeight(),i.trigger("reflow"),ie.default.publish("DRAW_TIMELINE")},drawTimelineExport:function(){var e,t,r=$(".export-viewport").width(),n=$(".js-roadmap-content"),o=$(".js-lane-container"),a=$(".js-date-row"),i=o.height()+a.height()+15,c=$(".js-main-container"),l=null!==(e=$("#js-title-mounting-point:visible").outerHeight())&&void 0!==e?e:0,s=(null!==(t=$("#legend").outerWidth())&&void 0!==t?t:0)*$("#legend").is(":visible"),u=M.ProductPlan.displaySettings.intervalsInWindow();if(c.css({height:Vr.RZ.addPixelSuffix(i)}),window.exportMode===De.Z.PNG){var d,h=null!==(d=window.exportSize)&&void 0!==d?d:Fe.cl.default,p=36+s+16,f=(0,Fe.iT)(h),m=Math.max(f,80*u+p),v=$("#to-export").css({height:"auto"}).outerHeight(),y="ratio"===h.type?v*h.ratio:p+100*u;y<m&&(y=m,"ratio"===h.type&&(v=y/h.ratio,$("#to-export").css({height:v}),c.css({height:v-l-32-7})));var g=Math.min(1,r/y);$("#page-content").css({background:"#919497"}),$("#to-export").css({transform:"scale(".concat(g,")"),"transform-origin":"top left",background:"white",padding:"16px",display:"block",margin:"0 auto",width:y,height:v}),$(".export-viewport").css({height:v*g,"margin-bottom":"45px",overflow:"hidden"})}else $("#to-export").width(r);$("#bar-details").width(r-10),$(".board-actions").css("margin-top","".concat(l,"px"));var w=$("#to-export").width()-s;$(".main-wrapper").css({width:Vr.RZ.addPixelSuffix(w)});var b=n.width(),E=$(".js-gridline-container"),x=c;window.currentRoadmapable.timelineSettings().setIntervalsInWindow(u);var _=b/window.currentRoadmapable.timelineSettings().totalUnitsInWindow();window.currentRoadmapable.setPixelsPerDay(_);var L=window.currentRoadmapable.unitsPerBlock,P=window.currentRoadmapable.timelineSettings().totalIntervals,k=L*_,O=k*P-1;a.css({width:Vr.RZ.addPixelSuffix(O)}),o.css({width:Vr.RZ.addPixelSuffix(O)}),E.css({width:Vr.RZ.addPixelSuffix(O)});var S=Vr.RZ.addPixelSuffix(k);$(".dots").each((function(e,t){$(t).css({left:Vr.RZ.addPixelSuffix(e*k),width:S})}));var j=M.ProductPlan.layout.gridHeightCss(x);$(".grid-line").each((function(e,t){M.ProductPlan.layout.setGridlinePosition($(t),j,_)})),M.ProductPlan.roadmapRenderer.positionBars(),M.ProductPlan.roadmapRenderer.updateMilestones()},gridHeightCss:function(e){var t=e||$(M.ProductPlan.layout.timelineContainerSelector());return t.length>0?Vr.RZ.addPixelSuffix(t.height()-M.ProductPlan.layout.MAIN_CONTENT_HOLDER_TOP_PADDING):0},adjustGridlineHeight:function(e){var t=e||M.ProductPlan.layout.gridHeightCss();$(".grid-line").each((function(e,r){$(r).css({height:t})})),$(".smart-guide").css({height:t}),M.ProductPlan.displaySettings.todayIsInView()&&$(".today-line").css({height:t})},setGridlinePosition:function(e,t,r){var n=window.currentRoadmapable.timelineSettings().displayUnitsToPixels(e.data("date"),r);e.css({left:Vr.RZ.addPixelSuffix(n),height:t})},timelineIsVisible:function(){return $(M.ProductPlan.layout.timelineContainerSelector()).length>0},timelineContainerSelector:function(){return $(".export-viewport").length>0?".js-main-container":".js-main-container tbody"}};const $r=class{show(){return $("#sortable-legend").addClass("public-view-legend"),window.roadmap.permissions.can_edit=!1,window.currentRoadmapable=new Dr.Z(window.roadmap,window.publicUrlCode),M.ProductPlan.roadmapManager=new Rr.Z(window.currentRoadmapable),M.ProductPlan.fullScreenSettings.initFullScreen(),Jt.init()}};var Ur=r(84033);const zr=class{show(){return $("#portfolio-view-legend").addClass("public-view-legend"),window.masterPlan.permissions.can_edit=!1,window.currentRoadmapable=new Ur.Z(window.masterPlan,window.publicUrlCode),M.ProductPlan.roadmapManager=new M.ProductPlan.MasterPlanManager(window.currentRoadmapable),Jt.init()}};r(16246);var Yr=r(48098);class Wr{static modal(e){$("#modal_content_holder").html(e),$(".dropdown").removeClass("open"),$("#primary-modal").modal(),$("#primary-modal").find("input:text:visible:first").trigger("focus").trigger("select"),$(".expanding").expanding();var t=$("#modal_content_holder form"),r=$(".modal-body.pp-modal-body").data("id");this.attachColorPalette(r),$("#legend-modal-submit").on("click",(function(e){e.preventDefault();var r=$(this);r.text(r.data("disable-with")),r.attr("disabled","disabled"),t.trigger("submit")}))}static destroyEditModal(){$("#primary-modal").modal("hide")}static attachColorPalette(e){var t=window.currentRoadmapable.findLegend(e),r=$(".modal-body.pp-modal-body").data("paletteColorId"),n=t?t.paletteColorId:r,o={onColorClick:(e,t)=>{$("#legend_palette_color_id").val(e.id),o.selectedId=e.id,t.handleExternalPropChange(o)},onColorChangeComplete(e){$("#legend_palette_color_id").val(e.id)},selectedId:n||null,canAdd:!0};(0,Yr.XL)("legendColorPaletteMount",o)}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Wr,"replaceEditModal",(e=>(Wr.destroyEditModal(),Wr.modal(e))));const Kr=Wr;r(26891),r(66177),r(62526);class Xr{static initClass(){this.replaceEditModal=e=>{this.destroyEditModal(),this.modal(e)}}static modal(e){$("#modal_content_holder").html(e),$(".dropdown").removeClass("open"),$("#primary-modal").modal(),$("#primary-modal #label_name").trigger("focus").trigger("select");var t=$("#primary-modal .modal-body").data("id"),r=$("#edit_label_:id".replace(":id",t));$(".expanding").expanding(),$("#lane-modal-submit").on("click",(function(e){e.preventDefault();var t=$(this);t.text(t.data("disable-with")),t.attr("disabled","disabled"),r.trigger("submit")})),this.attachColorPalette(t)}static destroyEditModal(){$("#primary-modal").modal("hide")}static reorderModal(e){$("#modal_content_holder").html(e),$(".dropdown").removeClass("open"),$("#primary-modal").modal(),$("#sort-lanes").sortable({axis:"y",cursor:"ns-resize",items:"li",update(e,t){$("#sort-lanes").sortable("disable");var r=t.item.data("label-id"),n=t.item.index();window.ProductPlan.roadmapManager.updateLaneOrder(r,{position_position:n}).finally((()=>$("#sort-lanes").sortable("enable")))}}),$("#sort-lanes").disableSelection()}static attachColorPalette(e){var t=window.currentRoadmapable.findLane(e),r={onColorClick(e,n){$(".color-box.none-color").removeClass("selected"),$("#label_palette_color_id").val(e.id),r.selectedId=e.id,n.handleExternalPropChange(r),t.color=e.id},onColorChangeComplete(e){$("#label_palette_color_id").val(e.id),t.color=e.id},selectedId:t?t.paletteColorId:null,canAdd:!0};(0,Yr.XL)("laneColorPaletteMount",r)}}Xr.initClass();const Jr=Xr;class Qr{static initClass(){this.replaceEditModal=e=>(this.destroyEditModal(),this.modal(e))}static modal(e){$("#modal_content_holder").html(e),$(".dropdown").removeClass("open"),$("#primary-modal").modal(),$("#primary-modal").find("input:text:visible:first").trigger("focus").trigger("select"),$(".expanding").expanding();var t=$("#primary-modal .modal-body").data("id"),r=$("#edit_label_group_:id".replace(":id",t));$("#label-group-modal-submit").on("click",(function(e){e.preventDefault();var t=$(this);t.text(t.data("disable-with")),t.attr("disabled","disabled"),r.trigger("submit")}))}static destroyEditModal(){return $("#primary-modal").modal("hide")}}Qr.initClass();const en=Qr;r(18553);function tn(){tn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function rn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function nn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){rn(a,n,o,i,c,"next",e)}function c(e){rn(a,n,o,i,c,"throw",e)}i(void 0)}))}}function on(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const an=class{constructor(){on(this,"formatProjectOption",(e=>{var t=$(e.element);return this.formatJiraOption({name:t.text()})})),on(this,"replaceModal",((e,t,r)=>(this.destroyModal(),this.modal(e,t,r)))),on(this,"modal",((e,t,r)=>{var n=this,o=$(e);$(".integration-create-resource-wrapper").append(o),n.setupDropdowns(n,t,r),n.initIssueTypes($("#jira_issue_project_id option:selected"),n),n.initForm(),$("#jira_issue_project_id").select2("val",$("#jira_issue_project_id").val(),!1),$("#jira_issue_issuetype_id").select2("val",$("#jira_issue_issuetype_id").val(),!1),$(".modal-footer .btn.btn-success.save").on("click",(function(e){e.preventDefault(),$(".modal-footer .btn.btn-success.save").addClass("disabled");var r={};return $.each($("#new_jira_issue").serializeArray(),((e,t)=>r[t.name]=t.value)),t(r)})),$(".modal-footer .btn.btn-default.cancel").on("click",(function(e){return e.preventDefault(),r()}))}))}formatJiraOption(e){return null!==e.icon&&void 0!==e.icon?"<img style='margin-right: 5px' src='"+e.icon+"'>"+e.name:e.name}destroyModalV2(){$(".modal-footer").remove(),$(".create-jira-resource").remove()}destroyModal(){return this.destroyModalV2()}initForm(){return $(".selectable").select2({width:"100%",formatResult:self.formatProjectOption,formatSelection:self.formatProjectOption,escapeMarkup:e=>e}).on("select2-open",(function(){$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01)}))}initIssueTypes(e,t){var r=e.data("issueTypes");return $("#jira_issue_issuetype_id").select2("val",""),$("#jira_issue_issuetype_id").select2({width:"100%",placeholderOption:"first",data:{results:r,text:"name"},formatResult:t.formatJiraOption,formatSelection:t.formatJiraOption,minimumResultsForSearch:-1,escapeMarkup:e=>e}).on("select2-open",(function(){$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01)})),r}setupDropdowns(e,t,r){$("#jira_issue_project_id").select2({width:"100%",formatResult:e.formatProjectOption,formatSelection:e.formatProjectOption,minimumResultsForSearch:-1,escapeMarkup:e=>e}).on("select2-open",(function(){$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01)})).on("change",(function(t){t.removed&&(e.lastSelectedProject=t.removed.id,e.lastSelectedIssueType=$("#jira_issue_issuetype_id").val(),e.lastProjectElement=$(t.removed.element));var r=e.initIssueTypes($(t.added.element),e),n=Array.from(r).filter((e=>"Epic"===e.name||"Story"===e.name));return n.sort(Vr.RZ.alphaSort),n.push(r[0]),$("#jira_issue_issuetype_id").select2("val",n[0].id,!0)}));var n=function(){var n=nn(tn().mark((function n(o){var a,i,c;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return $("#jira_issue_issuetype_id").val(o),a=$("#jira_issue_project_id").val(),i=$("#new_jira_issue").serializeArray(),window.showAJAXLoaderModal(),$("#new_jira_issue :input").attr("disabled","disabled"),n.prev=5,n.next=8,F.default.jira.getIssueTypeMetadata(o,a);case 8:if(c=n.sent,null!==c.data){n.next=13;break}return n.next=13,e.runIssueMetadataJob(o,a);case 13:return n.next=15,e.newJiraIssue(i,t,r);case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(5),e.jiraMetadataSyncError();case 20:return n.prev=20,window.hideAJAXLoaderModal(),n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[5,17,20,23]])})));return function(e){return n.apply(this,arguments)}}();$("#jira_issue_issuetype_id").on("change",(e=>(n(e.val),!1)))}runIssueMetadataJob(e,t){return nn(tn().mark((function r(){return tn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F.default.jira.runIssueMetadataJob({issuetype_id:e,project_id:t});case 2:case"end":return r.stop()}}),r)})))()}newJiraIssue(e,t,r){return nn(tn().mark((function n(){var o,a,i,c;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=M.ProductPlan.jiraIssuesController,a=$("#new_jira_issue").data("barid"),i={},e.forEach((e=>i[e.name]=e.value)),n.prev=4,n.next=7,F.default.jira.newIssue(a,i);case 7:c=n.sent,o.replaceModal(c.data,t,r),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(4),$("#new_jira_issue :input").attr("disabled",!1),o.lastSelectedProject&&($("#jira_issue_project_id").select2("val",o.lastSelectedProject,!1),o.initIssueTypes(o.lastProjectElement,o),$("#jira_issue_issuetype_id").select2("val",o.lastSelectedIssueType,!1));case 15:case"end":return n.stop()}}),n,null,[[4,11]])})))()}saveJiraIssue(e,t){var r=this;return nn(tn().mark((function n(){var o;return tn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,F.default.jira.saveIssue(e,t);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),o=401===n.t0.response.status?"Your authentication to Jira has expired. Please reauthorize.":void 0,r.jiraMetadataSyncError(o),n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,6]])})))()}jiraMetadataSyncError(e){var t=e||"We are sorry, we cannot connect you to Jira now. Please try again later.";M.ProductPlan.showActionAlert(t,"error"),$("#new_jira_issue :input").attr("disabled",!1)}};const cn=class{show(){window.currentRoadmapable=new Ur.Z(window.masterPlan),M.ProductPlan.roadmapManager=new M.ProductPlan.MasterPlanManager(window.currentRoadmapable),Jt.init()}export(){var e=!1,t=!1;window.currentRoadmapable=new Ur.Z(window.masterPlan),M.ProductPlan.roadmapManager=new M.ProductPlan.MasterPlanManager(window.currentRoadmapable),M.ProductPlan.roadmapRenderer.initializeRoadmapView(t,e),wt.init()}};var ln=r(89734),sn=r.n(ln),un=r(63105),dn=r.n(un),hn=r(20297),pn=r(77480);function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(r),!0).forEach((function(t){wn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vn(){vn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function yn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function gn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){yn(a,n,o,i,c,"next",e)}function c(e){yn(a,n,o,i,c,"throw",e)}i(void 0)}))}}function wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const bn=class{constructor(e){var t=this;wn(this,"roadmapable",(()=>this.masterPlan)),wn(this,"loadBar",function(){var e=gn(vn().mark((function e(r){var n,o,a;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.masterPlan.findBarAndRoadmap(r),o=n.roadmap,e.next=3,F.default.bars.show(t.masterPlan.id,t.masterPlan.barPath(r,o.roadmapableId())).catch(M.ProductPlan.requireRefresh);case 3:return a=e.sent,e.abrupt("return",o.buildBar(a.data.bar||a.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),wn(this,"loadCurrentTagsForRoadmap",gn(vn().mark((function e(){var r,n;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.masterPlan.isPublic()){e.next=3;break}return t.currentTags=[],e.abrupt("return");case 3:return e.next=5,F.default.managerRequests.getRoadmapTags(t.masterPlan.roadmapableId()).catch(M.ProductPlan.requireRefresh);case 5:r=e.sent,n=r.data,t.currentTags=null!==n&&void 0!==n?n:[];case 8:case"end":return e.stop()}}),e)})))),this.loadBarDetails=this.loadBarDetails.bind(this),this.loadMasterPlan=this.loadMasterPlan.bind(this),this.deleteComment=this.deleteComment.bind(this),this.createComment=this.createComment.bind(this),this.barUpdated=this.barUpdated.bind(this),this.masterPlan=e,this.publicUrlCode=this.masterPlan.publicUrlCode}loadBarDetails(){var e=this.masterPlan.orderedRoadmapList().flatMap((e=>{var t=dn()(e.bars(),(e=>e.lane&&!e.isContained));return sn()(t,[e=>e.lane.position,e=>e._startDate])})),t=r(58080);return $("#bar-details").html(t({bars:e},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}))}loadMasterPlan(){var e=this;return gn(vn().mark((function t(){var r;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,r=e.masterPlan.orderedRoadmapList().map((e=>new Rr.Z(e))),t.next=4,Promise.all(r.map((t=>t.loadMasterPlanRoadmap(e.masterPlan.id))));case 4:window.hideAJAXLoaderModal(),e.isLoading=!1,e.masterPlan.updateAfterLoad();case 7:case"end":return t.stop()}}),t)})))()}loadViewSettings(){var e=this;return gn(vn().mark((function t(){var r,n,o,a;return vn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.masterPlan.isPublic()){t.next=8;break}return t.next=3,F.default.roadmapableViews.publicViewSettings(e.publicUrlCode,!0);case 3:return r=t.sent,n=r.data,t.abrupt("return",xe().camelizeKeys(n));case 8:return t.next=10,F.default.roadmapableViews.viewSettings(e.masterPlan.currentViewId);case 10:return o=t.sent,a=o.data,t.abrupt("return",xe().camelizeKeys(a));case 13:case"end":return t.stop()}}),t)})))()}deleteComment(){var e=Array.prototype.splice.call(arguments,0);return Rr.Z.prototype.deleteComment.apply(this,e)}createComment(){var e=Array.prototype.splice.call(arguments,0);return Rr.Z.prototype.createComment.apply(this,e)}barUpdated(e){var t=this.masterPlan.findBarAndRoadmap(e.id),r=new hn.Z(mn(mn({},e),{},{roadmap:t.roadmap}));return t.roadmap.addBar(r),setTimeout((()=>ie.default.publish("UPDATED_BAR",r)),0)}toggleItems(e,t,r){if(this.masterPlan.toggleAll(e,t,r),!this.masterPlan.isPublic()&&M.ProductPlan.loggedIn()){var n=this.masterPlan.laneStyle===pn.t3&&"lanes"===e?"roadmaps":e;return F.default.managerRequests.toggleItems("portfolio_views",this.masterPlan.id,n,t,this.masterPlan.isToggledFor(e,r))}}};var En=r(10577),xn=r.n(En);function _n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ln{constructor(){_n(this,"isFullScreen",(()=>!!this.inFullScreen)),_n(this,"toggleEditMode",(()=>{this.isFullScreen()?this.inViewModeFullScreen=!this.inViewModeFullScreen:this.inViewModeWindowed=!this.inViewModeWindowed})),_n(this,"isViewMode",(()=>!M.ProductPlan.canEdit()||(this.isFullScreen()?!!this.inViewModeFullScreen:!!this.inViewModeWindowed))),_n(this,"initFullScreen",(()=>{var e=this;if($(".fullscreen-button").on("click",(function(){xn().enabled&&xn().toggle(document.documentElement)})),xn().enabled)return document.addEventListener(xn().raw.fullscreenchange,(function(){e._toggleFullScreen(xn().isFullscreen)}))})),_n(this,"_toggleFullScreen",(e=>{e?(this._enableFullScreen(),this._goFullscreen()):(this._disableFullScreen(),this._goWindowed())})),_n(this,"_enableFullScreen",(()=>{this.inFullScreen=!0})),_n(this,"_disableFullScreen",(()=>{this.inFullScreen=!1})),this.inViewModeFullScreen=!0,this.inViewModeWindowed=!1,this.inFullScreen=!1,this._class=Ln}_goFullscreen(){$("#page-content").addClass("fullscreen"),$("body").data("fullscreen",!0);$(".top-spacing, .sidebar-nav-fixed, .main-content-holder, .zoom-controls").toggleClass("full-screen",!0),window.check_window_resize()}_goWindowed(){$("#id_trigger_close").trigger("click"),$("#page-content").removeClass("fullscreen"),$("body").data("fullscreen",!1);$(".top-spacing, .sidebar-nav-fixed, .main-content-holder, .zoom-controls").toggleClass("full-screen",!1),window.check_window_resize()}}const Pn=Ln;var kn=r(80008),On=r.n(kn),Sn=r(51793);function jn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Cn=class{constructor(){jn(this,"zoomin",(()=>{this._canZoomIn()&&(this._zoomDisplayIn(),window.check_window_resize(),M.ProductPlan.roadmapRenderer.updateMilestones(),M.ProductPlan.updateExportDetails(),this._handleZoomLevelChange())})),jn(this,"zoomout",(()=>{this._canZoomOut()&&(this._zoomDisplayOut(),window.check_window_resize(),M.ProductPlan.roadmapRenderer.updateMilestones(),M.ProductPlan.updateExportDetails(),this._handleZoomLevelChange())})),jn(this,"zoomState",(()=>{var e=this._canZoomOut(),t=this._canZoomIn(),r=this._maxNumberOfBlocks(),n=this.intervalsInWindow();return e?t||(n=1):n=r,{canZoomIn:t,canZoomOut:e,visibleWidth:n/r}})),jn(this,"zoomLevels",(()=>{})),jn(this,"resetZoomWindow",(()=>{this._intervalsInWindow=void 0,this._handleZoomLevelChange()})),jn(this,"zoomEntirelyOut",(()=>{this._setIntervalsInWindow(this._maxNumberOfBlocks()),this._handleZoomLevelChange()})),jn(this,"unitsInView",(()=>this.intervalsInWindow()*this._unitsPerBlock())),jn(this,"todayInPixels",(()=>window.currentRoadmapable.timelineSettings().displayUnitsToPixels(this.todayInUnits(),window.currentRoadmapable.ppd))),jn(this,"todayIsInView",(()=>{var e=this.todayInUnits();return e>=0&&e<=this._maxNumberOfDays()})),jn(this,"intervalsInWindow",(()=>(void 0===this._intervalsInWindow&&this._setIntervalsInWindow(window.currentRoadmapable.intervalsInWindow()),this._intervalsInWindow))),jn(this,"_setIntervalsInWindow",(e=>{this._intervalsInWindow=e})),jn(this,"_maxNumberOfBlocks",(()=>Math.floor(this._maxNumberOfDays()/this._unitsPerBlock()))),jn(this,"_canZoomOut",(()=>this.intervalsInWindow()<this._maxNumberOfBlocks())),jn(this,"_canZoomIn",(()=>this.intervalsInWindow()>1)),jn(this,"_handleZoomLevelChange",(()=>{ie.default.publish("CHANGED_ZOOM_LEVEL",this.zoomState())})),jn(this,"_zoomDisplayIn",(()=>{var e=this.intervalsInWindow()-1;return e>0?this._setIntervalsInWindow(e):this._setIntervalsInWindow(1)})),jn(this,"_zoomDisplayOut",(()=>{var e=this.intervalsInWindow()+1;if(e<=this._maxNumberOfBlocks())return this._setIntervalsInWindow(e)})),this._intervalsInWindow=void 0}todayInUnits(){var e=On().tz(On().utc().add(1,"days").toDate(),Sn.Z.guessTimeZone());return window.currentRoadmapable.timelineSettings().dateToUnitsForDisplay(e)}_maxNumberOfDays(){return window.currentRoadmapable.maxNumberOfDays()}_unitsPerBlock(){return window.currentRoadmapable.unitsPerBlock}};var Nn=r(48403),Tn=r.n(Nn),In=r(7736),An=r(38958),Rn=e=>{var t=[{key:"starts_on",field:""},{key:"ends_on",field:""}],r=function(r){var n=t.findIndex((e=>e.key===r));-1!==n&&(t[n].field=e[r])};for(var n in e)r(n);return t},Dn=(e,t,r,n)=>(he()(e,((o,a)=>{o.key===r&&(o.field!==n&&F.default.updateIntegrationCustomMappings(t,{key:r,value:n}).catch((()=>{M.ProductPlan.requireRefresh()})),o.field=n,e[a]=o)})),ie.default.publish("SYNC_MAPPINGS_CHANGED",e),e),Fn=(e,t,r)=>t.filter((t=>-1===r.findIndex((r=>r.field===t.id&&r.key!==e)))),Mn=(e,t,r,n,o,a)=>{var i=n.find((t=>t.key.toLowerCase()===e.toLowerCase()));return s().createElement(An.Z,{customClasses:{["field-".concat(e)]:!0},formAligment:"horizontal",label:t},s().createElement(In.Z.Input,{disabled:0===o.length,editMode:!0,formAligment:"horizontal",id:e,labelKey:"name",name:e,options:Fn(e,o,n),placeholder:"Select",searchable:!1,selectionClass:"custom-options",value:i?i.field:"",valueKey:r,onChange:t=>a(e,t.target.value)}))};function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gn(Object(r),!0).forEach((function(t){Hn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bn(){Bn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function qn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Vn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){qn(a,n,o,i,c,"next",e)}function c(e){qn(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Hn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class $n extends l.Component{constructor(){var e;super(...arguments),e=this,Hn(this,"state",{projects:[],fields:[],mappings:Rn(this.props.mappings),selectedProjectId:0}),Hn(this,"loadJiraProjects",Vn(Bn().mark((function t(){var r,n,o,a,i;return Bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.default.getJiraProjects();case 2:if(r=t.sent,0!==(n=r.data).projects.length){t.next=6;break}return t.abrupt("return");case 6:if(e.setState({projects:n.projects}),!(o=M.ProductPlan.currentUser().jira_selected_project||0)){t.next=14;break}return t.next=11,F.default.jira.projectFields(o);case 11:a=t.sent,i=a.data,e.setState({fields:i.fields.filter((e=>"date"===e.type||"datetime"===e.type)),selectedProjectId:o});case 14:case"end":return t.stop()}}),t)})))),Hn(this,"handleProjectChange",function(){var t=Vn(Bn().mark((function t(r){var n,o,a,i,c;return Bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=parseInt(r),o=e.state.selectedProjectId,a=M.ProductPlan.currentUser().jira_selected_project,t.next=3,e.setStateAsync({selectedProjectId:n});case 3:return t.next=5,F.default.updateIntegrationSelectedProject(e.props.integrationId,{selected_project:n}).catch(M.ProductPlan.requireRefresh);case 5:if(n===o||0===n){t.next=13;break}return t.next=8,F.default.jira.projectFields(n);case 8:i=t.sent,c=i.data,e.setState({fields:c.fields.filter((e=>"date"===e.type||"datetime"===e.type))}),t.next=14;break;case 13:0===n&&e.setState({fields:[]});case 14:if(n===o||n===a||0===o){t.next=17;break}return t.next=17,e.updateMappings();case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Hn(this,"setStateAsync",(e=>new Promise((t=>{this.setState(e,t)})))),Hn(this,"handleDateFieldMappingChange",((e,t)=>{var r=Dn(this.state.mappings,this.props.integrationId,e,t);this.setState({mappings:r})})),Hn(this,"renderProject",(()=>s().createElement(An.Z,{customClasses:{"field-project":!0},formAligment:"horizontal",label:"Jira Project"},s().createElement(In.Z.Input,{disabled:0===this.state.projects.length,editMode:!0,formAligment:"horizontal",id:"project",labelKey:"name",name:"project",options:this.state.projects,placeholder:"Select",searchable:!1,selectionClass:"custom-options",value:this.state.selectedProjectId,valueKey:"id",onChange:e=>this.handleProjectChange(e.target.value)}))))}componentDidMount(){this.loadJiraProjects()}updateMappings(){var e=this;return Vn(Bn().mark((function t(){var r;return Bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.mappings.map((e=>Zn(Zn({},e),{},{field:""}))),e.setState({mappings:r}),ie.default.publish("SYNC_MAPPINGS_CHANGED",r),t.next=5,Promise.all(r.map((t=>F.default.updateIntegrationCustomMappings(e.props.integrationId,{key:t.key,value:t.field}))));case 5:case"end":return t.stop()}}),t)})))()}render(){var e=this.state,t=e.mappings,r=e.fields;return s().createElement(l.Fragment,null,s().createElement("div",{className:"row"},s().createElement("div",{className:"col-xs-12"},s().createElement("div",{className:"integration-panel-header"},"Custom Mapping"))),s().createElement("div",{className:"row"},s().createElement("div",{className:"col-xs-12"},"Choose a project, then select the fields you would like to map. These will be available for all Jira imports.")),s().createElement("div",{className:"form"},this.renderProject(),Mn("starts_on","Start Date","id",t,r,this.handleDateFieldMappingChange),Mn("ends_on","End Date","id",t,r,this.handleDateFieldMappingChange)))}}Hn($n,"propTypes",{integrationId:m().number.isRequired,mappings:m().object.isRequired});const Un=$n;function zn(){zn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Yn(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Wn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Kn extends l.Component{constructor(e){super(e),Wn(this,"handleDateFieldMappingChange",((e,t)=>{var r=Dn(this.state.mappings,this.props.integrationId,e,t);this.setState({mappings:r})})),this.state={fields:[],mappings:Rn(e.mappings),selectedProjectId:0}}componentDidMount(){this.loadFields()}loadFields(){var e,t=this;return(e=zn().mark((function e(){var r,n;return zn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.default.azureDevOps.getFields();case 3:r=e.sent,n=r.data,t.setState({fields:n.fields.filter((e=>"dateTime"===e.type))}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),M.ProductPlan.requireRefresh(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Yn(a,n,o,i,c,"next",e)}function c(e){Yn(a,n,o,i,c,"throw",e)}i(void 0)}))})()}render(){var e=this.state,t=e.mappings,r=e.fields;return s().createElement(l.Fragment,null,s().createElement("div",{className:"row"},s().createElement("div",{className:"col-xs-12"},s().createElement("div",{className:"integration-panel-header"},"Custom Mapping"))),s().createElement("div",{className:"row"},s().createElement("div",{className:"col-xs-12"},"Select the fields you would like to map. These will be available for all Azure DevOps imports.")),s().createElement("div",{className:"form"},Mn("starts_on","Start Date","reference_name",t,r,this.handleDateFieldMappingChange),Mn("ends_on","End Date","reference_name",t,r,this.handleDateFieldMappingChange)))}}Wn(Kn,"propTypes",{integrationId:m().number.isRequired,mappings:m().object.isRequired});const Xn=Kn;class Jn extends l.Component{componentName(e){return"".concat(Tn()(e),"Mappings")}render(){var e=n[this.componentName(this.props.integrationName)];if(!e)return null;var t=this.props,r={integrationId:t.integrationId,mappings:t.mappings};return s().createElement("div",{className:"custom-mapping form-horizontal"},s().createElement(e,r))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Jn,"propTypes",{integrationId:m().number.isRequired,integrationName:m().string.isRequired,mappings:m().object});const Qn=Jn;var eo=r(38125),to=r.n(eo),ro=r(59704),no=r.n(ro);var oo=r(67555),ao=r.n(oo);r(22956);function io(e){var t=e.id,r=e.label,n=e.name,o=e.onBlur,a=e.error,i=e.onChange,c=e.defaultCountry,l="a-input__field ".concat(e.classes),u=sr()(a,"errorText");return s().createElement("div",{className:"atlas-phone-field a-input"},s().createElement("label",{className:"a-input__label",htmlFor:t},r),s().createElement(ao(),{name:n,country:c,placeholder:"",onBlur:o,onChange:i,containerClass:l,inputClass:"phone-input",buttonClass:"country-button",inputProps:{id:t,name:n}}),u&&s().createElement("div",{className:"phone-error a-input__hint has-error"},u))}io.propTypes={label:m().string,name:m().string,id:m().string,onBlur:m().func,onChange:m().func,classes:m().string,defaultCountry:m().string,error:m().object},io.defaultProps={onChange:()=>{},onBlur:()=>{},defaultCountry:"us",classes:"",name:"Phone",error:void 0};var co={text:"Please complete this required field.",tel:"Please enter a valid phone number.",email:"Please enter a valid email address.",password:"Please enter a password with at least 6 characters."};class lo{static validateEmail(e){if(""===e)return!1;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}static validatePhone(e,t){return t?""!==e.value.replace("+".concat(t.dialCode),""):""!==e}static validateText(e){if(""===e)return!1;var t=!e.replace(/\s/g,"").length,r=e.length>0;return!t&&r}static validateSelected(e){return""!==e}static validatePassword(e){if(""===e.value.trim())return!1;return"user_password_confirmation"===e.attributes.id.textContent?document.getElementById("user_password").value===e.value:e.value.length>=6}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(lo,"validateSignupFieldType",(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target,o=n.value,a=n.type||"select";switch(a){case"text":t=lo.validateText(o);break;case"tel":t=lo.validatePhone(n,r);break;case"email":t=lo.validateEmail(o);break;case"password":t=lo.validatePassword(n);break;default:return}return t?{[n.name]:void 0}:{[n.name]:{errorText:co[a]}}}));const so=lo;function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){po(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function po(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fo={name:"[user][name]",phone:"[user][phone_number]",title:"[user][crm_attributes][jobtitle]"};class mo extends s().Component{constructor(){super(...arguments),po(this,"state",{formData:{[fo.name]:"",[fo.phone]:"",[fo.title]:""},errors:{[fo.name]:void 0,[fo.phone]:void 0,[fo.title]:void 0},hasErrors:!1}),po(this,"handleNextStep",(()=>{var e=this.props,t=e.onHandleNext,r=e.history,n=this.isInvalidPersonalForm();t(this.state.formData),!n&&r.push("/company")})),po(this,"handleBlur",(e=>{var t=ho({},this.state.formData);t[e.target.name]=e.target.value;var r=so.validateSignupFieldType(e),n=ho(ho({},this.state.errors),r);this.setState({errors:n,formData:t})})),po(this,"handlePhoneBlur",((e,t)=>{var r=ho({},this.state.formData),n=so.validateSignupFieldType(e,t);r[e.target.name]=void 0===sr()(n[fo.phone],"errorText")?e.target.value:"";var o=ho(ho({},this.state.errors),n);this.setState({errors:o,formData:r})})),po(this,"handleSubmit",(e=>{var t,r;e.preventDefault(),to()([...e.target.elements]).forEach((e=>{var n={target:{name:e.name,value:e.value,type:e.type}};(t=Object.assign({},this.state.formData))[n.target.name]=n.target.value;var o=so.validateSignupFieldType(n);r=ho(ho({},r),o)})),this.setState({errors:r,formData:t},(()=>{this.hasErrors()||this.handleNextStep()}))}))}isInvalidPersonalForm(){var e={};Object.entries(this.state.formData).forEach((t=>{if(!(t[1].length>0)){var r=[fo.name,fo.title].includes(t[0])?"text":"tel";e[t[0]]={errorText:co[r]}}}));var t=Object.values(this.state.formData).includes("");return this.setState({errors:e}),t}hasErrors(){var e=Object.values(this.state.errors);return no()(e,"errorText")}renderInputs(){var e=this.state.errors,t=this.hasErrors(),r=M.ProductPlan.currentUser().email.includes(M.ProductPlan.currentUser().name)?"":M.ProductPlan.currentUser().name;return s().createElement("div",{className:"personal-info-form"},s().createElement("form",{onSubmit:this.handleSubmit},s().createElement(ur.Z,{error:e[fo.name],id:"user_name",label:"Name",name:fo.name,type:"text",value:r||"",onHandleBlur:this.handleBlur,focus:!0}),s().createElement(io,{id:"user_phone_number",label:"Phone",name:fo.phone,defaultCountry:"us",onBlur:this.handlePhoneBlur,error:e[fo.phone]}),s().createElement(ur.Z,{error:e[fo.title],id:"user_crm_attributes_jobtitle",label:"Job Title",name:fo.title,type:"text",onHandleBlur:this.handleBlur}),s().createElement("div",{className:"actions"},s().createElement("input",{className:"personal-next a-button","aria-disabled":t,name:"personal-next",type:"submit",value:"Next"}))))}render(){var e=Ne()("personal-info");return s().createElement("div",{className:e},s().createElement("div",{className:"title"},"Tell us about yourself"),this.renderInputs())}}po(mo,"propTypes",{onHandleNext:m().func.isRequired,history:m().object.isRequired});const vo=(0,Qt.EN)(mo);function yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(r),!0).forEach((function(t){wo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bo=["1-20","21-50","51-100","101-250","251-500","501-1,000","1,001-5,000","5,001-10,000","10,000+"],Eo=["Product Management","IT","Marketing","Project Management","Engineering","Other"],xo={companyName:"[user][company_name]",companySize:"[user][crm_attributes][numemployees]",useCase:"[user][crm_attributes][use_case][]"};class _o extends s().Component{constructor(){super(...arguments),wo(this,"state",{formData:{[xo.companyName]:"",[xo.companySize]:"",[xo.useCase]:""},errors:{[xo.companyName]:void 0},hasErrors:!1}),wo(this,"handleInputChange",(e=>{var t=Object.assign({},this.state.formData);t[e.target.name]=e.target.value;var r=so.validateSignupFieldType(e),n=go(go({},this.state.errors),r);this.setState({errors:n,formData:t},this.setErrors)})),wo(this,"updateUserInfo",(()=>{var e=this.props.onHandleNext;!this.isInvalidCompanyForm()&&e(this.state.formData)})),wo(this,"handleOnSubmit",(e=>{e.preventDefault();var t=to()([...e.target.elements])[0],r={target:{name:t.name,value:t.value,type:t.type}},n=Object.assign({},this.state.formData);n[r.target.name]=r.target.value;var o=so.validateSignupFieldType(r),a=go(go({},a),o);this.setState({errors:a,formData:n},(()=>{this.hasErrors()||this.updateUserInfo()}))}))}isInvalidCompanyForm(){var e={};Object.entries(this.state.formData).forEach((t=>{var r=t[0],n=t[1];if(!([xo.companySize,xo.useCase].includes(r)||n.length>0)){var o=[xo.companyName].includes(r)?"text":"select";e[r]={errorText:co[o]}}}));var t=""===this.state.formData[xo.companyName];return this.setState({errors:e}),t}hasErrors(){var e=Object.values(this.state.errors);return no()(e,"errorText")}getSelectedValue(e){return this.state.formData[e]?this.state.formData[e]:void 0}renderDropDown(e,t,r,n){var o=e.map((e=>({value:e,name:e}))),a="crm-signup-data ".concat(r),i="use-case"===r;return s().createElement(s().Fragment,null,this.renderDropDownLabel(n),s().createElement(In.Z.Input,{className:a,clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,id:{"use-case":"user_crm_attributes_use_case","company-size":"user_crm_attributes_numemployees"}[r],labelKey:"name",multi:i,name:t,options:o,placeholder:"Select an option",searchable:!0,value:this.getSelectedValue(t),valueKey:"value",onChange:this.handleInputChange}))}renderDropDownLabel(e){return s().createElement("div",{className:"field-name a-input__label"},e,s().createElement("span",{className:"optional"},"(optional)"))}renderInputs(){var e=this.state.errors,t=this.hasErrors();return s().createElement("div",{className:"company-info-form"},s().createElement("form",{onSubmit:this.handleOnSubmit},s().createElement(ur.Z,{error:e[xo.companyName],id:"user_company_name",label:"Company Name",name:xo.companyName,type:"text",onHandleBlur:this.handleInputChange,focus:!0}),s().createElement("div",{className:"atlas-form-field"},this.renderDropDown(bo,xo.companySize,"company-size","Company Size ")),s().createElement("div",{className:"atlas-form-field"},this.renderDropDown(Eo,xo.useCase,"use-case","Which teams will be using ProductPlan? ")),s().createElement("div",{className:"actions"},s().createElement("input",{className:"company-next a-button","aria-disabled":t,name:"start-building",type:"submit",value:"Next"}))))}render(){var e=Ne()("company-info");return s().createElement("div",{className:e},s().createElement("div",{className:"title"},"Tell us about your organization"),this.renderInputs())}}wo(_o,"propTypes",{onHandleNext:m().func.isRequired});const Lo=(0,Qt.EN)(_o);var Po=r(7739),ko=r.n(Po),Oo=r(45578),So=r.n(Oo),jo=r(96026),Co=r.n(jo),No=r(9669),To=r.n(No),Io=r(54228),Ao=r(95234);function Ro(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Do=["Editor","Viewer"];class Fo extends s().Component{constructor(){var e;super(...arguments),e=this,Ro(this,"state",{email:"",role:Do[1],selectedRole:Do[1],hovered:!1}),Ro(this,"handleBlur",(e=>{var t=this.props;(0,t.onFieldBlur)(t.invite.id,e.target)})),Ro(this,"handleInputChange",(e=>{var t=this.props;(0,t.onFieldBlur)(t.invite.id,e.target),this.setState({selectedRole:e.target.value})})),Ro(this,"renderDeleteIcon",(()=>{var e=this.props.onDelete;return s().createElement("div",{className:"delete-icon",onClick:e},s().createElement(T.Z,{name:T.c.trash}))})),Ro(this,"onHover",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=e.props.canDelete;(r||e.state.hovered)&&e.setState({hovered:t})}))}displayName(){return"invite".concat(this.props.invite.id)}selectOptions(){return Do.map((e=>({value:e,name:e})))}renderLabelName(){return s().createElement(s().Fragment,null,s().createElement("span",{className:"role-text"},"Role"," "),s().createElement(Io.Z,{placement:"top",rootClose:!0,overlay:s().createElement(Ao.Z,{id:"popover-info-role"},s().createElement("div",{className:"title"},"Editors:"),s().createElement("div",{className:"description"},"Editors will be able to add and make changes to roadmaps they are shared on."),s().createElement("div",{className:"title"},"Viewers:"),s().createElement("div",{className:"description"},"Viewers will only be able to see, but not make changes to roadmaps they are shared on."))},s().createElement("span",{className:"info-role"},s().createElement(T.Z,{name:T.c.infoCircle}))))}render(){var e=this.props,t=e.invite,r=e.autoFocus,n=this.state.hovered;return s().createElement("div",{className:"invite-field-wrapper",onMouseEnter:()=>this.onHover(),onMouseLeave:()=>this.onHover(!1)},n&&this.renderDeleteIcon(),s().createElement("div",{className:"invite-field"},s().createElement(ur.Z,{id:this.displayName(),error:t.error,label:"Email",value:t.email,name:this.displayName(),type:"email",onHandleBlur:this.handleBlur,focus:r}),s().createElement("div",{className:"atlas-form-field"},s().createElement("div",{className:"field-name a-input__label"},this.renderLabelName()),s().createElement(In.Z.Input,{className:"invite-field-role",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,id:"".concat(this.displayName(),"-role"),labelKey:"name",multi:!1,name:"".concat(this.displayName(),"-role"),options:this.selectOptions(),placeholder:"Select an option",searchable:!1,value:t.role,valueKey:"value",onChange:this.handleInputChange}))))}}Ro(Fo,"propTypes",{invite:m().object.isRequired,onFieldBlur:m().func.isRequired,onDelete:m().func.isRequired,autoFocus:m().bool,canDelete:m().bool}),Ro(Fo,"defaultProps",{canDelete:!1});const Mo=Fo;var Go=r(97414),Zo=r(69518);class Bo extends s().Component{renderList(){var e=this.props,t=e.invites,r=e.onFieldBlur,n=e.handleDelete;return t.map(((e,o)=>{var a;return 3===t.length?a=0===o:t.length>3&&(a=o===t.length-1),s().createElement(Go.Z,{key:o,timeout:80,classNames:"invite-field"},s().createElement(Mo,{autoFocus:a,canDelete:t.length>1,invite:e,onFieldBlur:r,onDelete:()=>{n(e.id)}}))}))}render(){return s().createElement(Zo.Z,{className:"invite-list-content",enter:!0},this.renderList())}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Bo,"propTypes",{invites:m().array.isRequired,onFieldBlur:m().func.isRequired,handleDelete:m().func.isRequired});const qo=Bo;var Vo=r(38925);function Ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $o(){$o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yo(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Wo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Yo(a,n,o,i,c,"next",e)}function c(e){Yo(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Ko(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xo={id:"",email:"",role:"Editor",validEmail:void 0},Jo="Invite the Team and Build Together",Qo="Inviting a team member gives them access to view or collaborate on the roadmap you just created.",ea="Add another member",ta="I'll do this later",ra="Invite and Start Building!",na="Invites Sent!",oa="Viewer",aa={standard:"Please enter a valid email.",duplicate:"Remove duplicate email."};class ia extends s().Component{constructor(e){var t;super(e),t=this,Ko(this,"state",{invitesCount:3,sendingInvitesStatus:"",validEmails:!1}),Ko(this,"handleSubmitInvites",Wo($o().mark((function e(){var r,n,o;return $o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props.roadmap,(n=t.buildInviteList()).length){e.next=4;break}return e.abrupt("return");case 4:return t.setState({sendingInvitesStatus:"loading"}),o=n.map((e=>{for(var t=new FormData,n=0,o=Object.entries(e);n<o.length;n++){var a=Uo(o[n],2),i=a[0],c=a[1];t.append(i,c)}return r&&t.append("invite[roadmap_id]",r.id),t})),e.next=8,To().all(o.map((e=>F.default.invites.create(e))));case 8:return t.setState({sendingInvitesStatus:"done"}),e.next=11,(0,Ze.g)(2e3);case 11:M.ProductPlan.openLink({url:r?"/".concat(r.url_code):"/"}),window.showAJAXLoaderModal();case 13:case"end":return e.stop()}}),e)})))),Ko(this,"buildInviteList",(()=>{var e=So()(this.state.invites,"email").filter((e=>""!==e.email));return e.length?e.map((e=>({"invite[new_email]":e.email,"invite[view_only]":e.role===oa}))):[]})),Ko(this,"handleDoingLater",(()=>{var e=this.props.roadmap;M.ProductPlan.openLink({url:e?"/".concat(e.url_code):"/"})})),Ko(this,"deleteInvite",(e=>{this.setState((t=>{var r=t.invites;if(1===r.length)return{invites:r};var n=r.filter((t=>t.id!==e));return{invites:n,validEmails:this.verifyForErrors(n)}}))})),Ko(this,"handleBlur",((e,t)=>{this.setState((r=>{var n=r.invites,o=n.findIndex((t=>e===t.id));return t.name.includes("-role")?n[o].role=t.value:n[o].email=t.value.trim(),{invites:n,validEmails:this.verifyForErrors(n)}}))})),Ko(this,"handleAddNewInvite",(()=>{var e=this.state.invites;if(20!==e.length){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(r),!0).forEach((function(t){Ko(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Xo);t.id=e[e.length-1].id+1;var r=e.concat(t);this.setState({invites:r})}})),this.state.invites=Co()(3).map((e=>({id:e,email:"",role:"Editor",validEmail:void 0})))}verifyForErrors(e){var t=!0,r=!1,n=e.map((e=>(e.email=e.email.toLowerCase(),e))),o=Object.entries(ko()(n,"email")).filter((e=>""!==e[0]&&e[1].length>1)).map((e=>e[0]));return e.forEach((e=>{var n=e.email,a=!n||!!n.match(M.ProductPlan.regexEmail),i=!!n&&o.includes(n);!a||i?(t=!1,r=!0,e.error={errorText:i?aa.duplicate:aa.standard}):(e.email&&(r=!0),e.error=void 0)})),!!r&&t}render(){var e=this.state,t=e.invites,r=e.sendingInvitesStatus,n=e.validEmails,o={minHeight:86*t.length};return s().createElement("div",{className:"invite-ftu"},s().createElement("div",{className:"header"},Jo),s().createElement("div",{className:"sub-title"},Qo),s().createElement("div",{className:"invite-form"},s().createElement("div",{className:"invite-list",style:o},s().createElement(qo,{invites:t,onFieldBlur:this.handleBlur,handleDelete:this.deleteInvite})),s().createElement("button",{className:"a-button a-button--outline a-button--block add-invite",onClick:this.handleAddNewInvite,disabled:20===t.length},s().createElement(T.Z,{name:T.c.plusCircle}),ea),s().createElement("div",{className:"invite-list--footer"},s().createElement(Vo.Z,{id:"submit-invite",status:r,idleText:ra,doneText:na,onSubmit:this.handleSubmitInvites,classes:"submit-invite",isDisabled:!n}),s().createElement("button",{id:"invite-add-later",className:"a-button a-button--link add-later",onClick:this.handleDoingLater,disabled:""!==r},ta))))}}Ko(ia,"propTypes",{roadmap:m().object});const ca=(0,Qt.EN)(ia);function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach((function(t){pa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ua(){ua=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function da(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function ha(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){da(a,n,o,i,c,"next",e)}function c(e){da(a,n,o,i,c,"throw",e)}i(void 0)}))}}function pa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fa="In Trial",ma="Onboarding",va=["personal","company","roadmap"],ya=(0,Or.q_)({hashType:"noslash"});class ga extends s().Component{constructor(){var e;super(...arguments),e=this,pa(this,"state",{userStatus:window.current_user.status,payload:{},roadmap:null}),pa(this,"executeCardNavigation",(e=>{"start_with_template"===e?ya.push("/".concat(e)):"start_from_scratch"===e?ya.push("/configure"):"import_roadmap"===e&&ya.push({pathname:"/configure/parking_lot"})})),pa(this,"submitForm",ha(ua().mark((function t(){var r,n;return ua().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.showAJAXLoaderModal(),t.next=3,F.default.createFTUProfile(e.state.payload);case 3:if(r=t.sent,window.hideAJAXLoaderModal(),!r){t.next=14;break}if(!r.data.from_template){t.next=13;break}return n={with_sample_data:!r.data.without_data},kr.Z.loadTemplateGTMEvent(r.data.from_template,!r.data.without_data),t.next=11,gr.Z.load(r.data.from_template,n,{openLink:M.ProductPlan.openLink});case 11:t.next=14;break;case 13:e.setState({userStatus:r.data.status},(()=>{window.current_user=r.data.current_user,ya.push("/roadmap")}));case 14:case"end":return t.stop()}}),t)})))),pa(this,"handleNext",(e=>{var t=ya.location.pathname.substr(1)===va[1]?this.submitForm:void 0;this.setState({payload:sa(sa({},this.state.payload),e)},t)})),pa(this,"handleRoadmapFlowNavigation",((e,t,r)=>{switch(e){case"start-flow":this.executeCardNavigation(t);break;case"roadmap-config-success":this.setState({roadmap:t},(()=>{kr.Z.loadTemplateGTMEvent(r.template,r.with_sample_data),window.hideAJAXLoaderModal(),ya.push({pathname:"/invite"})}))}}))}redirectOnPersonal(){return this.state.userStatus===fa?s().createElement(Qt.l_,{to:"/roadmap"}):s().createElement(vo,{onHandleNext:this.handleNext})}redirectOnCompany(){var e=this.state,t=e.userStatus,r=e.payload,n=3===Object.keys(r).length,o=t===ma;return t===fa?s().createElement(Qt.l_,{to:"/roadmap"}):n&&o?s().createElement(Lo,{onHandleNext:this.handleNext}):0===Object.keys(r).length&&o?s().createElement(Qt.l_,{to:"/personal"}):s().createElement(Lo,{onHandleNext:this.handleNext})}render(){var e=this.state.userStatus===ma;return s().createElement("div",{className:"multi-step-signup"},s().createElement(rr,null),s().createElement(Qt.F0,{history:ya},s().createElement(Qt.rs,null,s().createElement(Qt.AW,{exact:!0,path:"/"},s().createElement(Qt.l_,{to:"/personal"})),s().createElement(Qt.AW,{path:"/personal"},this.redirectOnPersonal()),s().createElement(Qt.AW,{path:"/company"},this.redirectOnCompany()),s().createElement(Qt.AW,{path:"/roadmap"},e?s().createElement(Qt.l_,{to:"/personal"}):s().createElement(ir,{onNextStep:this.handleRoadmapFlowNavigation})),s().createElement(Qt.AW,{path:"/start_with_template"},e?s().createElement(Qt.l_,{to:"/personal"}):s().createElement(cr.Z,{onNextStep:this.handleRoadmapFlowNavigation})),s().createElement(Qt.AW,{path:"/configure/:view?"},e?s().createElement(Qt.l_,{to:"/personal"}):s().createElement(Pr,{onNextStep:this.handleRoadmapFlowNavigation})),s().createElement(Qt.AW,{path:"/invite"},e?s().createElement(Qt.l_,{to:"/personal"}):s().createElement(ca,{roadmap:this.state.roadmap})),s().createElement(Qt.AW,{path:"*"},s().createElement(Qt.l_,{push:!0,to:"/personal"})))))}}const wa=ga;function ba(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Ea=class{constructor(){ba(this,"new",(()=>{this.mountComponent()})),ba(this,"create",(()=>{this.mountComponent()})),ba(this,"mountComponent",(()=>{var e=document.getElementById("js-login-mount");e&&d().render(s().createElement(wa,{}),e)}))}};var xa=r(6280);var _a=["leftComponent","rightComponent","opened"];function La(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?La(Object(r),!0).forEach((function(t){ka(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):La(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ka(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Sa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ja(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Ca=e=>{var t=e.leftComponent,r=e.rightComponent,n=e.opened,o=void 0!==n&&n,a=ja(e,_a),i=Oa((0,l.useState)(o),2),c=i[0],u=i[1],d=()=>{u(!0)},h=()=>{u(!1)},p=Ne()({"atlas-split-view__left-panel":!0,"atlas-split-view__left-panel--closed":!c});return s().createElement("div",{className:"atlas-split-view"},s().createElement("section",{className:"atlas-split-view__container"},s().createElement("section",{className:p},s().cloneElement(t,Pa({openDrawer:d,closeDrawer:h,open:c},a))),s().createElement("section",{className:"atlas-split-view__right-panel"},s().cloneElement(r,Pa({openDrawer:d,closeDrawer:h,open:c},a)))))};Ca.propTypes={leftComponent:m().any.isRequired,rightComponent:m().any.isRequired,opened:m().bool};const Na=Ca;function Ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(r),!0).forEach((function(t){Aa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Aa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ra(e,t,r){if(!Array.isArray(e)||0===e.length)return[];if(!t||!r)return e;var n=[...e],o=p()(e,{id:t.id});return o>=0&&n.splice(o,1,Ia(Ia({},t),r)),n}const Da={errorSuppliedArguments:"Error updating Launch. Please supply all arguments",errorSystem:"Error updating Launch. Please try again later.",success:"Launch updated"};function Fa(){Fa=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Ma(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Ga(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ma(a,n,o,i,c,"next",e)}function c(e){Ma(a,n,o,i,c,"throw",e)}i(void 0)}))}}function Za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ba(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ba(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qa=s().createContext(),Va=e=>{var t=e.children,r=Za((0,l.useState)([]),2),n=r[0],o=r[1],a=function(){var e=Ga(Fa().mark((function e(t){var r,n,o,a;return Fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.name,n=t.description,o=t.launchDate,a=t.barIds,0!==r.length&&o){e.next=3;break}return e.abrupt("return",Promise.reject("Provide valid values for this request."));case 3:return e.abrupt("return",F.default.launches.create({name:r,description:n,launch_date:o,bar_ids:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Ga(Fa().mark((function e(t,r){var a,i,c;return Fa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[...n],t&&r.launch){e.next=4;break}return ae.Z.unsuccessful(Da.errorSuppliedArguments),e.abrupt("return");case 4:return o(Ra(n,t,r.launch)),e.prev=5,e.next=8,F.default.launches.update({id:t.id,data:r});case 8:c=e.sent,o(Ra(n,t,null===c||void 0===c||null===(i=c.data)||void 0===i?void 0:i.launch)),ae.Z.success(Da.success),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),o(a),ae.Z.unsuccessful(Da.errorSystem);case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,r){return e.apply(this,arguments)}}(),c={launches:n,setLaunches:o,createLaunch:a,addLaunch:e=>{o([e,...n])},updateLaunch:i,removeLaunch:e=>{o(n.filter((t=>t.id!=e.id)))}};return s().createElement(qa.Provider,{value:c},t)};function Ha(){return(0,l.useContext)(qa)}Va.propTypes={children:m().any.isRequired};const $a=Va;var Ua=r(30381),za=r.n(Ua),Ya=r(43557),Wa=r(51206),Ka=r(24614),Xa=r(24167),Ja=r(78318),Qa=r(76141);const ei={heading:"New Launch"},ti={createSuccess:"New  Launch created.",createFail:"Error while creating new Launch."},ri={buttons:{send:"Add",cancel:"Cancel"}},ni={buttons:{send:"Create",cancel:"Cancel"},fields:{name:{id:"product_launch_name",placeholder:"Name your upcoming launch",label:"Title"},date:{id:"date",label:"Launch Date"},description:{id:"description",placeholder:"Describe your upcoming launch",helpText:"(optional)",label:"Description"},featureSelector:{id:"featureSelector",placeholder:"Type to select bars and containers from roadmaps.",label:"Included in the Launch",helpBlock:"Bars and containers must exist in roadmaps that you have access to."}}};function oi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ai(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ii=On()("0000-01-01",Sn.Z.dateFormat),ci=On()("9999-12-31",Sn.Z.dateFormat),li=e=>{var t=e.date,r=e.onDateChange,n=e.dateFormat,o=void 0===n?Sn.Z.dateFormat:n,a=e.onBlurHandler,i=void 0===a?()=>{}:a,c=e.autoFocus,u=void 0!==c&&c,d=e.anchorDirection,h=void 0===d?"left":d,p=oi((0,l.useState)(u),2),f=p[0],m=p[1];return s().createElement("div",{onClick:e=>e.stopPropagation()},s().createElement(Qa.SingleDatePicker,{anchorDirection:h,hideKeyboardShortcutsPanel:!0,id:ni.fields.date.id,date:t,isOutsideRange:e=>e<ii||e>ci,onDateChange:e=>{r(e)},focused:f,onFocusChange:e=>{var t=e.focused;return m(t)},numberOfMonths:1,transitionDuration:0,daySize:30,displayFormat:o,showClearDate:!1,navPrev:s().createElement(T.Z,{name:T.c.arrowLeft}),navNext:s().createElement(T.Z,{name:T.c.arrowRight}),onClose:i}))};li.propTypes={anchorDirection:m().oneOf(["right","left"]),date:m().object,onDateChange:m().func.isRequired,dateFormat:m().string,onBlurHandler:m().func,autoFocus:m().bool};const si=li;var ui=r(23279),di=r.n(ui),hi=r(83424);function pi(e){return s().createElement("div",{className:"feature-list-option"},s().createElement("span",{className:"feature-list-option__name-row"},e.name),s().createElement("span",{className:"feature-list-option__roadmapname-row"},e.roadmap_name))}pi.propTypes={name:m().string.isRequired,roadmap_name:m().string.isRequired};const fi=pi;function mi(){mi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function vi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gi(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function wi(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){gi(a,n,o,i,c,"next",e)}function c(e){gi(a,n,o,i,c,"throw",e)}i(void 0)}))}}function bi(e){return s().createElement(fi,{name:e.name,roadmap_name:e.roadmap_name})}function Ei(e){return 0==e.length?[]:e.map((e=>({id:e.id,name:e.name,roadmap_name:e.roadmap_name})))}function xi(){return xi=wi(mi().mark((function e(t,r){var n,o;return mi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F.default.launches.search({query:t});case 4:n=e.sent,o=Ei(n.data.all_roadmaps.bars),r(null,{options:o});case 7:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}var _i=di()(((e,t)=>{!function(e,t){xi.apply(this,arguments)}(e,t)}),300,{leading:!1,trailing:!0});function Li(e){var t=e.id,r=e.children,n=e.disabled,o=e.value,a=e.onRemove;return s().createElement("div",{className:"feature-select-value",id:t,onMouseDown:()=>{!function(e,t,r){e||r(t)}(n,o,a)}},s().createElement("span",null,r,s().createElement(hi.Z,{id:"close-icon"})))}function Pi(e){var t=e.setBarIds,r=vi((0,l.useState)([]),2),n=r[0],o=r[1];return s().createElement(In.Z.Input,{async:!0,multi:!0,clearable:!1,creatable:!1,backspaceRemoves:!1,deleteRemoves:!1,className:"feature-field__selector",escapeClearsValue:!1,id:"feature-field__selector",loadOptions:_i,name:"feature_list",normalizeChanges:!1,optionRenderer:bi,placeholder:ni.fields.featureSelector.placeholder,tethered:!1,value:n,labelKey:"name",valueKey:"id",onChange:function(e){o(e),t(e.map((e=>e.id)))},onCloseResetsInput:!1,onBlurResetsInput:!1,valueComponent:Li,autoload:!0,cache:!1})}Pi.propTypes={setBarIds:m().func.isRequired};const ki=Pi;function Oi(){Oi=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Si(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function ji(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ni(e){return e&&e.trim?e.trim():""}var Ti=e=>{var t=e.closeDrawer,r=ji((0,l.useState)(za()(new Date)),2),n=r[0],o=r[1],a=ji((0,l.useState)(""),2),i=a[0],c=a[1],u=ji((0,l.useState)(""),2),d=u[0],h=u[1],p=ji((0,l.useState)([]),2),f=p[0],m=p[1],v=Ha(),y=v.addLaunch,g=v.createLaunch,w=function(){var e,r=(e=Oi().mark((function e(r){var a,l,s;return Oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=Ni(d),l=Ni(i),e.prev=3,e.next=6,g({name:a,description:l,launchDate:za()(n).format("YYYY-MM-DD"),barIds:f});case 6:s=e.sent,y(s.data.launch),ae.Z.success(ti.createSuccess),o(za()(new Date)),h(""),c(""),m([]),t(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),ae.Z.unsuccessful(ti.createFail);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Si(a,n,o,i,c,"next",e)}function c(e){Si(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return s().createElement("div",{className:"launch-manager-create-container",tabIndex:"-1"},s().createElement("h1",null,ei.heading),s().createElement("form",{id:"launch-manager-create__form",onSubmit:w},s().createElement(Ya.Z,{className:"vertical"},s().createElement(Wa.Z,{htmlFor:ni.fields.name.id},ni.fields.name.label),s().createElement(Xa.Z,{type:"text",id:ni.fields.name.id,controlId:ni.fields.name.id,value:d,placeholder:ni.fields.name.placeholder,onChange:e=>h(e.target.value)})),s().createElement(Ya.Z,{className:"vertical"},s().createElement(Wa.Z,{htmlFor:ni.fields.date.id},ni.fields.date.label),s().createElement(si,{date:n,onDateChange:e=>{e&&o(e)}})),s().createElement(Ya.Z,{className:"vertical"},s().createElement(Wa.Z,{htmlFor:ni.fields.description.id},ni.fields.description.label," ",s().createElement("span",{className:"instructions"},ni.fields.description.helpText)),s().createElement(Xa.Z,{id:ni.fields.description.id,name:ni.fields.description.id,componentClass:"textarea",value:i,rows:4,placeholder:ni.fields.description.placeholder,onChange:e=>c(e.target.value)})),(()=>{if(M.ProductPlan.isFeatureEnabled("product_launch"))return s().createElement(Ya.Z,{className:"vertical"},s().createElement(Wa.Z,{htmlFor:ni.fields.featureSelector.id},ni.fields.featureSelector.label),s().createElement(ki,{setBarIds:m}),s().createElement(Ka.Z,null,ni.fields.featureSelector.helpBlock))})(),s().createElement("div",{className:"launch-manager-create__form-buttons"},s().createElement(Ja.Z,{bsStyle:"primary",className:"js-submit",disabled:0===Ni(d).length||!n,type:"submit"},ni.buttons.send),s().createElement(Ja.Z,{className:"js-cancel",onClick:t},ni.buttons.cancel))))};Ti.propTypes={closeDrawer:m().func};const Ii=Ti;var Ai=[{name:"Launch",key:"name"},{name:"",key:"link",emptyHeader:!0},{name:"Description",key:"description"},{name:"Launch Date",key:"launch_date"},{name:"Status",key:"status"},{name:"Progress",key:"launch_progress"},{name:"",key:"actions",emptyHeader:!0}],Ri=e=>{var t=e.children,r=e.emptyHeader,n=void 0!==r&&r,o=e.className,a=void 0===o?"":o;return n?s().createElement("th",{className:"table-cell table-cell--header ".concat(a)},"\xa0"):s().createElement("th",{className:"table-cell table-cell--header ".concat(a)},s().createElement("span",null,t))};Ri.propTypes={children:m().node,className:m().string,emptyHeader:m().bool};const Di=Ri;var Fi=e=>{var t=e.columnHeaders,r=e.rows,n=void 0===r?[]:r,o=e.row,a=e.footer,i=void 0===a?null:a;return s().createElement("div",{className:"table-container"},s().createElement("table",null,s().createElement("thead",{className:"table-header"},s().createElement("tr",{className:"table-row"},t.map((e=>s().createElement(Di,{key:e.key,emptyHeader:e.emptyHeader,className:e.key},e.name))))),s().createElement("tbody",null,n&&n.length>0&&n.map((e=>{var r=e.key?e.key:e.id;return s().cloneElement(o,{item:e,columnHeaders:t,key:r})}))),i&&s().createElement("tfoot",null,i)))};Fi.propTypes={columnHeaders:m().array.isRequired,rows:m().array,row:m().object,footer:m().object};const Mi=Fi;var Gi=e=>{var t=e.children,r=e.columnName,n=e.useEllipsis;return void 0!==n&&n?s().createElement("td",{className:"table-cell table-cell--body ".concat(r||"")},s().createElement("div",{className:"table-column__textarea"},t)):s().createElement("td",{className:"table-cell table-cell--body ".concat(r||"")},t)};Gi.propTypes={children:m().node,columnName:m().string,useEllipsis:m().bool};const Zi=Gi;var Bi=e=>{var t=e.children,r=e.rowItem,n=e.columnItem,o=e.columnHeaders,a=e.canEdit,i=e.rowClasses,c=void 0===i?"":i,l=e.additionalRowElements,u=void 0===l?null:l,d=e.onClick,h=void 0===d?()=>{}:d;return s().createElement("tr",{className:"table-row table-row--body ".concat(c),onClick:h},t&&s().createElement("td",{className:"table-cell table-cell--dropdown"},t),o.map((e=>(a=function(e,t){return e.props&&void 0!==e.props.canEdit?e.props.canEdit:t}(n,a),s().createElement(Zi,{useEllipsis:e.useEllipsis,columnName:e.key,key:e.key},s().cloneElement(n,{column:e,rowItem:r,canEdit:a}))))),null===u||void 0===u?void 0:u.dropdown)};Bi.propTypes={canEdit:m().bool,columnHeaders:m().array.isRequired,children:m().node,rowItem:m().object,columnItem:m().object,rowClasses:m().any,launchDate:m().string,additionalRowElements:m().any,onClick:m().func};const qi=Bi;var Vi=r(32754);function Hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ui extends l.Component{constructor(e){var t;super(e),t=this,$i(this,"handleValueChange",(function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e||(e={value:""}),r&&t.props.updateOptimisticValue(e.value),t.setState({value:e.value})})),$i(this,"handleOnBlur",(()=>{this.props.updateOptimisticValue(this.state.value)})),$i(this,"handleKeyPress",(e=>{switch(e.keyCode){case 13:$(".tether-element").length>0?this.handleValueChange($(e.target).attr("aria-activedescendant").split("-")[6],!1):this.props.updateOptimisticValue(this.state.value);break;case 27:this.props.triggerControlClose()}})),this.state={value:e.value}}componentDidMount(){this.node&&this.node.focus()}buildTetheredSelectWrap(){var e=this.props,t=e.id,r=e.extraSelectOptions,n=e.options,o=Object.assign({escapeClearsValue:!1,id:t,inputId:t,instanceId:t,name:t,options:n,showLabel:!1,placeholder:"",searchable:!1,openOnFocus:!0,tabSelectsValue:!1,onInputKeyDown:this.handleKeyPress,value:this.state.value,onClick:e=>{e.stopPropagation()},onChange:this.handleValueChange,onBlur:this.handleOnBlur,ref:e=>this.node=e,tetherClassName:"".concat(t.split("-")[1],"-tethered-menu")},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hi(Object(r),!0).forEach((function(t){$i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r));return s().createElement(Vi.Z,o)}render(){return s().createElement("div",{className:"launch-table__status-select"},this.buildTetheredSelectWrap())}}Ui.propTypes={value:m().any,updateOptimisticValue:m().func.isRequired,triggerControlClose:m().func.isRequired,id:m().string.isRequired,extraSelectOptions:m().object.isRequired,options:m().array.isRequired};const zi=Ui;function Yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Wi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ki=[{label:"High Risk",value:"high_risk"},{label:"Medium Risk",value:"medium_risk"},{label:"Low Risk",value:"low_risk"},{label:"Launched",value:"launched"}],Xi=e=>{var t=e.launch,r=e.canEdit,n=e.updateHandler,o=void 0===n?()=>{}:n,a=Yi((0,l.useState)(!1),2),i=a[0],c=a[1],u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return s().createElement("div",{className:"launch-table__status-select-item launch-table__status-select-item--".concat(e.value)},s().createElement("div",{className:"launch-table__status-select-name"},e.label,!0===t&&s().createElement(T.Z,{name:T.c.caretDown})))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e.value||""===e.value?null:u(e,t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t.status){var r=Ki.findIndex((e=>e.value===t.status));if(r>-1)return s().createElement(s().Fragment,null,d(Ki[r],e))}return null},p={optionRenderer:u,valueRenderer:d};return!r||null!==t&&void 0!==t&&t.connection?s().createElement("div",{className:"launch-table__status-select--static"},h()):i?s().createElement("div",{className:"launch-table__status-select--active",onClick:e=>e.stopPropagation()},s().createElement(zi,{options:Ki,id:"launch-".concat(t.id),updateOptimisticValue:e=>{e!==t.status&&o(e),c(!1)},triggerControlClose:()=>c(!1),extraSelectOptions:p,value:t.status})):s().createElement("div",{className:"launch-table__status-select--inactive",onClick:e=>{e.stopPropagation(),c(!0)}},h(!0))};Xi.propTypes={launch:m().object.isRequired,canEdit:m().bool,updateHandler:m().func};const Ji=Xi;var Qi=e=>{var t=e.launch,r=e.canEdit,n=Ha().updateLaunch;return s().createElement(Ji,{launch:t,canEdit:r,updateHandler:e=>n(t,{launch:{status:e}})})};Qi.propTypes={launch:m().object.isRequired,canEdit:m().bool};const ec=Qi;var tc=r(78695),rc="Error while updating the task name. Please provide a task name.",nc=e=>{var t=e.canEdit,r=e.launch,n=e.updateHandler,o=void 0===n?()=>{}:n;return t?s().createElement(tc.Z,{classes:"label-item__name",value:null===r||void 0===r?void 0:r.name,active:!1,handleValueUpdate:e=>{0!==e.trim().length?e!==r.name&&o(e):ae.Z.unsuccessful(rc)},onClick:e=>e.stopPropagation(),inputRequired:!0}):s().createElement("div",{className:"static",title:null===r||void 0===r?void 0:r.name},null===r||void 0===r?void 0:r.name)};nc.propTypes={launch:m().object,canEdit:m().bool,updateHandler:m().func};const oc=nc;var ac=e=>{var t=e.canEdit,r=e.launch,n=Ha().updateLaunch;return s().createElement(oc,{launch:r,canEdit:t,updateHandler:e=>n(r,{launch:{name:e}})})};ac.propTypes={launch:m().object,canEdit:m().bool};const ic=ac;var cc=e=>{var t=e.canEdit,r=e.launch,n=e.rows,o=void 0===n?null:n,a=e.updateHandler,i=void 0===a?()=>{}:a,c=e.placeholder,l=void 0===c?null:c,u=Ne()({"label-item__name":!0,"label-item__description":!0,"label-item__description--empty":0===r.description.trim().length}),d=r&&null!==r&&void 0!==r&&r.description?r.description:"";return t?s().createElement(tc.Z,{placeholder:l,classes:u,value:d,active:!1,handleValueUpdate:e=>{e!==r.description&&i(e)},useTextInput:!1,rows:o,onClick:e=>e.stopPropagation()}):s().createElement("div",{className:"".concat("label-item__description_uneditable static clamp clamp--2"," clamp clamp--2"),title:null===r||void 0===r?void 0:r.description},null===r||void 0===r?void 0:r.description)};cc.propTypes={placeholder:m().string,launch:m().object,canEdit:m().bool,updateHandler:m().func,rows:m().number};const lc=cc;var sc=e=>{var t=e.canEdit,r=e.launch,n=Ha().updateLaunch;return s().createElement(lc,{updateHandler:e=>n(r,{launch:{description:e}}),canEdit:t,launch:r})};sc.propTypes={launch:m().object,canEdit:m().bool};const uc=sc;var dc=["canEdit","date","anchorDirection","updateHandler","noDateHtml"];function hc(){return hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hc.apply(this,arguments)}function pc(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var fc="MMMM D, YYYY",mc=(e,t)=>e?On()(e).format(fc):t,vc=e=>{var t=e.canEdit,r=e.date,n=e.anchorDirection,o=void 0===n?"left":n,a=e.updateHandler,i=void 0===a?()=>{}:a,c=e.noDateHtml,l=void 0===c?s().createElement("span",null,"\xa0"):c,u=pc(e,dc);return t?s().createElement(si,hc({anchorDirection:o,date:r?On()(r):null,onDateChange:e=>{e&&!e.isSame(r,"date")&&i(e.toDate())},dateFormat:fc},u)):s().createElement("div",{className:"static"},mc(r,l))};vc.propTypes={anchorDirection:m().oneOf(["left","right"]),canEdit:m().bool,date:m().any,updateHandler:m().func,noDateHtml:m().element};const yc=vc;var gc=e=>{var t=e.canEdit,r=e.launch,n=Ha().updateLaunch,o=(e=>(null===e||void 0===e?void 0:e.launch_date)||new Date)(r);return s().createElement(yc,{canEdit:t,date:o,updateHandler:e=>n(r,{launch:{launch_date:e}})})};gc.propTypes={launch:m().object,canEdit:m().bool,launchDate:m().string};const wc=gc;var bc=r(82886),Ec=r(58732);function xc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(r),!0).forEach((function(t){Lc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Lc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pc={LIST:"LIST",SHOW:"SHOW",ADD:"ADD",UPDATE:"UPDATE",DELETE:"DELETE",COMPLETE:"COMPLETE"},kc=_c(_c({},Pc),{},{REORDER_SECTION:"REORDER_SECTION"}),Oc="LAUNCHES",Sc="CHECKLISTS",jc={[Oc]:"product_launch",[Sc]:"product_launch",REORDER_SECTIONS:"launch_section_reordering"};function Cc(){return!!M.ProductPlan.currentUser()}function Nc(){var e=M.ProductPlan.currentUser();return!(!Cc()||!e.current_account_membership_can_edit)}function Tc(e){return!!e&&(Nc()||e.assigned_user_id&&e.assigned_user_id===M.ProductPlan.currentUser().id)}function Ic(){return!(!M.ProductPlan.isFeatureEnabled(jc.REORDER_SECTIONS)||!Nc())}function Ac(e){if(!M.ProductPlan.isFeatureEnabled(jc[Oc]))return!1;switch(e){case Pc.LIST:case Pc.SHOW:return Cc();case Pc.ADD:case Pc.UPDATE:case Pc.DELETE:case Pc.COMPLETE:return Nc();default:return!1}}function Rc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!M.ProductPlan.isFeatureEnabled(jc[Sc]))return!1;switch(e){case kc.LIST:case kc.SHOW:return Cc();case kc.ADD:case kc.UPDATE:case kc.DELETE:return Nc();case kc.COMPLETE:return Tc(t);case kc.REORDER_SECTION:return Ic();default:return!1}}const Dc={checkChecklistPermission:Rc,checkLaunchesPermission:Ac,checkPermission:function(e,t){if(!e||!t)throw new Error("Please provide COMPONENT and ACTION");if(e===Oc&&!Object.keys(Pc).includes(t)||e.CHECKLISTS&&!Object.keys(kc).includes(t))throw new Error("Please provide a supported ACTION (".concat(t,") handled by COMPONENT (").concat(e,")"));switch(e){case Oc:return Ac(t);case Sc:return Rc(t);default:throw new Error("Component ".concat(e," not supported."))}}};var Fc=r(43804),Mc="Launch has been deleted",Gc="Edit Menu",Zc={label:"Delete"};var Bc=e=>{var t=e.launch,r=Ha().removeLaunch,n=()=>{(function(e){return F.default.launches.delete(e.id)})(t).then((()=>{r(t),ae.Z.success(Mc)})).catch((()=>{ae.Z.unsuccessful(Mc)}))};return t&&t.id&&Dc.checkLaunchesPermission(Pc.DELETE)?s().createElement(s().Fragment,null,s().createElement("div",{className:"menu-button__delete"},s().createElement(bc.Z,{noCaret:!0,pullRight:!0,bsSize:"xsmall",bsStyle:"default",className:"menu-button__delete",title:s().createElement(T.Z,{name:T.c.ellipsisVertical,title:Gc}),onClick:e=>e.stopPropagation()},s().createElement(Ec.Z,{className:"menu-item__delete",onClick:e=>{((e,t)=>{e.stopPropagation();var r=function(e,t){return{title:"Are you sure you want to delete ".concat(e.name,"?"),modalConditionals:[{text:"Delete launch and checklist",isChecked:!1},{text:"Remove access to this launch for all users",isChecked:!1},{text:"Remove access to this launch for all teams",isChecked:!1}],confirmButtonVariation:"danger",confirmCallback:t}}(t,n);Fc.Z.show(r)})(e,t)}},Zc.label)))):null};Bc.propTypes={launch:m().object};const qc=Bc;var Vc="Checklist",Hc=e=>{var t=e.launch;return s().createElement("a",{href:"/launch/".concat(null===t||void 0===t?void 0:t.id),className:"btn btn-primary btn-md",onClick:e=>e.stopPropagation()},Vc," ",s().createElement(T.Z,{name:T.c.expand}))};Hc.propTypes={launch:m().object.isRequired};const $c=Hc;var Uc="Progress is a calculation of completed tasks on the checklist";var zc=e=>{var t,r=e.launch;return s().createElement("div",{className:"static",title:Uc},null!==(t=r.tasks_completion)&&void 0!==t&&t.percent_completed?"".concat(Math.round(t.percent_completed),"% Complete"):"0% Complete")};zc.propTypes={launch:m().object};const Yc=zc;var Wc=e=>{var t;return t=null!==e&&void 0!==e&&e.roadmapable_count?null===e||void 0===e?void 0:e.roadmapable_count:null!==e&&void 0!==e&&e.roadmap_name?(e=>s().createElement("a",{href:"".concat(e.roadmapable_link,"?bar=").concat(null===e||void 0===e?void 0:e.id)},null===e||void 0===e?void 0:e.roadmap_name))(e):0,t},Kc=e=>{var t,r,n=e.column,o=e.rowItem,a=e.canEdit,i=e.canDelete,c=o;switch(n.key){case"name":t=s().createElement(ic,{canEdit:a,launch:c});break;case"link":t=s().createElement($c,{launch:c});break;case"description":t=s().createElement(uc,{canEdit:a,launch:c});break;case"launch_date":t=s().createElement(wc,{canEdit:a,launch:c});break;case"status":t=s().createElement(ec,{launch:c,canEdit:a});break;case"launch_progress":t=s().createElement(Yc,{launch:c});break;case"roadmap":t=Wc(c);break;case"actions":t=i&&s().createElement(qc,{launch:c});break;default:t=null}return r=t,s().createElement(s().Fragment,null,r)};Kc.propTypes={column:m().object,rowItem:m().object,launchDate:m().string,canEdit:m().bool};const Xc=Kc;var Jc=e=>{var t,r,n=e.item,o=e.columnHeaders,a=n,i=Dc.checkPermission(Oc,Pc.SHOW),c=(t=Dc.checkPermission(Oc,Pc.UPDATE),r=Dc.checkPermission(Oc,Pc.DELETE),s().createElement(Xc,{canEdit:t,canDelete:r}));return s().createElement(s().Fragment,null,s().createElement(qi,{key:a.id,columnHeaders:o,columnItem:c,rowItem:a,rowClasses:i?"table-row--clickable":"",onClick:()=>{i&&a.id&&window.location.assign("/launch/".concat(a.id))}}))};Jc.propTypes={item:m().object,columnHeaders:m().array};const Qc=Jc;var el={emptyStateHeading:"No upcoming launches, yet.",body:["Keep your stakeholders in the loop","Assign who is responsible for what and when it's due","Assess which launch plans are on track or at risk","Connect launch plans to your roadmap strategy"],addLaunch:"Add a launch"},tl=()=>el.body.map((e=>s().createElement("div",{key:e.id,className:"no_launches__body_content"},s().createElement(T.Z,{name:T.c.circleCheck}),s().createElement("span",null,e)))),rl=e=>{var t=e.openDrawer,r=e.open,n=e.canAddLaunch;return s().createElement("div",{className:"no_launches__container"},s().createElement("div",{className:"no_launches__icon_container"},s().createElement(T.Z,{classes:"no_launches__state_icon",name:T.c.rocket,title:"Product Launch Management"})),s().createElement("div",{className:"no_launches__state_header"},el.emptyStateHeading),s().createElement(tl,null),n&&s().createElement("button",{className:"no_launches__add_launch_button",onClick:t,disabled:r},s().createElement(T.Z,{name:T.c.plus}),s().createElement("span",null,el.addLaunch)))};rl.propTypes={openDrawer:m().func,open:m().bool,canAddLaunch:m().bool};const nl=rl;function ol(){ol=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function al(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function il(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){al(a,n,o,i,c,"next",e)}function c(e){al(a,n,o,i,c,"throw",e)}i(void 0)}))}}function cl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ll(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ll(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ll(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sl="All Launches",ul="Add a Launch",dl="There was an error retrieving the launches. Please wait a few minutes and refresh the page.",hl=e=>F.default.launches.index(e),pl=e=>{var t=e.openDrawer,r=e.open,n=Ha(),o=n.launches,a=n.setLaunches,i=cl((0,l.useState)(!1),2),c=i[0],u=i[1],d=s().createElement(Qc,null);(0,Ft.bd)(il(ol().mark((function e(){var t,r,n;return ol().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,r=window.current_user.id,e.next=5,hl(r);case 5:null!==(n=e.sent)&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.launches&&a(n.data.launches),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),ae.Z.unsuccessful(dl);case 12:u(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])}))),[o.length]);var h=Dc.checkLaunchesPermission(Pc.ADD);return c||0!==o.length?!c&&s().createElement("div",{className:"launch__container"},s().createElement("div",{className:"add-launch"},s().createElement("h1",null,sl),h&&s().createElement("button",{className:"add-launch__button btn btn-primary",onClick:t,disabled:r},s().createElement(T.Z,{name:T.c.plus}),s().createElement("span",null,ul))),s().createElement(Mi,{columnHeaders:Ai,rows:o,row:d})):s().createElement(nl,{canAddLaunch:h,openDrawer:t,open:r})};pl.propTypes={openDrawer:m().func,open:m().bool};const fl=pl;var ml=r(14615);const vl=()=>s().createElement($a,null,s().createElement(ml.Z,null),s().createElement(Na,{leftComponent:s().createElement(Ii,null),rightComponent:s().createElement(fl,null)}));var yl=r(78003),gl=r(50361),wl=r.n(gl);function bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(r),!0).forEach((function(t){xl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _l(e){e&&e.launch_checklists&&El({},e).launch_checklists.map(((e,t)=>{e.meta={index:t}}));return e}function Ll(e){return e.sort((function(e,t){var r=e.due_date?new Date(e.due_date):1/0,n=t.due_date?new Date(t.due_date):1/0,o=e.name.toLowerCase(),a=t.name.toLowerCase();return r<n?-1:r>n?1:o<a?-1:o>a?1:0})),e}function Pl(e,t){var r=[...e.launch_checklists];return r&&r.forEach((function(e,r,n){e.id===t.id&&(e=t,n[r]=e)})),r}function kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kl(Object(r),!0).forEach((function(t){Sl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Sl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Cl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nl=s().createContext(),Tl=e=>{var t=e.children,r=e.defaultLaunch,n=jl((0,l.useState)(Ol({},_l(r))),2),o=n[0],a=n[1],i=jl((0,l.useState)(null),2),c=i[0],u=i[1],d=e=>{var t=Ol({},o);t.launch_checklists=Pl(o,e),a(_l(t))},h=(0,l.useMemo)((()=>{var e=o.launch_checklists;return e&&e.length>0?e.map((e=>({id:e.id,name:e.name}))):[]}),[o]),p={launch:o,checklists:h,draggableSectionIdCaptured:c,setLaunch:e=>{a(_l(e))},addTask:(e,t)=>{t&&d(function(e,t){var r=Object.assign({},e);if(r&&r.launch_checklist_items){var n=[...r.launch_checklist_items];return n.push(t),r.launch_checklist_items=Ll(n),r}return e}(e,t))},removeTask:(e,t)=>{d(function(e,t){var r=El({},e);return t.id&&r&&r.launch_checklist_items?(r.launch_checklist_items=r.launch_checklist_items.filter((e=>e.id!=t.id)),r):e}(e,t))},updateTask:(e,t,r)=>{t&&d(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=El({},e);if(n&&n.launch_checklist_items&&(n.launch_checklist_items.forEach((function(e,r,n){e.id===t.id&&(e=t,n[r]=e)})),r)){var o=[...n.launch_checklist_items];n.launch_checklist_items=Ll(o)}return n}(e,t,r))},removeFeature:e=>{a(_l(function(e,t){var r=El({},e);return t.id&&r.bars?(r.bars=r.bars.filter((e=>e.id!=t.id)),r):e}(o,e)))},addChecklist:e=>{a(_l(function(e,t){var r=El({},e);return r&&r.launch_checklists&&t.id?(r.launch_checklists.push(t),r):e}(o,e)))},updateChecklist:e=>{d(Pl(o,e))},removeChecklist:e=>{a(_l(function(e,t){var r=El({},e);return t.id&&r.launch_checklists?(r.launch_checklists=r.launch_checklists.filter((e=>e.id!=t.id)),r):e}(o,e)))},moveTask:e=>{var t=e.from,r=e.to,n=e.task;a(_l(function(e){var t=e.launch,r=e.task,n=e.from,o=e.to;if(!t)throw new Error("You need to supply a valid launch");if(!r||!n||!o)return t;var a=El({},t),i=[...a.launch_checklists],c=i.find((e=>e.id===n)),l=i.find((e=>e.id===o));return c&&l&&n!==o?(c.launch_checklist_items=[...Ll(c.launch_checklist_items.filter((e=>e.id!==r.id)))],l.launch_checklist_items=[...Ll([...l.launch_checklist_items,r])],a.launch_checklists=i,a):t}({launch:o,from:t,to:r,task:n})))},onBeforeDragCaptured:e=>{var t=function(e,t){if(e&&e.draggableId){var r=parseInt(e.draggableId);return r!==t?r:void 0}return null}(e,c);void 0!==t&&u(t)},onDropChecklist:e=>{var t=e.destination,r=e.source;if(u(null),"DROP"===e.reason&&r.index!==t.index){var n=function(e,t,r){if(e.launch_checklists[t]&&e.launch_checklists[r]){var n=wl()(e),o=n.launch_checklists,a=o[t];return o.splice(t,1),o.splice(r,0,a),_l(n)}return e}(o,r.index,t.index);return a(n),n}return null}};return s().createElement(Nl.Provider,{value:p},t)};function Il(){return s().useContext(Nl)}Tl.propTypes={children:m().any,defaultLaunch:m().object.isRequired};const Al=Tl;var Rl=r(88767),Dl=r(75917);function Fl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ml(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(r),!0).forEach((function(t){Gl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zl=()=>(0,Rl.useQuery)(Dl.K.GET_USER_ACCOUNTS,(()=>F.default.launches.users().then((e=>{var t=e.data;return t&&t.length>0?t:[]})))),Bl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Rl.useMutation)(F.default.launchChecklistItems.update,Ml({},e))};function ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(r),!0).forEach((function(t){Hl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $l="About the Launch",Ul={description:"Description",launchDate:"Launch Date:",status:"Status:"},zl={updated:"Launch updated",updateError:"Error while updating the launch. Try again later"};const Yl=()=>{var e=Il(),t=e.launch,r=e.setLaunch,n=Dc.checkLaunchesPermission(Pc.UPDATE),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Rl.useMutation)(F.default.launches.update,Ml({},e))}(),a=e=>{var n={id:t.id,data:{launch:Vl({},e)}};o.mutate(n,{onSuccess:e=>{var t=e.data;r(t.launch),ae.Z.success(zl.updated)},onError:()=>{ae.Z.unsuccessful(zl.updateError)}})};return t&&t.id?s().createElement(yl.Z,{bsStyle:"primary",className:"launch-details-panel"},s().createElement(yl.Z.Heading,null,s().createElement("div",{className:"launch-details-panel__heading"},$l,o.isLoading&&s().createElement("span",{className:"launch-details-panel__heading--loading"},s().createElement(T.Z,{classes:T.c.spin,name:T.c.spinner})))),s().createElement(yl.Z.Body,null,s().createElement("div",{className:"launch-details-panel__top"},s().createElement("div",{className:"launch-details-panel__editable-container--full"},s().createElement(lc,{placeholder:"Describe your Launch",rows:6,canEdit:n,launch:t,updateHandler:e=>a({description:e})}))),s().createElement("div",{className:"launch-details-panel__content"},s().createElement("div",{className:"launch-details-panel__editable-container"},s().createElement("label",null,Ul.launchDate),s().createElement(yc,{anchorDirection:"",canEdit:n,launch:t,date:t.launch_date,updateHandler:e=>a({launch_date:On()(e).format("YYYY-MM-DD")})})),s().createElement("div",{className:"launch-details-panel__editable-container"},s().createElement("label",null,Ul.status),s().createElement(Ji,{canEdit:n,launch:t,updateHandler:e=>a({status:e})}))))):null};var Wl=r(35161),Kl=r.n(Wl),Xl=r(76395);function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(this,arguments)}function Ql(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class es extends s().Component{constructor(e){super(e),Ql(this,"updateConditionalsConfirmButtonState",((e,t)=>{this.state.conditionals[e].isChecked=t.target.checked,this.setState({conditionals:this.state.conditionals,confirmButtonEnabled:!no()(this.state.conditionals,["isChecked",!1])})})),this.state={confirmButtonEnabled:!1,conditionals:this.props.modalConditionals}}static show(e){return Xl.Z.show(this,e)}renderConditionals(){if(0!==this.state.conditionals.length)return s().createElement("div",{className:"confirm-conditionals row"},s().createElement("div",{className:"col-xs-12"},Kl()(this.state.conditionals,((e,t)=>s().createElement("div",{className:"conditional option-".concat(t),key:t},s().createElement("label",null,s().createElement("span",{className:"conditional-checkbox"},s().createElement("input",{checked:e.isChecked,name:"modal-conditional",type:"checkbox",onChange:e=>this.updateConditionalsConfirmButtonState(t,e)}),s().createElement("span",{className:"checkbox-target ".concat(e.isChecked?T.c.checkSquare.string:T.c.squareOutline.string)})),s().createElement("span",{className:"conditional-text"},e.text)))))))}render(){var e=this.props,t=e.language,r=e.details,n=e.additionalClasses,o=0===this.state.conditionals.length||this.state.confirmButtonEnabled;return s().createElement(Le.Z,Jl({},this.props,{additionalClasses:n,message:t.message,title:t.title,confirmButtonLabel:t.confirmButton,confirmButtonEnabled:o,buttonContainerClassname:"launch-delete-modal__buttons"}),s().createElement("div",{className:"launch-container delete"},r),this.renderConditionals())}}Ql(es,"propTypes",{modalConditionals:m().array}),Ql(es,"defaultProps",{isChild:!1,modalConditionals:[],additionalClasses:"launch-delete-modal"}),es.propTypes={details:m().any.isRequired,language:m().object,additionalClasses:m().string};const ts=es;function rs(){rs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ns(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return os(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return os(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function as(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function is(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cs(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function ls(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){cs(a,n,o,i,c,"next",e)}function c(e){cs(a,n,o,i,c,"throw",e)}i(void 0)}))}}function ss(e){return us.apply(this,arguments)}function us(){return(us=ls(rs().mark((function e(t){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.launches.deleteConnection(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ds=e=>{var t=e.featureID,r=Il(),n=r.launch,o=r.removeFeature,a=r.setLaunch,i=n.bars.find((e=>e.id==t)),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?as(Object(r),!0).forEach((function(t){is(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):as(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n),u=(0,l.useReducer)((e=>!e),!1),d=ns(u,2),h=d[0],p=d[1],f=function(){var e=ls(rs().mark((function e(){return rs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(i),e.next=3,ss(i.launch_connection_id).then((()=>{ae.Z.success(ps.featureDeleted)})).catch((()=>{ae.Z.unsuccessful(ps.deleteError),a(c)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s().createElement(bc.Z,{noCaret:!0,bsStyle:"default",className:"actions-dropdown-item",defaultOpen:h,id:"dropdown-no-caret",open:h,title:s().createElement(T.Z,{name:T.c.ellipsisVertical}),onToggle:p},s().createElement(Ec.Z,{onClick:()=>((e,t)=>{ts.show({language:ps,details:s().createElement(fs,{feature:t,deletableMenu:!1}),confirmCallback:e})})(f,i)},ps.buttons.delete))};ds.propTypes={featureID:m().number.isRequired};const hs=ds;var ps={title:"Delete Feature",confirmButton:"Confirm",message:"Are you sure you want to delete the following feature from the launch?",buttons:{delete:"Delete",goToFeature:"Go to feature"},featureDeleted:"Feature has been deleted from launch.",deleteError:"There was an error deleting feature from launch. Please wait a few minutes and try again."},fs=e=>{var t=e.feature,r=e.deletableMenu,n=void 0===r||r,o=Ne()("launch-feature",{"launch-feature__delete-modal":!n}),a=Dc.checkChecklistPermission(Pc.DELETE)&&n;return s().createElement("div",{className:o},a&&s().createElement(hs,{featureID:t.id}),s().createElement("h4",null,s().createElement("a",{href:"".concat(t.roadmapable_link,"?bar=").concat(t.id),title:"".concat(ps.buttons.goToFeature,": ").concat(t.name)},t.name)),s().createElement("p",null,t.roadmap_name))};fs.propTypes={feature:m().object.isRequired,deletableMenu:m().bool};var ms=e=>{var t=e.featureID,r=Il().launch.bars.find((e=>e.id==t));return r?s().createElement(fs,{feature:r}):null};ms.propTypes={featureID:m().number.isRequired};const vs=ms;function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}function gs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ws extends l.Component{constructor(e){super(e),gs(this,"handleClose",(()=>{this.featureModal.close()})),gs(this,"handleSubmit",(()=>{this.props.confirmCallback(),this.featureModal.close()}))}static show(e){return Xl.Z.show(this,e)}render(){return s().createElement(Xl.Z,ys({ref:e=>{this.featureModal=e},title:this.props.title,bodyClass:"feature-field-modal pp-modal-body",additionalClasses:"add-feature-modal",onClose:this.handleClose},this.props),s().createElement("form",{id:"feature-field-modal__feature_form",onSubmit:this.handleSubmit},s().createElement(Ya.Z,{className:"vertical"},s().createElement(ki,{setBarIds:this.props.setBarIds}),s().createElement(Ka.Z,null,ni.fields.featureSelector.helpBlock)),s().createElement("div",{className:"feature-field-modal__form-buttons"},s().createElement(Ja.Z,{bsStyle:"primary",className:"js-submit",type:"submit"},ri.buttons.send),s().createElement(Ja.Z,{className:"js-cancel",onClick:this.handleClose},ri.buttons.cancel))))}}gs(ws,"propTypes",{confirmCallback:m().func.isRequired,setBarIds:m().func.isRequired,title:m().string.isRequired});const bs=ws;function Es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xs(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _s="Add Bars and Containers",Ls={addFeatures:"Add"},Ps={success:"Launch updated",errorSystem:"Error updating Launch. Please try again later."},ks=e=>{var t=e.loading,r=e.onAddFeature,n=Ne()({"launch-feature-modal-wrapper__button":!0,"launch-feature-modal-wrapper__button--loading":t,"btn-primary":!0});return t?s().createElement(Ja.Z,{className:n,bsSize:"small",disabled:!0},s().createElement(T.Z,{classes:T.c.spin,name:T.c.spinner})):s().createElement(Ja.Z,{className:n,bsSize:"small",onClick:r},s().createElement(T.Z,{name:T.c.plus}),Ls.addFeatures)};ks.propTypes={loading:m().bool.isRequired,onAddFeature:m().func.isRequired};const Os=()=>{var e=Es((0,l.useState)([]),2),t=e[0],r=e[1],n=Es((0,l.useState)(!1),2),o=n[0],a=n[1],i=Il(),c=i.launch,u=i.setLaunch,d=s().useRef(),h=Dc.checkLaunchesPermission(Pc.UPDATE);if(!c||!c.id||!h)return null;function p(){0!=d.current.length&&(a(!0),F.default.launches.addConnections(c.id,{bar_ids:d.current}).then((e=>{u(e.data.launch),ae.Z.success(Ps.success)})).catch((()=>{ae.Z.unsuccessful(Ps.errorSystem)})).finally((()=>{a(!1)})))}d.current=t;return s().createElement(ks,{loading:o,onAddFeature:()=>{bs.show({confirmCallback:p,setBarIds:r,title:_s})}})};var Ss="Included in the Launch";function js(){return Il().launch.bars.map((e=>s().createElement(vs,{key:e.id,featureID:e.id})))}const Cs=()=>{var e=Il().launch;return e&&e.id&&(Dc.checkLaunchesPermission(Pc.UPDATE)||function(e){return Array.isArray(e.bars)&&e.bars.length>0}(e))?s().createElement(yl.Z,{bsStyle:"primary",className:"launch-features-panel"},s().createElement(yl.Z.Heading,null,Ss),s().createElement(yl.Z.Body,null,s().createElement(js,null),s().createElement(Os,null))):null};const Ns=()=>s().createElement("div",null,s().createElement(Yl,null),s().createElement(Cs,null));function Ts(){Ts=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Is(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function As(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Is(a,n,o,i,c,"next",e)}function c(e){Is(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Rs="Task has been updated",Ds="Error while updating the task description. Please refresh and try again.";function Fs(e,t,r){return Ms.apply(this,arguments)}function Ms(){return(Ms=As(Ts().mark((function e(t,r,n){return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.launchChecklistItems.update({launchChecklistId:t.id,id:r.id,data:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gs=e=>{var t=e.launchChecklist,r=e.task,n=e.canEdit,o=Il().updateTask;if(!r)return null;var a=function(){var e=As(Ts().mark((function e(n){var a;return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===r.description){e.next=13;break}return r.description=n,a={launch_checklist_item:{description:n}},e.prev=3,e.next=6,Fs(t,r,a);case 6:o(t,r,!0),ae.Z.success(Rs),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),ae.Z.unsuccessful(Ds);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return n?s().createElement(tc.Z,{classes:"label-item__description label-item__name checklist-task-item",value:null===r||void 0===r?void 0:r.description,active:!1,useTextInput:!1,handleValueUpdate:a}):s().createElement("div",{className:"checklist-task-item static"},null===r||void 0===r?void 0:r.description)};Gs.propTypes={task:m().object,canEdit:m().bool,launchChecklist:m().object.isRequired};const Zs=Gs;function Bs(){Bs=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function qs(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Vs(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){qs(a,n,o,i,c,"next",e)}function c(e){qs(a,n,o,i,c,"throw",e)}i(void 0)}))}}var Hs="Task has been updated",$s="Error while updating the task name. Please refresh and try again.",Us="Error while updating the task name. Please provide a task name.";function zs(e,t,r){return Ys.apply(this,arguments)}function Ys(){return(Ys=Vs(Bs().mark((function e(t,r,n){return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.launchChecklistItems.update({launchChecklistId:t.id,id:r.id,data:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ws=e=>{var t=e.launchChecklist,r=e.task,n=e.canEdit,o=Il().updateTask;if(!r)return null;var a=function(){var e=Vs(Bs().mark((function e(n){var a;return Bs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.trim().length){e.next=3;break}return ae.Z.unsuccessful(Us),e.abrupt("return",!1);case 3:if(n===r.name){e.next=16;break}return r.name=n,a={launch_checklist_item:{name:n}},e.prev=6,e.next=9,zs(t,r,a);case 9:o(t,r,!0),ae.Z.success(Hs),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),ae.Z.unsuccessful($s);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}();return n?s().createElement(tc.Z,{classes:"label-item__name checklist-task-item",value:null===r||void 0===r?void 0:r.name,active:!1,handleValueUpdate:a,inputRequired:!0}):s().createElement("div",{className:"checklist-task-item static"},null===r||void 0===r?void 0:r.name)};Ws.propTypes={task:m().object,canEdit:m().bool,launchChecklist:m().object.isRequired};const Ks=Ws,Xs={addATask:"Add a Task"},Js={fields:{name:{label:"Name",placehodler:"Add a Task"},description:{label:"Description",placehodler:"Add a Description"},due_date:{label:"Due Date",placeholder:"Set a due date"},assigned_user:{label:"Assigned User",placeholder:"Assign task to ..."}}},Qs={addedTask:"New Task added",errorAddingTask:"Error while adding new Task. Try again later"};var eu=e=>{var t=e.onChangeHandler,r=e.onBlurHandler,n=void 0===r?()=>{}:r,o=e.autoFocus,a=void 0!==o&&o,i=e.value,c=void 0===i?null:i,l=e.options,u=void 0===l?[]:l;return s().createElement(s().Fragment,null,s().createElement("label",{htmlFor:"task_assigned_user"},Js.fields.assigned_user.label),s().createElement(In.Z.Input,{clearable:!0,openOnFocus:!0,searchable:!0,autoFocus:a,escapeClearsValue:!1,name:"assigned_user",value:c,options:u,onBlur:()=>n(),onChange:e=>{var r=e.target,n=r.value?r.value:null;t(n)},placeholder:Js.fields.assigned_user.placeholder,labelKey:"name",valueKey:"id",id:"task_assigned_user"}))};eu.propTypes={autoFocus:m().bool,onBlurHandler:m().func,onChangeHandler:m().func.isRequired,value:m().number,options:m().array.isRequired};const tu=eu;var ru=e=>{var t=e.task,r=e.onDoneHandler,n=e.launchChecklist,o=Il().updateTask,a=(0,l.useRef)(null),i=Bl(),c=Zl().data;return s().createElement("div",{className:"cell-item cell-item__owner--editing",ref:a},s().createElement(tu,{autoFocus:!0,onBlurHandler:r,onChangeHandler:e=>{if(e!==t.assigned_user_id){var a={launchChecklistId:n.id,id:t.id,data:{launch_checklist_item:{assigned_user_id:e}}};i.mutate(a,{onSuccess:e=>{var t=e.data;o(n,t.launch_checklist_item),r()}})}else r()},value:t.assigned_user_id,options:c||[]}))};ru.propTypes={task:m().object.isRequired,onDoneHandler:m().func.isRequired,launchChecklist:m().object.isRequired};const nu=ru;function ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return au(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return au(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function au(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iu(e){var t=e.assigned_username;return t?"@".concat(t):s().createElement("span",null,"\xa0")}var cu=e=>{var t=e.task,r=e.launchChecklist,n=e.canEdit,o=void 0!==n&&n,a=ou((0,l.useState)(!1),2),i=a[0],c=a[1];return t?o?i?s().createElement(nu,{task:t,onDoneHandler:c,launchChecklist:r}):s().createElement("span",{className:"cell-item cell-item__owner--editable",onClick:()=>c(!0)},iu(t)):s().createElement("span",{className:"cell-item cell-item__owner"},iu(t)):null};cu.propTypes={task:m().object,canEdit:m().bool,launchChecklist:m().object.isRequired};const lu=cu;var su=r(87850);function uu(){return uu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uu.apply(this,arguments)}var du=e=>'Select the section where you want to move "'.concat(e,'" to:'),hu="Move task to a different section",pu="Move";class fu extends l.Component{constructor(e){super(e),this.state={newSectionId:null,buttonEnabled:!1}}static show(e){return Xl.Z.show(this,e)}render(){var e=this.props,t=e.launchChecklist,r=e.task,n=e.checklists.filter((e=>e.id!==t.id));return s().createElement(Le.Z,uu({},this.props,{confirmButtonVariation:"primary",additionalClasses:"launch-move-modal",message:()=>du(r.description),title:hu,confirmButtonLabel:pu,confirmButtonEnabled:this.state.buttonEnabled,confirmCallback:()=>this.props.confirmCallback(this.state.newSectionId),buttonContainerClassname:"launch-move-modal__buttons"}),s().createElement("div",{className:"launch-move-modal__container"},s().createElement("div",{className:"launch-move-modal__box"},s().createElement(su.Z,{allowClear:!1,key:"move_from",inputId:"move_from_id",inputName:"name",label:"From:",options:[t],disabled:!0,value:t})),s().createElement("div",{className:"launch-move-modal__indicator"},s().createElement(T.Z,{name:T.c.arrowRight})),s().createElement("div",{className:"launch-move-modal__box"},s().createElement(su.Z,{allowClear:!1,key:"move_to",inputId:"move_to_id",inputName:"name",label:"To:",options:n,placeholder:"Select new section",onChange:e=>{this.setState({newSectionId:e.currentTarget.value,buttonEnabled:!0})}}))))}}fu.propTypes={confirmCallback:m().func.isRequired,checklists:m().array.isRequired,launchChecklist:m().object.isRequired,task:m().object.isRequired};const mu=fu;var vu={title:"Delete Task",confirmButton:"Confirm",message:"Are you sure you want to delete the following task?",deleteError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.id?s().createElement(s().Fragment,null,"There was an error deleting your task. Please ",s().createElement("a",{href:"/launch/".concat(e.id)},"refresh the page")," or try again later."):"There was an error deleting your task. Please wait a few minutes and try again."},taskDeleted:"Task has been deleted"},yu="Edit Menu",gu={delete:"Delete",move:"Move to section"},wu={moved:"Task moved to new section",errorMoving:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.id?s().createElement(s().Fragment,null,"There was an error moving your task. Please ",s().createElement("a",{href:"/launch/".concat(e.id)},"refresh the page")," or try again later."):"There was an error moving your task. Please wait a few minutes and try again."}},bu=e=>{var t=e.task,r=e.launchChecklist,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Rl.useMutation)(F.default.launchChecklistItems.delete,Ml({},e))}(),o=Bl(),a=Il(),i=a.removeTask,c=a.launch,u=a.checklists,d=a.moveTask,h=(0,l.useMemo)((()=>c.launch_checklists.length>1),[c]),p=()=>{var e={launchChecklistId:r.id,id:t.id};n.mutate(e,{onSuccess:()=>{i(r,t),ae.Z.success(vu.taskDeleted)},onError:()=>{ae.Z.unsuccessful(vu.deleteError(c))}})},f=e=>{var n={launchChecklistId:r.id,id:t.id,data:{launch_checklist_item:{owner_id:e}}};o.mutate(n,{onSuccess:t=>{var n=t.data;d({from:r.id,to:parseInt(e),task:n.launch_checklist_item}),ae.Z.success(wu.moved)},onError:()=>{ae.Z.unsuccessful(wu.errorMoving(c))}})};return t&&t.id&&Dc.checkChecklistPermission(Pc.DELETE)?s().createElement(bc.Z,{id:"menu-item__delete",noCaret:!0,pullRight:!0,bsSize:"xsmall",bsStyle:"default",className:"menu-button__delete",title:s().createElement(T.Z,{name:T.c.ellipsisVertical,title:yu})},s().createElement(Ec.Z,{className:"menu-item__delete",onClick:()=>{var e=s().createElement("blockquote",null,t.name);ts.show({language:vu,details:e,confirmCallback:p})}},gu.delete),h&&s().createElement(Ec.Z,{className:"menu-item__move",onClick:()=>{mu.show({launchChecklist:r,task:t,checklists:u,confirmCallback:f})}},gu.move)):null};bu.propTypes={task:m().object,launchChecklist:m().object.isRequired};const Eu=bu;var xu=r(19728);var _u="Mark as completed",Lu="Error while updating the task. Please try again.";function Pu(e,t,r){var n=Ne()({"task-check__container":!0,"task-check__container--completed":e.completed,"task-check__container--active":!e.completed,"task-check__container--disabled":!r});return s().createElement("div",{className:"task-check__wrapper"},s().createElement("span",{className:n,onClick:()=>t(e)},e.completed?s().createElement(T.Z,{name:T.c.check}):s().createElement(s().Fragment,null,"\xa0")))}var ku=e=>{var t=e.item,r=e.canEdit,n=e.launchChecklist,o=Il().updateTask,a=e=>{if(r){var t={launch_checklist_item:{completed:!e.completed}},a=e.completed;e.completed=!a,o(n,e),F.default.launchChecklistItems.complete(n.id,e.id,t).catch((()=>{e.completed=a,o(n,e),ae.Z.unsuccessful(Lu)}))}};return t.completed||!r?Pu(t,a,r):s().createElement(Io.Z,{overlay:s().createElement(xu.Z,{id:"resolve-tooltip"},_u),placement:"bottom"},Pu(t,a,r))};ku.propTypes={item:m().object,canEdit:m().bool.isRequired,launchChecklist:m().object.isRequired};const Ou=ku;function Su(){Su=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ju(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Cu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Nu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nu(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Tu="Task has been updated",Iu="Error while updating the task name. Please refresh and try again.",Au="Error while updating the task name. Please provide a task name.";function Ru(e,t,r){return F.default.launchChecklistItems.update({launchChecklistId:e.id,id:t.id,data:r})}var Du=e=>{var t=e.canEdit,r=e.task,n=e.launchChecklist,o=Il().updateTask,a=Cu((0,l.useState)(!1),2),i=a[0],c=a[1];if(!r)return null;var u=function(){var e,t=(e=Su().mark((function e(t){var a,i;return Su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&t){e.next=2;break}return e.abrupt("return",ae.Z.unsuccessful(Au));case 2:return a={launch_checklist_item:{due_date:t}},i=r.due_date,e.prev=4,d(t),o(n,r,!0),e.next=9,Ru(n,r,a);case 9:ae.Z.success(Tu),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),ae.Z.unsuccessful(Iu),d(i);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ju(a,n,o,i,c,"next",e)}function c(e){ju(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),d=e=>{r.due_date=e,o(n,r,!0)},h=(e=>(null===e||void 0===e?void 0:e.due_date)||null)(r);return i||!t?s().createElement(yc,{date:h,canEdit:t,updateHandler:u,autoFocus:!0,onBlurHandler:()=>c(!1)}):s().createElement("span",{className:"cell-item cell-item__due_date--editable",onClick:()=>c(!0)},mc(h))};Du.propTypes={task:m().object,canEdit:m().bool,launchChecklist:m().object.isRequired};const Fu=Du;var Mu=[{label:"Past Due",value:"past_due"}],Gu=e=>{var t=e.task,r=!t.completed&&On()()>On()(t.due_date),n=e=>s().createElement("div",{className:"launch-table__status-select-item launch-table__status-select-item--".concat(e.value)},s().createElement("div",{className:"launch-table__status-select-name"},e.label));return r&&s().createElement("div",{className:"launch-table__status-select--static"}," ",function(e){return null===e.value||""===e.value?null:n(e)}(Mu[0]))};Gu.propTypes={task:m().object.isRequired};const Zu=Gu;var Bu="completed",qu="actions",Vu="name",Hu="description",$u="past_due",Uu="due_date",zu="assigned_user_id",Yu=e=>{var t,r=e.column,n=e.rowItem,o=e.canEdit,a=e.launchChecklist;if(!n)return null;var i,c=Dc.checkChecklistPermission(Pc.COMPLETE,n);switch(r.key){case qu:t=Dc.checkChecklistPermission(Pc.DELETE)?s().createElement(Eu,{task:n,launchChecklist:a}):null;break;case Bu:t=s().createElement(Ou,{canEdit:c,item:n,launchChecklist:a});break;case Vu:t=s().createElement(Ks,{canEdit:o,task:n,launchChecklist:a});break;case Hu:t=s().createElement(Zs,{canEdit:o,task:n,launchChecklist:a});break;case $u:t=s().createElement(Zu,{task:n});break;case Uu:t=s().createElement(Fu,{canEdit:o,task:n,launchChecklist:a});break;case zu:t=s().createElement(lu,{canEdit:o,task:n,launchChecklist:a});break;default:t=null}return i=t,s().createElement(s().Fragment,null,i)};Yu.propTypes={column:m().object,rowItem:m().object,launchChecklist:m().object};const Wu=Yu;function Ku(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?"launch-checklist__row-".concat(e):""}var Xu=e=>{var t=e.item,r=e.columnHeaders,n=(e=>s().createElement(Wu,{launchChecklist:e}))(e.launchChecklist);return t?t&&s().createElement(s().Fragment,null,s().createElement(qi,{key:null===t||void 0===t?void 0:t.id,rowItem:t,columnItem:n,columnHeaders:r,rowClasses:"".concat(Ku(null===t||void 0===t?void 0:t.id)).concat(null!==t&&void 0!==t&&t.completed?" completed":""),canEdit:Dc.checkChecklistPermission(Pc.UPDATE)})):null};Xu.propTypes={item:m().object,columnHeaders:m().array,launchChecklist:m().object.isRequired};const Ju=Xu;var Qu="Error while updating the section name. Please provide a section name.",ed=e=>{var t=e.launchChecklist,r=e.updateHandler,n=void 0===r?()=>{}:r;return Dc.checkPermission(Sc,Pc.UPDATE)?s().createElement(tc.Z,{classes:"header-name-editable__name",value:t.name,active:!1,handleValueUpdate:e=>{0!==e.trim().length?e!==t.name&&n(e):ae.Z.unsuccessful(Qu)},inputRequired:!0}):null};ed.propTypes={launchChecklist:m().object.isRequired,updateHandler:m().func.isRequired};const td=ed;function rd(){rd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function nd(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}var od="Name updated",ad="Error while updating the name. Please try again.",id=e=>{var t=e.canEdit,r=e.launchChecklist,n=Il().updateChecklist,o=function(){var e,t=(e=rd().mark((function e(t){return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.name=t,e.prev=1,n(r),e.next=5,F.default.launchChecklist.update({id:r.id,data:r});case 5:ae.Z.success(od),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ae.Z.unsuccessful(ad);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){nd(a,n,o,i,c,"next",e)}function c(e){nd(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return null!==r&&void 0!==r&&r.id?t?s().createElement(td,{launchChecklist:r,updateHandler:o}):(e=>s().createElement("span",{title:e.name},e.name))(r):null};id.propTypes={launchChecklist:m().object.isRequired,canEdit:m().bool.isRequired};const cd=id;function ld(){ld=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function sd(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function ud(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hd={title:"Delete Section",confirmButton:"Delete",message:"",details:e=>s().createElement(s().Fragment,null,"Are you sure you want to delete the section ",s().createElement("b",null,"'".concat(e,"'")),"? All tasks within this section will be deleted."),deleteError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.id?s().createElement(s().Fragment,null,"There was an error deleting your section. Please ",s().createElement("a",{href:"/launch/".concat(e.id)},"refresh the page")," or try again later."):"There was an error deleting your section. Please wait a few minutes and try again."},sectionDeleted:"Section has been deleted",modalConditionals:[{text:"Delete section and all tasks within this section",isChecked:!1}]},pd={button:{label:"Delete"}};function fd(e){return F.default.launchChecklist.delete(e)}var md=e=>{var t=e.sectionID,r=Il(),n=r.launch,o=r.removeChecklist,a=r.setLaunch,i=n.launch_checklists.find((e=>e.id==t)),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ud(Object(r),!0).forEach((function(t){dd(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ud(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n),l=n.launch_checklists.length<=1||!i,u=function(){var e,r=(e=ld().mark((function e(){return ld().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(i),d(),e.prev=2,e.next=5,fd(t);case 5:ae.Z.success(hd.sectionDeleted),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),ae.Z.unsuccessful(hd.deleteError(n)),a(c);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){sd(a,n,o,i,c,"next",e)}function c(e){sd(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),d=()=>Kl()(hd.modalConditionals,(function(e){return e.isChecked=!1,e}));return l||!Dc.checkChecklistPermission(Pc.DELETE)?null:s().createElement("div",{className:"menu-button__container"},s().createElement(bc.Z,{noCaret:!0,pullRight:!0,bsSize:"xsmall",bsStyle:"default",className:"menu-button__delete",title:s().createElement(T.Z,{name:T.c.ellipsisVertical,title:pd.menuTitle})},s().createElement(Ec.Z,{className:"menu-item__delete",onClick:()=>{ts.show({language:hd,details:hd.details(i.name),confirmCallback:u,additionalClasses:"checklist-delete-section launch-delete-modal",modalConditionals:hd.modalConditionals,cancelCallback:d})}},pd.button.label)))};md.propTypes={sectionID:m().number};const vd=md;var yd=e=>{var t=e.launchChecklist;if(null===t||void 0===t||!t.id)return null;var r=Dc.checkPermission(Sc,Pc.UPDATE);return s().createElement("div",{className:"launch-checklist-header"},s().createElement(cd,{launchChecklist:t,canEdit:r}),s().createElement(vd,{sectionID:t.id}))};yd.propTypes={launchChecklist:m().object.isRequired};const gd=yd;function wd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return bd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ed=e=>{var t=e.date,r=e.setDueDate,n=wd((0,l.useState)(!1),2),o=n[0],a=n[1];return o?s().createElement(yc,{date:t,canEdit:!0,updateHandler:e=>{e&&r(e)},autoFocus:!0,onBlurHandler:()=>a(!1)}):s().createElement("span",{className:"cell-item cell-item__due_date--editable static",onClick:()=>{a(!0)}},mc(t,s().createElement("span",{className:"add-due-date"},s().createElement(T.Z,{name:T.c.calendar}),Js.fields.due_date.placeholder)))};Ed.propTypes={date:m().any,setDueDate:m().func.isRequired};const xd=Ed;function _d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ld(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ld(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ld(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pd=e=>{var t=e.addingHandler,r=void 0===t?()=>{}:t,n=e.launchChecklist,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Rl.useMutation)(F.default.launchChecklistItems.create,Ml({},e))}(),a=Il().addTask,i=_d((0,l.useState)(""),2),c=i[0],u=i[1],d=_d((0,l.useState)(""),2),h=d[0],p=d[1],f=_d((0,l.useState)(null),2),m=f[0],v=f[1],y=_d((0,l.useState)(null),2),g=y[0],w=y[1],b=Zl().data,E=(0,l.useRef)(null),x=(0,l.useCallback)((()=>{u(""),p(""),v(null),w(new Date),r(!1)}),[u,r]),_=(0,l.useCallback)((e=>{if(e&&e.preventDefault(),!o.isLoading){var t=g?On()(g).format(Sn.Z.dateFormat):null,r={launchChecklistId:n.id,data:{description:h,name:c,assigned_user_id:m,due_date:t}};(function(e){return e&&e.trim().length>0})(c)&&o.mutate(r,{onSuccess:e=>{var t=e.data.launch_checklist_item,r=t.id;a(n,t),x(),ae.Z.success(Qs.addedTask),function(e){if(e){var t=".".concat(Ku(e)),r="--highlight";document.querySelector(t)&&(document.querySelector(t).classList.add(r),setTimeout((()=>{document.querySelector(t).classList.remove(r)}),300))}}(r)},onError:()=>{ae.Z.unsuccessful(Qs.errorAddingTask),x()}})}}),[g,n,c,h,m,a,x,o]),L=(0,l.useCallback)((e=>{27===e.keyCode&&x(),13===e.keyCode&&_()}),[x,_]),P=(0,l.useCallback)((e=>{var t=e.target.classList.contains("Select-option")||e.target.classList.contains("Select-clear");!E.current||E.current.contains(e.target)||t||_()}),[_]);(0,l.useEffect)((()=>(document.addEventListener("keydown",L),document.addEventListener("mousedown",P),()=>{document.removeEventListener("keydown",L),document.removeEventListener("mousedown",P)})),[L,P]);return s().createElement(s().Fragment,null,s().createElement("tr",{ref:E,className:"launch-tasks-add__container"},s().createElement("td",{className:"launch-tasks-add__field-button"},s().createElement("div",{className:"launch-tasks-add__field-container"},s().createElement("button",{className:"launch-tasks-add__button-complete",type:"submit",onClick:_},o.isLoading?s().createElement(T.Z,{classes:T.c.spin,name:T.c.spinner}):s().createElement(T.Z,{name:T.c.plus})))),!o.isLoading&&s().createElement(s().Fragment,null,s().createElement("td",{className:"launch-tasks-add__field-name"},s().createElement("div",{className:"launch-tasks-add__field-container"},s().createElement("label",{htmlFor:"task_name"},Js.fields.name.label),s().createElement("input",{autoFocus:!0,id:"task_name",type:"text",value:c,placeholder:Js.fields.name.placehodler,onChange:e=>u(e.currentTarget.value)}))),s().createElement("td",{className:"launch-tasks-add__field-description",colSpan:"2"},s().createElement("div",{className:"launch-tasks-add__field-container"},s().createElement("label",{htmlFor:"task_description"},Js.fields.description.label),s().createElement("textarea",{id:"task_description",type:"text",value:h,placeholder:Js.fields.description.placehodler,onChange:e=>p(e.currentTarget.value)}))),s().createElement("td",{className:"launch-tasks-add__field-due_date"},s().createElement("div",{className:"launch-tasks-add__field-container"},s().createElement("div",{className:"due-date-container"},s().createElement(xd,{date:g,setDueDate:w})))),s().createElement("td",{className:"launch-tasks-add__field-assigned-user",colSpan:"2"},s().createElement("div",{className:"launch-tasks-add__field-container"},s().createElement(tu,{value:m,options:b||[],onChangeHandler:v}))))))};Pd.propTypes={addingHandler:m().func.isRequired,launchChecklist:m().object.isRequired};const kd=Pd;function Od(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Sd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jd=e=>{var t=e.addingHandler,r=void 0===t?()=>{}:t;return s().createElement(s().Fragment,null,s().createElement("tr",{className:"launch-tasks-add__container"},s().createElement("td",{className:"launch-tasks-add__field-button",colSpan:"7"},s().createElement("div",{className:"launch-tasks-add__field-container"},s().createElement("button",{className:"launch-tasks-add__button",onClick:()=>r(!0)},s().createElement(T.Z,{name:T.c.plus}),s().createElement("span",null,Xs.addATask))))))},Cd=e=>{var t=e.launchChecklist,r=Od((0,l.useState)(!1),2),n=r[0],o=r[1];return null!==t&&void 0!==t&&t.id&&Dc.checkChecklistPermission(Pc.ADD)?n?s().createElement(kd,{addingHandler:o,launchChecklist:t}):s().createElement(jd,{addingHandler:o}):null};Cd.propTypes={launchChecklist:m().object.isRequired},jd.propTypes={addingHandler:m().func.isRequired};const Nd=Cd;var Td=[{name:"",key:"completed",emptyHeader:!0,useEllipsis:!1},{name:"Tasks",key:"name"},{name:"Description",key:"description"},{name:"",key:"past_due",emptyHeader:!0,useEllipsis:!1},{name:"Due",key:"due_date"},{name:"Owner",key:"assigned_user_id"},{name:"",key:"actions",emptyHeader:!0,useEllipsis:!1}],Id=e=>{var t=e.launchChecklist,r=null===t||void 0===t?void 0:t.launch_checklist_items,n=(e=>s().createElement(Ju,{launchChecklist:e}))(t),o=Ne()({"launch-checklist__container":!0}),a=(e=>s().createElement(Nd,{launchChecklist:e}))(t);return t.id?s().createElement("div",{className:o,id:"section-".concat(t.id)},s().createElement(gd,{launchChecklist:t}),s().createElement(Mi,{columnHeaders:Td,rows:r,row:n,footer:a})):null};Id.propTypes={launchChecklist:m().object.isRequired};const Ad=Id;function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(this,arguments)}function Dd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fd extends s().Component{constructor(e){super(e),Dd(this,"state",{formValue:""}),Dd(this,"handleChange",(e=>{this.props.setSectionTitle(e),this.setState({formValue:e})})),Dd(this,"shouldDisableSubmit",(()=>0==this.state.formValue.trim().length)),Dd(this,"handleClose",(()=>{this.addSectionModal.close()})),Dd(this,"handleSubmit",(()=>{this.props.confirmCallback(),this.addSectionModal.close()}))}static show(e){return Xl.Z.show(this,e)}render(){var e=this.props.language;return s().createElement(Xl.Z,Rd({ref:e=>{this.addSectionModal=e},title:e.title,bodyClass:"add-section-modal pp-modal-body",additionalClasses:"add-section-modal",onClose:this.handleClose},this.props),s().createElement("form",{id:"add-section-modal__section_form",onSubmit:this.handleSubmit},s().createElement(Ya.Z,{className:"vertical"},s().createElement(Xa.Z,{type:"text",id:"new-checklist-section-name",controlId:"new-checklist-section-name",placeholder:e.placeholder,onChange:e=>this.handleChange(e.target.value)})),s().createElement("div",{className:"add-section-modal__form-buttons"},s().createElement(Ja.Z,{bsStyle:"primary",className:"js-submit",type:"submit",disabled:this.shouldDisableSubmit()},e.buttons.addSection))))}}Dd(Fd,"propTypes",{confirmCallback:m().func.isRequired,setSectionTitle:m().func.isRequired,language:m().object.isRequired});const Md=Fd;function Gd(){Gd=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(k){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return P()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===u)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=s(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};c(f,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,o)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,a,i,c){var l=s(e[o],e,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,c)}))}c(l.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(l(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Zd(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,o)}function Bd(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Zd(a,n,o,i,c,"next",e)}function c(e){Zd(a,n,o,i,c,"throw",e)}i(void 0)}))}}function qd(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){c=!0,o=l}finally{try{i||null==r.return||r.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Vd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hd={title:"Add a Section",buttons:{addSection:"Add Section"},placeholder:"Type to add a new section",create:{success:e=>s().createElement(s().Fragment,null,s().createElement("b",null,'"'.concat(e,'"'))," section has been created"),errorSystem:"Error creating Section. Please try again later."}},$d=()=>{var e=Il(),t=e.launch,r=e.addChecklist,n=qd((0,l.useState)(""),2),o=n[0],a=n[1],i=Dc.checkChecklistPermission(Pc.ADD),c=(0,l.useRef)();function u(){return d.apply(this,arguments)}function d(){return(d=Bd(Gd().mark((function e(){var n,o,a,i;return Gd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=(n=c.current.trim()).length){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,F.default.launchChecklist.create({launch_id:t.id,name:n});case 6:a=e.sent,i=n,r(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.launch_checklist),ae.Z.success(Hd.create.success(i)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),ae.Z.unsuccessful(Hd.create.errorSystem);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))).apply(this,arguments)}return c.current=o,i?s().createElement("div",{className:"add-section"},s().createElement("button",{className:"add-section__button btn btn-primary btn-sm",onClick:()=>((e,t)=>{Md.show({confirmCallback:e,language:Hd,setSectionTitle:t})})(u,a)},s().createElement(T.Z,{name:T.c.plus}),s().createElement("span",null,Hd.title))):null};$d.propTypes={};const Ud=$d;const zd=()=>{var e=Il(),t=e.launch,r=e.draggableSectionIdCaptured;if(null==t||null==t.launch_checklists||0==t.launch_checklists.length)return null;var n=t.launch_checklists.map((e=>{var t=r===e.id;return s().createElement(Ad,{key:e.id,launchChecklist:e,isDragging:t})})),o=Ne()({"launch-checklists__container":!0});return s().createElement(s().Fragment,null,s().createElement(Ud,null),s().createElement("div",{className:o},n))};var Yd=new Rl.QueryClient,Wd=e=>{var t=e.launch;return s().createElement(Rl.QueryClientProvider,{client:Yd},s().createElement(Al,{defaultLaunch:t},s().createElement(ml.Z,{showList:!0,selectedLaunch:t}),s().createElement("div",{className:"launch-details-manager__container"},s().createElement(Na,{opened:!0,leftComponent:s().createElement(Ns,null),rightComponent:s().createElement(zd,null)}))))};Wd.propTypes={launch:m().object.isRequired};const Kd=Wd;function Xd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a()(window.ProductPlan,{EventsChannel:ie.default,EventRegistrar:new be,UndoQueue:i.Z,UndoListenerRegistry:ne,SelectedBarsCollection:c.Z,MultiSelectListenerRegistry:ue,renderIntegrationMappings:function(e,t,r){e=e.replace("Integration","");var n=document.getElementById("custom-mappings");(0,u.render)(s().createElement(Qn,{integrationId:t,integrationName:e,mappings:r}),n)},CollapsibleContainer:xa.Z}),window.ProductPlan.userSettingsController=new X,window.ProductPlan.roadmapsController=new qr,window.ProductPlan.profileController=new Ea,window.ProductPlan.layout=Hr,window.check_window_resize=window.ProductPlan.layout.drawTimeline,window.ProductPlan.publicRoadmapsController=new $r,window.ProductPlan.publicMasterPlansController=new zr,window.ProductPlan.LegendsModal=Kr,window.ProductPlan.LanesModal=Jr,window.ProductPlan.LabelGroupsModal=en,window.ProductPlan.jiraIssuesController=new an,window.ProductPlan.masterPlansController=new cn,window.ProductPlan.MasterPlanManager=bn,window.ProductPlan.MasterPlan=Ur.Z,window.ProductPlan.fullScreenSettings=new Pn,window.ProductPlan.displaySettings=new Cn,window.ProductPlan.launchController=new class{constructor(){Xd(this,"index",(()=>{window.launchManagement=!0,document.getElementById("page-content").classList.add("launch-page");var e=document.querySelector("#js-launch-manager");d().render(s().createElement(vl),e)})),Xd(this,"show",(()=>{var e;if(null!==(e=window.launchManager)&&void 0!==e&&e.launch){var t=window.launchManager.launch;window.launchManagement=!0,document.getElementById("page-content").classList.add("launch-details-page");var r=document.querySelector("#js-launch-details-manager");d().render(s().createElement(Kd,{launch:t}),r)}}))}}},58865:()=>{},89563:(e,t,r)=>{e.exports=r.p+"static/mp_notifications_icon-24a079f4020df6c8c654.png"},36007:(e,t,r)=>{e.exports=r.p+"static/roadmap_notifications_icon-f3b448b560eaf12a84ba.png"}},e=>{e.O(0,[736],(()=>{return t=14723,e(e.s=t);var t}));e.O()}]);