/*! For license information please see application-1b6c20392bae96982528.js.LICENSE.txt */
(()=>{var __webpack_modules__={4962:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n,a=r(51584),o=r.n(a),i=(n=void 0,(i=class e{static initClass(){n=e=>o()(e)&&e}static build(t){return new e(t)}constructor(e){void 0===e?(this.strategicImportanceVisible=!0,this.percentCompleteVisible=!0,this.effortVisible=!0,this.datesVisible=!0,this.connectionsVisible=!0):(this.strategicImportanceVisible=n(e.bar_strategic_importance),this.percentCompleteVisible=n(e.bar_percent_complete),this.effortVisible=n(e.bar_effort),this.datesVisible=n(e.bar_dates),this.connectionsVisible=n(e.bar_connections),this.commentsVisible=void 0===e.bar_comments||n(e.bar_comments))}}).initClass(),i);const s=i},84256:(e,t,r)=>{"use strict";r.d(t,{Ik:()=>l,K3:()=>c,Un:()=>i,YL:()=>p,ZC:()=>s,sN:()=>d});var n=r(63105),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=Object.freeze({ADO:"VstsLink",JIRA:"JiraLink",TRACKER:"PivotalLink",TRELLO:"TrelloLink",GITHUB:"GithubLink",WEBLINK:"WebLink",VSTS:"VstsLink"}),s=e=>class extends e{constructor(){super(...arguments),o(this,"integrationsLinks",(()=>a()(this.links,(e=>e.type!==i.WEBLINK)))),o(this,"deadLinks",(()=>a()(this.integrationsLinks(),(e=>!0===e.is_dead)))),o(this,"hasDeadLinks",(()=>this.deadLinks().length>0)),o(this,"hasIntegrationsLinks",(()=>this.integrationsLinks().length>0)),o(this,"hasSingleIntegrationLink",(()=>{var e;return 1===this.integrationsLinks().length&&!(null!==(e=this.integrationsLinks()[0])&&void 0!==e&&e.is_query_link)})),o(this,"hasSingleIntegrationLinkForType",(e=>this.hasSingleIntegrationLink()&&1===this.getThirdPartyIntegrationLinks(e).length)),o(this,"getThirdPartyIntegrationLinks",(e=>a()(this.links,(t=>t.type===e)))),o(this,"jiraLinks",(()=>this.getThirdPartyIntegrationLinks(i.JIRA))),o(this,"trelloLinks",(()=>this.getThirdPartyIntegrationLinks(i.TRELLO))),o(this,"trackerLinks",(()=>this.getThirdPartyIntegrationLinks(i.TRACKER))),o(this,"vstsLinks",(()=>this.getThirdPartyIntegrationLinks(i.ADO))),o(this,"githubLinks",(()=>this.getThirdPartyIntegrationLinks(i.GITHUB)))}},l=Object.freeze({LOCKED:"locked",UNLOCKED:"unlocked",NOT_VISIBLE:"not_visible"}),c=e=>{var t=["name","description","dates","tag_list","strategic_value","notes","effort","lane","legend"];if(e.fields.length>0){var r=e.fields.map((e=>e.key));t.push(...r)}return t},u=Object.freeze({jira:i.JIRA,trello:i.TRELLO,pivotal:i.TRACKER,vsts:i.ADO,github:i.GITHUB}),d=e=>u[e],h=Object.freeze({[i.JIRA]:"jira",[i.TRELLO]:"trello",[i.TRACKER]:"pivotal",[i.ADO]:"vsts",[i.GITHUB]:"github"}),p=e=>h[e]},20297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>G});var n=r(41609),a=r.n(n),o=r(82729),i=r.n(o),s=r(84486),l=r.n(s),c=r(27361),u=r.n(c),d=r(711),h=r.n(d),p=r(35161),f=r.n(p),m=r(89734),v=r.n(m),g=r(63105),y=r.n(g),b=r(64721),w=r.n(b),C=r(77043),E=r.n(C),_=r(80008),x=r.n(_),L=r(56264),P=r.n(L),O=r(55652),S=r(51793),k=r(12404),T=r(39012),D=r(40902),I=r(84256),R=r(59704),A=r.n(R),j=r(56546);function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=e=>class extends e{constructor(){super(...arguments),M(this,"syncSettingsKeyByType",Object.freeze({[I.Un.JIRA]:"jira.enabled_fields",[I.Un.TRELLO]:"trello.enabled_fields",[I.Un.TRACKER]:"pivotal.enabled_fields",[I.Un.ADO]:"vsts.enabled_fields",[I.Un.GITHUB]:"github.enabled_fields"})),M(this,"integrationLabelByType",Object.freeze({[I.Un.JIRA]:"Jira",[I.Un.TRELLO]:"Trello",[I.Un.TRACKER]:"Tracker",[I.Un.ADO]:"Azure DevOps",[I.Un.GITHUB]:"Github"})),M(this,"integrationSyncEnabledFields",(()=>this.settings&&this.settings.sync_enabled_fields||[])),M(this,"hasIntegrationFieldSyncEnabled",(e=>this.integrationSyncEnabledFields().includes(e))),M(this,"getIntegrationSyncedFieldsForType",(e=>u()(this.roadmap.thirdPartyIntegrationsSettings,this.syncSettingsKeyByType[e],void 0))),M(this,"isBarFieldSyncEnabledForType",(e=>this.hasSingleIntegrationLinkForType(e)&&this.getIntegrationSyncFields(e).length>0)),M(this,"getIntegrationSyncFields",(e=>{var t=this.getIntegrationSyncedFieldsForType(e);return t&&t.length>0&&this.hasSingleIntegrationLinkForType(e)?t:[]})),M(this,"jiraSyncFields",(()=>this.getIntegrationSyncFields(I.Un.JIRA))),M(this,"trelloSyncFields",(()=>this.getIntegrationSyncFields(I.Un.TRELLO))),M(this,"trackerSyncFields",(()=>this.getIntegrationSyncFields(I.Un.TRACKER))),M(this,"vstsSyncFields",(()=>this.getIntegrationSyncFields(I.Un.ADO))),M(this,"githubSyncFields",(()=>this.getIntegrationSyncFields(I.Un.GITHUB))),M(this,"isDateRangeSyncSupported",(()=>!!this.hasSingleIntegrationLink()&&(this.isBarFieldSyncEnabledForType(I.Un.ADO)||this.isBarFieldSyncEnabledForType(I.Un.JIRA)))),M(this,"isDateRangeSyncEnabled",(()=>this.isDateRangeSyncSupported()&&this.hasIntegrationFieldSyncEnabled("dates")&&(-1!=this.jiraSyncFields().indexOf("dates")||-1!=this.vstsSyncFields().indexOf("dates")))),M(this,"isLaneSyncEnabled",(()=>{var e;return this.hasSingleIntegrationLink()&&this.hasIntegrationFieldSyncEnabled("lane")&&(null===(e=this.fieldSyncLockSettings)||void 0===e?void 0:e.lane)==I.Ik.LOCKED})),M(this,"hasChildBarsWithRemoteChangesPendingToSync",(()=>A()(this.bars(),(e=>e.hasRemoteChangesPendingToSync())))),M(this,"isRemoteDateRangeSyncEnabled",(()=>j.Z.isRemoteBarSyncFeatureEnabled()&&this.isDateRangeSyncEnabled())),M(this,"canBeRemotelySynced",(()=>!1===this.parked&&!1===this.deleted&&this.isRemoteDateRangeSyncEnabled())),M(this,"hasChildBarsThatCanBeRemotelySynced",(()=>A()(this.bars(),(e=>e.canBeRemotelySynced())))),M(this,"hasChildDateRangeSyncEnabled",(()=>!1!==this.hasChildBars()&&this.bars().some((e=>e.isDateRangeSyncEnabled())))),M(this,"isSelfOrChildrenPendingRemoteSync",(()=>this.hasRemoteChangesPendingToSync()||this.hasChildBarsWithRemoteChangesPendingToSync())),M(this,"dateRangeEnabledClass",(()=>this.isDateRangeSyncEnabled()?"date-synced-bar":"date-unsynced-bar")),M(this,"childDateSyncedContainerClass",(()=>{if(this.isDateRangeSyncEnabled())return"child-date-synced-bar"}))}barFieldSyncLinkType(){return this.isBarFieldSyncEnabledForType(I.Un.JIRA)?I.Un.JIRA:this.isBarFieldSyncEnabledForType(I.Un.ADO)?I.Un.ADO:null}hasRemoteChangesPendingToSync(){return this.isPendingRemoteSync&&this.canBeRemotelySynced()}supportsResize(){return!this.isDateRangeSyncEnabled()||this.canBeRemotelySynced()}dateRangeSyncIntegrationName(){return this.isDateRangeSyncEnabled()?this.hasSingleIntegrationLinkForType(I.Un.JIRA)?"Jira":this.hasSingleIntegrationLinkForType(I.Un.ADO)?"Azure DevOps":null:null}deadLinkSyncIntegrationName(){if(!this.hasDeadLinks())return null;var e=this.deadLinks()[0].type;return this.integrationLabelByType[e]}childDateRangeSyncIntegrationNames(){if(!this.hasChildDateRangeSyncEnabled())return"";var e=this.bars().reduce(((e,t)=>e.includes(t.dateRangeSyncIntegrationName())||null===t.dateRangeSyncIntegrationName()||void 0===t.dateRangeSyncIntegrationName()?e:[...e,t.dateRangeSyncIntegrationName()]),[]);return e.sort().join(", ")}};var B=r(18991);function F(){F=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function V(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Z(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){V(o,n,a,i,s,"next",e)}function s(e){V(o,n,a,i,s,"throw",e)}i(void 0)}))}}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const G=N((0,I.ZC)(class{constructor(e){var t,r=this;U(this,"update",(e=>{var t;this.setName(e),this.setParked(e),this.setPosition(e),this.setDeleted(e),this.setSelected(e),this.updateLegend(e),this.updatePositioningAttributes(e),this.setTags(e),this.setIsPendingRemoteSync(e),this.customLabels=P().camelizeKeys(null!==(t=e.custom_labels)&&void 0!==t?t:[]),void 0!==e.fields&&(this.fields=e.fields)})),U(this,"updatePositioningAttributes",(e=>{this.setLane(e),this.setSublaneId(e),"containerId"in e&&(this.containerId=e.containerId),this.setIsContained(e),this.setIsContainer(e),this.setActualStartUnits(e),this.setActualEndUnits(e),this.setUniformStartUnits(e),this.setUniformEndUnits(e),this.setStartsOn(e),this.setEndsOn(e)})),U(this,"updateDatesWithinRoadmap",(e=>{var t=this.roadmap.timelineSettings(),r=t.calendar.isActualCalendar();if(e.startsOn){this.setStartsOn(e);var n=t.dateToUnits(e.startsOn);r?this.setActualStartUnits({actualStartUnits:n}):this.setUniformStartUnits({uniformStartUnits:n})}if(e.endsOn){this.setEndsOn(e);var a=t.dateToUnits(e.endsOn);r?this.setActualEndUnits({actualEndUnits:a}):this.setUniformEndUnits({uniformEndUnits:a})}})),U(this,"setIsPendingRemoteSync",(e=>{void 0!==e.isPendingRemoteSync?this.isPendingRemoteSync=e.isPendingRemoteSync:void 0!==e.pending_remote_sync&&(this.isPendingRemoteSync=e.pending_remote_sync)})),U(this,"setSublaneId",(e=>{void 0!==e.sublane_id?this.sublaneId=e.sublane_id:void 0!==e.sublaneId?this.sublaneId=e.sublaneId:void 0!==e.lane_position?this.sublaneId=e.lane_position:void 0!==e.lanePosition&&(this.sublaneId=e.lanePosition),this.hasSublane=0===this.sublaneId||!!this.sublaneId})),U(this,"setActualStartUnits",(e=>{void 0!==e.actualStartUnits&&(this.actualStartUnits=e.actualStartUnits)})),U(this,"setActualEndUnits",(e=>{void 0!==e.actualEndUnits&&(this.actualEndUnits=e.actualEndUnits)})),U(this,"setUniformStartUnits",(e=>{void 0!==e.uniformStartUnits&&(this.uniformStartUnits=e.uniformStartUnits)})),U(this,"setUniformEndUnits",(e=>{void 0!==e.uniformEndUnits&&(this.uniformEndUnits=e.uniformEndUnits)})),U(this,"setStartsOn",(e=>{void 0!==e.startsOn&&(this.startsOn=e.startsOn)})),U(this,"setEndsOn",(e=>{void 0!==e.endsOn&&(this.endsOn=e.endsOn)})),U(this,"setParked",(e=>{void 0!==e.parked&&(this.parked=e.parked)})),U(this,"setIsContainer",(e=>(void 0!==e.isContainer?this.isContainer=e.isContainer:void 0!==e.container?this.isContainer=e.container:void 0!==e.is_container&&(this.isContainer=e.is_container),this.setRenderChildren(this.isContainer)))),U(this,"setRenderChildren",(e=>{this.renderChildren=e})),U(this,"setIsContained",(e=>{void 0!==e.isContained?this.isContained=e.isContained:void 0!==e.is_contained&&(this.isContained=e.is_contained)})),U(this,"setDeleted",(e=>{void 0!==e.deleted&&(this.deleted=e.deleted)})),U(this,"setSelected",(e=>{void 0!==e.selected&&(this.selected=e.selected)})),U(this,"setLane",(e=>{void 0!==e.lane?this.lane=this.roadmap.laneFor([{label_id:e.lane.id}]):void 0!==e.lane_id?this.lane=this.roadmap.laneFor([{label_id:e.lane_id}]):void 0!==e.laneId?this.lane=this.roadmap.laneFor([{label_id:e.laneId}]):void 0!==e.dimensions&&(this.lane=this.roadmap.laneFor(e.dimensions))})),U(this,"setTags",(e=>{void 0!==e.tags&&(this.tags=e.tags)})),U(this,"getCustomLabels",(e=>{var t=this.roadmap.customLabelGroups.flatMap((e=>e.labels.map((e=>e.id))));return e.filter((e=>t.includes(e.labelId)))})),U(this,"setUsingPercent",(e=>e.has_percent&&window.currentRoadmapable.barFieldSettings().percentCompleteVisible)),U(this,"setScore",(e=>{void 0!==e.score&&(this.score=e.score)})),U(this,"addTags",(e=>{this.tags=E()(this.tags,e,"id")})),U(this,"updateLegend",(e=>{void 0!==e.legend_id&&(this.legend=this.roadmap.legendFor([{label_id:e.legend_id}])),void 0!==e.legendId?this.legend=this.roadmap.legendFor([{label_id:e.legendId}]):void 0!==e.dimensions&&void 0===e.legend_id?this.legend=this.roadmap.legendFor(e.dimensions):e instanceof k.Z&&(this.legend=this.roadmap.legendFor([{label_id:e.id}])),this.setLegendFilterClass(),this.setLegendId(),this.setHex()})),U(this,"setName",(e=>{void 0!==e.name&&(this.name=e.name)})),U(this,"setLegendId",(()=>{this.legend_id=this.legend.id})),U(this,"setLegendFilterClass",(()=>{this.legendFilterClass=this.legend.filterClass})),U(this,"setHex",(()=>{this._hex=this.legend.hex})),U(this,"setComments",(e=>{e.comments?this.comments=e.comments:this.comments=[],this.hasComments=this.comments.length>0})),U(this,"setPosition",(e=>{e.position&&(this.position=e.position)})),U(this,"timelineVerticalPositionTuple",(()=>"".concat(this.lane.position,",").concat(this.parentOrOwnSublaneId(),",").concat(this.sublaneId))),U(this,"parentOrOwnSublaneId",(()=>this.parent()?this.parent().sublaneId:this.sublaneId)),U(this,"hasConnections",(()=>this.dependents().length+this.dependencies().length>0)),U(this,"addDependent",(e=>{w()(this._dependents,e)||this._dependents.push(e)})),U(this,"addDependency",(e=>{w()(this._dependencies,e)||this._dependencies.push(e)})),U(this,"parent",(()=>this.roadmap.findActiveBar(this.containerId))),U(this,"bars",(()=>y()(this.roadmap.bars(),(e=>e.containerId===this.id)))),U(this,"hasChildBars",(()=>this.bars().length>0)),U(this,"noChildBars",(()=>!this.hasChildBars())),U(this,"sortedChildBars",(()=>v()(this.bars(),"startUnits"))),U(this,"laneId",(()=>this.lane?this.lane.id:void 0)),U(this,"selectedClass",(()=>{if(this.selected)return"bar-selected"})),U(this,"hex",(()=>this._hex?this.roadmap.displayHex(this._hex):"#527093")),U(this,"hsl",(()=>{var e=this.roadmap.displayHex(this._hex);return"hsl(".concat(O.ProductPlan.hexToHsl(e),")")})),U(this,"backgroundLeftStyle",(()=>"background: hsl(".concat(O.ProductPlan.hexToHsl(this.hex()),")"))),U(this,"backgroundLeftRadius",(()=>this.percentRemaining>0?"border-radius: 3px 0 0 3px":"border-radius: 3px")),U(this,"backgroundRightRadius",(()=>this.percentRemaining>0&&this.percentDone>0?"border-radius: 0 3px 3px 0":"border-radius: 3px")),U(this,"backgroundRightStyle",(()=>{var e=0===this.percentRemaining?"none":"block";return"display: ".concat(e,"; background: hsl(").concat(O.ProductPlan.hexToHsl(this.hex(),this.percentRightLightness()),");")})),U(this,"colorContrastTextClass",(()=>O.ProductPlan.getContrastClasses(this.hex()))),U(this,"borderStyle",(()=>O.ProductPlan.roadmapView.inMultiSelectMode()&&this.selected?"border: 1px solid #fff":"border: 1px solid hsl(".concat(O.ProductPlan.hexToHsl(this.hex(),150,"#000000"),")"))),U(this,"containerBorderRightStyle",(()=>"border-right: 1px solid hsl(".concat(O.ProductPlan.hexToHsl(this.hex(),150,"#000000"),")"))),U(this,"containerHolderStyle",(()=>{var e=this.isCollapsed()?"display:none; ":"";return O.ProductPlan.roadmapView.inMultiSelectMode()&&this.renderChildren&&this.selected&&(e+="box-shadow: rgb(93, 162, 255) 0px 1px 2px 2px; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px; border: 1px solid #f5f5f5;"),e})),U(this,"toggleIconClass",(()=>this.isCollapsed()?T.c.chevronRight.string:T.c.chevronDown.string)),U(this,"boxShadowStyle",(()=>O.ProductPlan.roadmapView.inMultiSelectMode()&&this.selected?"box-shadow: 0 0 2px 2px #5DA2FF;":"box-shadow: inset 0 -2px 0 rgba(0, 0, 0, 0.1)")),U(this,"barZIndex",(()=>{if(O.ProductPlan.roadmapView.inMultiSelectMode()&&this.selected)return"z-index: 26"})),U(this,"hasDescription",(()=>void 0!==this.description&&null!=this.description&&this.description.length>0)),U(this,"hasPercent",(()=>this.usingPercent)),U(this,"hasLegend",(()=>void 0!==this.legend&&void 0!==this.legend.name)),U(this,"hasDatesVisible",(()=>!!this.startsOn&&!!this.endsOn&&window.currentRoadmapable.barFieldSettings().datesVisible)),U(this,"displayDatesString",(()=>{var e=B.Z.startOfDay(this.startsOn,"MMMM D, YYYY"),t=B.Z.endOfDay(this.endsOn,"MMMM D, YYYY");return"".concat(e," - ").concat(t)})),U(this,"legendName",(()=>this.legend.name||"None")),U(this,"color",(()=>this._hex)),U(this,"containerName",(()=>this.isContained?this.parent().name:"")),U(this,"legendColor",(()=>this.legend.hex)),U(this,"laneName",(()=>this.lane?this.lane.name:"")),U(this,"canEdit",(()=>this.roadmap.canEdit())),U(this,"hasTags",(()=>this.tags.length>0)),U(this,"tagIds",(()=>void 0===this.tags||0===this.tags.length?[this.roadmap.roadmapableId()+"none"]:this.tags.map((e=>this.roadmap.roadmapableId()+"-"+e.id.toString())))),U(this,"tag_list",(()=>f()(this.tags,(e=>e.name)).join(","))),U(this,"tagListForDisplay",(()=>f()(this.tags,(e=>e.name)))),U(this,"hasMasterPlan",(()=>this.roadmap.hasMasterPlan())),U(this,"masterPlanId",(()=>this.roadmap.hasMasterPlan()?this.roadmap.masterPlan.id:void 0)),U(this,"notContained",(()=>!this.isContained)),U(this,"notParked",(()=>!this.parked)),U(this,"notContainer",(()=>!this.isContainer)),U(this,"isCollapsed",(()=>!!this.isContainer&&!window.currentRoadmapable.isAnyOpen("bars",[this.id]))),U(this,"toggleContainer",Z(F().mark((function e(){var t;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isContainer){e.next=4;break}return t=r.isCollapsed()?D.Y.OPENED:D.Y.CLOSED,e.next=4,O.ProductPlan.roadmapManager.toggleItems("bars",[r.id],t);case 4:case"end":return e.stop()}}),e)})))),U(this,"isNewBar",(()=>null!==this.token&&void 0!==this.token&&""!==this.token&&this.id===this.token)),U(this,"normalizedEffort",(()=>Math.min(this.effort,Object.keys(this.roadmap.efforts).length-1))),U(this,"commentToolTip",(()=>{var e=(this.comments||[]).filter((e=>null!==e.body&&void 0!==e.body)).length;switch(e){case 0:return"";case 1:return"1 Comment";default:return":count Comments".replace(":count",e)}})),U(this,"barTypeClass",(()=>this.isContainer?"container-bar":"single-bar")),U(this,"showComments",(()=>{var e=window.currentRoadmapable.barFieldSettings();return u()(e,"commentsVisible",!0)&&this.hasComments})),U(this,"inView",(e=>{var t=this.parent();return!this.parked&&this.lane&&this.lane.id===e&&(this.isContained&&t.inView(e)||this.notContained()&&this.partiallyWithinRoadmapDates())})),U(this,"inLane",(e=>this.inView(e))),U(this,"inContainer",(e=>{var t=this.parent();return this.containerId===e&&void 0===t&&O.ProductPlan.requireRefresh("Could not locate the container for a contained bar."),!this.parked&&this.isContained&&void 0!==t&&t.id===e&&t.partiallyWithinRoadmapDates()})),U(this,"removeLane",(()=>{delete this.lane})),U(this,"inDom",(()=>{var e=$("#".concat(this.domId));return 0===e.length&&(e=$(".project-bar[data-id=".concat(this.token,"], .project-bar[data-id=").concat(this.id,"]"))),e})),U(this,"isFiltered",(()=>this.inDom().hasClass("filtered"))),U(this,"inDetails",(()=>$("#".concat(this.domId,"_details")))),U(this,"identifiers",(()=>{var e=[];return this.id&&e.push(this.id),this.token&&e.push(this.token),e})),U(this,"duration",(()=>this.endUnits()-this.startUnits())),U(this,"roadmapOffset",(()=>this.roadmap.timelineSettings().offsetFromOrigin)),U(this,"startUnits",(()=>this.roadmap.timelineSettings().startUnits(this))),U(this,"endUnits",(()=>this.roadmap.timelineSettings().endUnits(this))),U(this,"endUnitsForDisplay",(()=>this.roadmap.timelineSettings().endUnitsForDisplay(this))),U(this,"startUnitsForDisplay",(()=>this.roadmap.timelineSettings().startUnitsForDisplay(this))),U(this,"widthForDisplay",(()=>this.roadmap.timelineSettings().widthInUnits(this))),U(this,"leftInPixels",(e=>this.roadmap.timelineSettings().displayUnitsToPixels(this.startUnitsForDisplay(),e))),U(this,"rightInPixels",(e=>this.leftInPixels(e)+this.widthInPixels(e))),U(this,"widthInPixels",(e=>this.roadmap.timelineSettings().displayUnitsToPixels(this.widthForDisplay(),e))),U(this,"minWidthInPixels",((e,t)=>this.roadmap.timelineSettings().displayUnitsToPixels(this.minUnits(t),e))),U(this,"startDate",(()=>x()(this.startsOn,S.Z.dateFormat).format(S.Z.dateFormat))),U(this,"endDate",(()=>x()(this.endsOn,S.Z.dateFormat).subtract(1,"days").format(S.Z.dateFormat))),U(this,"minUnits",(e=>{if(!this.isContainer)return 0;var t=y()(this.bars(),(e=>e.notParked()));if(0===t.length)return 0;var r=this.initBoundaryPointGivenAxis(e);return r=this.setBoundaryPointByBarGivenAxis(e,r,t),(r=this.calculateBoundaryForContainerGivenAxis(e,r))<0?0:r})),U(this,"displayWidth",(()=>{if(void 0!==this.roadmap.ppd)return"width: ".concat(this.widthInPixels(this.roadmap.ppd),"px;")})),U(this,"strictlyWithinRoadmapDates",(()=>this.partiallyWithinRoadmapDates()&&this.startUnits()>=this.roadmap.timelineSettings().timelineStartUnits&&this.endUnits()<=this.roadmap.timelineSettings().timelineEndUnits)),U(this,"partiallyWithinRoadmapDates",(()=>this.endUnits()>=this.roadmap.timelineSettings().timelineStartUnits&&this.startUnits()<=this.roadmap.timelineSettings().timelineEndUnits)),U(this,"actualStartUnitsNormalized",(()=>this.actualStartUnits-this.roadmapOffset())),U(this,"actualEndUnitsNormalized",(()=>this.actualEndUnits-this.roadmapOffset())),U(this,"uniformStartUnitsNormalized",(()=>this.uniformStartUnits-this.roadmapOffset())),U(this,"uniformEndUnitsNormalized",(()=>this.uniformEndUnits-this.roadmapOffset())),U(this,"dependencies",(()=>y()(this._dependencies,(e=>!e.deleted)))),U(this,"dependents",(()=>y()(this._dependents,(e=>!e.deleted)))),U(this,"removeDependency",(e=>{i()(this._dependencies,(t=>t.id===e))})),U(this,"removeDependent",(e=>{i()(this._dependents,(t=>t.id===e))})),U(this,"getActionAttributes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"edited",t=r.isContainer?"container":"bar";return{action:e,action_type:t}})),U(this,"getUndoAttributes",(()=>({id:this.id,token:this.token,lane:this.lane,sublaneId:this.sublaneId,containerId:this.containerId||null,isContained:this.isContained,isContainer:this.isContainer,actualStartUnits:this.actualStartUnits,actualEndUnits:this.actualEndUnits,uniformStartUnits:this.uniformStartUnits,uniformEndUnits:this.uniformEndUnits,startsOn:this.startsOn,endsOn:this.endsOn,parked:this.parked,deleted:this.deleted,legend_id:this.legend.id,tags:this.tags,isPendingRemoteSync:this.isPendingRemoteSync}))),U(this,"getBarAttributesForUpdate",(()=>({id:this.id,name:this.name,lane_id:u()(this,"lane.id",void 0),sublane_id:this.sublaneId,container_id:this.containerId,is_contained:this.isContained,actual_start_units:this.actualStartUnits,actual_end_units:this.actualEndUnits,ends_on:this.endsOn,starts_on:this.startsOn,uniform_start_units:this.uniformStartUnits,uniform_end_units:this.uniformEndUnits,legend_id:u()(this,"legend.id",void 0),parked:this.parked,tag_list:this.tag_list(),to_score:this.toScore,pending_remote_sync:this.isPendingRemoteSync}))),U(this,"getParkedAttributesForUpdate",(()=>({id:this.id,parked:!0,container_id:null,is_contained:!1,position_position:0,starts_on:this.startsOn,ends_on:this.endsOn}))),U(this,"shouldCalculateScore",(()=>this.toScore||!a()(this.benefitScores)||!a()(this.costScores))),this.roadmap=e.roadmap,this.id=e.id,this.token=e.token,this.domId="roadmapbar_".concat(this.id),this.name=e.name,this.notes=e.notes,this.usingPercent=this.setUsingPercent(e),this.percentDone=this.usingPercent?e.percent_done:this.defaultPercentDone(e),this.exportPercentDone=this.usingPercent?"".concat(e.percent_done,"%"):"",this.percentRemaining=100-this.percentDone,this.hasEffort=void 0!==e.effort_bars&&null!==e.effort_bars&&""!==e.effort_bars,this.effortType=e.effort_type,this.effortBars=e.effort_bars,this.effortBarsCount=e.effort_bar_count,this.position=e.position,this.description=e.description,this.strategic_value=e.strategic_value,this.effort=e.effort,this.tags=e.tags||[],this.links=e.links||[],this.effortLabel=e.effort_label,this.jiraIssueSynced=e.jira_issue_synced,this._dependents=e.dependents||[],this._dependencies=e.dependencies||[],this.url=e.url,this.deleted=!1,this.selected=!1,this.settings=e.settings,this.ghosted=e.ghosted,this.benefitScores=e.benefit_scores||{},this.costScores=e.cost_scores||{},this.toScore=e.to_score||!1,this.launchInformation=e.launch_information,this.actualStartUnits=e.actual_start_units,this.actualEndUnits=e.actual_end_units,this.uniformStartUnits=e.uniform_start_units,this.uniformEndUnits=e.uniform_end_units,this.startsOn=e.starts_on,this.endsOn=e.ends_on,this.parked=e.parked,this.fields=e.fields,this.fieldSyncLockSettings=e.field_sync_lock_settings,this.isPendingRemoteSync=e.pending_remote_sync,this.updatedAt=e.updated_at,this.customLabels=this.getCustomLabels(P().camelizeKeys(null!==(t=e.custom_labels)&&void 0!==t?t:[])),this.setName(e),this.setParked(e),this.setPosition(e),this.setIsContainer(e),this.setIsContained(e),this.containerId=e.container_id,this.updateLegend(e),this.setLane(e),this.lane&&e.dimensions.some((e=>e.label_id===this.lane.id&&(this.setSublaneId(e),!0))),this.setComments(e)}defaultPercentDone(e){return e.jira_issue_synced&&this.usingPercent?0:100}percentRightLightness(){return 65}isVisible(){return this.isContainer?!(this.isFiltered()&&h()(this.bars(),(e=>e.isFiltered()))):!(this.isFiltered()||this.isOrphaned())}isOrphaned(){return!!this.isContained&&(!this.parent()||!!this.parent().parked)}initBoundaryPointGivenAxis(e){return"e"===e?0:Number.POSITIVE_INFINITY}setBoundaryPointByBarGivenAxis(e,t,r){return l()(r,(function(r){t="e"===e?Math.max(t,r.endUnits()):Math.min(t,r.startUnits())})),t}calculateBoundaryForContainerGivenAxis(e,t){return"e"===e?t-=this.startUnits():t=this.endUnits()-t,t}}))},44230:(e,t,r)=>{"use strict";r.d(t,{F:()=>a});var n=["/integrations"];function a(){n.includes(window.location.pathname)||$(".bootstrap_flash").delay(5e3).fadeOut()}},6280:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(99411),a=(r(63762),r(54810)),o=r(39012),i=r(55652),s=r(40902),l=r(58909);class c{static normalizeContainers(){$(".lane-bar-holder").each((function(e,t){var r=$(t);return r.height(i.ProductPlan.calculateLaneHeight(r))}))}static toggleLane(e){var t=$(".lanes[data-id='".concat(e,"']")),r=t.find(".lane-title "+o.c.chevronDown.selectorString+", .lane-title "+o.c.chevronRight.selectorString),c=t.hasClass("collapsed-lane")?s.Y.OPENED:s.Y.CLOSED;$(r).toggleClass(o.c.chevronRight.classes,c===s.Y.CLOSED).toggleClass(o.c.chevronDown.classes,c===s.Y.OPENED),l.default.publish("BEGIN_TOGGLE_LANE"),t.toggleClass("collapsed-lane",c===s.Y.CLOSED,200,(()=>{c===s.Y.CLOSED?t.find(".flag").fadeOut("100"):(t.find(".lane-holder > .lane-bar-holder").each((function(e,t){var r=$(t);return r.height(i.ProductPlan.calculateLaneHeight(r))})),t.find(".flag").fadeIn("100")),i.ProductPlan.resizeMainContent();var r=(e.toString()||"").split(",");if(i.ProductPlan.roadmapManager.toggleItems("lanes",r,c),window.currentRoadmapable.supportsLaneTitles()){var o=window.currentRoadmapable.findLane(e),u=window.currentRoadmapable.roadmapNameOfLane(o),d={isCollapsed:c===s.Y.CLOSED,lane:o,roadmapTitle:u};n.Z.renderComponent(a.Z,d,o.titleMountPoint())}i.ProductPlan.roadmapRenderer.updateMilestones(),i.ProductPlan.layout.adjustGridlineHeight(),t.trigger("toggled"),l.default.publish("END_TOGGLE_LANE")}))}static toggleContainer(e,t){e.addClass("toggling-container"),e.addClass("toggling-lane");var r=e.closest(".project-bar"),n=r.find(".container-holder").attr("id"),a=window.currentRoadmapable.findActiveBar(r.data("id")),c=a.isCollapsed()?s.Y.OPENED:s.Y.CLOSED;$(e).find("i").toggleClass(o.c.chevronRight.classes,c===s.Y.CLOSED).toggleClass(o.c.chevronDown.classes,c===s.Y.OPENED);var u=e.closest(".lane-drop"),d=c===s.Y.CLOSED?"[id!='".concat(n,"']"):", #".concat(n),h=i.ProductPlan.calculateLaneHeight(u,d);return l.default.publish("BEGIN_TOGGLE_CONTAINER"),r.find(".container-holder").slideToggle({duration:400,queue:!1,always:()=>{e.removeClass("toggling-container")},complete:()=>{i.ProductPlan.updateExportDetails(),a.inDom().trigger("toggled"),window.check_window_resize(),t&&t(),l.default.publish("END_TOGGLE_CONTAINER")}}),h!==u.height()?u.animate({height:h},{duration:400,queue:!1,always(){i.ProductPlan.resizeMainContent(),i.ProductPlan.roadmapRenderer.updateMilestones(),i.ProductPlan.layout.adjustGridlineHeight(),e.removeClass("toggling-lane")}}):e.removeClass("toggling-lane"),i.ProductPlan.roadmapManager.toggleItems("bars",[a.id],c)}static toggleAllContainers(e){var t=window.currentRoadmapable.findActiveBar(e).isCollapsed()?s.Y.OPENED:s.Y.CLOSED,r=t===s.Y.OPENED?":not(:visible)":":visible",n=[];l.default.publish("BEGIN_TOGGLE_CONTAINER"),$(".container-holder".concat(r)).closest(".container-bar").find(".container-show-button").each((function(e,r){var a=$(r).closest(".project-bar"),l=a.find(".container-holder"),c=window.currentRoadmapable.findActiveBar(a.data("id"));$(r).find("i").toggleClass(o.c.chevronRight.classes,t===s.Y.CLOSED).toggleClass(o.c.chevronDown.classes,t===s.Y.OPENED),l.toggle(),i.ProductPlan.updateExportDetails(),c.inDom().trigger("toggled"),n.push(c.id)})),i.ProductPlan.roadmapManager.toggleItems("bars",n,t),this.normalizeContainers(),i.ProductPlan.roadmapRenderer.updateMilestones(),l.default.publish("END_TOGGLE_CONTAINER")}}},18991:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(80008),a=r.n(n);const o=class{static startOfDay(e,t){return a()(e).format(t)}static endOfDay(e,t){var r=a()(e);return r.add(-1,"days"),r.format(t)}}},69210:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(89734),a=r.n(n),o=r(13311),i=r.n(o),s=r(54061),l=r.n(s),c=r(93386),u=r.n(c),d=r(3651),h=r.n(d),p=r(85564),f=r.n(p);const m=class{constructor(e){this.id=e.roadmapableId,this.name=e.roadmapableName,this.filterableType=e.filterableType,this.createFilterPath=e.createFilterPath,this.roadmaps=e.roadmaps,this.lanes=this.consolidatedLanes(),this.legends=this.consolidatedLegends(),this.tags=this.consolidatedTags()}consolidatedLanes(){return this._consolidate("lanes")}consolidatedLegends(){return this._consolidate("legends")}consolidatedTags(){var e=this._consolidate("tags");if(0===e.length)return e;var t=e.shift(),r=e.shift(),n=a()(e,(e=>e.name.toLowerCase()));return n.unshift(r),n.unshift(t),n}_consolidate(e){var t=this.roadmaps,r=l()(t,(function(t,r){switch(e){case"lanes":t.push(r.laneList());break;case"legends":t.push(r.legendList());break;case"tags":t.push(r.tagList())}return f()(t)}),[]);return l()(r,(function(t,r){var n,a=i()(t,(function(t){return"legends"===e?t.name===r.name&&t.hex===r.hex:t.name===r.name}));void 0===a?(n="legends"===e||"lanes"===e?{ids:[r.id],name:r.name,hex:r.hex}:{name:r.name,ids:[r.id]},t.push(n)):t[h()(t,a)].ids=u()(a.ids,[r.id]);return t}),[])}}},3759:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(18446),a=r.n(n),o=r(58909),i=r(12902);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u="lane",d="legend",h="tag",p="custom",f=function(e,t){return(e||[]).filter((e=>!(t||[]).includes(e)))},m=(e,t,r)=>{var n=window.currentRoadmapable;return n.isMasterPlan()?"personal-filters-user-".concat(e,"-portfolio-").concat(n.roadmapableId()):"personal-filters-user-".concat(e,"-roadmap-").concat(t,"-view-").concat(r)};class v{constructor(e){this.id=e.id,this.type=e.type}}c(v,"parseFilter",(e=>{var t=s(e.split("_"),3),r=t[1],n=t[2];return n.includes("untagged-milestone")?new v({id:"untagged-milestone",type:r}):n.includes("none")?new v({id:"none",type:r}):new v("tag"===r?{id:n.split("-").pop(),type:r}:{id:n,type:r})})),c(v,"setFilters",(e=>{a()(window.current_filter,{filters:e})||(window.current_filter={filters:e},o.default.publish("UPDATED_FILTERS"),v.persistCurrentPersonalFilters())})),c(v,"currentFilter",(()=>{var e;window.current_filter||(window.current_filter=null!==(e=v.loadSavedPersonalFilters())&&void 0!==e?e:{filters:[]});return window.current_filter})),c(v,"filteredItems",(()=>v.currentFilter().filters)),c(v,"isBarFilteredOut",(e=>{var t,r=v.filteredItems();if(e.lane&&r.includes("filter_lane_".concat(e.lane.id)))return!0;if(e.legend){if(r.includes("filter_legend_".concat(e.legend.id)))return!0}else if(r.includes("filter_legend_none"))return!0;if(null!==(t=e.tags)&&void 0!==t&&t.length){if(e.tags.every((e=>r.includes("filter_tag_".concat(e.id)))))return!0}else if(r.includes("filter_tag_none"))return!0;if(e.customLabels&&e.customLabels.some((e=>r.includes("filter_custom_".concat(e.labelId)))))return!0;return!1})),c(v,"isFiltered",(function(e){var t=e.item,r=e.activeLegendIds,n=e.activeLaneIds,a=e.activeTagIds,o=e.activeCustomLabelIds,i=!!t.legend&&!!t.legend.id&&!r.includes(t.legend.id.toString()),s=!!t.lane&&!!t.lane.id&&!n.includes(t.lane.id.toString()),l=t.tagIds instanceof Function&&!t.tagIds().some((e=>a.includes(e))),c=!!t.customLabels&&t.customLabels.some((e=>{var t=e.labelId;return!o.includes(t)}));return i||l||s||c||!!t.ghosted})),c(v,"activeLabelIds",(e=>{var t=v.filteredItems().reduce(((e,t)=>{var r=v.parseFilter(t);switch(r.type){case"lane":e.filteredLaneIds.push(r.id);break;case"legend":e.filteredLegendIds.push(r.id);break;case"tag":e.filteredTagIds.push(r.id);break;case p:e.filteredCustomLabelIds.push(Number(r.id))}return e}),{filteredLaneIds:[],filteredLegendIds:[],filteredTagIds:[],filteredCustomLabelIds:[]});return{activeTagIds:w(e,t),activeLegendIds:b(e,t),activeLaneIds:f(e.roadmapable().laneIds(),t.filteredLaneIds),activeCustomLabelIds:C(e,t)}})),c(v,"hasFilters",(()=>v.filteredItems().length>0)),c(v,"loadSavedPersonalFilters",(function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.current_user)||void 0===e?void 0:e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.currentRoadmapable.roadmapId,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.currentRoadmapable.currentViewId;r=null!==(t=r)&&void 0!==t?t:0;var o=m(r,n,a),i=localStorage.getItem(o);return i&&JSON.parse(i)})),c(v,"clearSavedPersonalFilters",(function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.current_user)||void 0===e?void 0:e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.currentRoadmapable.roadmapId,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.currentRoadmapable.currentViewId;r=null!==(t=r)&&void 0!==t?t:0;var o=m(r,n,a);localStorage.setItem(o,JSON.stringify({filters:[]}))})),c(v,"persistCurrentPersonalFilters",(function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null===(e=window.current_user)||void 0===e?void 0:e.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.currentRoadmapable.roadmapId,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.currentRoadmapable.currentViewId;r=null!==(t=r)&&void 0!==t?t:0;var o=m(r,n,a);localStorage.setItem(o,JSON.stringify(v.currentFilter()))})),c(v,"getParsedPersonalFilters",(()=>v.filteredItems().map((e=>v.parseFilter(e))))),c(v,"mergeWithViewFilters",(e=>{var t=v.getParsedPersonalFilters();return(0,i.ZP)(e,(e=>{e.show_no_legend=!0,e.show_untagged=!0,e.show_untagged_milestones=!0,t.forEach((t=>g(t,e)))}))})),c(v,"createLaneFilterForUpdateRequest",((e,t)=>({id:"RoadmapableView".concat(e,"-Label").concat(t),filterable_type:"lane",included:!1}))),c(v,"createLegendFilterForUpdateRequest",((e,t)=>({id:"RoadmapableView".concat(e,"-Label").concat(t),filterable_type:"legend",included:!1}))),c(v,"createTagFilterForUpdateRequest",((e,t)=>({id:"RoadmapableView".concat(e,"-Tag").concat(t),filterable_type:"tag",included:!1}))),c(v,"getCombinedFilters",(e=>{var t=[...v.filteredItems()];return e?(e.tagViewFilters.forEach((e=>{e.included||t.push("filter_tag_".concat(e.filterId))})),t):t}));var g=(e,t)=>{switch(e.type){case u:y(e.id,t.lane_view_filters);break;case d:if(e.id.includes("none")){t.show_no_legend=!1;break}y(e.id,t.legend_view_filters);break;case h:if(e.id.includes("none")){t.show_untagged=!1;break}if(e.id.includes("untagged-milestone")){t.show_untagged_milestones=!1;break}y(e.id,t.tag_view_filters);break;case p:var r=t.custom_label_view_filters.find((t=>t.filters.some((t=>t.filter_id===e.id))));r&&y(e.id,r.filters)}},y=(e,t)=>{var r=t.find((t=>t.filter_id===e));r&&(r.included=!1)},b=(e,t)=>e.roadmapable().legendIds().filter((e=>e.includes("none")?!t.filteredLegendIds.includes("none"):!t.filteredLegendIds.includes(e))),w=(e,t)=>{var r=t.filteredTagIds,n=window.currentFilterables;return n&&n.viewId===window.currentRoadmapable.currentViewId&&r.push(...n.excludedTags),e.roadmapable().tagIds().filter((e=>{if(e.includes("untagged-milestone"))return!r.includes("untagged-milestone");if(e.includes("none"))return!r.includes("none");var t=e.split("-").pop();return!r.includes(t)}))},C=(e,t)=>{var r=e.roadmapable().customLabelGroups.flatMap((e=>e.labels.map((e=>e.id))));return f(r,t.filteredCustomLabelIds)};const E=v},90571:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});r(18553);var n=r(3759),a=r(55652),o=r(6280);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c{static applyFilter(e){(e.allBars||[]).forEach((t=>{t.parked||(t.isContainer&&c.applyFilter(s(s({},e),{allBars:t.bars()})),c.toggleFilterAndLightness(t,e.activeLegendIds,e.activeTagIds,e.activeLaneIds,e.activeCustomLabelIds))}))}static toggleFilterAndLightness(e,t,r,a,o){if(n.Z.isFiltered({item:e,activeLegendIds:t,activeTagIds:r,activeLaneIds:a,activeCustomLabelIds:o}))if(e.isContainer){var i=e.inDom().find(".project-bar");i.length>0&&i.not(".filtered").length>0?(c.removeFilter(e),c.addLighterColor(e)):c.addFilter(e,t,r,a,o)}else c.addFilter(e,t,r,a,o);else e.isContainer&&c.removeLighterColor(e),c.removeFilter(e);if(e.inDom().hasClass("just-dropped"))return e.inDom().removeClass("just-dropped")}static addFilter(e,t,r,n,i){e.inDom().hasClass("just-dropped")?e.inDom().fadeOut(1e3,(()=>{$(this).toggleClass("filtered",!0).show(),e.isContained&&(e.parent().inDom().addClass("just-dropped"),c.toggleFilterAndLightness(e.parent(),t,r,n,i)),o.Z.normalizeContainers(),a.ProductPlan.roadmapRenderer.updateMilestones()})):e.inDom().toggleClass("filtered",!0),e.inDetails().toggleClass("filtered",!0)}static removeFilter(e){e.inDom().toggleClass("filtered",!1),e.inDetails().toggleClass("filtered",!1)}static addLighterColor(e){var t=e.inDom(),r=t.children(".bar-content"),n=0===e.percentRemaining?"none":"block",o=r.children(".project-bar-background-right"),i=r.children(".project-bar-background-left");t.css({"border-color":"hsl("+a.ProductPlan.hexToHsl(e.hex(),40)+")"}),r.find(".container-show-button").css({"border-color":"hsl("+a.ProductPlan.hexToHsl(e.hex(),40)+")"}),i.css({background:"hsl("+a.ProductPlan.hexToHsl(e.hex(),35)+")"}),o.css({background:"hsl("+a.ProductPlan.hexToHsl(e.hex(),30)+")"}),o.css({display:n})}static removeLighterColor(e){if(!e.selected){var t=e.inDom(),r=t.children(".bar-content"),n=0===e.percentRemaining?"none":"block",o=r.children(".project-bar-background-right"),i=r.children(".project-bar-background-left");t.css({"border-color":"hsl("+a.ProductPlan.hexToHsl(e.hex(),150,"#000000")+")"}),r.find(".container-show-button").css({"border-color":"hsl("+a.ProductPlan.hexToHsl(e.hex(),150,"#000000")+")"}),i.css({background:"hsl("+a.ProductPlan.hexToHsl(e.hex())+")"}),o.css({background:"hsl("+a.ProductPlan.hexToHsl(e.hex(),65)+")"}),o.css({display:n})}}}const u=c;const d=class{static applyFilter(e){var t=e.activeLaneIds||[];$(".lanes[id^='full_lane']").each((function(){var e=$(this).data("id").toString();$("#full_lane_"+e).toggleClass("filtered",-1===t.indexOf(e))}))}};var h=r(34844);class p{static initClass(){this.applyFilters=()=>{if(window.getLayout()===h.Z.TIMELINE){var e=n.Z.activeLabelIds(a.ProductPlan.roadmapManager);d.applyFilter(e),u.applyFilter(Object.assign({allBars:window.currentRoadmapable.topLevelBars()},e)),this._hideLaneContainer(),this.toggleSublanes(),o.Z.normalizeContainers(),a.ProductPlan.roadmapRenderer.updateMilestones(),$(".js-timeline-table").trigger("reflow")}}}static toggleSublanes(){$(".lane-bar-holder").each((function(){var e=$(this),t=e.children(".project-bar"),r=e.children(".project-bar.filtered"),n=t.length;return n>0&&n-r.length===0?(e.toggleClass("filtered",!0),e.next(".lane-divider").toggleClass("filtered",!0)):(e.toggleClass("filtered",!1),e.next(".lane-divider").toggleClass("filtered",!1))})),$(".lanes[id^='full_lane']").each((function(){var e=$(this),t=e.children(".lane-bar-holder"),r=e.children(".lane-bar-holder.filtered"),n=t.length;if(n>0&&n-r.length===0)return t.first().toggleClass("filtered",!1)})),$(".container-holder").each((function(){var e=$(this),t=e.children(".lane-bar-holder"),r=e.children(".lane-bar-holder.filtered"),n=t.length;if(n>0&&n-r.length===0)return t.first().toggleClass("filtered",!1)}))}static _hideLaneContainer(){if(0!==$(".roadmap-divider").length)return $(".roadmap-divider").each((function(e,t){var r=$(t).find(".lanes.hidden:not(.filtered)").length,n=$(t).find(".lanes.filtered").length,a=$(t).find(".lanes").length;return n===a||n+r===a?$(t).toggleClass("filtered",!0):$(t).toggleClass("filtered",!1)})),document.querySelectorAll(".roadmap-divider.hidden, .roadmap-divider.filter").length>0?($("#completely-hidden-portfolio-view-message").show(),$(".timeline").show(),a.ProductPlan.showMainContent()):$("#completely-hidden-portfolio-view-message").hide()}}p.initClass();const f=p},87371:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(66073),a=r.n(n),o=r(45578),i=r.n(o),s=r(41609),l=r.n(s),c=r(25325),u=r.n(c),d=r(92742),h=r.n(d),p=r(35161),f=r.n(p),m=r(63105),v=r.n(m),g=r(91175),y=r.n(g),b=r(13023),w=r.n(b),C=r(74527);function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function _(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function x(e){var t;if("string"!==typeof e)return null;var r=e.match(/"\S+(?=,)[\S ]+"@/);t=r?e.replace(r[0],"...@").split(","):e.split(",");for(var n=0,a=Array.from(t);n<a.length;n++){var o=a[n];if(null===w().parseOneAddress(o))return/\.\.\./.test(o)?o.replace("...@",r).trim():o.trim()}if(L(w().parseAddressList(e)))return!1;var i=y()(v()(w().parseAddressList(e),(function(e){if(!/\./.test(e.domain))return!0})));return i.address}function L(e){return v()(e,(e=>!/\./.test(e.domain))).length>0?null:e}const P={getBadEmail:x,emailsHaveDomainExtension:L,validateAndSendSharingEmail:function(e,t,r,n,o){var s=e.find(r),c=s.val().trim(),d=L(w().parseAddressList(c));if(""===c)return s.after("<label id='email_error' for='permission_user_email' class='message badnews'>Please enter an email address.</label>"),!1;if(!d){var p=x(c);return s.after("<label id='email_error' for='".concat(r,"' class='message badnews'>One or more emails are invalid: ").concat(p,"</label>")),!1}var m=f()($(t),(e=>h()($(e).text()).toLowerCase())),v=f()(d,(e=>e.address.toLowerCase())),g=u()(m,v);if(!l()(g))return s.after("<label id='email_error' for='".concat(r,"' class='message badnews'>Unable to share with a previously shared user ").concat(y()(g)," </label>")),!1;var b=i()(d,"address"),P=e.serializeArray(),O=e.attr("action");return o=o||function(e){if(void 0!==e.responseJSON){var t=e.responseJSON.errors;return s.after("<label id='email_error' for='".concat(r,"' class='message badnews'>").concat(t.user_email[0],"</label>"))}},a()(b,function(){var e,t=(e=E().mark((function e(t){var r,a,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},P.forEach((e=>{/email/.test(e.name)?r[e.name]=t.address:r[e.name]=e.value})),e.prev=2,e.next=5,C.default.postData(O,C.default.convertToFormData(r));case 5:a=e.sent,i=a.data,n(i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_(o,n,a,i,s,"next",e)}function s(e){_(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}())}}},57430:()=>{String.prototype.titleize=function(){var e=this.split(/[\s-_,]+/);return Array.from(e).map((e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1))).join(" ")},Number.prototype.toChar=function(){return String.fromCharCode(65+this)}},79408:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={removePopovers:e=>{null==e&&(e=[]);var t=[...new Set([".roadmap-title",".connection-popover",".connection-popover","#roadmap-title-popover","#legend-title-popover","#legend-item-popover","#lane-title-popover","#roadmap-integration-group-title-popover","#roadmap-integration-title-popover","#roadmap-integration-add","#roadmap-integration-item",...e])].join(",");$(".popover:not(".concat(t,")")).removeClass("in",250).detach()},dropUrlParameters:()=>{var e=window.location.href.split("?");1!==e.length&&window.history.replaceState({},document.title,e[0])}}},41226:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});const a=class{constructor(e){n(this,"domId",(()=>"full_lane_".concat(this.id))),n(this,"inDom",(()=>$("#".concat(this.domId())))),n(this,"titleMountPoint",(()=>this.inDom().find(".lane-title"))),n(this,"isFiltered",(()=>this.inDom().hasClass("filtered"))),n(this,"lastSublaneId",(()=>window.currentRoadmapable.sublanesForLane(this.laneId,void 0).sort(((e,t)=>e-t)).pop()||0)),n(this,"update",(e=>(this.setName(e),this.setDescription(e),this.setIcon(e),this.setPosition(e),this.setHex(e),this.setPaletteColorId(e),this))),n(this,"setLaneId",(e=>void 0!==e.id?(this.id=e.id,this.laneId=e.id):void 0!==e.laneId?(this.id=e.laneId,this.laneId=e.laneId):void 0)),n(this,"setName",(e=>{if(void 0!==e.name)return this.name=e.name})),n(this,"setDescription",(e=>{if(void 0!==e.description)return this.description=e.description})),n(this,"setIcon",(e=>{if(void 0!==e.icon)return this.icon=e.icon})),n(this,"setPosition",(e=>{if(void 0!==e.position)return this.position=e.position})),n(this,"setHex",(e=>{if(e.palette_color)return this.hex="#".concat(e.palette_color.hex)})),n(this,"setPaletteColorId",(e=>{if(e.palette_color&&(this.paletteColorId=e.palette_color.id),e.palette_color_id)return this.paletteColorId=e.palette_color_id})),this.setLaneId(e),this.maxSublaneValue=e.max_sublane_value,this.update(e)}}},12404:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});const a=class{constructor(e){n(this,"setHex",(e=>{if(e.palette_color)return this.hex="#".concat(e.palette_color.hex)})),n(this,"setPaletteColorId",(e=>{if(e.palette_color&&(this.paletteColorId=e.palette_color.id),e.palette_color_id)return this.paletteColorId=e.palette_color_id})),this.id=e.id,this.name=e.name,this.description=e.description,this.icon=e.icon,this.position=e.position,this.filterClass="filter-legend-"+this.id,this.setHex(e),this.setPaletteColorId(e)}}},77480:(e,t,r)=>{"use strict";r.d(t,{EE:()=>l,HN:()=>u,ZP:()=>g,hn:()=>c,oY:()=>d,pV:()=>h,t3:()=>s});var n=r(25278),a=r(72474),o=r(53629),i=r(83869),s="by_roadmap",l="by_lane_title",c="ungrouped",u="original",d="roadmap",h="consolidated";class p{constructor(e){var t=e.roadmaps,r=e.renderer,a=e.masterPlanManager;this.renderer=r,this.masterPlanManager=a,this.roadmapPresenters=(t||[]).map((e=>{var t=new n.Z(e);return t.lanes=t.lanes.filter((e=>!e.isEmpty())),t}))}}class f extends p{render(){this.renderer&&0!==this.roadmapPresenters.length&&(this.roadmapPresenters.forEach((e=>{var t=$(a(e.roadmap,{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}));this.renderer.drawLanes(e,t,!0)})),this.renderer.initializeLaneTitles(),this.renderer.updateMilestones())}}class m extends p{process(){return this.roadmapPresenters.filter((e=>e.lanes.length>0))}render(){if(this.renderer&&0!==this.roadmapPresenters.length){var e=this.process();$("#last_lane").before(i({lanes:e},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})),this.renderer.updateMilestones()}}}class v extends p{process(){return this.roadmapPresenters.reduce(((e,t)=>(t.lanes.forEach((t=>{var r=e.findIndex((e=>0===e.name.localeCompare(t.name)));-1===r?e.push(t):e[r].mergeLanePresenter(t)})),e)),[])}render(){if(this.renderer&&0!==this.roadmapPresenters.length){var e=this.process();$("#last_lane").before(o({lanes:e},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})),this.renderer.updateMilestones()}}}const g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.laneStyle,r=e.roadmaps,n=e.renderer,a=e.masterPlanManager;switch(t){case s:return new m({roadmaps:r,renderer:n,masterPlanManager:a});case l:return new v({roadmaps:r,renderer:n,masterPlanManager:a});default:return new f({roadmaps:r,renderer:n,masterPlanManager:a})}}},84033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(65720),a=r(36804),o=r(40902),i=r(77480),s=r(8816),l=r.n(s),c=r(88846),u=r.n(c),d=r(23902),h=r.n(d),p=r(4962),f=r(69210),m=r(56264),v=r.n(m);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const w=class{constructor(e,t){var r;b(this,"setPixelsPerDay",(e=>{this.ppd=e})),b(this,"setExportView",(()=>{this.isExportView=!0})),b(this,"roadmapableId",(()=>this.id)),b(this,"ownerHasFeature",(e=>{var t;return null===(t=this.activeFeatureFlags)||void 0===t?void 0:t.includes(e)})),b(this,"isPrimaryView",(()=>!0)),b(this,"isMasterPlan",(()=>!0)),b(this,"primaryViewName",(()=>this.name)),b(this,"isSharedLegendEnabled",(()=>!1)),b(this,"path",(()=>"/portfolio_views/".concat(this.roadmapableId()))),b(this,"barPath",((e,t)=>this.isPublic()?"/pp/".concat(this.publicUrlCode,"/roadmaps/").concat(t,"/bars/").concat(e):"/bars/".concat(e))),b(this,"roadmapableType",(()=>"master_plan")),b(this,"ownerType",(()=>"MasterPlan")),b(this,"isPublic",(()=>void 0!==this.publicUrlCode)),b(this,"canEdit",(()=>!1)),b(this,"shouldShowViewFiltersAppliedIndication",(()=>{var e;return(null===(e=this.permissions)||void 0===e?void 0:e.can_edit)&&this.hasViewFiltersApplied})),b(this,"title",(()=>this.name)),b(this,"subtitle",(()=>null)),b(this,"startDate",(()=>this._startDate)),b(this,"endDate",(()=>this._endDate)),b(this,"timelineSettings",(()=>this._timelineSettings)),b(this,"intervalsInWindow",(()=>this.timelineSettings().intervalsInWindow)),b(this,"displayHex",((e,t)=>"roadmap"===this.preferences.color_style?"#".concat(this.roadmapColors[e.roadmapableId()].hex):t)),b(this,"tagIds",(()=>Object.values(this.roadmaps).flatMap((e=>e.tagIds())))),b(this,"tagsForBars",(()=>Object.values(this.roadmaps).flatMap((e=>e.tagsForBars())))),b(this,"legendIds",(()=>Object.values(this.roadmaps).flatMap((e=>e.legendIds())))),b(this,"laneIds",(()=>Object.values(this.roadmaps).flatMap((e=>e.laneIds())))),b(this,"bars",(()=>Object.values(this.roadmaps).reduce(((e,t)=>y(y({},e),t.bars())),{}))),b(this,"scoringBars",(()=>Object.values(this.roadmaps).flatMap((e=>Object.values(e.scoringBars()))))),b(this,"topLevelBars",(()=>Object.values(this.roadmaps).flatMap((e=>Object.values(e.topLevelBars()))))),b(this,"topLevelContainers",(()=>Object.values(this.roadmaps).flatMap((e=>Object.values(e.topLevelContainers()))))),b(this,"findLegend",(e=>{for(var t in this.roadmaps){var r=this.roadmaps[t].findLegend(e);if(r)return r}})),b(this,"legendOptions",(e=>{var t,r,n;return null!==(t=null===(r=this.roadmaps[e])||void 0===r||null===(n=r.legendOptions)||void 0===n?void 0:n.call(r))&&void 0!==t?t:[]})),b(this,"isToggledFor",((e,t)=>{switch(e){case"lanes":case"roadmaps":return this.laneToggles.isToggledFor(t);case"bars":return this.barToggles.isToggledFor(t);default:return!1}})),b(this,"isAnyOpen",((e,t)=>{switch(e){case"lanes":case"roadmaps":return this.laneToggles.isAnyOpen(t);case"bars":return this.barToggles.isAnyOpen(t);default:return!1}})),b(this,"toggleAll",((e,t,r)=>{switch(e){case"lanes":case"roadmaps":return this.laneToggles.toggle(t,r);case"bars":return this.barToggles.toggle(t,r);default:return!1}})),b(this,"supportsLaneMilestones",(()=>this.laneStyle===i.hn||this.laneStyle===i.EE)),b(this,"supportsLaneTitles",(()=>this.laneStyle===i.hn)),b(this,"canConsolidateLabels",(()=>[i.t3,i.EE].includes(this.laneStyle))),b(this,"findLane",(e=>{for(var t in this.roadmaps){var r=this.roadmaps[t].findLane(e);if(r)return r}})),b(this,"findActiveBar",(e=>{for(var t in this.roadmaps){var r=this.roadmaps[t].findActiveBar(e);if(r)return r}})),b(this,"findBarContainer",(e=>{var t=this.findActiveBar(e);return null!==t&&void 0!==t&&t.isContained?t.parent():null})),b(this,"thirdPartyIntegrationsToolbar",(()=>[])),b(this,"barFieldSettings",(()=>p.Z.build(this.barFieldSettingsData))),b(this,"barFieldSettingsForBar",(e=>{var t=this.barFieldSettings();return e.parked&&(t.datesVisible=!1),t})),b(this,"filterSettings",(()=>new f.Z({roadmapableId:this.roadmapableId(),roadmapableName:this.title(),filterableType:"Portfolio View",createFilterPath:"/portfolio_views/".concat(this.roadmapableId(),"/filters"),roadmaps:this.orderedRoadmapList()}))),b(this,"orderedRoadmapList",(()=>this.orderedRoadmapIds.map((e=>this.roadmaps[e])))),b(this,"updateAfterLoad",(()=>{this.orderedRoadmapList().forEach((e=>{this.isExportView&&e.setBarScores(),e.updateSublanesMilestones()}))})),b(this,"baseUrl",(()=>this.isPublic()?"/pp/".concat(this.publicUrlCode):"/pv/".concat(this.urlCode))),b(this,"exportUrl",(()=>"".concat(this.baseUrl(),"/export"))),b(this,"supportsLayoutSwitching",(()=>!1)),this.publicUrlCode=t,this.id=e.id,this.name=e.name,this.canEditLabel=!1,this.urlCode=e.url_code,this.description=e.description,this.permissions=e.permissions,this.preferences=e.preferences,this.roadmapStyle=e.roadmap_style,this.roadmapColors=e.roadmap_colors,this.laneStyle=e.lane_style,this.defaultLayout=e.view_style,this.primaryViewId=e.primary_view_id,this.currentViewId=e.primary_view_id,this.defaultBarDuration=e.default_bar_duration,this.hasViewFiltersApplied=e.has_view_filters_applied,this.customFieldDefinitions=e.custom_field_definitions,this.barFieldSettingsData=e.bar_field_settings,this.activeFeatureFlags=e.active_feature_flags,this._startDate=e.timeline_start_date,this._endDate=e.timeline_end_date,this.maxNumberOfDays=()=>e.max_number_of_days,this.unitsPerBlock=e.units_per_block,this._timelineSettings=n.Z.build(e),this.customOrderSettings=e.custom_order_settings||{},this.canComment=e.can_comment,this.isCompletelyFiltered=e.roadmaps.every((e=>e.is_completely_filtered)),this.roadmaps={},this.orderedRoadmapIds=[];for(var s=0,l=Array.from(e.roadmaps);s<l.length;s++){var c=l[s];c.toggled_lanes=e.toggled_lanes,c.custom_label_groups=e.custom_label_groups;var u=new a.Z(c,this.publicUrlCode);u.masterPlan=this,this.roadmaps[c.roadmap_id]=u,this.orderedRoadmapIds.push(c.roadmap_id)}this.barToggles=(0,o.W)({list:e.toggled_containers,defaultState:o.Y.CLOSED}),this.laneToggles=(0,o.W)({list:this.laneStyle===i.t3?e.toggled_roadmaps:e.toggled_lanes,defaultState:o.Y.OPENED}),this.isExportView=!1,this.legendTitle=e.consolidated_legend_name,this.startDateSetting=e.start_date,this.endDateSetting=e.end_date,this.tableColumns=e.table_columns,this.customLabelGroups=v().camelizeKeys(null!==(r=e.custom_label_groups)&&void 0!==r?r:[])}containsNoRoadmaps(){return 0===Object.keys(this.roadmaps).length}effortOptions(){return[]}findBarAndRoadmap(e){for(var t in this.roadmaps){var r=this.roadmaps[t],n=r.findActiveBar(e);if(n)return{bar:n,roadmap:r}}}findBarComments(e){var t,r;return null!==(t=null===(r=this.findActiveBar(e))||void 0===r?void 0:r.comments)&&void 0!==t?t:[]}findMilestone(e){for(var t in this.roadmaps){var r=this.roadmaps[t].findMilestone(e);if(r)return r}}timelineHeaderMilestoneContainer(e){return this.laneStyle===i.EE?"#timeline-milestones-".concat(e):".roadmap-divider[data-id=".concat(e,"] .roadmap-milestones")}milestoneList(){return l()(u()((e=>e.milestoneList())),h())(this.roadmaps)}showTimelineMilestonePoles(){return this.laneStyle===i.EE}roadmapNameOfLane(e){var t;if(void 0!==e){var r=Object.values(this.roadmaps).find((t=>void 0!==t.findLane(e.id)));return null!==(t=null===r||void 0===r?void 0:r.title())&&void 0!==t?t:void 0}}forEachLane(e){if(void 0!==e)return Object.values(this.roadmaps).forEach((t=>t.forEachLane(e)))}}},84001:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(74527),a=(r(18553),r(55652));function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,l,"next",e)}function l(e){i(o,n,a,s,l,"throw",e)}s(void 0)}))}}const l=class{static show(e){var t=window.currentRoadmapable.roadmapableId(),i=r(86578),l=$(i({laneId:e},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}));return $("body").append(l),l.on("hidden.bs.modal",(()=>l.remove())),l.on("shown.bs.modal",(function(){var r;return l.find("#roadmap_id").select2({maximumSelectionSize:1,dropdownCssClass:"select-roadmap",width:"100%",allowClear:!0,placeholder:"Select destination",ajax:{transport:(r=s(o().mark((function e(t){var r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.default.searchEditableRoadmaps(t.data);case 3:r=e.sent,t.success(r.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=e.t0.response,t.error(a.data);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return r.apply(this,arguments)}),data:(e,r)=>({q:{term:e,excluded_roadmap_id:t},page:r}),results:e=>({results:e.editable_roadmaps,more:e.meta.pagination.current_page<e.meta.pagination.total_pages}),quietMillis:500,cache:!0},formatSelection:e=>e.text}),l.on("click","#move-lane-submit",function(){var t=s(o().mark((function t(r){var i,s,l,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),(i=$(this)).text(i.data("disable-with")),i.attr("disabled","disabled"),s=$("#roadmap_id").val(),t.prev=5,t.next=8,n.default.managerRequests.moveLane(e,s);case 8:l=t.sent,c=l.data,window.dataLayer.push({event:"moved_lane"}),a.ProductPlan.roadmapManager.laneDeleted(c.lane),$(".move-lane-wrapper").hide(),$(".move-lane-sucess a").attr("href","/"+c.destination.url_code),$(".move-lane-sucess a").text(c.destination.name),$(".move-lane-sucess").show(),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(5),a.ProductPlan.requireRefresh(t.t0);case 21:case"end":return t.stop()}}),t,this,[[5,18]])})));return function(e){return t.apply(this,arguments)}}())})),l.modal()}}},51793:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(80008),a=r.n(n),o=r(18991);class i{static get dateFormat(){return"YYYY-MM-DD"}static get displayFormat(){return"MMM D, YYYY"}static get monthFormat(){return"MMMM D"}static guessTimeZone(){var e="America/Los_Angeles";try{e=a().tz.guess()}catch(t){e="America/Los_Angeles"}finally{void 0===e&&(e="America/Los_Angeles")}return e}static localDateTime(e){var t=i.momentInTimeZone(e);return"".concat(t.format("MMM D")," at ").concat(t.format("h:mm A"))}static localTime(e){var t=i.momentInTimeZone(e);return"".concat(t.format("h:mm A"))}static momentInTimeZone(e){var t=i.guessTimeZone(),r=e;return void 0===r&&(r=a().utc().toDate()),a().tz(r,t)}static parseDate(e){return a()(e,i.dateFormat)}static todayInTimeZone(){return new i(i.momentInTimeZone())}static fromString(e){return new i(i.parseDate(e))}static fromDate(e){return new i(e)}constructor(e){this.date=a()(e)}asEndOfDay(){return a()(this.date).add(-1,"days")}apiFormatted(){return o.Z.startOfDay(this.date,i.dateFormat)}startOfDay(){return o.Z.startOfDay(this.date,i.displayFormat)}endOfDay(){return o.Z.endOfDay(this.date,i.displayFormat)}endOfDayApiFormatted(){return o.Z.endOfDay(this.date,i.dateFormat)}advance(e,t){return void 0===t&&(t="days"),this.date.add(e,t),this.date}}const s=i},65943:(e,t,r)=>{"use strict";r.d(t,{KJ:()=>o,RZ:()=>d,SL:()=>i,XQ:()=>a,fP:()=>c,iN:()=>u,kK:()=>s,xb:()=>l});var n=new Intl.Collator("en",{numeric:!0,sensitivity:"base"});function a(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",n=e[r].toLowerCase(),a=t[r].toLowerCase();return n>a?1:n<a?-1:0}function o(e,t){if(isNaN(e)||isNaN(t))throw new Error("Arguments must be numeric");return e-t}function i(e,t){return n.compare(e,t)}function s(e){return void 0===e||null===e}function l(e){return[Object,Array].includes((e||{}).constructor)&&!Object.entries(e||{}).length}var c=()=>new Promise((()=>{window.location.reload()})),u=e=>new Promise((()=>{window.location.href=e})),d={alphaSort:a,numericSort:o,naturalSort:i,positionSort:function(e,t){return o(e.position,t.position)},cheapPluralize:function(e,t){return 1===t?e:e+"s"},cheapSingularize:function(e){return e.slice(0,-1)},addPixelSuffix:function(e){return isNaN(e)||s(e)?"0":"".concat(e,"px")},maxScrollWidth:function(e){return e.scrollWidth-e.clientWidth},maxScrollHeight:function(e){return e.scrollHeight-e.clientHeight},computeOffsetLeftFromDocument:function(e){return e.offsetParent?e.offsetLeft+this.computeOffsetLeftFromDocument(e.offsetParent):e.offsetLeft},loaderIsShowing:function(){return $("#ajax-loader-modal").hasClass("show-loader")},selectorExists:function(e){return!!document.querySelector(e)},isNil:s,reloadPageAsync:c,setLocationAsync:u,isEmpty:l,elementIsDisplayed:function(e){return null!=(null===e||void 0===e?void 0:e.offsetParent)}}},55652:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProductPlan:()=>o});var n=r(65943),a=r(17563),o={isRoadmapsIndexPage:()=>0!==$("#new-roadmaps-page-mount-point").length,isRoadmapIndexPageNotAdmin:()=>0!==$("#new-roadmaps-page-mount-point[data-admin-mode!='true']").length,isPercentCompletedEnabled(){return!!this.loggedIn()&&window.currentRoadmapable.thirdPartyIntegrationsSettings.has_percent_complete_enabled_integrations},loggedIn:()=>!!window.current_user,canEdit:()=>o.loggedInWithEditPermissions(),loggedInWithEditPermissions:()=>window.currentRoadmapable.canEdit()&&o.loggedIn(),maxPositiveValue(e){var t=e.filter((e=>Number.isFinite(e)));return Math.max(0,...t)},clearEmptyLanes:()=>($(".lane-bar-holder:not(:has(.project-bar))").each((function(){var e=$(this);return e.siblings(".lane-bar-holder:has(.project-bar)").length>0?(e.next(".lane-divider").remove(),e.remove()):e.siblings(".lane-divider").remove()})),o.roadmapRenderer.updateMilestones()),calculateLaneHeight(e,t){null==t&&(t="");var r=$(".lane-bar-holder:visible:first"),n=".container-holder:visible"+t,a=e.find(n).map(((e,t)=>$(t).height())),i=o.maxPositiveValue(a),s=parseInt(r.css("min-height"));return 0===s&&($("body").hasClass("condensed")||$("body").hasClass("minimal"))?i+32:0!==s||$("body").hasClass("condensed")?i+s:i+52},initExport(){window.check_window_resize=window.ProductPlan.layout.drawTimelineExport,$(window).on("resize",(function(e){e.target===window&&window.check_window_resize()})),o.roadmapView.mountToolbarLegend()},latestKnownScrollX:0,latestKnownScrollY:0,updatingBarDetails:!1,setLatestKnownScrollX:e=>o.latestKnownScrollX=e,setLatestKnownScrollY:e=>o.latestKnownScrollY=e,requestBarDetailsUpdate(){if(!o.updatingBarDetails)return o.updatingBarDetails=!0,requestAnimationFrame(o.updateExportDetails)},updateExportDetails(e){if(o.updatingBarDetails=!1,!0===e||$("#bar-details").is(":visible")){var t=$(".project-bar").not(".filtered"),r=$(".js-main-container");return Array.from(t).map((e=>$("#".concat(e.id,"_details")).toggleClass("filtered",!$(e).visible(!0,!0,"horizontal",r))))}},resizeMainContent(){var e,t=null!==(e=$(".navbar").outerHeight(true))&&void 0!==e?e:0,r=$(".roadmap-heading").outerHeight(true),n=$(window).height()-r-t-24;[".planning-container"].forEach((function(e){var t=$(e);if(0!==t.length){t.hasClass("empty-table")?t.css("height",n):t.css("max-height",n);var r=t.find(".dataTables_scrollHead");if(r.length>0){var a=r.position().top,o=r.height();return t.find(".dataTables_scrollBody").height(n-a-o)}}}))},formatColorOption(e,t,n){var a=$(e.element),o=a.data("color"),i=a.text();return o?r(19838)({colorClass:t,textStyle:n,text:i,color:o},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}):i},formatOption:e=>o.formatColorOption(e,"dropdown-color-box","margin-left: 20px; margin-top: 3px"),formatSelection:e=>o.formatColorOption(e,"button-color-box","margin-left: 23px; margin-top: 2px"),requireRefresh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Refresh required",t=r(78539);throw $("body").prepend(t({message:"There was a problem making your last change.  Please refresh to continue."},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})),"string"===typeof e?new Error(e):e},showMainContent:()=>($("#main-wrapper").show(),window.check_window_resize()),showActionAlert(e,t,r){for(var n="error"===t?"danger":t,a=$("#action-alert"),o=a.find(".alert"),i=0,s=Array.from(["alert-success","alert-danger","alert-info","alert-warning"]);i<s.length;i++){var l=s[i];o.toggleClass(l,!1)}if(o.addClass("alert-"+n),a.find(".text").text(e),a.show(),!r)return a.delay(3e3).fadeOut()},hasQueryParam(e){return void 0!==this.getQueryParam(e)},getQueryParam(e){return this.getQueryParams()[e]},getCurrentURL:()=>window.location.href,getQueryParams:()=>a.parse(window.location.search),changeLocation(e){window.location=e},openLink(e){window.location.assign(e.url)},openLinkInNewTab(e){window.open(e)},currentUser:()=>window.current_user,isFeatureEnabled:e=>window.ProductPlan.currentUser()&&window.ProductPlan.currentUser().features&&window.ProductPlan.currentUser().features.includes(e),ppVersion:()=>window.ppVersion,hexToRGB(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),r=parseInt(t[1],16),n=parseInt(t[2],16),a=parseInt(t[3],16),o=new Object;return o.r=r,o.b=a,o.g=n,o},mixTint(e,t,r){if(void 0!==e&&void 0!==t){var n=this.hexToRGB(e),a=this.hexToRGB(t),o=2*(void 0===r?.5:r/100)-1,i=(o/(1+o)+1)/2,s=1-i,l=new Object;return l.r=Math.round(i*n.r+s*a.r),l.b=Math.round(i*n.b+s*a.b),l.g=Math.round(i*n.g+s*a.g),l}},hexToHsl(e,t,r){if(null==r&&(r="#ffffff"),void 0!==e){var n,a,o=t?this.mixTint(e,r,t):this.hexToRGB(e),i=o.r/255,s=o.g/255,l=o.b/255,c=Math.max(i,s,l),u=Math.min(i,s,l),d=c-u,h=0;h=0===d?0:c===i?(s-l)/d%6:c===s?(l-i)/d+2:(i-s)/d+4,(h=Math.round(60*h))<0&&(h+=360),a=(c+u)/2,n=0===d?0:d/(1-Math.abs(2*a-1));var p=h,f=Math.round(Math.abs(100*n));return t=Math.round(Math.abs(100*a)),"".concat(p,",").concat(f,"%,").concat(t,"%")}},regexEmail:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,addColorProp(e){var t=this.defaultNoneColor();return e.map((function(e){return e.color=(0,n.xb)(e.hex)?t:"#"+e.hex,e}))},getContrastLabel(e,t){return e=""===e||void 0===e?"#000000":e,t=""===t||void 0===t?"#ffffff":t,this.contrastRatioIndex(e,t)<4.5?"dark":"light"},getsRGB(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},getRelativeLuminance(e){var t=.7152,r=.0722;return.2126*this.getsRGB(e.r)+t*this.getsRGB(e.g)+r*this.getsRGB(e.b)},contrastRatioIndex(e,t){var r=this.getRelativeLuminance(this.hexToRGB(e)),n=this.getRelativeLuminance(this.hexToRGB(t));return((Math.max(r,n)+.05)/(Math.min(r,n)+.05)).toFixed(2)},getContrastClasses:e=>o.getContrastLabel("#ffffff",e)+"-text",defaultNoneColor:()=>"#FBFBFB",defaultLegendColor:()=>"#527093",getBar:e=>window.currentRoadmapable.findActiveBar(e)};window.ProductPlan=o},4640:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(65943);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{static renderBarInNewPosition(e,t,r,n){var a=e.inDom();t-=o.singleBorder(n),r-=o.doubleBorder(n),a.css({left:t,width:r})}static renderBarInOriginalPosition(e,t){var r=e.inDom(),n=r.data("originalBarLeft"),a=r.data("originalBarOuterWidth"),i=n+o.singleBorder(t),s=a-o.doubleBorder(t);r.css({left:i,width:s}),e.repositioned=!1,e.useWidth=!1,t.removeFromBarResizeContainer(e),t.updateResizeContainerWidth()}static moveBarToFront(e,t){if(t.isContained){var r=e.closest(".container-bar");return o.detachAndReattachTopBar(r)}return o.detachAndReattachTopBar(e)}static detachAndReattachTopBar(e){var t=e.closest(".lane-drop"),r=e.detach();return t.append(r)}static doubleBorder(e){return e.isContained?e.DOUBLE_BORDER:0}static singleBorder(e){return e.isContained?e.SINGLE_BORDER:0}}a(o,"setNewPositionOnBarsFromResize",((e,t)=>{var r=null;if(e.forEach(((e,n)=>{var a=e.bar_start_px-t.containerBarLeftOffsetPx,i=e.bar_end_px-t.containerBarLeftOffsetPx-a;if(!(a>e.inDom().data("originalBarLeft")))return r=n,!1;o.renderBarInNewPosition(e,a,i,t)})),!(0,n.kK)(r))return e.slice(r,e.length).forEach((e=>o.renderBarInOriginalPosition(e,t)))})),a(o,"previewImpactedBars",((e,t)=>{if(!(0,n.xb)(e)){var r=e.filter((e=>e.repositioned));r.concat().sort((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"startUnitsForDisplay";return(t,r)=>t[e]>r[e]?1:r[e]>t[e]?-1:0})),o.setNewPositionOnBarsFromResize(r,t)}}))},17769:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(8864);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const o=new class{constructor(){a(this,"handleDragHoverContainer",((e,t,r)=>{if(this.isLaneInContainer(e,t)&&(this.barOutsideContainer=!1,this.setContainer(this.getLaneContainerId(t)),this.container.isContainer))return this.setBar(r),this.initializeBarHoverContainer(),this.initializeOriginalContainerWidth()})),a(this,"handleDragOutsideContainer",((e,t)=>{if(this.isLaneOutContainer(e,t))return this.setContainer(this.getLaneContainerId(t)),this.remove(),this.barOutsideContainer=!0})),a(this,"removeOriginalContainerWidth",(()=>{if(this.hasOriginalContainerWidth())return this.container.inDom().removeData("originalContainerWidth")})),a(this,"remove",(()=>(this.removeOriginalContainerWidth(),this.removeBarHoverContainer(),this.resetContainerWidth()))),a(this,"resizeContainer",((e,t)=>{if(e&&!this.barOutsideContainer){if(this.initialize(e),this.hasContainer()&&this.hasBar()){var r=this.container.inDom().width(),a=this.container.inDom().position().left;return a+=n.Z.SINGLE_BORDER,(r=t+this.domBar.width()-a)<=this.getOriginalContainerWidth()&&(r=this.getOriginalContainerWidth()),this.container.inDom().width(r)}return this.remove()}})),a(this,"resetContainerWidth",(()=>{if(this.container){var e=window.currentRoadmapable.ppd;return this.container.inDom().width(this.container.widthInPixels(e))}})),a(this,"initialize",(e=>{if(this.setBar(e),this.hasBar())return this.isBarHoverContainer()?this.setContainerFromBarHover():this.setContainerFromBarContained()})),a(this,"initializeBarHoverContainer",(()=>{if(this.isActualContainer())return this.domBar.data("hoverContainerId",this.container.id)})),a(this,"initializeOriginalContainerWidth",(()=>{if(!this.hasOriginalContainerWidth())return this.container.inDom().data("originalContainerWidth",this.container.inDom().width())})),a(this,"getOriginalContainerWidth",(()=>{if(this.hasContainer())return this.container.inDom().data("originalContainerWidth")})),a(this,"setContainer",(e=>this.container=window.currentRoadmapable.findActiveBar(e))),a(this,"setBar",(e=>{if(this.bar=window.currentRoadmapable.findActiveBar(e),this.hasBar())return this.domBar=this.bar.inDom()})),a(this,"setContainerFromBarContained",(()=>this.container=this.bar.parent())),a(this,"setContainerFromBarHover",(()=>{var e=this.domBar.data("hoverContainerId");return this.container=window.currentRoadmapable.findActiveBar(e)})),a(this,"removeBarHoverContainer",(()=>{if(this.isBarHoverContainer())return this.domBar.removeData("hoverContainerId")})),a(this,"isActualContainer",(()=>this.hasContainer()&&this.hasBar()&&!this.isBarHoverContainer())),a(this,"isBarHoverContainer",(()=>!!this.hasBar()&&null!=this.domBar.data("hoverContainerId"))),a(this,"isLaneOutContainer",((e,t)=>!e.hasClass("lanes")&&!t.hasClass("lanes")&&this.getLaneContainerId(e)!==this.getLaneContainerId(t))),a(this,"isLaneInContainer",((e,t)=>!e.hasClass("lanes")&&!t.hasClass("lanes")&&this.getLaneContainerId(e)===this.getLaneContainerId(t))),a(this,"hasContainer",(()=>null!=this.container)),a(this,"hasBar",(()=>null!=this.bar)),a(this,"hasOriginalContainerWidth",(()=>this.hasContainer()&&null!=this.getOriginalContainerWidth()))}getLaneContainerId(e){return e.parents(".container-bar").data("id")}}},8864:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n=r(97019),a=r.n(n),o=r(66073),i=r.n(o),s=r(20297),l=r(4835),c=r.n(l),u=r(44236),d=r.n(u),h=r(8816),p=r.n(h),f=r(22205),m=r.n(f),v=r(66678),g=r.n(v);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b{}y(b,"calculateUnlessValid",((e,t)=>{var r=e;return b.isValidSnapPosition(r,t)||(r=b.calculateValidPosition(r,t)),r})),y(b,"isValidSnapPosition",((e,t)=>Math.round(e/t)*t===e)),y(b,"calculateValidPosition",((e,t)=>e=Math.round(e/t)*t));const w=b;var C=r(55652),E=r(65943);function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x{static leftCollisionWithParentBoundary(e,t,r){return e<=t-r}static collectByStartDate(e){return e.reduce(((e,t)=>{var r=t.startUnitsForDisplay();return e[r]||(e[r]=[]),e[r].push(t),e}),{})}static multipleBarsWithSameKey(e){return Object.values(e).some((e=>e.length>1))}static handleMultipleCollisions(e){var t=x.collectByStartDate(e);return x.multipleBarsWithSameKey(t)?[x.getLongestImpactedBar(e)]:(e.forEach((e=>e.useWidth=!0)),e)}static getLongestImpactedBar(e){if((0,E.xb)(e))return null;var t=null;return e.forEach((e=>(0,E.kK)(t)||t.inDom().data("originalBarRight")<e.inDom().data("originalBarRight")?t=e:void 0)),t.useWidth=!0,t}}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_(x,"handleBumpedBarLength",(e=>(0,E.xb)(e)?e:e.length>1?x.handleMultipleCollisions(e):(e[0].useWidth=!0,e))),_(x,"checkForCollision",((e,t)=>{var r=e.inDom().data("originalBarLeft");return!!x.collisionDetected(r,t)&&e})),_(x,"collisionDetected",((e,t)=>t.rightImpactBoundary-t.containerBarLeftOffsetPx>=e&&t.resizeLeft<e)),_(x,"collisionCollector",((e,t)=>{var r=[];return e.forEach((e=>{if(!e.isDateRangeSyncEnabled()&&!e.hasChildDateRangeSyncEnabled())return x.checkForCollision(e,t)?r.push(e):void 0})),r}));const P=new class{constructor(){L(this,"init",(e=>{if(this.resizeHandler=e,this.offset=0,this.changeInContainerPosition=0,this.resizeHandler.draggableBar.isContainer&&(this.childBarsWithAttributes=this.getChildBars(),this.changeInContainerPosition=this.setValidContainerShift()),this.resizeHandler.draggableBar.isContained)return this.offset=this.resizeHandler.containerBarLeftOffsetPx,this.childBarsWithAttributes=this.getChildBarsExceptDraggable()})),L(this,"preserveChildPositionsAndRender",((e,t)=>(t=w.calculateUnlessValid(t,this.resizeHandler.ppd),i()(e,(e=>{var r=e.inDom().data("originalBarLeft")+this.changeInContainerPosition+this.resizeHandler.DOUBLE_BORDER;return e.fixed_left=w.calculateUnlessValid(r,this.resizeHandler.ppd),e.offset_left=w.calculateUnlessValid(e.fixed_left+t,this.resizeHandler.ppd)})),this.renderChildBarsInPosition(e)))),L(this,"renderChildBarsInPosition",(e=>i()(e,(e=>e.inDom().css("left",e.fixed_left-this.resizeHandler.SINGLE_BORDER))))),L(this,"updateRepositionedBars",(()=>{var e=[],t=[],r=window.currentRoadmapable.findActiveBar(this.resizeHandler.draggableBar.id);t.push(g()(r.getUndoAttributes()));var n=this.calculateDateAttrsForResizedBar(this.offset);e.push(this.resizeHandler.buildPayload(n)),this.resizeHandler.draggable.isContainer&&i()(this.childBarsWithAttributes,(r=>{var n=window.currentRoadmapable.findActiveBar(r.id);t.push(g()(n.getUndoAttributes()));var a=this.resizeHandler.timelineSettings.dimensionPixelsToUnits(r.offset_left,r.inDom().data("originalBarOuterWidth"),this.resizeHandler.ppd);return m()(r,a),e.push(this.resizeHandler.buildPayload(r))}));var a=C.ProductPlan.roadmapManager.undoBarMove.bind(void 0,r.id,t);return C.ProductPlan.UndoQueue.pushUndo({command:a,clearRedoAction:!0}),C.ProductPlan.roadmapManager.updateBarsPosition(e)}))}setValidContainerShift(){var e=this.resizeHandler.draggable.data("originalBarLeft")-this.resizeHandler.draggable.position().left;return w.calculateUnlessValid(e,this.resizeHandler.ppd)}updateChangeInContainerPosition(){var e=this.resizeHandler.draggable.data("originalBarLeft")-this.resizeHandler.draggable.position().left;return this.changeInContainerPosition=w.calculateUnlessValid(e,this.resizeHandler.ppd)}moveFromLeft(){if(this.resizeHandler.draggableBar.isContainer&&this.expandAndPreserveChildren(),this.resizeHandler.draggableBar.isContained)return this.expandToParentBoundary()}expandAndPreserveChildren(){return this.updateChangeInContainerPosition(),this.preserveChildPositionsAndRender(this.childBarsWithAttributes,this.resizeHandler.draggable.position().left)}expandToParentBoundary(){var e=this.resizeHandler.draggable.position().left,t=this.resizeHandler.containerBar.inDom().position().left,r=this.resizeHandler.containerBarLeftOffsetPx;x.leftCollisionWithParentBoundary(e,t,r)&&(this.pinChildBarToContainerBoundary(),this.preserveChildPositionsAndRender(this.childBarsWithAttributes,this.offset))}getChildBars(){var e;return e=this.resizeHandler.draggableBar.isContainer?this.resizeHandler.draggable.find(".project-bar"):this.resizeHandler.draggable.parent().find(".project-bar"),this.resizeHandler.setUpDataAttrsOnBarList(e)}getChildBarsExceptDraggable(){var e=this.getChildBars();return a()(e,this.resizeHandler.draggableBar)}pinChildBarToContainerBoundary(){var e=this.resizeHandler.draggable.data("originalBarRight");return this.resizeHandler.draggable.css("left",0),this.resizeHandler.draggable.width(e-this.resizeHandler.DOUBLE_BORDER)}calculateDateAttrsForResizedBar(e){null==e&&(e=0);var t=w.calculateUnlessValid(this.resizeHandler.draggable.position().left+e,this.resizeHandler.ppd),r=this.resizeHandler.getBarWidthPlusBorders(this.resizeHandler.draggable),n=this.resizeHandler.timelineSettings.dimensionPixelsToUnits(t,r,this.resizeHandler.ppd);return m()(this.resizeHandler.draggableBar,n),this.resizeHandler.draggableBar}};var O=r(63105),S=r.n(O),k=r(75472),T=r.n(k),D=r(71479),I=r.n(D),R=r(66415),A=r.n(R),j=r(4640);function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const N=new class{constructor(){M(this,"init",(e=>this.resizeHandler=e)),M(this,"preventOverlaps",(()=>{if(this.barRepositioner(this.resizeHandler.barsWithAttributes),this.resizeHandler.isContained)return this.resizeContainerBar()})),M(this,"updateResizeContainerWidth",(()=>{var e;return e=this.resizeHandler.isContained?this.resizeHandler.containerBarLeftOffsetPx:0,i()(this.resizeHandler.resizeBarContainerElements,(t=>{if(!(t instanceof s.Z)){var r=t.position().left+this.resizeHandler.getBarWidthPlusBorders(t);return e+=r}if(t.useWidth)return e+=t.inDom().data("originalBarOuterWidth")})),this.resizeHandler.rightImpactBoundary=e})),M(this,"buildNewBarPositionsFromResize",(e=>{this.sortListOfBars(e).reduce(((e,t)=>{if(t instanceof s.Z){var r=t.inDom().data("originalBarOuterWidth");return w.isValidSnapPosition(e,this.resizeHandler.ppd)&&w.isValidSnapPosition(r,this.resizeHandler.ppd)||(e=w.calculateValidPosition(e,this.resizeHandler.ppd),r=w.calculateValidPosition(r,this.resizeHandler.ppd)),m()(t,{bar_start_px:e,bar_end_px:e+r,repositioned:!0}),t.useWidth?e+r:e}return e=this.resizeHandler.getBarWidthPlusBorders(t)+(t.position().left+this.resizeHandler.containerBarLeftOffsetPx)}),0)})),M(this,"checkForCollisionsAndAdvance",(e=>{var t=x.collisionCollector(e,this.resizeHandler);if(t.length>0){this.resizeHandler.updateResizeContainerFromLongest(t);var r=S()(t,(e=>e.repositioned));if(this.buildNewBarPositionsFromResize(t),this.updateResizeContainerWidth(),t.length===r.length)return;return this.checkForCollisionsAndAdvance(e)}return this.updateResizeContainerWidth()})),M(this,"barRepositioner",(e=>(this.checkForCollisionsAndAdvance(e),j.Z.previewImpactedBars(this.resizeHandler.barsWithAttributes,this.resizeHandler)))),M(this,"resizeContainerBar",(()=>{var e=this.resizeHandler.rightImpactBoundary-this.resizeHandler.containerBarLeftOffsetPx;(e=w.calculateUnlessValid(e,this.resizeHandler.ppd))<this.resizeHandler.containerBarInitialWidth||this.resizeHandler.containerBar.inDom().width(e)})),M(this,"addResizedBarToPayload",(()=>{var e,t=this.resizeHandler.resizeLeft+this.resizeHandler.containerBarLeftOffsetPx+this.resizeHandler.SINGLE_BORDER;this.resizeHandler.draggableBar.bar_start_px=w.calculateUnlessValid(t,this.resizeHandler.ppd),this.resizeHandler.draggableBar.repositioned=!0,this.resizeHandler.draggableBar.isContained?(t=this.resizeHandler.containerBarLeftOffsetPx+this.resizeHandler.resizeLeft+this.resizeHandler.getBarWidthPlusBorders(this.resizeHandler.draggable),e=w.calculateUnlessValid(t,this.resizeHandler.ppd),this.resizeHandler.draggableBar.bar_end_px=e):(e=w.calculateUnlessValid(this.resizeHandler.resizeLeft+this.resizeHandler.getBarWidthPlusBorders(this.resizeHandler.draggable),this.resizeHandler.ppd),this.resizeHandler.draggableBar.bar_end_px=e),this.resizeHandler.barsWithAttributes.push(this.resizeHandler.draggableBar)})),M(this,"updateRepositionedBars",(()=>{var e=this.resizeHandler.barsWithAttributes.length>0;this.addResizedBarToPayload(),this.resizeHandler.draggableBar.isContained&&this.adjustContainerFromResize();var t=this.resizeHandler.barsWithAttributes.filter((e=>e.repositioned)),r=[],n=[];t.forEach((e=>{var t=window.currentRoadmapable.findActiveBar(e.id);n.push(g()(t.getUndoAttributes()));var a=this.resizeHandler.timelineSettings.dimensionPixelsToUnits(e.bar_start_px,e.bar_end_px-e.bar_start_px,this.resizeHandler.ppd);return e.isContainer&&!this.resizeHandler.isContained&&e.bars().forEach((t=>{var o=window.currentRoadmapable.findActiveBar(t.id);return n.push(Object.assign({},o.getUndoAttributes())),Object.assign(t,window.currentRoadmapable.timelineSettings().shiftedUnits(t,e,a)),r.push(this.resizeHandler.buildPayload(t))})),Object.assign(e,a),r.push(this.resizeHandler.buildPayload(e))}));var a=this.resizeHandler.draggableBar.id,o=C.ProductPlan.roadmapManager.undoBarMove.bind(void 0,a,n);return C.ProductPlan.UndoQueue.pushUndo({command:o,clearRedoAction:!0}),C.ProductPlan.roadmapManager.updateBarsSize(r,a,e)})),M(this,"adjustContainerFromResize",(()=>{if(!(this.resizeHandler.containerBarInitialWidth+this.resizeHandler.containerBarLeftOffsetPx>=this.resizeHandler.rightImpactBoundary))return this.resizeHandler.containerBar.bar_start_px=this.resizeHandler.containerBarLeftOffsetPx,this.resizeHandler.containerBar.bar_end_px=this.resizeHandler.rightImpactBoundary,this.resizeHandler.containerBar.repositioned=!0,this.resizeHandler.barsWithAttributes.push(this.resizeHandler.containerBar)}))}sortListOfBars(e){var t=p()(I()(this.resizeHandler.resizeBarContainerElements),d(),A()((e=>e instanceof s.Z?e.startUnitsForDisplay():this.resizeHandler.findDraggableBar().startUnitsForDisplay())))(e);return T()(t,[e=>e instanceof s.Z?e.startUnitsForDisplay():this.resizeHandler.findDraggableBar().startUnitsForDisplay(),e=>e instanceof s.Z?e.widthForDisplay():this.resizeHandler.findDraggableBar().widthForDisplay()],["asc","asc"])}};function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const F=new class{constructor(){B(this,"DOUBLE_BORDER",2),B(this,"SINGLE_BORDER",1),B(this,"init",((e,t,r)=>{this.axis=r,this.timelineSettings=window.currentRoadmapable.timelineSettings(),this.ppd=window.currentRoadmapable.ppd,this.draggable=e,this.isContained=t,this.draggableBar=window.currentRoadmapable.findActiveBar(this.draggable.data("id")),this.resizeBarContainerElements=[this.draggable],this.containerBarLeftOffsetPx=0,this.isContained&&(this.containerBar=window.currentRoadmapable.findActiveBar(this.draggableBar.containerId),this.containerBarInitialWidth=this.containerBar.inDom().width(),this.containerBarLeftOffsetPx=this.containerBar.inDom().position().left),this.resizeLeft=this.draggable.position().left-this.SINGLE_BORDER,this.rightImpactBoundary=this.initializeRightImpactBoundary(),this.resizeBarContainerWidth=this.rightImpactBoundary,this.barsWithAttributes=this.getBarsData(),"w"===this.axis?P.init(this):N.init(this)})),B(this,"preventOverlaps",(()=>"w"===this.axis?P.moveFromLeft():N.preventOverlaps())),B(this,"updateRepositionedBars",(()=>"w"===this.axis?P.updateRepositionedBars():N.updateRepositionedBars())),B(this,"cleanUp",(()=>(this.resetOriginalBarLefts(),this.resetOriginalBarRights(),this.resetOriginalBarOuterWidths()))),B(this,"getBarsData",(()=>{var e=this.draggable.parent(),t=this.barsInSublaneBesidesSelf(this.draggable,e);return i()(t,(function(e){return e.repositioned=!1,e}))})),B(this,"getBarWidthPlusBorders",(e=>e.width()+this.DOUBLE_BORDER)),B(this,"findDraggableBar",(()=>window.currentRoadmapable.findActiveBar(this.draggable.data("id")))),B(this,"barsInSublaneBesidesSelf",((e,t)=>{var r=this.findDraggableBar(),n=this.barsInSublane(t);return a()(n,r),n})),B(this,"barsInSublane",(e=>{var t=e.children(".project-bar");return this.setUpDataAttrsOnBarList(t)})),B(this,"setUpDataAttrsOnBarList",(e=>{var t=[];return i()(e,(e=>{if(!$(e).hasClass("filtered")){var r=$(e).attr("data-id"),n=window.currentRoadmapable.findActiveBar(r);return this.initializeOriginalBarLeft(n),this.initializeOriginalBarRight(n),this.initializeOriginalBarOuterWidth(n),t.push(n)}})),t})),B(this,"initializeRightImpactBoundary",(()=>{var e=0;return this.isContained&&(e=this.containerBarLeftOffsetPx),this.resizeLeft+this.getBarWidthPlusBorders(this.draggable)+e})),B(this,"updateResizeContainerFromLongest",(e=>{var t=x.handleBumpedBarLength(e);return i()(t,(e=>this.addToBarResizeContainer(e)))})),B(this,"updateResizeContainerWidth",(()=>{var e;return e=this.isContained?this.containerBarLeftOffsetPx:0,i()(this.resizeBarContainerElements,(t=>{if(!(t instanceof s.Z)){var r=t.position().left+this.getBarWidthPlusBorders(t);return e+=r}if(t.useWidth)return e+=t.inDom().data("originalBarOuterWidth")})),this.rightImpactBoundary=e})),B(this,"addToBarResizeContainer",(e=>(this.resizeBarContainerElements.push(e),this.resizeBarContainerElements=p()(c(),d())(this.resizeBarContainerElements)))),B(this,"removeFromBarResizeContainer",(e=>{var t=this.resizeBarContainerElements.indexOf(e);if(t>=0&&this.resizeBarContainerElements.splice(t,1),this.updateResizeContainerWidth(),this.isContained)return N.resizeContainerBar()})),B(this,"initializeOriginalBarLeft",(e=>{var t=e.parent()?this.setContainedBarOriginalLeft(e):e.inDom().position().left;e.inDom().data("originalBarLeft",t-this.SINGLE_BORDER)})),B(this,"initializeOriginalBarRight",(e=>{e.inDom().data("originalBarRight",e.inDom().position().left+this.getBarWidthPlusBorders(e.inDom()))})),B(this,"setContainedBarOriginalLeft",(e=>{var t=window.currentRoadmapable.timelineSettings(),r=window.currentRoadmapable.ppd,n=e.parent().startUnits(),a=e.startUnits();return t.displayUnitsToPixels(a-n,r)-1})),B(this,"initializeOriginalBarOuterWidth",(e=>(e.inDom().data("originalBarOuterWidth",this.getBarWidthPlusBorders(e.inDom())),!1))),B(this,"resetOriginalBarLefts",(()=>{var e=this.barsInSublane(this.draggable.parent());i()(e,(e=>e.inDom().removeData("originalBarLeft")))})),B(this,"resetOriginalBarRights",(()=>{var e=this.barsInSublane(this.draggable.parent());i()(e,(e=>e.inDom().removeData("originalBarRight")))})),B(this,"resetOriginalBarOuterWidths",(()=>{var e=this.barsInSublane(this.draggable.parent());i()(e,(e=>e.inDom().removeData("originalBarOuterWidth")))})),B(this,"buildPayload",(e=>({id:e.id,startsOn:e.startsOn,endsOn:e.endsOn,uniformStartUnits:e.uniformStartUnits,uniformEndUnits:e.uniformEndUnits,actualStartUnits:e.actualStartUnits,actualEndUnits:e.actualEndUnits})))}}},68283:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=class{static canDrop(e){var t=$("#roadmap-tab .js-main-container"),r=t.offset().top,n=t.offset().left,a=t.width(),o=t.height(),i=e.clientX>=n&&e.clientX<=n+a,s=e.clientY>=r&&e.clientY<=r+o;return i&&s}}},20044:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ne});var n=r(39693),a=r.n(n),o=r(41609),i=r.n(o),s=r(82729),l=r.n(s),c=r(89734),u=r.n(c),d=r(10928),h=r.n(d),p=r(51463),f=r.n(p),m=r(84486),v=r.n(m),g=r(66678),y=r.n(g),b=r(13311),w=r.n(b),C=r(66073),E=r.n(C),_=r(3651),x=r.n(_),L=r(63105),P=r.n(L),O=r(35161),S=r.n(O),k=r(82492),T=r.n(k),D=r(56264),I=r.n(D),R=r(20297),A=r(2785),j=r(58909),M=r(41226),N=r(36804),B=r(90820),F=r(74527),V=r(55652),Z=r(89425),U=r(47452),G=r(90368),H=r(19471),q=r(65943),W=r(88241),z=r(24838),K=r(56546),Y=r(84256);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ee(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function te(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ee(o,n,a,i,s,"next",e)}function s(e){ee(o,n,a,i,s,"throw",e)}i(void 0)}))}}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ne=class{constructor(e){var t=this;re(this,"roadmapable",(()=>this.roadmap)),re(this,"createMilestone",function(){var e=te(X().mark((function e(r){var n,a,o,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={resourceId:r.containerId,sublaneId:r.sublaneId},e.next=3,F.default.managerRequests.createMilestone(r.attributes(),n).catch(V.ProductPlan.requireRefresh);case 3:a=e.sent,o=a.data,i=o.milestone,(r=t.roadmap.findMilestone(i.token)).update(i),t.roadmap.updateMilestoneId(r,i.id),j.default.publish("CREATED_MILESTONE",{token:i.token,milestone:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"deleteMilestone",function(){var e=te(X().mark((function e(r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j.default.publish("DELETING_MILESTONE",t.roadmap.findMilestone(r)),t.roadmap.deleteMilestone(r),e.next=4,F.default.managerRequests.deleteMilestone(r).catch(V.ProductPlan.requireRefresh);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"loadBar",function(){var e=te(X().mark((function e(r){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.bars.show(void 0,t.roadmap.barPath(r)).catch(V.ProductPlan.requireRefresh);case 2:return n=e.sent,e.abrupt("return",t.roadmapable().buildBar(n.data.bar||n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"createBarLink",function(){var e=te(X().mark((function e(r,n,a){var o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.managerRequests.createBarLink(n,r);case 2:return o=e.sent,t.addLinkToBar(o.data,a),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),re(this,"deleteLinkFromBar",function(){var e=te(X().mark((function e(r,n){var a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.links.delete(r);case 2:return e.next=4,t.loadBar(n);case 4:a=e.sent,setTimeout((()=>{j.default.publish("UPDATED_BAR",a)}),0);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"addLinkToBar",((e,t)=>{var r=this.roadmap.findActiveBar(t);return r.links=[e,...r.links],setTimeout((()=>{j.default.publish("UPDATED_BAR",r)}),0),e})),re(this,"createTableBar",function(){var e=te(X().mark((function e(r){var n,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="true"===r.bar.parked,r.bar.parked=!0,e.next=4,F.default.bars.create(t.roadmap.currentViewId,r);case 4:return a=e.sent,t.barCreated(a.data),o=parseInt(a.data.id),n||B.Z.run([o]),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"updateCustomOrder",((e,t,r)=>{null==r&&(r=!1),this.roadmap.updateCustomOrder(e,t),r||j.default.publish("UPDATE_BAR_CUSTOM_ORDER")})),re(this,"createBar",function(){var e=te(X().mark((function e(r,n,a){var o,i,s,l,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.roadmap.findActiveBar(r.token)){e.next=3;break}return e.abrupt("return",Promise.resolve());case 3:return o.update(r),j.default.publish("CREATING_BAR",o),i={bar:T()(I().decamelizeKeys(r),o.getActionAttributes("added"))},e.next=8,F.default.bars.create(t.roadmap.currentViewId,i);case 8:return s=e.sent,l=s.data.bar||s.data,t.roadmap.removeBar(l.token),t.barCreated(l),a.push(n),c=t.undoBarCreate.bind(void 0,n.id,a),V.ProductPlan.UndoQueue.pushUndo({command:c,clearRedoAction:!0}),e.next=17,t.createNewTagsFilters(l.tags);case 17:return e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),re(this,"loadCurrentTagsForRoadmap",te(X().mark((function e(){var r,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.roadmap.isPublic()){e.next=3;break}return t.currentTags=[],e.abrupt("return");case 3:return e.next=5,F.default.managerRequests.getRoadmapTags(t.roadmap.roadmapableId()).catch(V.ProductPlan.requireRefresh);case 5:r=e.sent,n=r.data,t.currentTags=null!==n&&void 0!==n?n:[];case 8:case"end":return e.stop()}}),e)})))),re(this,"getNewTagsAndUpdateCurrent",function(){var e=te(X().mark((function e(r){var n,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&0!==r.length){e.next=2;break}return e.abrupt("return",[]);case 2:if(t.currentTags){e.next=5;break}return e.next=5,t.loadCurrentTagsForRoadmap();case 5:return n=S()(t.currentTags,"id"),(a=P()(r,(e=>-1===x()(n,e.id)))).length>0&&t.currentTags.push(...a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"createNewTagsFilters",function(){var e=te(X().mark((function e(r){var n,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getNewTagsAndUpdateCurrent(r);case 2:if(0!==(n=e.sent).length){e.next=5;break}return e.abrupt("return");case 5:return a=t.roadmap.currentViewId,o=t.createNewTagsViewFiltersPayload(a,n),e.next=9,F.default.roadmapableViews.updateViewFilters(a,o).catch(V.ProductPlan.requireRefresh);case 9:j.default.publish("CREATED_BAR_TAGS",{tags:n});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"createNewTagsViewFiltersPayload",((e,t)=>{if(t){var r={},n=V.ProductPlan.defaultNoneColor(),a=S()(t,(t=>({id:"RoadmapableView".concat(e,"-Tag").concat(t.id),filterable_type:"Tag",included:!0,name:t.name,hex:null,color:n})));return r.view_filters={tags:Q({},a)},r}})),re(this,"barCreated",(e=>{var t=this.roadmap.addBar(new R.Z(Q(Q({},e),{},{roadmap:this.roadmap})));j.default.publish("CREATED_BAR",{token:e.token,bar:t})})),re(this,"updateBar",function(){var e=te(X().mark((function e(r,n,a){var o,i,s,l,c,u,d;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.barId||r,n=I().decamelizeKeys(n),s=t.roadmap.findActiveBar(i)){e.next=5;break}return e.abrupt("return");case 5:return l=I().decamelizeKeys(Object.assign({},n,s.getActionAttributes(a))),s.startsOn===l.starts_on&&s.endsOn===l.ends_on||window.dataLayer.push({event:"bar_date_changed"}),e.next=9,F.default.bars.update(t.roadmap.currentViewId,i,l);case 9:return c=e.sent,u=c.data.bar||c.data,d=(null===(o=c.data)||void 0===o?void 0:o.side_effects)||[],e.next=14,t.createNewTagsFilters(u.tags);case 14:return t.barUpdated(u,d),t.updateConnections(u.name,u.id,u.dependencies,"dependents"),t.updateConnections(u.name,u.id,u.dependents,"dependencies"),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),re(this,"updateConnections",((e,t,r,n)=>E()(r,(r=>{var a=this.roadmap.findActiveBar(r.id);if(a){var o=w()(a[n],{id:t});o&&(o.name=e,setTimeout((()=>j.default.publish("UPDATED_BAR",a)),0))}})))),re(this,"barUpdated",((e,t)=>{var r=this.updateBarInRoadmap(e),n=t.map((e=>this.updateBarInRoadmap(e))).filter((e=>e));setTimeout((()=>{j.default.publish("UPDATED_BAR",r),0!==n.length&&j.default.publish("UPDATED_BARS",n)}),0)})),re(this,"updateBarInRoadmap",(e=>{var t=this.roadmap.findActiveBar(e.id);if(t)return e.ghosted=t.ghosted,this.roadmap.addBar(new R.Z(Q(Q({},e),{},{roadmap:this.roadmap})))})),re(this,"redrawBar",(e=>{var t=this.roadmap.findActiveBar(e);void 0!==t&&setTimeout((()=>j.default.publish("UPDATED_BAR",t)),0)})),re(this,"removePendingStatusForBarSyncWithLinkType",(e=>{var t=this.roadmap.findActiveBarsWithSyncFieldForLinkType(e);t.forEach((e=>{e.isPendingRemoteSync=!1})),j.default.publish("REDRAW_SPECIFIC_BARS",t),this.updateSingleIntegrationPendingRemoteSyncCount(e),K.Z.roadmapIntegrationsPendingCountUpdated(I().camelizeKeys(this.roadmap.thirdPartyIntegrationsToolbar()))})),re(this,"updateSingleIntegrationPendingRemoteSyncCount",(e=>{var t=this.roadmap.barsWithRemotePendingChangesCount(e);this.roadmap.updateThirdPartyIntegrationsToolbar((0,Y.YL)(e),t)})),re(this,"updateRoadmapIntegrationPendingRemoteSyncCount",(()=>{this.updateSingleIntegrationPendingRemoteSyncCount(Y.Un.JIRA),this.updateSingleIntegrationPendingRemoteSyncCount(Y.Un.ADO),K.Z.roadmapIntegrationsPendingCountUpdated(I().camelizeKeys(this.roadmap.thirdPartyIntegrationsToolbar()))})),re(this,"silentUpdateBar",(function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"moved",a=t.roadmap.findActiveBar(e);if(a){var o=I().camelizeKeys(r);a.startsOn===o.startsOn&&a.endsOn===o.endsOn||window.dataLayer.push({event:"bar_date_changed"}),a.update(o);var i=function(){var o=te(X().mark((function o(){var i,s,l,c,u,d;return X().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return i=T()(I().decamelizeKeys(r),a.getActionAttributes(n)),o.next=3,F.default.bars.update(t.roadmap.currentViewId,e,i).catch(V.ProductPlan.requireRefresh);case 3:s=o.sent,l=s.data,c=l.bar||l,u=K.Z.isRemoteBarSyncFeatureEnabled()&&a.isPendingRemoteSync!==c.pending_remote_sync,d=u?"UPDATED_BAR":"SILENTLY_UPDATED_BAR",setTimeout((()=>{u&&K.Z.singleBarUpdate(a,c.pending_remote_sync),j.default.publish(d,a)}),0);case 9:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}();return i(),a}})),re(this,"deleteParkedBars",function(){var e=te(X().mark((function e(r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:return window.showAJAXLoaderModal(),e.prev=3,setTimeout((()=>j.default.publish("UPDATING_BARS",r)),0),e.next=7,A.Z.deleteBars(r).catch(V.ProductPlan.requireRefresh);case 7:r.forEach((e=>t.roadmap.deleteBar(e))),setTimeout((()=>{j.default.publish("DELETED_BARS",r)}),0);case 9:return e.prev=9,window.hideAJAXLoaderModal(),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[3,,9,12]])})));return function(t){return e.apply(this,arguments)}}()),re(this,"deleteBars",function(){var e=te(X().mark((function e(r){var n,a,o,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:if(n=r.map((e=>t.roadmap.findActiveBar(e))).filter((e=>e)),a=n.map((e=>e.id)),0!==n.length){e.next=6;break}return e.abrupt("return");case 6:return o=n.flatMap((e=>[e,...e.bars()])),n.forEach((e=>t.roadmap.deleteBar(e.id))),i=o.map((e=>y()(e.getUndoAttributes()))),V.ProductPlan.UndoListenerRegistry.queueManager?z.Z.execute(t,"bulkDeleteBars",{barIds:a,stashedBarAttrs:i}):V.ProductPlan.UndoQueue.pushUndo({command:t.undoDeleteBars.bind(void 0,i),clearRedoAction:!0}),j.default.publish("REDRAW_BARS_EVENT"),j.default.publish("DELETED_BARS",o.map((e=>e.id))),K.Z.handleBarsDeleted(o),e.next=15,A.Z.deleteBars(a).catch(V.ProductPlan.requireRefresh);case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"deleteBar",function(){var e=te(X().mark((function e(r,n){var a,o,i,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.roadmap.findActiveBar(r)){e.next=3;break}return e.abrupt("return");case 3:return o=[a,...a.bars()],t.roadmap.deleteBar(r),i=o.map((e=>y()(e.getUndoAttributes()))),s=t.undoDeleteBar.bind(void 0,r,i),V.ProductPlan.UndoQueue.pushUndo({command:s,clearRedoAction:!0}),j.default.publish("REDRAW_BARS_EVENT"),n||(1===o.length?j.default.publish("DELETED_BAR",a):o.length>1&&j.default.publish("DELETED_BARS",o.map((e=>e.id)))),K.Z.handleBarsDeleted(o),e.next=13,F.default.managerRequests.deleteBar(r).catch(V.ProductPlan.requireRefresh);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"prioritizeBars",function(){var e=te(X().mark((function e(r){var n,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:return n=[],a=S()(r,(e=>{var r=t.roadmap.findActiveBar(e);return r&&!r.toScore&&(r.toScore=!0,n.push(r)),{id:e,to_score:!0}})),n.length>0&&j.default.publish("UPDATED_BARS",n),e.prev=5,e.next=8,F.default.managerRequests.updateBars(t.roadmap.currentViewId,a,{});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),V.ProductPlan.requireRefresh(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()),re(this,"deprioritizeBars",function(){var e=te(X().mark((function e(r){var n,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:return n=[],a=[],r.forEach((e=>{var r=t.roadmap.findActiveBar(e);r?r.toScore&&(r.toScore=!1,n.push(r)):a.push(e)})),n.length>0&&j.default.publish("UPDATED_BARS",n),a.length>0&&j.default.publish("DEPRIORITIZED_BARS",a),o=r.map((e=>({id:e,to_score:!1}))),e.next=10,F.default.managerRequests.updateBars(t.roadmap.currentViewId,o,{}).catch(V.ProductPlan.requireRefresh);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"updateBarScore",function(){var e=te(X().mark((function e(r,n,a,o){var i,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t.roadmap.findActiveBar(r))?(i["".concat(n,"Scores")][a]=o,s={field:a,type:"".concat(n,"_scores")},j.default.publish("UPDATED_BAR",i,s)):j.default.publish("UPDATED_BAR_SCORE",{barId:r,type:n,column:a,value:o}),e.next=4,F.default.bars.updatePlanningScore(r,n,a,o);case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}()),re(this,"parkBars",function(){var e=te(X().mark((function e(r){var n,a,o,i,s,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:if(n=[],a=[],o=!1,E()(r,(e=>{var i=t.roadmap.findActiveBar(e);if(i){n.push(y()(i.getUndoAttributes()));var s=Z.Z.timelineToParkingLotDates(i.startsOn,i.endsOn),l={parked:!0,startsOn:s.startDate,endsOn:s.endDate};i.isContained&&!r.includes(i.containerId)&&(l.isContained=!1,l.containerId=null),(i.isDateRangeSyncEnabled()||i.hasChildDateRangeSyncEnabled())&&(o=!0),i.update(l),i.isContained||a.push(i.getParkedAttributesForUpdate())}})),0!==a.length){e.next=8;break}return e.abrupt("return");case 8:return V.ProductPlan.UndoListenerRegistry.queueManager?z.Z.execute(t,"bulkParkBars",{barIds:r,stashedBarAttrs:n}):(i=t.undoParkBars.bind(void 0,n),V.ProductPlan.UndoQueue.pushUndo({command:i,clearRedoAction:!0})),j.default.publish("REDRAW_BARS_EVENT"),e.next=12,A.Z.updateBars(a).catch(V.ProductPlan.requireRefresh);case 12:s=e.sent,l=s.data,t.updatedBars(l),o&&K.Z.notifyRoadmapBarPendingStatusChange();case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"updateBars",function(){var e=te(X().mark((function e(r,n){var a,o,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:return a=[],v()(r,(e=>{var r=t.roadmap.findActiveBar(e.id);r&&(r.update(e),a.push(r))})),j.default.publish("UPDATING_BARS",a),r=S()(r,(function(e){return e.hasOwnProperty("getBarAttributesForUpdate")?I().decamelizeKeys(e.getBarAttributesForUpdate()):I().decamelizeKeys(e)})),t.enqueueBarPendingChangeUpdatedCheck(r),e.next=9,F.default.managerRequests.updateBars(t.roadmap.currentViewId,r,n).catch(V.ProductPlan.requireRefresh);case 9:o=e.sent,i=o.data,t.updatedBars(i);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"enqueueBarPendingChangeUpdatedCheck",(e=>{if(K.Z.isRemoteBarSyncFeatureEnabled()){var t={};e.forEach((e=>{if(e.hasOwnProperty("starts_on")||e.hasOwnProperty("ends_on")){var r=this.roadmap.findActiveBar(e.id);t[r.id]=r.isPendingRemoteSync}}));V.ProductPlan.roadmapView.onNextUpdateBars((e=>{var r=[];e.forEach((e=>{t.hasOwnProperty(e.id)&&(t[e.id]!==e.isPendingRemoteSync&&r.push(e))})),r.length>0&&K.Z.notifyRoadmapBarPendingStatusChange(),j.default.publish("REDRAW_SPECIFIC_BARS",r)}))}})),re(this,"updatedBars",(e=>{var t=[...(null===e||void 0===e?void 0:e.bars)||[],...(null===e||void 0===e?void 0:e.side_effects)||[]].map((e=>this.updateBarInRoadmap(e))).filter((e=>e));j.default.publish("UPDATED_BARS",t)})),re(this,"convertToContainer",(e=>{if(V.ProductPlan.UndoListenerRegistry.queueManager)z.Z.execute(void 0,"convertTo",{barId:e,type:"container"});else{var t=this.roadmap.findActiveBar(e),r=y()(t.getUndoAttributes()),n=this.undoConvertBar.bind(void 0,r);V.ProductPlan.UndoQueue.pushUndo({command:n,clearRedoAction:!0})}return this.updateBar(e,{container:!0})})),re(this,"convertToBar",(e=>{if(V.ProductPlan.UndoListenerRegistry.queueManager)z.Z.execute(void 0,"convertTo",{barId:e,type:"bar"});else{var t=this.roadmap.findActiveBar(e),r=y()(t.getUndoAttributes()),n=this.undoConvertBar.bind(void 0,r);V.ProductPlan.UndoQueue.pushUndo({command:n,clearRedoAction:!0})}return this.updateBar(e,{container:!1})})),re(this,"updateDefaultBar",function(){var e=te(X().mark((function e(r){var n,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.managerRequests.updateDefaultBar(r,t.roadmap.roadmapableId());case 2:n=e.sent,a=n.data,t.roadmap.setDefaultBarColor(a.roadmap.default_bar_color),t.roadmap.setDefaultBarDuration(a.roadmap.default_bar_duration);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"barDuplicated",((e,t)=>{var r=this.roadmap.findActiveBar(e);t.bars.forEach((e=>{var n=this.roadmap.addBar(new R.Z(Object.assign(e,{roadmap:this.roadmap})));1!==t.bars.length&&n.isContained||setTimeout((()=>j.default.publish("DUPLICATED_BAR",{originalBar:r,bar:n})),0)}));var n=t.impacted_bars.reduce(((e,t)=>{var r=this.roadmapable().findActiveBar(t.id);return r&&(r.updatePositioningAttributes(t),e.push(r)),e}),[]);setTimeout((()=>j.default.publish("UPDATED_BARS",n)),0)})),re(this,"createLabel",function(){var e=te(X().mark((function e(r,n){var a,o,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.roadmap.currentViewId,o=q.RZ.cheapPluralize(r),e.next=4,F.default.labels.create(a,o,n);case 4:return i=e.sent,t["".concat(r,"Created")](i.data),e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"updateLabel",function(){var e=te(X().mark((function e(r,n,a){var o,i,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.roadmap.currentViewId,i=q.RZ.cheapPluralize(r),e.next=4,F.default.labels.update(o,i,n,a);case 4:return s=e.sent,t["".concat(r,"Updated")](s.data),e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),re(this,"deleteLabel",function(){var e=te(X().mark((function e(r,n){var a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=q.RZ.cheapPluralize(r),e.next=3,F.default.labels.delete(a,n);case 3:return o=e.sent,t["".concat(r,"Deleted")](o.data),e.abrupt("return",o.data);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"createLane",te(X().mark((function e(){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.dataLayer.push({event:"new_lane"}),e.next=3,F.default.managerRequests.createLane(t.roadmap.currentViewId).catch(V.ProductPlan.requireRefresh);case 3:return r=e.sent,t.laneCreated(r.data),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))),re(this,"laneCreated",(e=>{var t=this.roadmap.lanes[e.id]=new M.Z(e),r={lane:t,labelData:e};return j.default.publish("CREATED_LANE",r),t})),re(this,"laneUpdated",(e=>{var t=this.roadmap.updateLane(e);return t.labelData=e,setTimeout((()=>j.default.publish("UPDATED_LANE",{changes:t})),0)})),re(this,"deleteLane",function(){var e=te(X().mark((function e(r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.showAJAXLoaderModal(),e.prev=1,e.next=4,F.default.managerRequests.deleteLane(r);case 4:t.laneDeleted({id:r});case 5:return e.prev=5,window.hideAJAXLoaderModal(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}()),re(this,"laneDeleted",(e=>{var t=this.roadmap.deleteLane(e.id);return setTimeout((()=>j.default.publish("DELETED_LANE",{changes:t})),0)})),re(this,"reorderLanes",te(X().mark((function e(){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.managerRequests.reorderLanes(t.roadmap.currentViewId).catch(V.ProductPlan.requireRefresh);case 2:return r=e.sent,new Function(r.data)(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))),re(this,"newLegend",te(X().mark((function e(){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.managerRequests.newLegend(t.roadmap.currentViewId).catch(V.ProductPlan.requireRefresh);case 2:r=e.sent,new Function(r.data)();case 4:case"end":return e.stop()}}),e)})))),re(this,"legendDeleted",(e=>{var t=this.roadmap.deleteLegend(e);return setTimeout((()=>j.default.publish("DELETED_LEGEND",{changes:t})),0)})),re(this,"deleteTags",(e=>(this.roadmap.deleteTags(e),j.default.publish("DELETED_TAGS",e)))),re(this,"updateTags",(e=>(this.roadmap.updateTags(e),j.default.publish("UPDATED_TAGS",e)))),re(this,"processBars",(e=>{var t=U.l.getData(),r={};[...e.bars.map((e=>Object.assign({},e))),...e.ghosted_bars.map((e=>Object.assign({},e)))].forEach((e=>{r[e.id]=e}));var n=Object.assign({},t,{bars:Q(Q({},t.bars),r)});U.l.patchData(n),e.bars.forEach((e=>{this.roadmapable().buildBar(e)})),(e.ghosted_bars||[]).forEach((e=>{this.roadmapable().buildBar(e)}))})),re(this,"loadBars",function(){var e=te(X().mark((function e(r){var n,a,o,i,s,l=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:100,t.roadmap.clearBars((e=>!e.parked)),a=0,o=0;case 4:return e.next=6,t.paginateResults(r,a,o,n);case 6:if(i=e.sent,0!==(s=i.data).bars.length||0!==s.ghosted_bars.length){e.next=10;break}return e.abrupt("break",15);case 10:t.processBars(s),a=s.bars.length>0?h()(s.bars).id+1:null,o=s.ghosted_bars.length>0?h()(s.ghosted_bars).id+1:null;case 13:e.next=4;break;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"loadSublanes",function(){var e=te(X().mark((function e(r){var n,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.getData(r);case 2:n=e.sent,a=n.data,t.roadmap.buildSublanes(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"loadMilestones",function(){var e=te(X().mark((function e(r){var n,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.default.getData(r);case 2:n=e.sent,a=n.data,t.roadmap.clearMilestones(),E()(a.milestones,t.roadmapable().buildMilestone);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"loadRoadmap",te(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoading=!0,!t.roadmap.isPublic()){e.next=6;break}return e.next=4,Promise.all([t.loadBars("/pr/".concat(t.publicUrlCode,"/bars")),t.loadMilestones("/pr/".concat(t.publicUrlCode,"/milestones")),t.loadSublanes("/pr/".concat(t.publicUrlCode,"/sublanes"))]);case 4:e.next=8;break;case 6:return e.next=8,Promise.all([t.loadBars("/roadmapable_views/".concat(t.roadmap.currentViewId,"/bars")),t.loadMilestones("/roadmapable_views/".concat(t.roadmap.currentViewId,"/milestones/all")),t.loadSublanes("/roadmapable_views/".concat(t.roadmap.primaryViewId,"/sublanes"))]);case 8:t.isLoading=!1,t.roadmap.updateAfterLoad();case 10:case"end":return e.stop()}}),e)})))),re(this,"loadMasterPlanRoadmap",function(){var e=te(X().mark((function e(r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.roadmap.isPublic()){e.next=5;break}return e.next=3,Promise.all([t.loadBars("/pp/".concat(t.publicUrlCode,"/roadmaps/").concat(t.roadmap.roadmapableId(),"/bars")),t.loadMilestones("/pp/".concat(t.publicUrlCode,"/roadmaps/").concat(t.roadmap.roadmapableId(),"/milestones")),t.loadSublanes("/pp/".concat(t.publicUrlCode,"/roadmaps/").concat(t.roadmap.roadmapableId(),"/sublanes"))]);case 3:e.next=7;break;case 5:return e.next=7,Promise.all([t.loadBars("/portfolio_views/".concat(r,"/roadmaps/").concat(t.roadmap.roadmapableId(),"/bars")),t.loadMilestones("/portfolio_views/".concat(r,"/roadmaps/").concat(t.roadmap.roadmapableId(),"/milestones")),t.loadSublanes("/portfolio_views/".concat(r,"/roadmapable_views/").concat(t.roadmap.primaryViewId,"/sublanes"))]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"loadBarDetails",(()=>{var e=this.roadmap.bars(),t=P()(e,(e=>e.lane&&!e.isContained)),n=u()(t,[e=>e.lane.position,e=>e._startDate]),a=r(58080);return $("#bar-details").html(a({bars:n},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}))})),re(this,"updateBarFieldVisibility",function(){var e=te(X().mark((function e(r,n){var a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a={})[r]=n,e.next=4,F.default.managerRequests.updateBarFieldVisibility(a,t.roadmap.roadmapableId()).catch(V.ProductPlan.requireRefresh);case 4:t.roadmap.barFieldSettingsData=Q(Q({},t.roadmap.barFieldSettingsData),{},{[r]:n}),j.default.publish("UPDATED_BARS_FIELD_VISIBILITY",t.roadmap.barFieldSettings());case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"updateRoadmap",(e=>{var t=this.roadmap.effortType,r=this.roadmap.bars(),n=this.roadmap.milestones,a=this.roadmap.ppd,o=this.roadmap.timelineSublanes,i=this.roadmap.laneTitleSublanes;if(window.currentRoadmapable=new N.Z(e),this.roadmap=window.currentRoadmapable,this.roadmap.updateBars(r),this.roadmap.milestones=n,this.roadmap.ppd=a,this.roadmap.laneTitleSublanes=i,this.roadmap.timelineSublanes=o,t!==this.roadmap.effortType)return setTimeout((()=>j.default.publish("UPDATED_EFFORT_TYPE",{roadmap:this.roadmap})),0)})),re(this,"loadPrioritizedBars",te(X().mark((function e(){var r,n,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={benefitHeadings:Q({},t.roadmap.benefitHeadings),benefitOrder:[...t.roadmap.benefitOrder],costHeadings:Q({},t.roadmap.costHeadings),costOrder:[...t.roadmap.costOrder]},n={},e.next=4,F.default.bars.prioritizedIndex(t.roadmap.currentViewId);case 4:return a=e.sent,a.data.forEach((e=>{e.score=(0,W.C)(r,e),n[e.id]=e})),e.abrupt("return",{bars:n,headings:r});case 8:case"end":return e.stop()}}),e)})))),re(this,"updateScoreColumnHeading",function(){var e=te(X().mark((function e(r,n,a){var o,i,s,l,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.roadmap.hasOwnProperty("".concat(a,"Headings"))){e.next=2;break}throw new Error("Only cost and benefit are supported as column types");case 2:return e.next=4,F.default.scoring.updateScoreColumnHeading(t.roadmap.roadmapableId(),a,r,n);case 4:o=e.sent,i=o.data.roadmap["".concat(a,"_headings")],s=t.roadmap["".concat(a,"Headings")],l=t.roadmap["".concat(a,"Order")],c=Object.keys(i).find((e=>!s.hasOwnProperty(e))),s[c]=s[r],delete s[r],l.forEach(((e,t)=>{e===r&&(l[t]=c)})),t.roadmapable().updateBarsFromColumnRename({oldKey:r,newKey:c,columnType:a}),j.default.publish("SCORE_COLUMN_RENAMED",{oldKey:r,newKey:c,columnType:a});case 14:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),re(this,"updateScoreColumnWeight",function(){var e=te(X().mark((function e(r,n,a){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.roadmap.hasOwnProperty("".concat(n,"Headings"))){e.next=2;break}throw new Error("Only cost and benefit are supported as column types");case 2:return t.roadmap["".concat(n,"Headings")][r]=a,j.default.publish("SCORE_COLUMN_WEIGHT_UPDATED",{columnKey:r,columnType:n,newWeight:a}),e.next=6,F.default.scoring.updateScoreColumnWeight(t.roadmap.roadmapableId(),n,r,a);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),re(this,"addScoreColumn",function(){var e=te(X().mark((function e(r){var n,a,o,i,s,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.roadmap.hasOwnProperty("".concat(r,"Headings"))){e.next=2;break}throw new Error("Only cost and benefit are supported as column types");case 2:return e.next=4,F.default.scoring.addScoreColumn(t.roadmap.roadmapableId(),r);case 4:n=e.sent,a=n.data.roadmap["".concat(r,"_headings")],o=t.roadmap["".concat(r,"Headings")],i=t.roadmap["".concat(r,"Order")],s=Object.keys(a).find((e=>!o.hasOwnProperty(e))),l=a[s],o[s]=l,i.push(s),j.default.publish("SCORE_COLUMN_CREATED",{columnKey:s,columnType:r,columnWeight:l});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"deleteScoreColumn",function(){var e=te(X().mark((function e(r,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.roadmap.hasOwnProperty("".concat(n,"Headings"))){e.next=2;break}throw new Error("Only cost and benefit are supported as column types");case 2:return delete t.roadmap["".concat(n,"Headings")][r],l()(t.roadmap["".concat(n,"Order")],(e=>e===r)),t.roadmapable().updateBarsFromDeletedColumn({columnKey:r,columnType:n}),j.default.publish("SCORE_COLUMN_DELETED",{columnKey:r,columnType:n}),e.next=8,F.default.scoring.deleteScoreColumn(t.roadmap.roadmapableId(),n,r);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"viewSettings",te(X().mark((function e(){var r,n,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.roadmap.isPublic()){e.next=8;break}return e.next=3,F.default.roadmapableViews.publicViewSettings(t.publicUrlCode,t.roadmap.isMasterPlan());case 3:return r=e.sent,n=r.data,e.abrupt("return",I().camelizeKeys(n));case 8:return e.next=10,F.default.roadmapableViews.viewSettings(t.roadmap.currentViewId);case 10:return a=e.sent,o=a.data,e.abrupt("return",I().camelizeKeys(o));case 13:case"end":return e.stop()}}),e)})))),re(this,"reloadViewSettings",te(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.showAJAXLoaderModal(),e.prev=1,e.next=4,t.viewSettings();case 4:return e.abrupt("return",e.sent);case 5:return e.prev=5,window.hideAJAXLoaderModal(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})))),re(this,"buildNewSublanesPreservingVerticalSort",function(){var e=te(X().mark((function e(r,n){var a,o,s,l,c;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&!i()(r)){e.next=2;break}return e.abrupt("return");case 2:return a=[],o=[],E()(r,(function(e){a.push(y()(e).getUndoAttributes()),E()(e.bars(),(e=>a.push(y()(e).getUndoAttributes())))})),H.Z.createNewOrderedSublanesAtBottomOfLane(r,n),E()(r,(function(e){o.push(e.getBarAttributesForUpdate()),E()(e.bars(),(e=>o.push(e.getBarAttributesForUpdate())))})),s=t.undoUpdateBars.bind(void 0,a),V.ProductPlan.UndoListenerRegistry.queueManager?z.Z.execute(t,"bulkMoveBarsToLane",{barList:r,laneId:n,stashedBarAttrs:a}):V.ProductPlan.UndoQueue.pushUndo({command:s,clearRedoAction:!0}),e.next=11,A.Z.updateBars(o).catch(V.ProductPlan.requireRefresh);case 11:l=e.sent,c=l.data,t.updatedBars(c);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re(this,"updateBarLegend",((e,t)=>this.silentUpdateBar(e,t,"edited"))),re(this,"updateBarParkedStatus",function(){var e=te(X().mark((function e(r){var n,a,o,i,s,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roadmapable().findActiveBar(r),a=y()(n.getUndoAttributes()),o=t.undoParkBar.bind(void 0,a),V.ProductPlan.UndoQueue.pushUndo({command:o,clearRedoAction:!0}),i=Z.Z.timelineToParkingLotDates(n.startsOn,n.endsOn),s={parked:!0,is_contained:!1,container_id:null,position_position:0,starts_on:i.startDate,ends_on:i.endDate},e.next=8,t.updateBar(r,s,"moved");case 8:return l=e.sent,K.Z.handledParkedBar(n),e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re(this,"updateBarsLegend",(e=>this.updateBars(e,{silent:!1,single_track:!1,action:"edited"}))),re(this,"updateBarsSize",((e,t,r)=>{null==r&&(r=!1);var n={silent:!1,single_track:1===e.length,bar_id:t,composite_action:r,action:"resized",secondary_action:"moved"};return window.dataLayer.push({event:"bar_date_changed"}),this.updateBars(e,n)})),re(this,"updateBarsPosition",((e,t,r)=>{var n={silent:!!t,single_track:!t,bar_id:r&&r.id,action:"moved"};return window.dataLayer.push({event:"bar_date_changed"}),this.updateBars(e,n)})),re(this,"undoBarShiftX",((e,t,r,n)=>{if(null==n&&(n=!0),0!==t.length&&r){var a=[];return E()(t,(e=>{var t=this.roadmap.findActiveBar(e.id);if(void 0!==t&&void 0!==this.roadmap.findLane(t.lane.id))return a.push(e)})),G.Z.undoBarShiftX(e,a,r,n)}})),re(this,"undoBarShiftLane",((e,t,r,n,a)=>{if(null==a&&(a=!0),0!==t.length){var o=[];E()(t,(e=>{var t=this.roadmap.findActiveBar(e.id);if(void 0!==t&&void 0!==this.roadmap.findLane(t.lane.id))return o.push(e)}));var i={previousLaneId:r,currentLaneId:n};return G.Z.undoBarShiftLane(e,o,i,a)}})),re(this,"undoBarMove",((e,t,r)=>{null==r&&(r=!0);var n=a()(t);if(0!==n.length){var o=this.roadmap.findActiveBar(e),i=P()(n,(t=>t.id===e));if(void 0!==this.roadmap.findLane(i[0].lane.id))return G.Z.undoBarMove(o,n,r)}})),re(this,"undoBarCreate",((e,t,r)=>{null==r&&(r=!0);var n=a()(t);if(0!==n.length&&void 0!==this.roadmap.findActiveBar(e))return G.Z.undoCreateBar(e,n,r)})),re(this,"undoParkBar",((e,t)=>{if(null==t&&(t=!0),void 0!==this.roadmap.findActiveBar(e.id)&&void 0!==this.roadmap.findLane(e.lane.id))return G.Z.undoParkBar(e,t)})),re(this,"undoBulkLegendUpdate",((e,t,r)=>{if(null==r&&(r=!0),void 0!==this.roadmap.findLane(e))return G.Z.undoBulkLegendUpdate(e,t,r)})),re(this,"undoBarLegendUpdate",((e,t,r)=>{if(null==r&&(r=!0),void 0!==this.roadmap.findActiveBar(e))return G.Z.undoBarLegendUpdate(e,t,r)})),re(this,"undoConvertBar",((e,t)=>{if(null==t&&(t=!0),void 0!==this.roadmap.findActiveBar(e.id))return G.Z.undoConvertBar(e,t)})),this.roadmap=e,this.publicUrlCode=this.roadmap.publicUrlCode}updateMilestone(e,t){var r=this;return te(X().mark((function n(){var a,o,i,s;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=r.roadmap.findMilestone(e)).update(t),o={resourceId:a.containerId,milestoneId:a.id},n.next=5,F.default.managerRequests.updateMilestone(a.attributes(),o).catch(V.ProductPlan.requireRefresh);case 5:i=n.sent,s=i.data,a.update(s.milestone),setTimeout((()=>j.default.publish("UPDATED_MILESTONE")),0);case 9:case"end":return n.stop()}}),n)})))()}addConnection(e){var t=[],r=this.roadmapable().findActiveBar(e.connects_from.id);r.addDependency(e.connects_to),t.push(r);var n=this.roadmapable().findActiveBar(e.connects_to.id);return n&&(n.addDependent(e.connects_from),t.push(n)),Array.from(t).map((e=>j.default.publish("UPDATED_BAR",e)))}removeConnection(e){var t=this.roadmapable().findActiveBar(e.connects_from_id),r=this.roadmapable().findActiveBar(e.connects_to_id),n=[];return t&&(t.removeDependency(e.connects_to_id),n.push(t)),r&&(r.removeDependent(e.connects_from_id),n.push(r)),Array.from(n).map((e=>j.default.publish("UPDATED_BAR",e)))}duplicateBar(e){var t=this;return te(X().mark((function r(){var n,a,o,i;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(window.showAJAXLoaderModal(),n=t.roadmap.findActiveBar(e)){r.next=4;break}return r.abrupt("return",Promise.resolve());case 4:return a=n.getActionAttributes("created"),o=f()(t.barDuplicated),r.prev=6,r.next=9,F.default.managerRequests.duplicateBar(e,a);case 9:i=r.sent,o(e,i),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(6),V.ProductPlan.requireRefresh();case 16:return r.prev=16,window.hideAJAXLoaderModal(),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[6,13,16,19]])})))()}createComment(e,t){var r=this;return te(X().mark((function n(){var a,o,i;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F.default.managerRequests.createComment(t,e);case 2:return a=n.sent,o=r.roadmapable().findActiveBar(t),a.data.comment&&((i=o.comments).push(a.data.comment),o.setComments({comments:i}),setTimeout((()=>j.default.publish("UPDATED_BAR",o)),0)),n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))()}deleteComment(e,t){var r=this;return te(X().mark((function n(){var a,o,i;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.roadmapable().findActiveBar(t),o="",void 0!==a.masterPlanId()&&(o=a.masterPlanId()),n.next=5,F.default.managerRequests.deleteComment(e,o);case 5:return i=a.comments.filter((t=>t.id!==e)),a.setComments({comments:i}),setTimeout((()=>j.default.publish("UPDATED_BAR",a)),0),n.abrupt("return",e);case 9:case"end":return n.stop()}}),n)})))()}editLabelGroup(e){return te(X().mark((function t(){var r;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.default.managerRequests.editLabelGroup(e).catch(V.ProductPlan.requireRefresh);case 2:return r=t.sent,new Function(r.data)(),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()}labelGroupUpdated(e){return this.roadmap.legendTitle=e.name,this.roadmap.legendDescription=e.description,setTimeout((function(){return j.default.publish("UPDATED_LABEL_GROUP",e),V.ProductPlan.roadmapView.mountToolbarLegend()}),0)}updateRoadmapableViewLabelGroup(e,t){var r=this;return te(X().mark((function n(){var a,o,i;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=I().decamelizeKeys(t),n.next=3,F.default.roadmapableViews.updateRoadmapableViewLabelGroup(r.roadmap.currentViewId,e,a).catch(V.ProductPlan.requireRefresh);case 3:return o=n.sent,i=o.data,n.abrupt("return",I().camelizeKeys(i));case 6:case"end":return n.stop()}}),n)})))()}editLane(e){var t=this;return te(X().mark((function r(){var n;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F.default.managerRequests.editLane(e,t.roadmap.currentViewId).catch(V.ProductPlan.requireRefresh);case 2:return n=r.sent,new Function(n.data)(),r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))()}updateLaneOrder(e,t){var r=this;return te(X().mark((function n(){var a,o;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return window.showAJAXLoaderModal(),n.prev=1,n.next=4,F.default.managerRequests.updateLaneOrder(e,t,r.roadmap.currentViewId).catch(V.ProductPlan.requireRefresh);case 4:a=n.sent,o=a.data,r.updateLanes(o);case 7:return n.prev=7,window.hideAJAXLoaderModal(),n.finish(7);case 10:case"end":return n.stop()}}),n,null,[[1,,7,10]])})))()}updateLanes(e){this.roadmap.setLanes(e),j.default.publish("UPDATED_LANES",e)}legendCreated(e){return this.roadmap.addLegend(e),setTimeout((()=>j.default.publish("CREATED_LEGEND",e)),0)}editLegend(e){var t=this;return te(X().mark((function r(){var n;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F.default.managerRequests.editLegend(e,t.roadmap.currentViewId).catch(V.ProductPlan.requireRefresh);case 2:n=r.sent,new Function(n.data)();case 4:case"end":return r.stop()}}),r)})))()}updateLegend(e,t){return te(X().mark((function r(){var n;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F.default.managerRequests.updateLegend(e,t).catch(V.ProductPlan.requireRefresh);case 2:n=r.sent,new Function(n.data)();case 4:case"end":return r.stop()}}),r)})))()}legendUpdated(e){var t=this.roadmap.updateLegend(e);t.labelData=e,setTimeout((()=>j.default.publish("UPDATED_LEGEND",t)),0)}updateLegendPosition(e,t){var r=this;return te(X().mark((function n(){var a,o;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F.default.managerRequests.updateLegendPosition(e,t,r.roadmap.currentViewId).catch(V.ProductPlan.requireRefresh);case 2:a=n.sent,o=a.data,r.legendPositionUpdated(o);case 5:case"end":return n.stop()}}),n)})))()}legendPositionUpdated(e){this.roadmap.setLegends(e),setTimeout((()=>j.default.publish("UPDATED_LEGEND_POSITION",e)),0)}deleteLegend(e){var t=this;return te(X().mark((function r(){return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,F.default.managerRequests.deleteLegend(e).catch(V.ProductPlan.requireRefresh);case 2:t.legendDeleted(e);case 3:case"end":return r.stop()}}),r)})))()}paginateResults(e,t,r,n){return te(X().mark((function a(){var o;return X().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={page_size:n},null!==t&&(o.offset=t),null!==r&&(o.ghosted_offset=r),a.next=5,F.default.getData(e,o);case 5:return a.abrupt("return",a.sent);case 6:case"end":return a.stop()}}),a)})))()}loadViewSettings(){var e=this;return te(X().mark((function t(){var r,n,a,o;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.roadmap.isPublic()){t.next=8;break}return t.next=3,F.default.roadmapableViews.publicViewSettings(e.publicUrlCode,e.roadmap.isMasterPlan());case 3:return r=t.sent,n=r.data,t.abrupt("return",I().camelizeKeys(n));case 8:return t.next=10,F.default.roadmapableViews.viewSettings(e.roadmap.currentViewId);case 10:return a=t.sent,o=a.data,t.abrupt("return",I().camelizeKeys(o));case 13:case"end":return t.stop()}}),t)})))()}undoCopyBars(e,t){if(null==t&&(t=!0),0!==e.length)return G.Z.undoCopyBars(e,t)}undoParkBars(e,t){return null==t&&(t=!0),G.Z.undoParkBars(e,t)}undoDeleteBar(e,t,r){null==r&&(r=!0);var n=a()(t);if(0!==n.length)return G.Z.undoDeleteBar(e,n,r)}undoDeleteBars(e,t){null==t&&(t=!0);var r=a()(e);if(0!==r.length)return G.Z.undoDeleteBars(r,t)}undoUpdateBars(e,t){null==t&&(t=!0);var r=a()(e);if(0!==r.length)return G.Z.undoUpdateBars(r,t)}toggleItems(e,t,r){return this.roadmap.toggleAll(e,t,r),this.roadmap.isPublic()||!V.ProductPlan.loggedIn()?Promise.resolve():F.default.managerRequests.toggleItems("roadmaps",this.roadmap.roadmapableId(),e,t,this.roadmap.isToggledFor(e,r))}}},25278:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(50655),a=r(55652),o=r(39012),i=r(13731),s=r(50509),l=r(3190);const c=class{constructor(e,t,r,a){this.roadmap=r,this.SublaneClass=a||n.Z,this.lane=e,this.ids=[this.lane.id],this.laneId=this.id,this.name=this.lane.name,this.position=this.lane.position,this.laneIdPrefix="lane_"+this.id,this.dropClass="base-drop",this.sortedSublanes=s.Z.generate(this,this.lane,t,this.SublaneClass,i.Z)}get id(){return this.ids.join(",")}isEmpty(){return 0===this.sortedSublanes.length}domId(){return"full_lane_".concat(this.id)}idDataAttributes(){return this.ids.reduce(((e,t)=>e+="data-id-".concat(t,'="true" ')),"")}laneTitle(){return this.name}hexValue(){return this.lane.hex||""}laneTextColor(){return a.ProductPlan.getContrastClasses(this.lane.hex)}canEdit(){return this.roadmap.canEdit()}sublanes(){return this.sortedSublanes}hasSublanes(){return this.sortedSublanes.length>0}isOpen(){return window.currentRoadmapable.isAnyOpen("lanes",this.ids)}mergeLanePresenter(e){Array.prototype.push.apply(this.ids,e.ids),Array.prototype.push.apply(this.sortedSublanes,e.sublanes())}topSublaneClass(){return this.hasSublanes()?"lane-divider":"lane-bar-holder"}toggleClass(){return this.isOpen()?"":"collapsed-lane"}toggleIconClass(){return this.isOpen()?o.c.chevronDown.string:o.c.chevronRight.string}editableClass(){return a.ProductPlan.canEdit()?"":"read-only"}render(){return l(this,{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})}};var u=r(65943);const d=class{constructor(e){this.roadmap=e;var t=(Object.values(this.roadmap.bars())||[]).reduce(((e,t)=>(!t.lane||t.isContained||t.parked||(e[t.lane.id]=e[t.lane.id]||[]).push(t),e)),{});this.lanes=Object.values(this.roadmap.lanes).map((e=>new c(e,t[e.id]||[],this.roadmap))),this.lanes.sort(u.RZ.positionSort)}lane(e){if(null!==e&&void 0!==e)return this.lanes.find((t=>t.id.toString()===e.toString()))}id(){return this.roadmap.roadmapableId()}domId(){return"roadmap_lane_".concat(this.roadmap.roadmapableId())}laneTitle(){return this.roadmap.name}isOpen(){return window.currentRoadmapable.isAnyOpen("roadmaps",[this.roadmap.roadmapableId()])}hexValue(){return""}laneTextColor(){return a.ProductPlan.getContrastClasses(void 0)}canEdit(){return this.roadmap.canEdit()}sublanes(){return this.lanes.flatMap((e=>e.sortedSublanes))}hasSublanes(){return this.sublanes().length>0}topSublaneClass(){return this.hasSublanes()?"lane-divider":"lane-bar-holder"}toggleClass(){return this.isOpen()?"":"collapsed-lane"}toggleIconClass(){return this.isOpen()?o.c.chevronDown.string:o.c.chevronRight.string}editableClass(){return a.ProductPlan.canEdit()?"":"read-only"}}},96123:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Dt});var n,a,o,i=r(53632),s=r.n(i),l=r(6162),c=r.n(l),u=r(98066),d=r.n(u),h=r(54061),p=r.n(h),f=r(22205),m=r.n(f),v=r(82492),g=r.n(v),y=r(81629),b=r.n(y),w=r(63105),C=r.n(w),E=r(41609),_=r.n(E),x=r(66073),L=r.n(x),P=r(23279),O=r.n(P),S=r(36870),k=r(99411),T=r(26918),D=r(75472),I=r.n(D),R=r(67294),A=r.n(R),j=r(45697),M=r.n(j),N=r(55652),B=r(35161),F=r.n(B);class V extends A().Component{constructor(e){super(e),this.handleConnectionClick=this.handleConnectionClick.bind(this)}handleConnectionClick(){this.props.onConnectionClick(this.props.connection)}render(){return A().createElement("li",{className:"link-text",key:this.props.connection.id,title:this.props.connection.name},A().createElement("a",{className:"connection-link",onClick:this.handleConnectionClick},this.props.connection.name))}}n=V,a="propTypes",o={connection:M().object.isRequired,onConnectionClick:M().func.isRequired},a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o;const Z=V;class U extends A().Component{links(){var e=F()(this.props.connections,((e,t)=>A().createElement(Z,{connection:e,key:t,onConnectionClick:this.props.onConnectionClick})));return A().createElement("ul",{className:"links-table list-unstyled"},e)}render(){return A().createElement("div",{className:"connection-link-group"},A().createElement("div",{className:"connection-link-group-header"},this.props.label),this.links())}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(U,"propTypes",{label:M().string.isRequired,connections:M().array.isRequired,onConnectionClick:M().func.isRequired});const G=U;var H=r(95234),q=r(10188),W=r(83868),z=r(79182),K=r(93128);function Y(){Y=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function J(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class X extends A().Component{static sortConnectionsData(e){return I()(e,[e=>e.name.toLowerCase()],["asc"])}constructor(e){var t;super(e),t=this,Q(this,"handleConnectionClick",function(){var e,r=(e=Y().mark((function e(r){var n;return Y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({show:!1}),n=window.currentRoadmapable.findActiveBar(r.id),window.currentRoadmapable.isPrimaryView()||0!==$("#roadmapbar_"+r.id).length){e.next=5;break}return K.Z.unsuccessful("".concat(r.name," is currently filtered out\u2014update Settings or Filters to view.")),e.abrupt("return");case 5:return e.next=7,W.Z.redirectToBar(r,n,r.id);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){J(o,n,a,i,s,"next",e)}function s(e){J(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()),Q(this,"getConnectionsOnCurrentRoadmap",(()=>{var e=window.currentRoadmapable.roadmapableId();if(this.isShowingDependencies()){var t=this.props.bar.dependencies();return C()(t,(t=>t.roadmap_id===e))}var r=this.props.bar.dependents();return C()(r,(t=>t.roadmap_id===e))})),Q(this,"getConnectionsOnOtherRoadmap",(()=>{var e=window.currentRoadmapable.roadmapableId();if(this.isShowingDependencies()){var t=this.props.bar.dependencies();return C()(t,(t=>t.roadmap_id!==e))}var r=this.props.bar.dependents();return C()(r,(t=>t.roadmap_id!==e))})),this.state={show:!1},this.hoverDelayId=void 0,this.debounceWait=500,this.showConnectionPopOver=this.showConnectionPopOver.bind(this),this.handleMouseOutIcon=this.handleMouseOutIcon.bind(this),this.handleMouseOverIcon=this.handleMouseOverIcon.bind(this),this.handleMouseOutPopover=this.handleMouseOutPopover.bind(this),this.handleMouseOverPopover=this.handleMouseOverPopover.bind(this)}barConnectionGroup(e,t){return _()(t)?null:A().createElement(G,{connections:X.sortConnectionsData(t),label:e,onConnectionClick:this.handleConnectionClick})}showConnectionPopOver(){var e=this.getConnectionsOnCurrentRoadmap(),t=this.getConnectionsOnOtherRoadmap();return A().createElement(H.Z,{className:"connection-popover",id:"bar-".concat(this.props.bar.id,"-").concat(this.getConnectionDirection(),"-connection-popover"),title:this.getPopOverTitle(),onMouseEnter:this.handleMouseOverPopover,onMouseLeave:this.handleMouseOutPopover},this.barConnectionGroup("This Roadmap:",e),this.barConnectionGroup("Other Roadmaps:",t))}isShowingDependencies(){return"dependencies"===this.props.displayType}getPopOverTitle(){return this.isShowingDependencies()?"Requires":"Required By"}getConnectionDirection(){return this.isShowingDependencies()?"from":"to"}handleMouseOverPopover(){clearTimeout(this.hoverDelayId)}handleMouseOutPopover(){!0===this.state.show&&this.setState({show:!1})}handleMouseOverIcon(e){e.stopPropagation(),this.closePopovers(),!1===this.state.show&&this.setState({show:!0})}handleMouseOutIcon(e){e.stopPropagation(),!0===this.state.show&&(void 0!==N.ProductPlan.roadmapRenderer.focusedBar()?(this.setState({show:!1}),$(N.ProductPlan.roadmapRenderer.focusedBar()).popover("show")):this.hoverDelayId=d()((()=>this.setState({show:!1})),this.debounceWait))}closePopovers(){N.ProductPlan.roadmapRenderer.hideBarPopovers(),N.ProductPlan.roadmapRenderer.hideMilestonesPopovers()}renderConnectionLines(){return!this.state.show||window.currentRoadmapable.isExportView?null:A().createElement(z.M,{barId:this.props.bar.id,connectionType:this.props.displayType})}render(){var e=this.getConnectionDirection();return A().createElement("span",null,A().createElement("svg",{className:"pp-icon connection-icon bar_connects_".concat(e,"-icon"),ref:e=>{this.connectionIcon=e},onMouseEnter:this.handleMouseOverIcon,onMouseLeave:this.handleMouseOutIcon,title:"connects ".concat(e)},A().createElement("use",{xlinkHref:"#bar_connects_".concat(e,"-icon-symbol")})),A().createElement(q.Z,{rootClose:!0,placement:"bottom",show:this.state.show,target:this.connectionIcon,onHide:()=>{}},this.showConnectionPopOver()),this.renderConnectionLines())}}Q(X,"propTypes",{bar:M().object.isRequired,displayType:M().oneOf(["dependents","dependencies"]).isRequired});const ee=X;var te=r(34428),re=r(87994),ne=r(94184),ae=r.n(ne),oe=r(14570),ie=r(60769),se=r(76490),le=r(58909),ce=r(79408);class ue{static editOrToggleMilestone(e){N.ProductPlan.canEdit()?ue.editMilestone(e):ue.toggleMilestone(e)}static editMilestone(e){le.default.publish("EDIT_MILESTONE",e)}static toggleMilestone(e){ce.Z.removePopovers(),N.ProductPlan.roadmapView.toggleMilestone(e)}}const de=ue;var he=r(39012);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ve extends A().Component{constructor(){super(...arguments),me(this,"handleOnMilestoneClick",(e=>{e.stopPropagation(),e.ctrlKey||(ce.Z.removePopovers(),de.editOrToggleMilestone(this.props.milestone.id))}))}componentDidMount(){this.initializeDrag(),this.flagPoleNode&&$(this.flagPoleNode).css({height:this.calculatePoleHeight()})}componentWillUnmount(){this.props.canEdit&&$(this.flagNode).draggable("destroy")}componentDidUpdate(e){e.filtered&&!this.props.filtered&&this.initializeDrag(),this.flagPoleNode&&$(this.flagPoleNode).css({height:this.calculatePoleHeight()})}createOrUpdateSublaneAndUpdateMilestone(e,t,r){var n=N.ProductPlan.roadmapRenderer.leftInDocument(r.offset.left),a=window.currentRoadmapable.timelineSettings().pixelsToEOD(n,this.props.ppd),o=t.id;if(e.isNew()){var i=e.attrs();i.token=i.id,delete i.id,i.roadmapableViewId=this.props.roadmapableViewId;var s={date:a,sublane_id:r.helper.dropData.sublaneId};try{re.Z.create(i).then((r=>{e.setNew(!1),e.id=t.sublaneId=r.id}))}catch(l){N.ProductPlan.requireRefresh()}try{N.ProductPlan.roadmapManager.updateMilestone(o,s)}catch(c){N.ProductPlan.requireRefresh()}t.update(s)}else try{N.ProductPlan.roadmapManager.updateMilestone(o,{date:a,sublane_id:r.helper.dropData.sublaneId})}catch(u){N.ProductPlan.requireRefresh()}return window.currentRoadmapable.findMilestone(o)}initializeDrag(){var e=this;this.props.canEdit&&$(this.flagNode).draggable({cursor:"none",scroll:!1,refreshPositions:!0,helper:"clone",appendTo:".js-main-container",revert:"invalid",zIndex:1100,start:function(){var e=$(this),t=e.data("id"),r=window.currentRoadmapable.findMilestone(t);e.hide(),ce.Z.removePopovers(),N.ProductPlan.roadmapRenderer.closeContextMenu(),r.isDragging=!0,N.ProductPlan.roadmapRenderer.renderRoadmapMilestoneFlagPoles(N.ProductPlan.roadmapManager)},stop:function(t,r){var n=$(this);n.show();var a=n.data("id"),o=window.currentRoadmapable.findMilestone(a);if(o.isDragging=!1,r.helper.dropData){var i=window.currentRoadmapable.findSublane(r.helper.dropData.sublaneId),s=window.currentRoadmapable.findSublane(o.sublaneId),l=e.createOrUpdateSublaneAndUpdateMilestone(i,o,r);if(s.removeMilestone(o),i.addMilestone(l),s.id!==l.sublaneId&&s.isEmpty())return s.collection.removeSublane(s),N.ProductPlan.roadmapRenderer.updateMilestones(),s.removeIfEmpty()}N.ProductPlan.roadmapRenderer.updateMilestones(),N.ProductPlan.roadmapRenderer.initMilestonePopover(),le.default.publish("ON_MILESTONE_DRAG_STOP_ACTION")}})}calculatePoleHeight(){var e=$(this.flagNode),t=pe(this.flagContainerHeightAndTop(e),2),r=t[0],n=t[1];return r-(e.offset().top-n)}flagContainerHeightAndTop(e){if(this.props.laneId)return this.props.milestone.expanded?this.extractHeightAndTop(e.closest(".lanes")):this.extractHeightAndTop(e.closest(".lane-title-box").find(".milestones").last());if(this.props.milestone.expanded){var t=e.closest(".js-date-row");if(t.length>0){var r=0;return $(".export-viewport").length>0&&(r=5),[t.outerHeight()+$(".js-lane-container").outerHeight()-r,t.offset().top]}return this.extractHeightAndTop(e.closest(".roadmap-divider"))}var n=e.closest(".js-date-row");return n.length>0?this.extractHeightAndTop(n):this.extractHeightAndTop(e.closest(".roadmap-milestones"))}extractHeightAndTop(e){return 0===e.length&&(e=$(e.context)),[e.outerHeight(),e.offset().top]}flagPole(){var e={zIndex:50,borderLeftColor:(0,this.props.milestone.hexValue)()};return A().createElement("div",{className:"flag-line","data-id":this.props.milestone.id,ref:e=>{this.flagPoleNode=e},style:e})}positionLeft(){return{left:this.props.milestone.leftInPixels(this.props.ppd)+"px"}}largeFlag(){var e=this.props.milestone.hexValue,t=N.ProductPlan.getContrastClasses(e()),r={backgroundColor:e()},n={borderTopColor:e()};return A().createElement("div",{className:"large-flag",onContextMenu:this.handleContextmenu},this.flagPole(),A().createElement("div",{className:"flag-box ".concat(t),style:r},A().createElement("div",{className:"flag-text"},this.props.milestone.title),A().createElement("div",{className:"flag-date"},this.props.milestone.displayDate())),A().createElement("div",{className:"flag-box-right"},A().createElement("div",{className:"flag-box-right-top",style:r}),A().createElement("div",{className:"flag-box-tri",style:n})))}smallFlag(){var e={color:(0,this.props.milestone.hexValue)()};return A().createElement("div",{className:"small-flag"},this.flagPole(),A().createElement(he.Z,{classes:"small-flag-tri",name:he.c.play,style:e}))}renderFlag(){return this.props.milestone.expanded?this.largeFlag():this.smallFlag()}getContextMenuOptions(){var e=this.props.milestone.expanded?"Collapse":"Expand",t=[A().createElement(se.Z,{key:"milestone_context_menu_item_1",label:e,onClick:()=>{de.toggleMilestone(this.props.milestone.id)}})];return this.props.canEdit&&(t=t.concat([A().createElement(se.Z,{key:"milestone_context_menu_item_2",label:"Edit",onClick:()=>{de.editMilestone(this.props.milestone.id)}}),A().createElement(se.Z,{key:"milestone_context_menu_item_3",label:"Delete",onClick:()=>{N.ProductPlan.roadmapView.deleteMilestone(this.props.milestone.id)}})])),t}render(){if(this.props.milestone.isDragging||this.props.filtered)return null;var e=ae()({flag:!0,milestone:!0,"is-small":!this.props.milestone.expanded,"is-large":this.props.milestone.expanded,dimmable:!0});return A().createElement("div",{className:e,"data-id":this.props.milestone.id,ref:e=>{this.flagNode=e},style:this.positionLeft()},A().createElement(ie.Z,{className:"context-menu-container",hideMenu:!1,id:"context-menu-container",itemId:this.props.milestone.id,options:this.getContextMenuOptions(),onClick:this.handleOnMilestoneClick},this.renderFlag()))}}me(ve,"propTypes",{roadmapableViewId:M().number.isRequired,milestone:M().object.isRequired,canEdit:M().bool.isRequired,ppd:M().number.isRequired,filtered:M().bool.isRequired,laneId:M().number});const ge=ve;var ye=r(72045),be=(r(49138),r(68283)),we=r(3759);function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ee extends A().Component{constructor(e){super(e),this.handleOverDropzone=this.handleOverDropzone.bind(this),this.handleOutOfDropzone=this.handleOutOfDropzone.bind(this),this.handleDropzone=this.handleDropzone.bind(this)}componentDidMount(){this.initializeCurrentLaneDroppable(),this.initializeNewLaneDroppable()}componentDidUpdate(){this.initializeCurrentLaneDroppable(),this.initializeNewLaneDroppable()}sublane(){return $(this.sublaneRef)}isDropEnabled(){return this.props.canEdit}currentDroppableDropHandler(){return"Lane"===this.props.type?this.handleLaneDrop:this.handleTimelineDrop}initializeCurrentLaneDroppable(){var e={disabled:!0};this.isDropEnabled()&&(e=this.droppableOptions(this.currentDroppableDropHandler())),this.sublane().droppable(e)}handleTimelineDrop(e,t){t.helper.dropData={sublaneId:$(e.target).data("sublaneId"),sublaneableId:window.currentRoadmapable.roadmapableId()}}handleLaneDrop(e,t){var r=$(e.target),n=r.data("sublaneId"),a=r.closest(".lanes").data("id");t.helper.dropData={targetType:"Lane",targetId:a,dropTarget:r.find(".milestones"),sublaneableId:a,sublaneId:n}}droppableOptions(e){var t="".concat(this.props.type,"-sublane");return{accept:".add-milestone, .flag",tolerance:"pointer",over:function(e){$(e.target).uniqueId(),be.Z.canDrop(e)&&N.ProductPlan.roadmapView.dropDetector.canAddTarget(t)&&(N.ProductPlan.roadmapView.dropDetector.addTarget(t,$(e.target).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("sublane-dropzone","sublane-dropzone-active"))},out:function(e){$(e.target).uniqueId(),N.ProductPlan.roadmapView.dropDetector.removeTarget(t,$(e.target).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("sublane-dropzone","sublane-dropzone-active")},drop:function(r,n){n.helper.dropData||N.ProductPlan.roadmapView.dropDetector.canHandleDrop($(r.target).attr("id"))&&be.Z.canDrop(r)&&($(".sublane-dropzone").removeClass("sublane-dropzone-active"),e(r,n),N.ProductPlan.roadmapView.dropDetector.removeTarget(t,$(r.target).attr("id")))}}}initializeNewLaneDroppable(){var e={accept:".add-milestone, .flag",over:this.handleOverDropzone,out:this.handleOutOfDropzone,drop:this.handleDropzone,tolerance:"pointer",disabled:!this.props.canAddSublanes};$(this.newSublaneUp).droppable(e).droppable(e),$(this.newSublaneDown).droppable(e).droppable(e)}handleOverDropzone(e){var t="".concat(this.props.type,"-sublane");$(e.target).uniqueId(),be.Z.canDrop(e)&&!this.props.sublaneModel.isNew()&&(N.ProductPlan.roadmapView.dropDetector.addTarget(t,$(e.target).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("new-milestone-sublane","new-milestone-sublane-active"),le.default.publish("ON_SUBLANE_DROP_OVER"))}handleOutOfDropzone(e){$(e.target).uniqueId();var t="".concat(this.props.type,"-sublane");N.ProductPlan.roadmapView.dropDetector.removeTarget(t,$(e.target).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("new-milestone-sublane","new-milestone-sublane-active"),le.default.publish("ON_SUBLANE_DROP_OUT")}handleDropzone(e,t){var r="".concat(this.props.type,"-sublane");if(!t.helper.dropData&&N.ProductPlan.roadmapView.dropDetector.canHandleDrop($(e.target).attr("id"))&&be.Z.canDrop(e)){$(".new-milestone-sublane").removeClass("new-milestone-sublane-active");var n,a,o=$(e.target).prev(".sublane").data("sublaneId"),i=$(e.target).next(".sublane").data("sublaneId"),s=t.helper.data("id"),l=window.currentRoadmapable.findMilestone(s)||{sublaneId:void 0},c=window.currentRoadmapable.findSublane(l.sublaneId);if(c&&(c.id===o||c.id===i)&&c.isEmpty())n=!1,a=c.id;else n=!0,a=this.handleNewLane(e,t).id;t.helper.dropData={newSublaneDrop:n,milestoneId:s,sublaneId:a,sublaneableId:this.props.sublaneModel.sublaneableId},N.ProductPlan.roadmapView.dropDetector.removeTarget(r,$(e.target).attr("id"))}}handleNewLane(e){var t=Math.round(parseFloat($(e.target).data("position"))),r=new oe.Z({token:(0,ye.Z)(),position:t,sublaneableId:this.props.sublaneModel.sublaneableId,sublaneableType:this.props.sublaneModel.collection.type});return r.setNew(),this.props.sublanesCollection.addSublane(r),r}renderFlags(){var e=this.props.sublaneModel.milestones.map((e=>A().createElement(ge,{canEdit:this.props.canEdit,key:e.id,laneId:this.props.laneId,milestone:e,ppd:this.props.ppd,roadmapableViewId:this.props.roadmapableViewId,filtered:we.Z.isFiltered({item:e,activeLegendIds:this.props.activeLegendIds,activeTagIds:this.props.activeTagIds,activeLaneIds:this.props.activeLaneIds})})));return A().createElement("div",{className:"flags-container"},e)}renderTopSublane(){if(this.props.sublaneModel.relativePosition()!==this.props.firstSublane)return null;var e=this.props.position-1;return A().createElement("div",{className:"new-milestone-sublane up","data-position":e,ref:e=>{this.newSublaneUp=e}})}renderBottomSublane(){var e=this.props.position+1;return A().createElement("div",{className:"new-milestone-sublane down","data-position":e,ref:e=>{this.newSublaneDown=e}})}renderSublane(){var e=ae()({sublane:!0,"sublane-dropzone":!0,"is-expanded":this.props.sublaneModel.milestones.length>0});return A().createElement("div",{className:e,"data-position":this.props.position,"data-roadmapable-view-id":this.props.roadmapableViewId,"data-sublane-id":this.props.sublaneModel.id,ref:e=>{this.sublaneRef=e}},this.renderFlags())}render(){return A().createElement("div",{className:"sublane-holder"},this.renderTopSublane(),this.renderSublane(),this.renderBottomSublane())}}Ce(Ee,"propTypes",{sublanesCollection:M().object.isRequired,canEdit:M().bool.isRequired,sublaneModel:M().object.isRequired,type:M().oneOf(["Lane","Roadmap"]).isRequired,position:M().number.isRequired,ppd:M().number.isRequired,firstSublane:M().number.isRequired,laneId:M().oneOfType([M().number,M().string]),roadmapableViewId:M().number.isRequired,roadmap:M().object.isRequired,timelineSelector:M().string.isRequired,canAddSublanes:M().bool,activeLegendIds:M().arrayOf(M().string),activeTagIds:M().arrayOf(M().string),activeLaneIds:M().arrayOf(M().string)}),Ce(Ee,"defaultProps",{canAddSublanes:!0});const _e=Ee;var xe=r(66415),Le=r.n(xe),Pe=r(8816),Oe=r.n(Pe),Se=r(60691),ke=r(73935),Te=r.n(ke);function De(){return De=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},De.apply(this,arguments)}function Ie(){Ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Re(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class je extends A().Component{constructor(e){super(e),Ae(this,"MAX_SUBLANES",5)}componentDidMount(){this.initializeNewMilestoneDrag()}isNewDropEnabled(){var e=this.props.sublanes.length;return this.isDropEnabled()&&e<this.MAX_SUBLANES}isDropEnabled(){return this.props.canEdit}initializeNewMilestoneDrag(){var e,t,r=this;this.props.canEdit&&$(".add-milestone").draggable({cursor:"none",cursorAt:{top:15,left:0},tolerance:"pointer",scroll:!1,zIndex:1100,refreshPositions:!0,revert:"invalid",appendTo:"body",start:()=>{N.ProductPlan.roadmapRenderer.closeContextMenu()},stop:(e=Ie().mark((function e(t,n){var a,o,i,s,l,c,u;return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.helper.dropData){e.next=29;break}if(a=n.helper.dropData.sublaneId,o=N.ProductPlan.roadmapRenderer.leftInDocument(n.offset.left),i=window.currentRoadmapable.timelineSettings().pixelsToEOD(o,r.props.ppd),s=window.currentRoadmapable.buildDefaultMilestone({date:i,sublane_id:a}),!(l=window.currentRoadmapable.findSublane(a)).isNew()){e.next=24;break}return(c=l.attrs()).sublaneableId=n.helper.dropData.sublaneableId,c.roadmapableViewId=r.props.roadmapableViewId,delete c.id,e.next=13,re.Z.create(c);case 13:return u=e.sent,l.setNew(!1),s.sublaneId=u.id,l.id=u.id,e.next=19,N.ProductPlan.roadmapManager.createMilestone(s);case 19:l.addMilestone(s),N.ProductPlan.roadmapRenderer.updateMilestones(),le.default.publish("EDIT_MILESTONE",s.id),e.next=29;break;case 24:return e.next=26,N.ProductPlan.roadmapManager.createMilestone(s);case 26:l.addMilestone(s),N.ProductPlan.roadmapRenderer.updateMilestones(),le.default.publish("EDIT_MILESTONE",s.id);case 29:case"end":return e.stop()}}),e)})),t=function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Re(o,n,a,i,s,"next",e)}function s(e){Re(o,n,a,i,s,"throw",e)}i(void 0)}))},function(e,r){return t.apply(this,arguments)}),helper:()=>{var e=$("<div id='milestone-helper'></div>");e.appendTo($("body"));var t=window.currentRoadmapable.buildTempMilestone();return Te().render(A().createElement(Se.Z,{id:t.id,title:t.title,flagColor:t.hexValue(),textColor:N.ProductPlan.getContrastClasses(t.hexValue()),date:t.displayDate(),expanded:!1}),document.querySelector("#milestone-helper")),e}})}renderSublanes(){var e=Oe()(Le()("position"))(this.props.sublanes);return F()(e,(e=>A().createElement(_e,De({canAddSublanes:this.isNewDropEnabled(),canEdit:this.props.canEdit,firstSublane:0,id:e.id,key:e.id,position:e.position,sublaneModel:e},this.props))))}render(){return this.props.hideIfEmpty&&1===this.props.sublanes.length&&this.props.sublanes[0].isNew()?null:A().createElement("div",{className:"sublanes-container"},this.renderSublanes())}}Ae(je,"defaultProps",{hideIfEmpty:!1}),Ae(je,"propTypes",{sublanesCollection:M().object.isRequired,sublanes:M().array,canEdit:M().bool.isRequired,type:M().oneOf(["Lane","Roadmap"]).isRequired,ppd:M().number.isRequired,laneId:M().oneOfType([M().number,M().string]),roadmapableViewId:M().number.isRequired,roadmap:M().object.isRequired,timelineSelector:M().string.isRequired,hideIfEmpty:M().bool});const Me=je;var Ne=r(40104),Be=r.n(Ne),Fe=r(88846),Ve=r.n(Fe);class Ze extends A().Component{constructor(e){super(e),this.MILESTONE_POLE_OFFSET=1}componentDidUpdate(){var e=parseInt(N.ProductPlan.layout.gridHeightCss());this.props.roadmapHeight!==e&&$("#".concat(this.id," .flag-line")).css({height:e+"px"})}id(){return"milestone-poles-container-".concat(window.currentRoadmapable.roadmapableId())}positionPole(e){var t=e.leftInPixels(this.props.ppd);return window.currentRoadmapable.isMasterPlan()||window.currentRoadmapable.isExportView||(t+=this.MILESTONE_POLE_OFFSET),{zIndex:50,borderLeftColor:e.hexValue(),height:this.props.roadmapHeight,left:t+"px"}}flagPoles(){return Oe()(Be()((e=>e.expanded&&!e.isDragging)),Ve()((e=>A().createElement("div",{className:"flag-line","data-id":e.id,key:e.id,style:this.positionPole(e)}))))(this.props.milestones)}render(){return this.props.roadmapHeight<=0?null:A().createElement("div",{id:this.id()},this.flagPoles())}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Ze,"propTypes",{roadmapHeight:M().number.isRequired,milestones:M().array.isRequired,ppd:M().number.isRequired,roadmapManager:M().object.isRequired});const Ue=Ze;var Ge=r(94828),He=r(54810);class qe{static init(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=e&&null!=t){var n=e[0]&&"toolbar-color-box ui-draggable-dragging"==e[0].className,a=!!e.data("barData"),o=a?e.data("barData"):e.data(),i=t.hasClass("legend-sort")?1:0,s=1===i||o.isNew,l=o&&o.id?window.currentRoadmapable.findActiveBar(o.id):void 0,c={};return c.filterBars=a||n,c.newBarData=o,c.barElement=t,c.isContainer=qe.isContainer(o,t),c.legendId=t.data("label-id"),c.needToRender=qe.needToRender(t),c.newLeftPosition=N.ProductPlan.roadmapRenderer.leftInDocument(r)-i,c.widthInPixels=s?qe.defaultWidthInPixels():l?l.widthInPixels(window.currentRoadmapable.ppd):e.width(),c}}static isContainer(e,t){return e.isContainer||t.hasClass("add-container")||t.data("iscontainer")}static needToRender(e){return e.is("\n      .legend-sort,\n      .add-bar,\n      .add-container\n    ")}static defaultWidthInPixels(){var e=window.currentRoadmapable.timelineSettings(),t=window.currentRoadmapable.ppd;return e.displayUnitsToPixels(N.ProductPlan.roadmapManager.roadmap.defaultBarDuration,t)}}const We=qe;var ze=r(25278),$e=r(84486),Ke=r.n($e),Ye=r(96026),Je=r.n(Ye),Qe=r(22701),Xe=r.n(Qe),et=r(80008),tt=r.n(et);function rt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const nt=class{constructor(e,t){rt(this,"getWeekIntervals",(()=>Je()(tt()(this.endDate).diff(tt()(this.startDate),"days")/7))),rt(this,"getIntervalDate",(e=>tt()(this.startDate).add(e,"days"))),rt(this,"getSprintStartDate",(e=>this.getIntervalDate(e).format("MMM DD"))),rt(this,"getIntervalDay",(e=>this.getIntervalDate(e).format("D"))),rt(this,"getIntervalBeginingOfMonth",((e,t)=>{var r;if(null!=e||null!=t){var n=this.getIntervalDate(e);return null!=t&&(r=this.getIntervalDate(t)),n.month()!==(null!=r?r.month():void 0)?0===n.month()?n.format("MMM YYYY"):n.format("MMM"):void 0}})),rt(this,"getIntervalBeginingOfYear",(e=>{if(0===this.getIntervalStart(e).month())return this.getYear(e)})),rt(this,"getYearlyQuarter",(e=>{if(this.getIntervalStart(e).month()%3===0)return"\u2022"})),rt(this,"getSprint",(e=>e/this.intervalDuration+this.intervalOffset)),rt(this,"getMonth",(e=>this.getIntervalStart(e).format("MMM"))),rt(this,"getYear",(e=>this.getIntervalStart(e).year())),rt(this,"getOffset",(e=>this.getIntervalStart(e).month()-parseInt(this.fiscalYearFirstMonth)+2)),rt(this,"getQuarter",(e=>{var t=this.getOffset(e);return this.isFirstQuarter(t)?this.buildQuarterLabel("Q1",e):this.isSecondQuarter(t)?this.buildQuarterLabel("Q2",e):this.isThirdQuarter(t)?this.buildQuarterLabel("Q3",e):this.isFourthQuarter(t)?this.buildQuarterLabel("Q4",e):this.isInitOfYear(e)?this.getYear(e):void 0})),rt(this,"buildQuarterLabel",((e,t)=>this.isInitOfYear(t)?[e,this.getYear(t)].join(" "):e)),rt(this,"isInitOfYear",(e=>0===this.getIntervalStart(e).month()||0===e)),rt(this,"generateIntervals",(()=>{var e=this,t=this.calendar.isActualCalendar()?this.getSprintIntervals():this.getIntervals(),r=[],n=void 0;return Ke()(t,(function(t,a){switch(e.timelineType){case"Weeks":e.firstLine=e.getIntervalBeginingOfMonth(t,n),e.secondLine=e.getIntervalDay(t),n=t;break;case"Months":e.firstLine=e.isInitOfYear(a)?e.getYear(a):"",e.secondLine=e.getMonth(a);break;case"Quarters":e.firstLine=e.getQuarter(a),e.secondLine="\u2022";break;case"Months and Quarters":e.firstLine=e.getQuarter(a),e.secondLine=e.getMonth(a);break;case"Years":e.firstLine=e.getIntervalBeginingOfYear(t),e.secondLine=e.getYearlyQuarter(a),n=t;break;case"Sprints":e.firstLine="Sprint "+e.getSprint(t),e.secondLine=e.getSprintStartDate(t);break;default:e.firstLine="",e.secondLine="\u2022"}return r.push({firstLine:e.firstLine,secondLine:e.secondLine})})),r})),rt(this,"generateGridIntervals",(()=>{var e=this,t=[];switch(this.preferences.display_grid){case"week":Ke()(this.getWeekIntervals(),(function(e){if(e>0)return t.push({dataDate:7*e})}));break;case"sprint":Ke()(this.getSprintIntervals(),(function(r,n){if(r>0)return t.push({dataDate:e.intervalDuration*n})}));break;case"month":t=e.calendar.monthsInRange(this.startDate,this.endDate);break;case"quarter":t=e.calendar.quartersInRange(this.startDate,this.endDate,this.fiscalYearFirstMonth);break;default:e.showTodayLine=!1}return t})),null==t&&(t=!0),this.startDate=e.startDate,this.endDate=e.endDate,this.timelineType=e.timelineType,this.intervalDuration=Xe()(e.unitsPerInterval),0===this.intervalDuration&&(this.intervalDuration=1),this.intervalOffset=Xe()(e.intervalOffset),this.preferences=e.preferences,this.fiscalYearFirstMonth=Xe()(this.preferences.fiscal_year_first_month),this.firstLine="",this.secondLine="\u2022",this.showTodayLine=!0,this.showTodayMarker=t,this.calendar=e.calendar}getIntervals(){var e=this,t=12*tt()(e.endDate).year()+tt()(e.endDate).month(),r=12*tt()(e.startDate).year()+tt()(e.startDate).month();return Je()(t-r+1)}getIntervalStart(e){return tt()(this.startDate).add(e,"months")}getSprintIntervals(){var e=this,t=Je()(tt()(e.endDate).diff(tt()(e.startDate),"days"));return C()(t,((t,r)=>r%e.intervalDuration===0))}isFirstQuarter(e){return 1===e}isSecondQuarter(e){return 4===e||-8===e}isThirdQuarter(e){return 7===e||-5===e}isFourthQuarter(e){return 10===e||-2===e}};var at=r(90571),ot=r(21082),it=r(65943),st=r(77480),lt=r(17769),ct=r(8864),ut=r(4640),dt=r(6280),ht=r(51793),pt=(r(31624),r(26891),r(66177),r(87285),r(66709),r(91707),r(76368)),ft=r(13731),mt=r(74527),vt=r(91650),gt=r(20044),yt=r(56546),bt=r(96339);function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){Pt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xt(){xt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Lt(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ot=r(68259),St="scroll.timelineMainContainer",kt="wheel.timelineMainContainer";class Tt{constructor(){Pt(this,"DRAGGABLE_LANE_HELPER_WIDTH",.35),Pt(this,"initializeRoadmapView",((e,t)=>{null==e&&(e=!0),null==t&&(t=!0),this.interactive=e,this.displaySetup(t),this.eventHandlerInitialization()})),Pt(this,"displaySetup",(e=>{null==e&&(e=!0),$("#new-lane").hide(),$("#roadmap-tab .mytips").tooltip({container:"body",animation:!1}),$("body").data("fullscreen",!1);var t=$("#toolbar").data("mode");"toolbar"===t&&$("#toolbar-body").show(),"parkinglot"===t&&$("#toolbar-body").hide(),this.applyRoadmapStyle(window.currentRoadmapable.roadmapStyle),dt.Z.normalizeContainers(),N.ProductPlan.roadmapRenderer.updateMilestones(),this.drawDateRows(e),Ge.Z.renderPermissions()})),Pt(this,"eventHandlerInitialization",(()=>(this.initContainerToggle(),this.initLaneToggle(),this.initBarDrag(),this.initContainerDrag(),this.initLaneDrag(),this.initNewLaneDrop(),this.initReadMoreHandler(),(N.ProductPlan.canEdit()||window.currentRoadmapable.isMasterPlan()&&!window.currentRoadmapable.isExportView)&&this.initContextMenuEvent(),this.initBarClickHandler(),this.initToolbarVersionButtonClickHandler(),this.initWheelHandlerOnMainContainer(),this.initScrollHandlerOnMainContainer(),this.initWindowResizeEventHandling(),this.initContextMenuLeftClickHandler(),N.ProductPlan.layout.timelineIsVisible()&&$(".js-timeline-table").floatThead({position:"absolute",scrollContainer:!0,zIndex:200}),this.initToolbarHideClickHandler(),this.initToolbarShowClickHandler()))),Pt(this,"cleanUpEventListeners",(()=>{$(window).off("resize.timelineResize"),$(document).off("click.timelineContextMenu"),$("body").off("click.timelineToolbarHide").off("click.timelineToolbarShow").off("click.timelineReadMore").off("mouseenter.timelinePopover").off("mouseleave.timelinePopover"),$(".js-main-container").off("click.timelineBar").off(St).off(kt).off("contextmenu.timelineBar").off("click.timelineContainerToggle").off("click.timelineLaneToggle"),$("#toolbar-body").off("click.timelineToolbarVersionButton")})),Pt(this,"initToolbarShowClickHandler",(()=>{$("body").off("click.timelineToolbarShow").on("click.timelineToolbarShow","#show_toolbar_button",(function(){N.ProductPlan.roadmapsController.toggleToolBar(!0,!0),N.ProductPlan.roadmapRenderer.updateMilestones()}))})),Pt(this,"removeScrollHandlerOnMainContainer",(()=>{$(".js-main-container").off(St)})),Pt(this,"removeWheelHandlerOnMainContainer",(()=>{$(".js-main-container").off(kt)})),Pt(this,"initScrollHandlerOnMainContainer",(()=>$(".js-main-container").off(St).on(St,(e=>{le.default.publish("JS_MAIN_CONTAINER_SCROLL"),this.onDebouncedScrollHandler(e)})))),Pt(this,"initWheelHandlerOnMainContainer",(()=>$(".js-main-container").off(kt).on(kt,(e=>{le.default.publish("JS_MAIN_CONTAINER_WHEEL"),this.onDebouncedWheelHandler(e)})))),Pt(this,"onDebouncedScrollHandler",O()((e=>{var t=$(e.currentTarget),r=t.scrollLeft(),n=t.scrollTop();this.originalLeft===r&&this.originalTop===n||(this.originalLeft=r,this.originalTop=n,this.handleScroll(t,r,n))}),150,{trailing:!0})),Pt(this,"onDebouncedWheelHandler",O()((e=>{var t=$(e.currentTarget),r=t.scrollLeft()+e.originalEvent.deltaX,n=t.scrollTop()+e.originalEvent.deltaY;(null!=e.originalEvent.deltaX&&0!==e.originalEvent.deltaX||null!=e.originalEvent.deltaY&&0!==e.originalEvent.deltaY)&&this.handleScroll(t,r,n)}),150,{trailing:!0})),Pt(this,"redrawRoadmapObjects",(()=>{var e=new ze.Z(window.currentRoadmapable),t=$(".lane-title");return L()(t,(e=>Te().unmountComponentAtNode(e))),$(".lanes[id*='full_lane_']").remove(),this.drawLanes(e),this.initializeLaneTitles(),$(".timeline").show(),this.redraw(),this.renderConnectionNodes(),window.check_window_resize()})),Pt(this,"redrawLanesForMultiSelect",(()=>{var e=new ze.Z(window.currentRoadmapable),t=$(".lane-title");L()(t,(e=>Te().unmountComponentAtNode(e))),$(".lanes[id*='full_lane_']").remove(),this.drawLanes(e),this.initializeLaneTitles(),this.redrawWithoutDraggable(),this.renderConnectionNodes(),window.check_window_resize(),T.Z.bindSelectedBarDraggables()})),Pt(this,"redrawLanes",((e,t)=>{null==e&&(e=!0),null==t&&(t=!0);var r=new ze.Z(window.currentRoadmapable);$(".lanes[id*='full_lane_']").remove(),this.drawLanes(r),this.initializeLaneTitles(),this.redraw(e,t)})),Pt(this,"updateMilestones",(()=>{window.currentRoadmapable.ppd&&(_()($(".lanes[id*='_lane_']"))||(window.currentRoadmapable.orderedRoadmapList().forEach((e=>{var t=new gt.Z(e);this.renderRoadmapMilestoneFlagPoles(t),this.renderTimelineMilestones(t),this.renderMilestoneLanes(e)})),N.ProductPlan.layout.adjustGridlineHeight()))})),Pt(this,"renderRoadmapMilestoneFlagPoles",(e=>{if(window.currentRoadmapable.showTimelineMilestonePoles()&&!window.currentRoadmapable.isExportView){var t=$("#roadmap-milestone-poles-".concat(e.roadmapable().roadmapableId())),r=we.Z.activeLabelIds(e),n=C()(e.roadmap.timelineSublanes.milestones(),(e=>!we.Z.isFiltered({item:e,activeLegendIds:r.activeLegendIds,activeTagIds:r.activeTagIds,activeLaneIds:r.activeLaneIds})));if(n){var a={roadmapHeight:this.roadmapHeight(),ppd:window.currentRoadmapable.ppd,milestones:n,roadmapManager:e};return k.Z.renderComponent(Ue,a,t)}}})),Pt(this,"redrawBar",((e,t,r)=>{if(e.length>0){var n=e.parent();return e.find(".bar-content").popover("destroy"),e.remove(),this.drawBarOnly(n,t,r)}})),Pt(this,"drawBarOnly",((e,t,r)=>t.parked?(0===e.children(".project-bar").length&&(0===e.parent().find(".project-bar").length?e.siblings(".lane-divider").remove():(e.next(".lane-divider").remove(),e.remove())),window.check_window_resize(),at.Z.applyFilters()):(e.append($(new ft.Z(t).render()).addClass((r||[]).join(" "))),this.redraw()))),Pt(this,"drawLane",((e,t)=>{var r=$(".lanes[data-id="+e+"]"),n=new ze.Z(window.currentRoadmapable).lane(e);n&&(r.replaceWith(n.render()),this.updateLaneMilestones(e,t),this.initializeLaneTitles(),this.redraw(),this.updateMilestones())})),Pt(this,"initNewLaneDrop",(()=>{$(".create-lane-drop").droppable({hoverClass:"lane-drop-active",accept:".add-lane",drop:function(){$("#new-lane").show(),N.ProductPlan.roadmapManager.createLane()}})})),Pt(this,"initMilestonePopover",(e=>(null==e&&(e=$(".large-flag, .small-flag")),this.milestonePopovers.push(this.initPopover({template:'<div class="popover popover-xl" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',animation:!1,selector:e,placement(e,t){var r=$(t),n=r.offset().left+r.width()/2,a=$(".js-main-container"),o=a.offset().left,i=a.width();return $(e).offset().top<0?"bottom":n<o?"right":n>o+i?"left":"top"},content(){var e=$(this).closest(".flag"),t=window.currentRoadmapable.findMilestone(e.data("id"));return t?r(87933)(t,{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}):void 0},trigger:"manual",title(){var e=$(this).closest(".flag"),t=window.currentRoadmapable.findMilestone(e.data("id"));return t?Ot({value:t.title},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}):void 0}}))))),Pt(this,"initBarPopover",(()=>{var e=$(".bar-content");return window.currentRoadmapable.isMasterPlan()||this.mountLockIconOnBars(),this.barPopovers.push(this.initPopover({template:'<div class="popover popover-xl" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',animation:!1,selector:e,placement(e,t){var r=$(t).parent(),n=r.width(),a=$(".js-main-container").width(),o=r.offset().left-32,i=o+n/2,s=a,l=s/2;return i<=0&&n-Math.abs(o)<=l?"right":i>s&&o>0?"left":+$(e).css("top").replace("px","")<0?"bottom":"top"},title(){var e=$(this).closest(".project-bar");if(window.currentRoadmapable.isMasterPlan())return Ot({value:e.data("title")},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0});var t,n,a=window.currentRoadmapable.findActiveBar(e.data("id"));return a.isDateRangeSyncEnabled()||a.hasChildDateRangeSyncEnabled()?(a.isSelfOrChildrenPendingRemoteSync()?(t=r(81422),n=!a.hasRemoteChangesPendingToSync()):(t=r(21132),n=!a.isDateRangeSyncEnabled()),t({value:e.data("title"),isChildLocked:n,integrationName:a.dateRangeSyncIntegrationName(),integrationNames:a.childDateRangeSyncIntegrationNames()},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})):a.hasDeadLinks()?r(54100)({value:e.data("title"),integrationName:a.deadLinkSyncIntegrationName()},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}):Ot({value:e.data("title")},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})},content(){var e=$(this).closest(".project-bar"),t=window.currentRoadmapable.findActiveBar(e.data("id"));return r(63486)(t,{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})},trigger:"manual"}))})),Pt(this,"_repositionPopover",(e=>{var t=this,r=e.$tip,n=r[0].getBoundingClientRect(),a=e.getPosition(),o=$(".js-lane-container")[0].getBoundingClientRect(),i=t._tooltipLocation(r),s=t._tooltipPosition(n,a,i,o),l={location:i,position:s,clippingInfo:t._clippingInfo(s,n)};if(r.removeClass(i),l.clippingInfo.isClipped&&(L()(t._locationsToTry(l.location),(function(e){var r=t._tooltipPosition(n,a,e,o),i=t._clippingInfo(r,n);return i.isClipped?(i.clippedArea<l.clippingInfo.clippedArea&&(l={location:e,position:r,clippingInfo:i}),!0):(l={location:e,position:r,clippingInfo:i},!1)})),l.clippingInfo.isClipped))switch(l.horizontalShift=l.clippingInfo.clippedLeft-l.clippingInfo.clippedRight,l.verticalShift=l.clippingInfo.clippedTop-l.clippingInfo.clippedBottom,l.location){case"top":case"bottom":l.position.left+=l.horizontalShift;break;default:l.position.top+=l.verticalShift}if(e.$tip.addClass(l.location),e.applyPlacement(l.position,l.location),l.clippingInfo.isClipped)switch(l.location){case"top":case"bottom":e.replaceArrow(l.horizontalShift,n.width,"left");break;default:e.replaceArrow(l.verticalShift-a.height,n.height,"top")}})),Pt(this,"_tooltipPosition",((e,t,r,n)=>{switch(r){case"top":return{top:t.top-e.height,left:this._computeMiddle(t,n)-e.width/2};case"bottom":return{top:t.top+t.height,left:this._computeMiddle(t,n)-e.width/2};case"left":return{top:t.top+t.height/2-e.height/2,left:t.left-e.width};case"right":return{top:t.top+t.height/2-e.height/2,left:t.right}}})),Pt(this,"focusedBar",(()=>this._focusedBar)),Pt(this,"initializeLaneDrop",(e=>{if(null==e&&(e=".base-drop"),N.ProductPlan.canEdit())return $(e).droppable({accept:".container-bar, .single-bar, .add-bar, .lane-label, .add-container",tolerance:"pointer",drop(e,t){if($(this).uniqueId(),$(".lane-drop").removeClass("lane-drop-active"),N.ProductPlan.roadmapView.dropDetector.canHandleDrop($(this).attr("id"))&&be.Z.canDrop(e)){var r=We.init(t.helper,t.draggable,t.offset.left);N.ProductPlan.roadmapView.handleLaneDrop($(this),r),$(this).append(t.helper),t.draggable.show()}},over(){$(this).uniqueId(),N.ProductPlan.roadmapView.dropDetector.addTarget("lane",$(this).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("lane-drop","lane-drop-active"),le.default.publish("ON_LANE_DROP_OVER")},out(){$(this).uniqueId(),N.ProductPlan.roadmapView.dropDetector.removeTarget("lane",$(this).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("lane-drop","lane-drop-active"),le.default.publish("ON_LANE_DROP_OUT")}})})),Pt(this,"bulkLegendUpdateOnLane",((e,t)=>{for(var r=e.find(".project-bar").map(((e,t)=>$(t).data("id"))),n=window.currentRoadmapable.findLegend(t),a=[],o=[],i=0,s=Array.from(r);i<s.length;i++){var l=s[i],c=window.currentRoadmapable.findActiveBar(l);a.push({id:l,legend_id:c.legend_id}),o.push({id:l,legend_id:n.id})}if(o.length>0){var u=e.data("id");this.enqueueLaneUpdate(u);var d=N.ProductPlan.roadmapManager.undoBulkLegendUpdate.bind(void 0,u,a);return N.ProductPlan.UndoQueue.pushUndo({command:d,clearRedoAction:!0}),N.ProductPlan.roadmapManager.updateBarsLegend(o)}})),Pt(this,"positionBars",((e,t)=>{null==e&&(e=$(".js-main-container").scrollLeft()),null==t&&(t=!0);var r=window.currentRoadmapable.timelineSettings(),n=window.currentRoadmapable.ppd;$(".project-bar").not(".ui-draggable-dragging").not(".ui-draggable-dragging .project-bar").each(((a,o)=>{var i,s=$(o),l=window.currentRoadmapable.findActiveBar(s.data("id"));if(null!=l)if(l.isContained){var c=l.parent().startUnits(),u=l.startUnits(),d=r.displayUnitsToPixels(u-c,n);s.css({left:d-1}).width(l.widthInPixels(n)-1),i=l.leftInPixels(n)-e,this.positionBarText(s,i)}else{var h=l.leftInPixels(n);t&&s.css({left:h}).width(l.widthInPixels(n)-1),i=h-e;var p=s.width()-37;this.positionBarText(s,i,p>-1*i)}}))})),Pt(this,"handleScroll",((e,t,r)=>{$(".popover").is(":visible")&&ce.Z.removePopovers(),N.ProductPlan.latestKnownScrollX!==t&&(N.ProductPlan.setLatestKnownScrollX(t),N.ProductPlan.requestBarDetailsUpdate(),t=c()([0,s()([t,it.RZ.maxScrollWidth(e[0])])]),this.positionBars(t,!1),this.positionLaneText(t)),N.ProductPlan.latestKnownScrollY!==r&&(N.ProductPlan.setLatestKnownScrollY(r),r=c()([0,s()([r,it.RZ.maxScrollHeight(e[0])])]))})),Pt(this,"toggleMilestone",(e=>{var t=window.currentRoadmapable.findMilestone(e);return N.ProductPlan.canEdit()?N.ProductPlan.roadmapManager.updateMilestone(t.id,{expanded:!t.expanded}):t.expanded=!t.expanded,this.updateMilestones()})),this.interactive=!0,this.barPopovers=[],this.milestonePopovers=[],this.originalLeft=0,this.originalTop=0}initWindowResizeEventHandling(){return $(window).off("resize.timelineResize").on("resize.timelineResize",(function(e){$(e.target).hasClass("ui-resizable")||(le.default.publish("WINDOW_RESIZE"),window.check_window_resize())}))}initContextMenuLeftClickHandler(){return $(document).off("click.timelineContextMenu").on("click.timelineContextMenu",(function(e){if(1===e.which)return N.ProductPlan.roadmapRenderer.closeContextMenu()}))}initToolbarHideClickHandler(){return $("body").off("click.timelineToolbarHide").on("click.timelineToolbarHide","#hide_toolbar_button",(function(){return N.ProductPlan.roadmapsController.toggleToolBar(!1,!0),N.ProductPlan.roadmapRenderer.updateMilestones()}))}disableToolbar(e){$(".main-wrapper .board-actions").toggleClass("disabled",e)}initBarClickHandler(){$(".js-main-container").off("click.timelineBar").on("click.timelineBar",".project-bar .bar-content",(function(e){if(!$(e.target).hasClass("connection-icon")&&(!window.currentRoadmapable.canEdit()||!e.metaKey&&!e.shiftKey)&&!e.ctrlKey&&(ce.Z.removePopovers(),N.ProductPlan.roadmapRenderer.closeContextMenu(),N.ProductPlan.roadmapRenderer.interactive)){var t=$(this).closest(".project-bar");vt.Z.loadBarModal(t.data("id"))}}))}initToolbarVersionButtonClickHandler(){$("#toolbar-body").off("click.timelineToolbarVersionButton").on("click.timelineToolbarVersionButton",".js-open-version-modal",function(){var e,t=(e=xt().mark((function e(t){var r,n,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=$(this).data("roadmapId"),e.prev=2,e.next=5,mt.default.roadmaps.snapshots(r);case 5:return n=e.sent,a=n.data,e.abrupt("return",new Function(a)());case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",N.ProductPlan.requireRefresh(e.t0));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Lt(o,n,a,i,s,"next",e)}function s(e){Lt(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}())}initContextMenuEvent(){return $(".js-main-container").off("contextmenu.timelineBar").on("contextmenu.timelineBar",".project-bar",(function(e){return N.ProductPlan.roadmapRenderer.showContextMenu($(this),e)}))}applyRoadmapStyle(e){switch(e){case"normal":return $("body, .view-layout").removeClass("small-font").removeClass("condensed").removeClass("projector").removeClass("minimal");case"condensed":return $("body, .view-layout").removeClass("small-font").removeClass("projector").removeClass("minimal").addClass("condensed");case"minimal":return $("body, .view-layout").removeClass("projector").removeClass("condensed").removeClass("small-font").addClass("minimal");case"small-font":return $("body, .view-layout").removeClass("condensed").removeClass("projector").removeClass("minimal").addClass("small-font");case"projector":return $("body, .view-layout").removeClass("condensed").removeClass("small-font").removeClass("minimal").addClass("projector")}}getContextMenuPosition(e,t){var r={top:t.pageY,left:t.pageX},n=window,a=n.innerWidth,o=n.innerHeight,i=e.get(0).getBoundingClientRect();return r.top+i.height>o&&(r.top=i.top-i.height-50),r.left+i.width>a&&(r.left=i.left-i.width-50),r}showContextMenu(e,t){var r=window.currentRoadmapable.findActiveBar(e.data("id"));N.ProductPlan.roadmapView.updateBarContextMenu(r),N.ProductPlan.roadmapRenderer.closeContextMenu();var n=e.children(".context-menu").clone();(n.toggleClass("open",!0),$("body").append(n),null==t)&&(t=window.event);var a=this.getContextMenuPosition(n,t);return n.css(a),!1}closeContextMenu(){return $(".context-menu.open").remove()}redrawWithoutDraggable(){return this.redraw(!0,!1)}redraw(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(window.check_window_resize(),e&&at.Z.applyFilters(),this.clearBarPopovers(),this.clearMilestonePopovers(),this.initBarPopover(),this.initMilestonePopover(),this.renderConnectionNodes(),t)return this.initializeBars(),this.initializeContainerDrop(),this.initializeLaneDrop(),this.initializeTitleDrop(),this.initializeMilestoneLaneDrop()}renderMasterPlanLanes(){if((0,st.ZP)({laneStyle:window.currentRoadmapable.laneStyle,roadmaps:window.currentRoadmapable.orderedRoadmapList(),renderer:this,masterPlanManager:N.ProductPlan.roadmapManager}).render(),$(".timeline").show(),this.redrawWithoutDraggable(),0===$(".roadmap-milestones .flag").length){var e=$(".lanes").detach();$(".roadmap-divider").remove(),$("#last_lane").before(e)}}drawLanes(e,t,n){var a,o=r(53629)(e,{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0});t?(t.append(o),a=t):a=o,$("#last_lane").before(a),n||this.renderMilestoneLanes(e.roadmap)}roadmapHeight(){return parseInt(N.ProductPlan.layout.gridHeightCss().replace("px",""))}renderMilestoneLanes(e){if(window.currentRoadmapable.supportsLaneMilestones()){var t=window.currentRoadmapable.timelineHeaderMilestoneContainer(e.roadmapableId()),r=window.currentRoadmapable.canEdit(),n=window.currentRoadmapable.ppd,a=e.laneTitleSublanes,o=a.type,i=window.currentRoadmapable.primaryViewId,s=we.Z.activeLabelIds(N.ProductPlan.roadmapManager);e.forEachLane((l=>{var c=l.id,u=$(".lanes[data-id-"+c+"='true']").find(".milestones[data-lane-id="+c+"]");if(u.length>0){var d=a.getLane(c),h=_t({sublanes:d.visibleSublanesAfterFilter(s,r),laneId:c,sublanesCollection:d,canEdit:r,ppd:n,type:o,roadmapableViewId:i,roadmap:e,timelineSelector:t},s);k.Z.renderComponent(Me,h,u)}})),N.ProductPlan.roadmapRenderer.initMilestonePopover()}}updateLaneMilestones(e,t){var r=we.Z.activeLabelIds(N.ProductPlan.roadmapManager),n=t.roadmapable().laneTitleSublanes.getLane(e),a=$(".lanes[data-id="+e+"]").find(".milestones"),o=N.ProductPlan.canEdit(),i=_t({laneId:e,sublanes:n.visibleSublanesAfterFilter(r,o),canEdit:o,ppd:window.currentRoadmapable.ppd,roadmapableViewId:window.currentRoadmapable.primaryViewId,timelineSelector:window.currentRoadmapable.timelineHeaderMilestoneContainer(t.roadmap.roadmapableId()),sublanesCollection:n,type:n.type,roadmap:t.roadmap},r);k.Z.renderComponent(Me,i,a),N.ProductPlan.roadmapRenderer.initMilestonePopover()}renderTimelineMilestones(e){var t=$(window.currentRoadmapable.timelineHeaderMilestoneContainer(e.roadmap.roadmapableId()));if(0!==t.length){var r=we.Z.activeLabelIds(N.ProductPlan.roadmapManager),n=e.roadmap.timelineSublanes,a=N.ProductPlan.canEdit(),o=_t({sublanesCollection:n,sublanes:n.visibleSublanesAfterFilter(r,a),canEdit:a,ppd:window.currentRoadmapable.ppd,type:n.type,roadmapableViewId:window.currentRoadmapable.primaryViewId,roadmap:e.roadmap,timelineSelector:window.currentRoadmapable.timelineHeaderMilestoneContainer(e.roadmap.roadmapableId()),hideIfEmpty:window.currentRoadmapable.isMasterPlan()&&window.currentRoadmapable.laneStyle===st.EE},r),i=A().createElement(Me,o);Te().render(i,t[0],(function(){$(".js-timeline-table").floatThead("reflow")}))}}drawDateRows(e){null==e&&(e=!0);var t=window.currentRoadmapable.timelineSettings(),n=new nt(t,e),a=window.currentRoadmapable.isMasterPlan()?Object.values(window.currentRoadmapable.roadmaps):[window.currentRoadmapable],o=r(30267);$(".js-date-row").html(o({intervals:n.generateIntervals(),showTodayLine:n.showTodayLine,showTodayMarker:n.showTodayMarker,roadmaps:a},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}));var i=r(66691);return $(".js-gridline-container").html(i({grids:n.generateGridIntervals(),showTodayLine:n.showTodayLine,showTodayMarker:n.showTodayMarker,roadmaps:a},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}))}initContainerToggle(){$(".js-main-container").off("click.timelineContainerToggle").on("click.timelineContainerToggle",".container-show-button",(function(e){e.stopPropagation(),$(this).hasClass("toggling-container")||$(this).hasClass("toggling-lane")||(N.ProductPlan.roadmapRenderer.closeContextMenu(),dt.Z.toggleContainer($(this)))}))}initLaneToggle(){$(".js-lane-container").off("click.timelineLaneToggle").on("click.timelineLaneToggle",".lane-title "+he.c.chevronDown.selectorString+", .lane-title "+he.c.chevronRight.selectorString,(function(e){N.ProductPlan.roadmapRenderer.closeContextMenu();var t=$(e.target).closest(".lanes").data("id");return dt.Z.toggleLane(t),!1}))}initLaneDrag(){if(N.ProductPlan.canEdit())return $(".add-lane").draggable({cursor:"grabbing",cursorAt:{top:10,left:100},scroll:!1,zIndex:1e3,appendTo:"body",start:function(){$("#create-new-lane").css("display","block");var e=$(".js-main-container").width();$("#create-new-lane").width(e);var t=$(".js-main-container").scrollLeft();$("#create-new-lane").css("margin-left",t);var r=$(".js-main-container");r.scrollTop(r[0].scrollHeight)},stop:function(){$("#create-new-lane").css("display","none"),N.ProductPlan.roadmapRenderer.updateMilestones()},helper:function(){var e=r(13241);return $(e({width:$(".js-main-container").width()*N.ProductPlan.roadmapRenderer.DRAGGABLE_LANE_HELPER_WIDTH},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}))}})}initContainerDrag(){N.ProductPlan.canEdit()&&$(".add-container").draggable({appendTo:"body",cursor:"move",cursorAt:{top:10,left:100},refreshPositions:!0,scroll:!1,snap:".grid-line",snapMode:"inside",snapTolerance:3,zIndex:1e3,start:function(){S.Z.setup(),N.ProductPlan.roadmapRenderer.closeContextMenu(),N.ProductPlan.roadmapView.dropDetector.reset()},stop:function(){N.ProductPlan.roadmapView.dropDetector.reset(),N.ProductPlan.roadmapRenderer.updateMilestones(),S.Z.cleanup(),N.ProductPlan.roadmapRenderer.hideSmartGuide()},drag:function(e,t){dt.Z.normalizeContainers(),S.Z.scroll(e,(()=>{N.ProductPlan.roadmapRenderer.showSmartGuideOnDrag(t.helper)}))},helper:function(){var e=window.currentRoadmapable.buildUnmanagedDefaultBar({is_container:!0,container:!0});e.isNew=!0,e.setRenderChildren(!0);var t=$(new ft.Z(e).render());return t.data("barData",e),t}})}initBarDrag(){N.ProductPlan.canEdit()&&$(".add-bar").draggable({appendTo:"body",cursor:"grabbing",scroll:!1,refreshPositions:!0,snap:".grid-line",snapMode:"inside",snapTolerance:3,zIndex:1e3,start:function(){S.Z.setup(),N.ProductPlan.roadmapRenderer.closeContextMenu(),N.ProductPlan.roadmapView.dropDetector.reset()},stop:function(e,t){N.ProductPlan.roadmapView.dropDetector.reset(),lt.Z.remove(t),N.ProductPlan.roadmapRenderer.updateMilestones(),S.Z.cleanup(),N.ProductPlan.roadmapRenderer.hideSmartGuide()},drag:function(e,t){S.Z.scroll(e,(()=>{N.ProductPlan.roadmapRenderer.showSmartGuideOnDrag(t.helper)})),dt.Z.normalizeContainers();var r=null!=t.helper?t.helper.data("id"):void 0,n=N.ProductPlan.roadmapRenderer.leftInDocument(t.helper.position().left);lt.Z.resizeContainer(r,n)},helper:function(){var e=window.currentRoadmapable.buildUnmanagedDefaultBar({container:!1});e.isNew=!0;var t=$(new ft.Z(e).render());return t.data("barData",e),t}})}initReadMoreHandler(){$("body").off("click.timelineReadMore").on("click.timelineReadMore",".readmore",(function(e){e.preventDefault();var t=$(e.target);t.off("click");var r=$(t.data("owner"));if(ce.Z.removePopovers(),r.hasClass("large-flag")||r.hasClass("small-flag"))return b()((()=>r.trigger("click")));var n=r.closest(".project-bar").data("id");return b()(vt.Z.loadBarModal,n)}))}hideMilestonesPopovers(){return L()(this.milestonePopovers,(e=>$(e).popover("hide")))}hideBarPopovers(){return L()(this.barPopovers,(e=>$(e).popover("hide")))}clearBarPopovers(){return L()(this.barPopovers,(e=>$(e).off())),this.barPopovers=[]}clearMilestonePopovers(){return L()(this.milestonePopovers,(e=>$(e).off())),this.milestonePopovers=[]}mountLockIconOnBars(){$(".lock-icon-container").each(((e,t)=>{var r=$(t).parents(".project-bar"),n=window.currentRoadmapable.findActiveBar(r.data("id")),a=$(t)[0],o=A().createElement(pt.Z,{bar:n,container:a});Te().render(o,a)}))}initPopover(e){var t=e.selector,n=this,a={container:"body",trigger:e.trigger||"hover focus",title:e.title||"",html:"true",animation:"false",delay:{show:500},placement:e.placement,content:e.content,whiteList:g()({},$.fn.tooltip.Constructor.DEFAULTS.whiteList,{div:["style"]})};if(m()(a,{template:e.template}),n.interactive)return t.popover(a).on("show.bs.popover",(function(e){return $(e.target).find(".container-drop").length>0&&$(e.target).data("bs.popover").disable(),ce.Z.removePopovers(),$(e.currentTarget).is(":visible")||e.preventDefault(),!0})).on("inserted.bs.popover",(()=>$(".popover.popover-xl").css("visibility","hidden"))).on("shown.bs.popover",(function(e){if(!($(".bar-details-dialog").length>0)){var t=$(this).data("bs.popover"),a=t.$tip.find(".popup-description");if(a.height()>=250){var o="";N.ProductPlan.canEdit()||!$(this).hasClass("large-flag")&&!$(this).hasClass("small-flag")||(o="hidden");var i=r(98402)({additionalClasses:o},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0});a.trunk8({lines:10,fill:i}),a.removeAttr("title").find(".readmore").data("owner",e.target).removeAttr("title")}return n._repositionPopover(t),$(".popover.popover-xl").css("visibility","visible"),!0}ce.Z.removePopovers()})).on("hide.bs.popover",(e=>$(e.target).data("bs.popover").enable())),"manual"===e.trigger&&n._popoverHover(t),t}_locationsToTry(e){switch(e){case"left":case"right":return["top","bottom"];case"top":return["bottom","left","right"];case"bottom":return["top","left","right"]}}_tooltipLocation(e){return e.hasClass("top")?"top":e.hasClass("bottom")?"bottom":e.hasClass("left")?"left":e.hasClass("right")?"right":"top"}_computeMiddle(e,t){var r,n=$(".main-content-holder.js-roadmap-content").width();return(r=e.left<37?37:e.left)<t.left&&e.right>t.right?t.width/2:r<t.left?t.left+(e.right-t.left)/2:e.right>t.right?r+(t.right-r)/2:e.width>n?r+n/2:r+e.width/2}_clippingInfo(e,t){var r=$("body")[0].getBoundingClientRect(),n={};n.clippedTop=e.top<0?-e.top:0,n.clippedBottom=e.top+t.height>r.height?e.top+t.height-r.height:0,n.clippedLeft=e.left<0?-e.left:0,n.clippedRight=e.left+t.width>r.width?e.left+t.width-r.width:0;var a=[n.clippedTop*t.width,n.clippedBottom*t.width,n.clippedLeft*t.height,n.clippedRight*t.height];return n.clippedArea=p()(a,((e,t)=>e+t)),n.isClipped=0!==n.clippedArea,n}_popoverHover(e){var t=this,r=function(){return ce.Z.removePopovers(),t.popoverTimer=null};return $("body").off("mouseenter.timelinePopover").on("mouseenter.timelinePopover",".popover:not(.roadmap-title,.connection-popover)",(()=>clearTimeout(t.popoverTimer))).off("mouseleave.timelinePopover").on("mouseleave.timelinePopover",".popover:not(.roadmap-title,.connection-popover)",(function(){return ce.Z.removePopovers(),clearTimeout(t.popoverTimer),t.popoverTimer=null})),e.off("mouseenter.timelineBarEnter").on("mouseenter.timelineBarEnter",(function(e){var r;if(t._focusedBar=this,r=e.target,!($(r).hasClass("js-with-dependencies")||$(r).hasClass("js-with-dependents")||$(r).closest(".js-with-dependents").length>0||$(r).closest(".js-with-dependencies").length>0))return null!==t.barEnterTimer&&(clearTimeout(t.barEnterTimer),t.barEnterTimer=null),t.barEnterTimer=d()((()=>b()((()=>$(this).popover("show")))),500),clearTimeout(t.popoverTimer),t.popoverTimer=null})).off("mouseleave.timelineBarLeave").on("mouseleave.timelineBarLeave",(function(){if(t._focusedBar=void 0,clearTimeout(t.barEnterTimer),!t.popoverTimer)return t.popoverTimer=setTimeout(r,1e3)}))}initializeBars(){var e=this,t=$(".project-bar");if(N.ProductPlan.canEdit())return t.resizable({handles:"e, w",resize:e.onBarResizeAction,start(t,r){var n=$(this),a=window.currentRoadmapable.findActiveBar(n.data("id")),o=$(this).data("ui-resizable").axis;ct.Z.init(r.helper,a.isContained,o),ut.Z.moveBarToFront(n,a),ce.Z.removePopovers(),$(this).find(".bar-content").data("bs.popover").enable(),N.ProductPlan.roadmapRenderer.closeContextMenu();var i=window.currentRoadmapable.ppd,s=i,l=a.minWidthInPixels(i,o),c=Math.max(l,s);r.originalSize.width=a.duration()*i,a.isContained?(r.originalSize.width-=1,$(t.toElement).hasClass("ui-resizable-e")?e.handleChildRightResize(a,n):n.resizable("option","maxWidth",null)):r.originalSize.width+=1,n.resizable("option","minWidth",c),n.resizable("option","grid",[i,1])},stop:e.onBarResizeStop.bind(e)}).draggable({appendTo:document.body,devsnap:".grid-line",distance:20,scroll:!1,refreshPositions:!0,revert:"invalid",snap:".grid-line",snapMode:"inside",snapTolerance:3,start:e.onBarDragStart,stop(e,t){$(this).show(),N.ProductPlan.roadmapView.dropDetector.reset(),N.ProductPlan.clearEmptyLanes(),dt.Z.normalizeContainers(),lt.Z.removeOriginalContainerWidth(t),N.ProductPlan.roadmapRenderer.updateMilestones(),S.Z.cleanup(),N.ProductPlan.roadmapRenderer.hideSmartGuide(),le.default.publish("ON_BAR_DRAG_STOP_ACTION");var r=$(this).clone(),n=window.currentRoadmapable.findActiveBar(r.data("id"));(n.isDateRangeSyncEnabled()||n.hasChildDateRangeSyncEnabled())&&t.originalPosition.left!==t.position.left&&yt.Z.isRemoteBarSyncFeatureEnabled()&&ot.Z.warningDragDateLockedBar(n.dateRangeSyncIntegrationName())},drag:e.onBarDragAction,helper(){var e=$(this).clone(),t=window.currentRoadmapable.findActiveBar(e.data("id"));if(e.addClass("top-most"),t.isContained){var r=e.width();e.width(r+2+"px")}return e}}).droppable({accept:".lane-label",tolerance:"pointer",drop(t,r){if(N.ProductPlan.roadmapView.dropDetector.canHandleDrop($(this).attr("id"))&&be.Z.canDrop(t)){var n=r.draggable.data("label-id"),a=$(this).data("id"),o=window.currentRoadmapable.findActiveBar(a),i=N.ProductPlan.roadmapManager.undoBarLegendUpdate.bind(void 0,a,{legend_id:o.legend_id});N.ProductPlan.UndoQueue.pushUndo({command:i,clearRedoAction:!0}),e.updateBarLegend(a,n)}},over(e){be.Z.canDrop(e)&&(N.ProductPlan.roadmapView.dropDetector.addTarget("bar",$(this).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("lane-drop","lane-drop-active"))},out(){N.ProductPlan.roadmapView.dropDetector.removeTarget("bar",$(this).attr("id")),N.ProductPlan.roadmapRenderer.activeDropZone("lane-drop","lane-drop-active")}})}updateBarLegend(e,t){var r=N.ProductPlan.roadmapManager.updateBarLegend(e,{legend_id:t});return bt.Z.breakBarLegendSync(e),N.ProductPlan.roadmapRenderer.redrawBar(r.inDom(),r,["just-dropped"])}initializeLaneTitles(){window.currentRoadmapable.supportsLaneTitles()&&window.currentRoadmapable.forEachLane((function(e){var t={isCollapsed:!window.currentRoadmapable.isAnyOpen("lanes",[e.id]),lane:e,roadmapTitle:window.currentRoadmapable.roadmapNameOfLane(e)},r=e.titleMountPoint();r&&r.length>0&&k.Z.renderComponent(He.Z,t,r)}))}initializeContainerDrop(e){if(null==e&&(e=".container-drop"),N.ProductPlan.canEdit())return $(e).droppable({accept:".single-bar, .add-bar, .lane-label",tolerance:"pointer",drop(e,t){if($(this).uniqueId(),N.ProductPlan.roadmapView.dropDetector.canHandleDrop($(this).attr("id"))&&be.Z.canDrop(e)){$(".lane-drop").removeClass("lane-drop-active");var r=We.init(t.helper,t.draggable,t.offset.left);N.ProductPlan.roadmapView.handleLaneDrop($(this),r),lt.Z.remove(t),$(this).append(t.helper),t.draggable.show()}},over(e,t){if($(this).uniqueId(),be.Z.canDrop(e)){N.ProductPlan.roadmapView.dropDetector.addTarget("container",$(this).attr("id"));var r=N.ProductPlan.roadmapRenderer.activeDropZone("lane-drop","lane-drop-active");dt.Z.normalizeContainers(),lt.Z.handleDragHoverContainer($("#"+r),$(this),t.helper.data("id"))}le.default.publish("ON_CONTAINER_DROP_OVER")},out(){$(this).uniqueId(),N.ProductPlan.roadmapView.dropDetector.removeTarget("container",$(this).attr("id"));var e=N.ProductPlan.roadmapRenderer.activeDropZone("lane-drop","lane-drop-active");dt.Z.normalizeContainers(),lt.Z.handleDragOutsideContainer($("#"+e),$(this)),le.default.publish("ON_CONTAINER_DROP_OUT")}})}initializeMilestoneLaneDrop(){if(N.ProductPlan.canEdit())return $(".lanes").droppable({accept:".add-milestone, .flag",tolerance:"pointer",over(e){$(this).uniqueId(),be.Z.canDrop(e)&&N.ProductPlan.roadmapView.dropDetector.canAddTarget("lane-title")&&(N.ProductPlan.roadmapView.dropDetector.addTarget("lane-title",$(this).attr("id")),$(".lane-drop").removeClass("lane-drop-active"))},out(){$(this).uniqueId(),N.ProductPlan.roadmapView.dropDetector.removeTarget("lane-title",$(this).attr("id"))},drop(e,t){if(!t.helper.dropData){var r=$(this).closest(".lanes").data("id");N.ProductPlan.roadmapView.dropDetector.canHandleDrop($(this).attr("id"))&&be.Z.canDrop(e)&&(t.helper.dropData={sublaneableId:r,dropTarget:$(this).find(".milestones"),sublaneId:$(e.target).closest(".lanes").find(".lane-title-box .sublane").last().data("sublaneId")},N.ProductPlan.roadmapView.dropDetector.removeTarget("lane-title",$(this).attr("id")))}}})}initializeTitleDrop(){if(N.ProductPlan.canEdit())return $(".lane-title-box").droppable({accept:".lane-label",hoverClass:"lane-title-dropzone-active",tolerance:"pointer",over(e){$(this).uniqueId(),be.Z.canDrop(e)&&(N.ProductPlan.roadmapView.dropDetector.addTarget("lane-title",$(this).attr("id")),$(".lane-drop").removeClass("lane-drop-active"))},out(){$(this).uniqueId(),N.ProductPlan.roadmapView.dropDetector.removeTarget("lane-title",$(this).attr("id"))},drop(e,t){if(!t.helper.hasClass("flag")){var r=$(this).parent();te.Z.show({title:"Change Color of Bars in Lane",message:"Would you like to change all the bars in this lane to the '"+t.draggable.children("a").text().trim()+"' color?",confirmCallback(){var e=t.draggable.data("label-id");return N.ProductPlan.roadmapRenderer.bulkLegendUpdateOnLane(r,e)}})}}})}enqueueLaneUpdate(e){return window.showAJAXLoaderModal(),N.ProductPlan.roadmapView.onNextUpdateBars((function(){return N.ProductPlan.roadmapRenderer.drawLane(e,N.ProductPlan.roadmapManager),window.hideAJAXLoaderModal()}))}positionLaneText(e){null==e&&(e=$(".js-main-container").scrollLeft()),$(".lane-title").css("padding-left",it.RZ.addPixelSuffix(e+10))}positionBarText(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t<0){var n=it.RZ.addPixelSuffix(Math.abs(t));e.find(".inner").css("padding-left",n),r&&e.find(".container-toggles").css("padding-left",n)}else e.find(".inner").css("padding-left","0px"),e.find(".container-toggles").css("padding-left","0px")}preserveLastKnownScrollPosition(){if(N.ProductPlan.latestKnownScrollX&&$(".js-main-container").scrollLeft(N.ProductPlan.latestKnownScrollX),N.ProductPlan.latestKnownScrollY)return $(".js-main-container").scrollTop(N.ProductPlan.latestKnownScrollY)}leftInDocument(e){var t=$("#roadmap-tab .js-main-container"),r=t.offset().left;return e+t.scrollLeft()-r}coordsInDocument(e,t){var r=$(".js-main-container"),n=r.offset(),a=n.left,o=n.top;return[e+r.scrollLeft()-a,t+r.scrollTop()-o]}activeDropZone(e,t){var r=N.ProductPlan.roadmapView.dropDetector.activeTarget();return $("."+e).toggleClass(t,!1),$("#"+r).hasClass(e)&&$("#"+r).addClass(t),r}renderConnectionNodes(){var e=$(".js-with-dependents");e.length>0&&L()(e,(function(e){var t=window.currentRoadmapable.findActiveBar($(e).data("bar-id"));if(t.dependents().length>0)return k.Z.renderComponent(ee,{bar:t,displayType:"dependents"},e)}));var t=$(".js-with-dependencies");if(t.length>0)return L()(t,(function(e){var t=window.currentRoadmapable.findActiveBar($(e).data("bar-id"));if(t.dependencies().length>0)return k.Z.renderComponent(ee,{bar:t,displayType:"dependencies"},e)}))}onBarResizeAction(e,t){if(t.element.hasClass("date-synced-bar")&&!yt.Z.isRemoteBarSyncFeatureEnabled())return $(this).resizable("widget").trigger("mouseup");N.ProductPlan.roadmapRenderer.showSmartGuideOnResize(t.element),ct.Z.preventOverlaps(),le.default.publish("ON_BAR_RESIZE_ACTION")}onBarResizeStop(e,t){if(t.element.hasClass("date-synced-bar")){var r=window.currentRoadmapable.findActiveBar(t.element.data("id"));if(!r||!r.supportsResize())return ot.Z.unableToResizeDateLockedBarInTimeline(r.dateRangeSyncIntegrationName());ot.Z.warningDragDateLockedBar(r.dateRangeSyncIntegrationName())}ct.Z.updateRepositionedBars(),ct.Z.cleanUp(),this.clearBarPopovers(),this.initBarPopover(),N.ProductPlan.roadmapRenderer.hideSmartGuide()}onBarDragStart(){var e=window.currentRoadmapable.findActiveBar($(this).data("id"));!e.isDateRangeSyncEnabled()&&!e.hasChildDateRangeSyncEnabled()||yt.Z.isRemoteBarSyncFeatureEnabled()||($(this).draggable("option","axis","y"),ot.Z.unableToDragDateLockedBarInTimeline(e.dateRangeSyncIntegrationName())),S.Z.setup(),ce.Z.removePopovers(),$(this).hide(),N.ProductPlan.roadmapRenderer.closeContextMenu(),N.ProductPlan.roadmapView.dropDetector.reset();var t=window.currentRoadmapable.ppd;$(this).draggable("option","grid",[t,1]),le.default.publish("ON_BAR_DRAG_START_ACTION")}onBarDragAction(e,t){le.default.publish("ON_BAR_DRAG_ACTION"),S.Z.scroll(e,(()=>{N.ProductPlan.roadmapRenderer.showSmartGuideOnDrag(t.helper)}));var r=null!=t.helper?t.helper.data("id"):void 0,n=window.currentRoadmapable.findActiveBar(r);if(n){if(null!==n&&void 0!==n&&n.isContained&&n.parent().supportsResize()){var a=N.ProductPlan.roadmapRenderer.leftInDocument(t.helper.position().left);lt.Z.resizeContainer(r,a)}}else console.warn("Bar lost during drag action.","\nbarId:",r,"\nui:",t)}handleChildRightResize(e,t){if(!e.parent().supportsResize()){var r=t.parents(".container-holder"),n=r.offset().left,a=t.offset().left-n,o=r.width()-a+1;L()(e.parent().bars(),(t=>{t.id!==e.id&&t.sublaneId===e.sublaneId&&t.startUnits()>e.startUnits()&&t.supportsResize()&&(o-=t.inDom().width())})),t.resizable("option","maxWidth",o)}}showSmartGuideOnDrag(e){var t=e.position(),r=wt(N.ProductPlan.roadmapRenderer.coordsInDocument(t.left,t.top),2),n=r[0],a=r[1];return N.ProductPlan.roadmapRenderer.showSmartGuide(n),N.ProductPlan.roadmapRenderer.showSmartGuideDate(n,a),[n,a]}showSmartGuideOnResize(e){var t=$(e),r=t.offset(),n=wt(N.ProductPlan.roadmapRenderer.coordsInDocument(r.left,r.top),2),a=n[0],o=n[1],i="e"===ct.Z.axis,s=i?a+t.outerWidth()-1:a;N.ProductPlan.roadmapRenderer.showSmartGuide(s),N.ProductPlan.roadmapRenderer.showSmartGuideDate(s,o,i)}showSmartGuide(e){$(".smart-guide").css({left:e}).show()}showSmartGuideDate(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(N.ProductPlan.roadmapRenderer.shouldShowSmartGuideDate()){var n=window.currentRoadmapable.timelineSettings().pixelsToMoment(e,window.currentRoadmapable.ppd);r&&n.subtract(1,"d"),$(".smart-guide-date").text(n.format(ht.Z.displayFormat)).css({left:e,top:t}).show()}}shouldShowSmartGuideDate(){return!!window.currentRoadmapable.barFieldSettings().datesVisible&&"(None)"!==window.currentRoadmapable.timelineSettings().timelineType}hideSmartGuide(){$(".smart-guide").hide(),$(".smart-guide-date").hide()}}window.ProductPlan.roadmapRenderer=new Tt,window.ProductPlan.RoadmapRenderer=Tt;const Dt=Tt},36804:(e,t,r)=>{"use strict";r.d(t,{Z:()=>fe});var n=r(52628),a=r.n(n),o=r(54061),i=r.n(o),s=r(13311),l=r.n(s),c=r(14176),u=r.n(c),d=r(28583),h=r.n(d),p=r(25325),f=r.n(p),m=r(79833),v=r.n(m),g=r(82729),y=r.n(g),b=r(66073),w=r.n(b),C=r(22205),E=r.n(C),_=r(63105),x=r.n(_),L=r(35937),P=r.n(L),O=r(35161),S=r.n(O),k=r(75472),T=r.n(k),D=r(56264),I=r.n(D),R=r(12404),A=r(4962),j=r(65720),M=r(41226),N=r(65943),B=r(40902),F=r(88241),V=r(55652),Z=r(72045),U=r(69210),G=r(20297),H=r(7739),q=r.n(H),W=r(14570),z=r(3759),K=r(88846),Y=r.n(K),J=r(23902),Q=r.n(J),X=r(8816),ee=r.n(X);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ne{constructor(e,t,r){if(this.type=t,this.sublaneableId=r,t!==ne.TYPE.LANE||void 0!==r)this.sublanes=S()(e,(e=>new W.Z(e,this)));else{var n=q()(e,"sublaneable_id");this.lanesSublanesCollections=i()(n,((e,r,n)=>(e[n]=new ne(r,t,n),e)),{})}}visibleSublanes(){return x()(this.sublanes,(e=>!e.isEmpty()||e.isNew()))}visibleSublanesAfterFilter(e,t){var r=this.sublanes.reduce(((t,r)=>(r.milestones.every((t=>z.Z.isFiltered(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({item:t},e))))||t.push(r),t)),[]);return t&&0===r.length?[this.getNewSublane()]:r}getLane(e){return void 0===this.lanesSublanesCollections[e]&&(this.lanesSublanesCollections[e]=new ne([],ne.TYPE.LANE,e)),this.lanesSublanesCollections[e]}addSublane(e){return e.collection=this,this.sublanes.push(e),e}removeSublane(e){var t=null!=e.id,r=null!=e.token;(t||r)&&y()(this.sublanes,(r=>t?r.id===e.id:r.token===e.token))}findSublanesBySublaneableId(e){return x()(this.sublanes,{sublaneableId:e})}deleteSublanesOnLane(e){w()(this.findSublanesBySublaneableId(e),(e=>{this.removeSublane(e)}))}findByIdOrToken(e,t){return null!=t?l()(e,(e=>e.id===t||e.token===t)):void 0}findById(e){return this.type===ne.TYPE.LANE?i()(this.lanesSublanesCollections,((t,r)=>{var n=this.findByIdOrToken(r.sublanes,e);return null!=n&&(t=n),t}),null):this.findByIdOrToken(this.sublanes,e)}milestones(){return ee()(Y()("milestones"),Q())(this.visibleSublanes())}setMilestonesOnSublanes(e,t){w()(e,((r,n)=>{var a=x()(t,(e=>r.id===e.sublaneId));e[n].setMilestones(a)}))}updateMilestones(e){this.type!==ne.TYPE.LANE?this.setMilestonesOnSublanes(this.sublanes,e):w()(this.lanesSublanesCollections,(t=>{this.setMilestonesOnSublanes(t.sublanes,e)}))}getNewSublane(){var e=l()(this.sublanes,(e=>e.isNew()));if(!e){var t=(0,Z.Z)();(e=new W.Z({id:t,token:t,position:0,sublaneableId:this.sublaneableId,sublaneableType:this.type})).setNew(),e=this.addSublane(e)}return e}}re(ne,"TYPE",{TIMELINE:"Roadmap",LANE:"Lane"});const ae=ne;var oe=r(51793);function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const se=class{constructor(e,t){ie(this,"update",(e=>(void 0!==e.title&&(this.title=e.title),void 0!==e.expanded&&(this.expanded="true"===e.expanded.toString().toLowerCase()),void 0!==e.token&&(this.token=e.token),void 0!==e.description&&(this.description=e.description),void 0!==e.milestonable_id&&(this.containerId=e.milestonable_id),void 0!==e.date&&(this.date=e.date),void 0!==e.sublane_id&&(this.sublaneId=e.sublane_id),void 0!==e.tags?(this.tags=e.tags,this.tagList=this.tag_list()):void 0!==e.tag_list&&(this.tagList=e.tag_list),this.setHex(e),this.setPaletteColorId(e)))),ie(this,"startUnits",(()=>{var e=oe.Z.parseDate(this.date).add(1,"days");return this.roadmap.timelineSettings().dateToUnitsForDisplay(e)})),ie(this,"leftInPixels",(e=>this.roadmap.timelineSettings().displayUnitsToPixels(this.startUnits(),e))),ie(this,"displayDate",(()=>{var e;return null!==(e=window.currentRoadmapable)&&void 0!==e&&e.publicUrlCode&&!window.currentRoadmapable.barFieldSettings().datesVisible?null:oe.Z.fromString(this.date).startOfDay()})),ie(this,"formDate",(()=>oe.Z.fromString(this.date).apiFormatted())),ie(this,"hasDescription",(()=>void 0!==this.description&&null!=this.description&&this.description.length>0)),ie(this,"hexValue",(()=>this.hex)),ie(this,"setHex",(e=>{e.palette_color?this.hex="#".concat(e.palette_color.hex):e.hex&&(this.hex=e.hex)})),ie(this,"setPaletteColorId",(e=>{e.palette_color&&(this.paletteColorId=e.palette_color.id),e.palette_color_id&&(this.paletteColorId=e.palette_color_id)})),ie(this,"textColor",(()=>V.ProductPlan.getContrastClasses(this.hexValue()))),ie(this,"tag_list",(()=>(this.tags||[]).map((e=>e.name)).join(","))),ie(this,"tagIds",(()=>void 0===this.tags||0===this.tags.length?[this.roadmap.roadmapableId()+"untagged-milestone"]:this.tags.map((e=>this.roadmap.roadmapableId()+"-"+e.id.toString())))),ie(this,"canEdit",(()=>V.ProductPlan.canEdit())),ie(this,"hasMasterPlan",(()=>this.roadmap.hasMasterPlan())),ie(this,"masterPlanId",(()=>this.roadmap.hasMasterPlan()?this.roadmap.masterPlan.id:void 0)),ie(this,"isNewMilestone",(()=>null!==this.token&&void 0!==this.token&&""!==this.token&&this.id===this.token)),ie(this,"inView",(()=>{var e=this.startUnits();return e>=0&&e<=this.roadmap.maxNumberOfDays()})),ie(this,"inDom",(()=>{var e=$("#"+this.domId);if(0===e.length){var t=".flag[data-id="+this.id+"]";this.token&&(t+=", .flag[data-id="+this.token+"]"),e=$(t)}return e})),ie(this,"attributes",(()=>{var e={title:this.title,date:this.date,description:this.description,expanded:this.expanded,palette_color_id:this.paletteColorId,sublane_id:this.sublaneId,tag_list:this.tagList};return void 0===this.token&&null===this.token||(e.token=this.token),e})),this.roadmap=t,this.id=e.id,this.domId="milestone_"+this.id,this.tags=e.tags||[],this.update(e)}};var le=r(83868);function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fe=class{constructor(e,t){var r,n=this;pe(this,"setPixelsPerDay",(e=>{this.ppd=e})),pe(this,"setExportView",(()=>{this.isExportView=!0})),pe(this,"isMasterPlan",(()=>!1)),pe(this,"roadmapableId",(()=>this.roadmapId)),pe(this,"isPrimaryView",(()=>this.currentViewId===this.primaryViewId)),pe(this,"isSharedLegendEnabled",(()=>this.isPrimaryView()&&V.ProductPlan.isFeatureEnabled("shared_legend_groups"))),pe(this,"path",(()=>"/roadmaps/".concat(this.roadmapableId()))),pe(this,"barPath",(e=>this.isPublic()?"/pr/".concat(this.publicUrlCode,"/bars/").concat(e):"/bars/".concat(e))),pe(this,"roadmapableType",(()=>"roadmap")),pe(this,"ownerType",(()=>"Roadmap")),pe(this,"title",(()=>this.name)),pe(this,"roadmapNameOfLane",(()=>this.title())),pe(this,"isPublic",(()=>void 0!==this.publicUrlCode)),pe(this,"ownerHasFeature",(e=>{var t;return null===(t=this.activeFeatureFlags)||void 0===t?void 0:t.includes(e)})),pe(this,"primaryViewName",(()=>this._primaryViewName)),pe(this,"subtitle",(()=>{if(!this.versionDate)return null;var e=oe.Z.parseDate(this.versionDate).format("MMMM Do, YYYY");return"As of ".concat(e)})),pe(this,"timelineSettings",(()=>this.hasMasterPlan()?this.masterPlan.timelineSettings():this._timelineSettings)),pe(this,"totalIntervals",(()=>this.totalIntervals=this.timelineSettings().totalIntervals)),pe(this,"offsetFromOrigin",(()=>this.offsetFromOrigin=this.timelineSettings().offsetFromOrigin)),pe(this,"unitsPerBlock",(()=>this.unitsPerBlock=this.timelineSettings().unitsPerInterval)),pe(this,"intervalsInWindow",(()=>this.timelineSettings().intervalsInWindow)),pe(this,"setBenefitHeadings",(e=>this.benefitHeadings=e)),pe(this,"setCostHeadings",(e=>this.costHeadings=e)),pe(this,"hasMasterPlan",(()=>null!=this.masterPlan&&!0)),pe(this,"startDate",(()=>this.hasMasterPlan()?this.masterPlan.startDate():this._startDate)),pe(this,"endDate",(()=>this.hasMasterPlan()?this.masterPlan.endDate:this._endDate)),pe(this,"maxNumberOfDays",(()=>this.hasMasterPlan()?this.masterPlan.maxNumberOfDays():this.timelineSettings().totalUnits)),pe(this,"displayRgb",(e=>this.hasMasterPlan()?this.masterPlan.displayRgb(this,e):e)),pe(this,"displayHex",(e=>this.hasMasterPlan()?this.masterPlan.displayHex(this,e):e)),pe(this,"setDefaultBarColor",(e=>this.defaultBarColor=e)),pe(this,"defaultLegendForDisplay",(()=>this.defaultBarColor||(this.legendsSortedByPosition().length>0?this.legendsSortedByPosition()[0].id:null))),pe(this,"legendsSortedByPosition",(()=>T()(this.legends,(e=>e.position)))),pe(this,"setDefaultBarDuration",(e=>this.defaultBarDuration=e)),pe(this,"laneFor",(e=>this.roadmapDimension(this.lanes,e))),pe(this,"legendFor",(e=>this.roadmapDimension(this.legends,e)||this.defaultLegend())),pe(this,"roadmapDimension",((e,t)=>{var r=!1;return t&&t.some((function(t){return!(null==t.label_id||void 0===t.label_id||!e[t.label_id])&&(r=e[t.label_id],!0)})),r})),pe(this,"canEdit",(()=>!!this.permissions.can_edit)),pe(this,"shouldShowViewFiltersAppliedIndication",(()=>this.canEdit()&&this.hasViewFiltersApplied)),pe(this,"canEditLabel",(()=>!!this.canEditLabel)),pe(this,"tagIds",(()=>this.tagList().map((e=>e.id)))),pe(this,"legendIds",(()=>{var e=Object.values(this.legends).map((e=>e.id.toString()));return e.push(this.roadmapId+"none"),e})),pe(this,"laneIds",(()=>Object.values(this.lanes).map((e=>e.id.toString())))),pe(this,"laneList",(()=>{var e=Object.values(this.lanes);return e.sort(N.RZ.positionSort),e})),pe(this,"legendList",(()=>{var e=Object.values(this.legends);return e.sort(N.RZ.positionSort),e.unshift($.extend(this.defaultLegend(),{name:"(None)"})),e})),pe(this,"tagList",(()=>{var e=this.tagsForBars().map((e=>({id:this.roadmapId+"-"+e.id.toString(),name:e.name})));return e.sort(N.RZ.alphaSort),e.unshift({id:this.roadmapId+"untagged-milestone",name:"Untagged Milestones"}),e.unshift({id:this.roadmapId+"none",name:"Untagged Bars"}),e})),pe(this,"tagsForBars",(()=>{var e=new Map;return[this._bars,this.milestones].forEach((t=>{Object.values(t).forEach((t=>{t.deleted||t.tags.forEach((t=>{e.set(t.id,t)}))}))})),Array.from(e.values())})),pe(this,"findLegend",(e=>this.legends[e])),pe(this,"legendOptions",(()=>S()(this.legends,(e=>({id:e.id,color:e.hex,name:e.name,position:e.position}))).sort(((e,t)=>e.position-t.position)))),pe(this,"laneOptions",(()=>S()(this.lanes,(e=>({id:e.id,name:e.name,position:e.position}))).sort(((e,t)=>e.position-t.position)))),pe(this,"effortOptions",(()=>S()(this.efforts,((e,t)=>({id:t,name:e}))))),pe(this,"bars",(()=>P()(this._bars,(e=>!e.deleted)))),pe(this,"deletedBars",(()=>P()(this._bars,(e=>e.deleted)))),pe(this,"scoringBars",(()=>P()(this.bars(),(e=>e.shouldCalculateScore())))),pe(this,"topLevelBars",(()=>x()(this.bars(),(e=>!e.parked&&!e.isContained)))),pe(this,"topLevelContainers",(()=>x()(this.bars(),(e=>!e.parked&&e.isContainer)))),pe(this,"getChildBars",(e=>{var t=this.findActiveBar(e);return x()(t.bars(),(e=>!e.parked))})),pe(this,"addBar",(e=>(this._bars[e.id]=e,e.roadmap=this,e))),pe(this,"buildBar",(e=>this.addBar(new G.Z(he(he({},e),{},{roadmap:this}))))),pe(this,"buildDefaultBar",(e=>this.addBar(this.buildUnmanagedDefaultBar(e)))),pe(this,"scrollToAndEmphasisBar",(e=>{var t=this.findActiveBar(e);return le.Z.clickLocalBarResult(t)})),pe(this,"buildUnmanagedDefaultBar",(e=>{null==e&&(e={});var t=this.createBarToken(),r=this.timelineSettings(),n=I().decamelizeKeys(r.dateAttributes(r.offsetFromOrigin,this.defaultBarDuration)),a=E()({},{id:t,token:t,name:e.is_container?"New Container":"New Bar",dimensions:[{label_id:e.legend_id||this.defaultLegendForDisplay()}],comments:[],bars:[],roadmap:this,has_percent:V.ProductPlan.currentUser().percent_complete_default_zero,percent_done:V.ProductPlan.currentUser().percent_complete_default_zero?0:null},n,e);return new G.Z(a)})),pe(this,"removeBar",(e=>delete this._bars[e])),pe(this,"deleteBar",(e=>{var t=this.findActiveBar(e);if(t){if(t.deleted=!0,t.isContainer)for(var r=0,n=Array.from(t.bars());r<n.length;r++){n[r].deleted=!0}return t}})),pe(this,"createBarToken",(()=>"".concat(this.roadmapableId(),"-").concat((0,Z.Z)()))),pe(this,"setBarScores",(()=>{var e={benefitHeadings:he({},this.benefitHeadings),costHeadings:he({},this.costHeadings)};w()(this.scoringBars(),(t=>{var r={benefit_scores:t.benefitScores,cost_scores:t.costScores};t.setScore({score:(0,F.C)(e,r)})}))})),pe(this,"updateBarsFromDeletedColumn",(e=>{Object.values(this.bars()).concat(Object.values(this.deletedBars())).forEach((t=>{t["".concat(e.columnType,"Scores")]&&t["".concat(e.columnType,"Scores")][e.columnKey]&&delete t["".concat(e.columnType,"Scores")][e.columnKey]}))})),pe(this,"updateBarsFromColumnRename",(e=>{var t=e.columnType,r=e.oldKey,n=e.newKey;Object.values(this.bars()).concat(Object.values(this.deletedBars())).forEach((e=>{e["".concat(t,"Scores")]&&void 0!==e["".concat(t,"Scores")][r]&&(e["".concat(t,"Scores")][n]=e["".concat(t,"Scores")][r],delete e["".concat(t,"Scores")][r])}))})),pe(this,"updateCustomOrder",((e,t)=>this.customOrderSettings[e]=t)),pe(this,"removeCustomOrder",(e=>delete this.customOrderSettings[e])),pe(this,"removeBarFromCustomerOrder",((e,t)=>{var r=this.customOrderSettings[e];return y()(r,(e=>e===v()(t))),this.customOrderSettings[e]=r})),pe(this,"deleteTags",(e=>w()(this._bars,(t=>{var r=S()(e,"id"),n=S()(t.tags,"id"),a=f()(n,r);if(a.length>0){var o=x()(e,(e=>a.includes(e.id)));return t.update({tags:o})}})))),pe(this,"updateTags",(e=>w()(this._bars,(t=>{var r=S()(e,"id"),n=S()(t.tags,"id"),a=f()(n,r);if(a.length>0){var o=x()(e,(e=>a.includes(e.id)));return t.update({tags:h()(t.tags,o)})}})))),pe(this,"getFirstLane",(()=>0!==Object.keys(this.lanes).length&&this.lanes[Object.keys(this.lanes)[0]])),pe(this,"addLane",(e=>this.lanes[e.id]=new M.Z(e))),pe(this,"setLanes",(e=>(this.lanes={},Array.from(e||[]).map((e=>this.lanes[e.id]=new M.Z(e)))))),pe(this,"updateLane",(e=>{var t=null!=this.lanes[e.id]?this.lanes[e.id].update(e):void 0,r=[];for(var n in this._bars){var a=this._bars[n];a.lane&&a.lane.id===t.id&&(a.setLane(t),r.push(a))}return{lane:t,bars:r}})),pe(this,"deleteLane",(e=>{var t;null===(t=this.laneTitleSublanes)||void 0===t||t.deleteSublanesOnLane(e);var r=[];for(var n in this._bars){var a=this._bars[n];a.lane&&a.lane.id===e&&(a.removeLane(),a.setDeleted({deleted:!0}),r.push(a))}var o=this.lanes[e];return delete this.lanes[e],{lane:o,bars:r}})),pe(this,"setLegends",(e=>(this.legends={},Array.from(e||[]).map((e=>this.addLegend(e)))))),pe(this,"addLegend",(e=>this.legends[e.id]=new R.Z(e))),pe(this,"updateLegend",(e=>{var t=this.addLegend(e),r=[];for(var n in this._bars){var a=this._bars[n];a.legend&&a.legend.id===t.id&&(a.updateLegend({legend_id:t.id}),r.push(a))}return{legend:t,bars:r}})),pe(this,"deleteLegend",(e=>{var t=this.legends[e],r=[];for(var n in this._bars){var a=this._bars[n];a.legend&&a.legend.id===e&&(a.updateLegend(this.defaultLegend()),r.push(a))}return delete this.legends[e],{legend:t,bars:r}})),pe(this,"defaultDuration",(()=>this.defaultBarDuration)),pe(this,"defaultLegend",(()=>this._defaultLegend||(this._defaultLegend=new R.Z({id:this.roadmapId+"none"})))),pe(this,"updateBars",(e=>(this._bars=e,(()=>{var e=[];for(var t in this._bars){var r=this._bars[t];r.roadmap=this;var n=(r.legend?this.legends[r.legend.id]:null)||this.defaultLegend();r.updateLegend({legend_id:n.id}),r.lane&&r.setLane({lane_id:r.lane.id}),e.push(this.addBar(r))}return e})()))),pe(this,"clearBars",(e=>{this._bars=u()(this._bars,e)})),pe(this,"findActiveBar",(e=>{var t=void 0;if(e){var r=this.bars();t=r[e]||l()(r,{token:e})}return t})),pe(this,"findBar",(e=>{var t=void 0;return e&&(t=this._bars[e]||l()(this._bars,{token:e})),t})),pe(this,"barsWithRemotePendingChangesCount",(e=>{var t=i()(this.findActiveBarsWithSyncFieldForLinkType(e),((e,t)=>e+(t.hasRemoteChangesPendingToSync()?1:0)),0);return t})),pe(this,"findActiveBarsWithSyncFieldForLinkType",(e=>{for(var t=[],r=0,n=Object.entries(this.bars());r<n.length;r++){var a=ce(n[r],2)[1];a.isBarFieldSyncEnabledForType(e)&&t.push(a)}return t})),pe(this,"findBarContainer",(e=>{var t=this.findActiveBar(e);return void 0!==t&&t.isContained?t.parent():null})),pe(this,"findDeletedBar",(e=>{var t=void 0;if(e){var r=this.deletedBars();t=r[e]||l()(r,{token:e})}return t})),pe(this,"findDeletedContainedBars",(e=>{var t=[];return e&&(t=x()(this.deletedBars(),{containerId:e})),t})),pe(this,"findBarComments",(e=>{var t,r;return null!==(t=null===(r=this.findActiveBar(e))||void 0===r?void 0:r.comments)&&void 0!==t?t:[]})),pe(this,"findLane",(e=>{var t=void 0;return e&&(t=this.lanes[e]),t})),pe(this,"findMilestone",(e=>{var t=this.milestones[e];if(!t)for(var r in this.milestones){var n=this.milestones[r];if(n.token===e)return n}return t})),pe(this,"buildMilestone",(e=>this.addMilestone(new se(e,this)))),pe(this,"buildTempMilestone",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=":roadmapId-:unique".replace(":roadmapId",n.roadmapableId()).replace(":unique",(0,Z.Z)()),r=new se($.extend({},{id:t,token:t,title:"New Milestone",expanded:!0},e),n);return r})),pe(this,"buildDefaultMilestone",(e=>this.addMilestone(this.buildTempMilestone(e)))),pe(this,"findOrBuildBar",(e=>{var t=this.findActiveBar(e.id);return!t&&e instanceof G.Z?this.addBar(e):t||this.buildBar(e)})),pe(this,"updateMilestoneId",((e,t)=>(delete this.milestones[e.id],delete this.milestones[e.token],e.id=t,this.milestones[t]=e))),pe(this,"addMilestone",(e=>(this.milestones[e.id]=e,e))),pe(this,"deleteMilestone",(e=>{var t=this.findMilestone(e);return void 0!==t&&(delete this.milestones[t.id],delete this.milestones[t.token]),t})),pe(this,"clearMilestones",(()=>this.milestones={})),pe(this,"milestoneList",(()=>a()(this.milestones))),pe(this,"supportsLaneMilestones",(()=>!0)),pe(this,"supportsLaneTitles",(()=>!0)),pe(this,"canConsolidateLabels",(()=>!1)),pe(this,"isToggledFor",((e,t)=>{switch(e){case"lanes":case"roadmaps":return this.laneToggles.isToggledFor(t);case"bars":return this.barToggles.isToggledFor(t);default:return!1}})),pe(this,"isAnyOpen",((e,t)=>{switch(e){case"lanes":case"roadmaps":return this.laneToggles.isAnyOpen(t);case"bars":return this.barToggles.isAnyOpen(t);default:return!1}})),pe(this,"toggleAll",((e,t,r)=>{switch(e){case"lanes":case"roadmaps":return this.laneToggles.toggle(t,r);case"bars":return this.barToggles.toggle(t,r);default:return!1}})),pe(this,"hasEnabledIntegrations",(()=>this.thirdPartyIntegrationsSettings.has_enabled_integrations)),pe(this,"hasPercentCompleteEnabledIntegrations",(()=>this.thirdPartyIntegrationsSettings.has_percent_complete_enabled_integrations)),pe(this,"hasIntegrations",(()=>this.thirdPartyIntegrationsSettings.has_integrations)),pe(this,"thirdPartyIntegrationsToolbar",(()=>this.thirdPartyIntegrationsToolbarData)),pe(this,"updateThirdPartyIntegrationsToolbar",((e,t)=>{this.thirdPartyIntegrationsToolbarData=this.thirdPartyIntegrationsToolbarData.map((r=>(r.type===e&&(r.pending_bars_to_update_count=t),r)))})),pe(this,"findRoadmapIntegrationById",(e=>this.thirdPartyIntegrationsToolbar().find((t=>t.id===e)))),pe(this,"barFieldSettings",(()=>A.Z.build(this.barFieldSettingsData))),pe(this,"findSublane",(e=>this.timelineSublanes.findById(e)||this.laneTitleSublanes.findById(e))),pe(this,"sublanesForSelection",((e,t,r)=>{var n={},a=[],o=this.bars();for(var i in o){var s=o[i];s.id!==t&&e(s,r)&&void 0===n[s.sublaneId]&&(n[s.sublaneId]=!0,a.push(s.sublaneId))}return a.sort(((e,t)=>e-t)),a})),pe(this,"sublanesForLane",((e,t)=>this.sublanesForSelection(((e,t)=>e.notContained()&&e.inLane(t)),t,e))),pe(this,"sublanesForContainer",((e,t)=>this.sublanesForSelection(((e,t)=>e.inContainer(t)),t,e))),pe(this,"lastSublaneIdInLane",(e=>{var t=this.findLane(e);return null===t||void 0===t?void 0:t.lastSublaneId()})),pe(this,"buildSublanes",(e=>{var t=x()(e,(e=>"Roadmap"===e.sublaneable_type)),r=x()(e,(e=>"Label"===e.sublaneable_type));this.timelineSublanes=new ae(t,ae.TYPE.TIMELINE,this.roadmapableId()),this.laneTitleSublanes=new ae(r,ae.TYPE.LANE,void 0)})),pe(this,"barFieldSettingsForBar",(e=>{var t=this.barFieldSettings();return e.parked&&(t.datesVisible=!1),t})),pe(this,"filterSettings",(()=>new U.Z({roadmapableId:this.roadmapableId(),roadmapableName:this.title(),filterableType:"Roadmap",createFilterPath:"/roadmaps/".concat(this.roadmapableId(),"/filters"),roadmaps:[this]}))),pe(this,"orderedRoadmapList",(()=>[this])),pe(this,"updateAfterLoad",(()=>{this.isExportView&&this.setBarScores(),this.updateSublanesMilestones()})),pe(this,"routeForView",(e=>"/".concat(this.urlCode,"/views/").concat(e))),pe(this,"baseUrl",(()=>this.isSnapshot?"/versions/".concat(this.urlCode):this.isPublic()?"/pr/".concat(this.publicUrlCode):this.routeForView(this.currentViewId))),pe(this,"exportUrl",(()=>"".concat(this.baseUrl(),"/export"))),pe(this,"supportsLayoutSwitching",(()=>!this.isSnapshot&&!this.isPublic())),this.roadmapId=e.roadmap_id,this.name=e.name,this.description=e.description,this.benefitHeadings=e.benefit_headings,this.benefitOrder=e.benefit_order,this.costHeadings=e.cost_headings,this.costOrder=e.cost_order,this.isSnapshot=e.is_snapshot,this.versionDate=e.snapshot_created_at,this.defaultBarDuration=e.default_bar_duration,this.legendTitle=e.legend_title,this.legendDescription=e.legend_description,this.legendGroupId=e.legend_group_id,this.canEditLabel=e.can_edit_label,this.defaultLegendId=e.default_bar_color,this.permissions=e.permissions,this.efforts=e.efforts,this.effortType=e.effort_type,this.roadmapStyle=e.roadmap_style,this.preferences=e.preferences,this.thirdPartyIntegrationsSettings=e.third_party_integrations_settings,this.thirdPartyIntegrationsToolbarData=e.third_party_integrations_toolbar,this.barFieldSettingsData=e.bar_field_settings,this._bars={},this.milestones={},this.canComment=e.can_comment,this.pusherChannel=e.pusher_channel,this.urlCode=e.url_code,this.ownerMsTeamsEntitled=e.owner_ms_teams_entitled,this.activeFeatureFlags=e.active_feature_flags,this._timelineSettings=j.Z.build(e),this.customOrderSettings=e.custom_order_settings||{},this._startDate=e.timeline_start_date,this._endDate=e.timeline_end_date,this.primaryViewId=e.primary_view_id,this._primaryViewName=e.primary_view_name,this.currentViewId=e.view_id,this.currentViewSettings=e.view_settings||{},this.defaultLayout=e.view_style,this.hasViewFiltersApplied=e.has_view_filters_applied,this.barToggles=(0,B.W)({list:e.toggled_containers,defaultState:B.Y.CLOSED}),this.laneToggles=(0,B.W)({list:e.toggled_lanes,defaultState:B.Y.OPENED}),this.totalIntervals(),this.offsetFromOrigin(),this.unitsPerBlock(),this.setDefaultBarColor(e.default_bar_color),this.setLanes(e.lanes),this.setLegends(e.legends),this.publicUrlCode=t,this.isExportView=!1,this.startDateSetting=e.start_date,this.endDateSetting=e.end_date,this.ownerId=e.owner_id,this.customFieldDefinitions=e.custom_field_definitions,this.customLabelGroups=I().camelizeKeys(null!==(r=e.custom_label_groups)&&void 0!==r?r:[])}forEachLane(e){return w()(this.lanes,(t=>e(t)))}timelineHeaderMilestoneContainer(){return"#timeline-milestones-".concat(this.roadmapableId())}showTimelineMilestonePoles(){return!0}updateSublanesMilestones(){var e=this.timelineSublanes,t=this.laneTitleSublanes;null!=e&&e.updateMilestones(this.milestoneList()),null!=t&&t.updateMilestones(this.milestoneList())}}},50509:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={generate:function(e,t,r,n,a){var o=Object.values(r).reduce(((r,o)=>{var i=o.inView(t.id);if(i&&!o.hasSublane)r.unplacedBarPresenters.push(new a(o));else if(i&&o.hasSublane){var s=r.sublanesById.get(o.sublaneId)||new n(o.sublaneId,e);s.addBar(new a(o)),r.sublanesById.set(o.sublaneId,s)}return r}),{sublanesById:new Map,unplacedBarPresenters:[]}),i=o.sublanesById,s=o.unplacedBarPresenters,l=Array.from(i.values());l.sort(((e,t)=>e.id-t.id));var c=t.maxSublaneValue;return s.sort(((e,t)=>e.id-t.id)),s.forEach(((t,r)=>{var a=c+r+1,o=new n(a,e,!0);t.bar.sublaneId=a,o.addBar(t),l.push(o)})),l}}},50655:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:()=>a});const a=class{constructor(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n(this,"addBar",(e=>this._bars.push(e))),n(this,"bars",(()=>this._bars)),this.id=e,this.lane=t,this._bars=[],this.dropClass="base-drop",this.domId=this.lane.laneIdPrefix+"_"+this.id,this.laneId=this.lane.id,this.generated=r}}},13731:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(50655);class a extends n.Z{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.id=e,this.lane=t,this.dropClass="container-drop"}}const o=a;var i=r(50509),s=r(15626);class l{constructor(e){this.bar=e,this.bar.isContainer&&this.bar.renderChildren&&this.bar.lane?this.sortedSublanes=i.Z.generate(this,this.bar.lane,this.bar.bars(),o,l):this.sortedSublanes=[],this.dropClass="container-drop"}get id(){return this.bar.id}sublanes(){return this.sortedSublanes}hasSublanes(){return this.sublanes().length>0}topSublaneClass(){return this.hasSublanes()?"lane-divider":"lane-bar-holder"}render(){return s(this,{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0})}}const c=l},65720:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(6162),a=r.n(n),o=r(53632),i=r.n(o),s=r(35161),l=r.n(s),c=r(22205),u=r.n(c),d=r(47037),h=r.n(d),p=r(56264),f=r.n(p),m=r(51793),v=r(63105),g=r.n(v),y=r(84486),b=r.n(y),w=r(80008),C=r.n(w);function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _=class{constructor(){E(this,"unitsToDate",(e=>C()(this.origin).add(e,"days"))),E(this,"dateToUnits",(e=>e.diff(this.origin,"days"))),this.origin=C()("2000-01-01",m.Z.dateFormat)}isActualCalendar(){return!0}monthsInRange(e,t){if(!e||!t)return[];var r=parseInt(C()(t).diff(C()(e),"months",!0)),n=parseInt(C()(t).diff(C()(e),"days",!0));if(0===r)return[];var a=[],o=0,i=e;return b()(function(e,t,r){for(var n=[],a=e<t,o=r?a?t+1:t-1:t,i=e;a?i<o:i>o;a?i++:i--)n.push(i);return n}(0,r,!0),(function(t){var r;if(0!==(r=0===t?C()(e).daysInMonth()-C()(e).date()+1:C()(e).add(t,"months").daysInMonth())&&o+r<n)return o+=r,i=C()(e).add(o,"days"),a.push({dataDate:o,interval:i.month()})})),a}quartersInRange(e,t,r){null==r&&(r=1);var n=(r-1)%3,a=[0,1,2,3].map((e=>n+3*e));return g()(this.monthsInRange(e,t),(e=>Array.from(a).includes(e.interval)))}};function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const L=class{constructor(){x(this,"unitsToDate",(e=>{var t,r=parseInt(e/this.segmentSize),n=e%this.segmentSize;e<0&&(r-=1);var a=C()(this.origin).add(r,"months"),o=new Date(a.year(),a.month()+1,0).getDate(),i=this.segmentSize/o;return t=o<30?Math.round((n+1)/i)-1:Math.round(n/i),e>=0?a.add(t,"days"):a.add(o-Math.abs(t),"days"),a})),x(this,"dateToUnits",(e=>{var t=this._numberOfMonths(this.origin,e),r=new Date(e.year(),e.month()+1,0).getDate(),n=this.segmentSize/r,a=Math.round(e.date()*n)-1;return t*this.segmentSize+a})),x(this,"quartersIndexer",((e,t,r)=>{var n,a=(r-1)%3,o=[0,1,2,3].map((e=>a+3*e)),i=(()=>{for(var r=[],a=0,o=Array.from(this.monthsIndexer(e,t));a<o.length;a++)n=o[a],r.push({date:C()(e).date(1).add(n,"months"),index:n});return r})(),s=g()(i,(function(e){var t;return t=e.date.month(),Array.from(o).includes(t)}));return Array.from(s).map((e=>e.index))})),this.origin=C()("2000-01-01",m.Z.dateFormat),this.segmentSize=30}isActualCalendar(){return!1}_numberOfMonths(e,t){var r=e.get("year"),n=t.get("year"),a=e.get("month"),o=t.get("month");return 0===a&&(o++,a++),12*(n-r)+(o-a)}monthsInRange(e,t){return Array.from(this.monthsIndexer(e,t)).map((e=>({dataDate:30*e})))}monthsIndexer(e,t){return e&&t?function(e,t,r){for(var n=[],a=e<t,o=r?a?t+1:t-1:t,i=e;a?i<o:i>o;a?i++:i--)n.push(i);return n}(1,Math.ceil(C()(t).diff(C()(e),"months",!0)),!0):[]}quartersInRange(e,t,r){return null==r&&(r=1),Array.from(this.quartersIndexer(e,t,r)).map((e=>({dataDate:30*e})))}};function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O{static build(e){var t={calendar:new L,offsetFromOrigin:e.offset_from_origin,defaultIntervalsInWindow:e.intervals_in_window,totalIntervals:e.total_intervals,intervalOffset:e.sprint_offset,unitsPerInterval:30,startUnitsAttribute:"uniformStartUnits",endUnitsAttribute:"uniformEndUnits",startDate:e.timeline_start_date,endDate:e.timeline_end_date,timelineType:e.timeline_type,preferences:e.preferences};switch(t.timelineType){case"(None)":case"Months":case"Quarters":case"Months and Quarters":return new O(t);case"Weeks":return t.calendar=new _,t.startUnitsAttribute="actualStartUnits",t.endUnitsAttribute="actualEndUnits",t.unitsPerInterval=7,new O(t);case"Years":return t.unitsPerInterval=e.units_per_block,new O(t);case"Sprints":return t.calendar=new _,t.startUnitsAttribute="actualStartUnits",t.endUnitsAttribute="actualEndUnits",t.unitsPerInterval=e.units_per_block,new O(t);case"Legends":return t.labelGroup="pp_legends",t.calendar=new _,t.startUnitsAttribute="actualStartUnits",t.endUnitsAttribute="actualEndUnits",t.unitsPerInterval=e.units_per_block,new O(t);case"Tags":return t.labelGroup="pp_tags",t.calendar=new _,t.startUnitsAttribute="actualStartUnits",t.endUnitsAttribute="actualEndUnits",t.unitsPerInterval=e.units_per_block,new O(t);default:throw new Error("Unknown Interval")}}constructor(e){P(this,"totalUnitsInWindow",(()=>this.intervalsInWindow*this.unitsPerInterval)),P(this,"setIntervalsInWindow",(e=>this.intervalsInWindow=e)),P(this,"pixelsToDisplayUnits",((e,t)=>Math.round(e/t))),P(this,"displayUnitsToPixels",((e,t)=>e*t)),P(this,"pixelsToUnits",((e,t)=>this.offsetFromOrigin+this.pixelsToDisplayUnits(e,t))),P(this,"pixelsToDate",((e,t)=>this.unitsToDate(this.pixelsToUnits(e,t)))),P(this,"pixelsToEOD",((e,t)=>this.pixelsToMoment(e,t).subtract(1,"days").format(m.Z.dateFormat))),P(this,"pixelsToMoment",((e,t)=>this.unitsToMoment(this.pixelsToUnits(e,t)))),P(this,"unitsToMoment",(e=>this.calendar.unitsToDate(e))),P(this,"startUnits",(e=>e[this.startUnitsAttribute])),P(this,"endUnits",(e=>e[this.endUnitsAttribute])),P(this,"startUnitsForDisplay",(e=>e[this.startUnitsAttribute]-this.offsetFromOrigin)),P(this,"endUnitsForDisplay",(e=>e[this.endUnitsAttribute]-this.offsetFromOrigin)),P(this,"dateToUnitsForDisplay",(e=>this.calendar.dateToUnits(e)-this.offsetFromOrigin)),P(this,"dateToUnitsForBarDateChange",((e,t)=>{var r={};return e&&(r[this.startUnitsAttribute]=this.dateToUnits(e)),t&&(r[this.endUnitsAttribute]=this.dateToUnits(t)),f().decamelizeKeys(r)})),P(this,"dateToUnits",(e=>{var t;return t=h()(e)?m.Z.fromString(e).date:m.Z.fromDate(e).date,this.calendar.dateToUnits(t)})),P(this,"widthInUnits",(e=>e[this.endUnitsAttribute]-e[this.startUnitsAttribute])),P(this,"dimensionPixelsToUnits",((e,t,r)=>this.dateAttributes(this.pixelsToUnits(e,r),this.pixelsToDisplayUnits(t,r)))),P(this,"unitsToDate",(e=>this.unitsToMoment(e).format(m.Z.dateFormat))),P(this,"dateAttributes",((e,t)=>{var r={};return r[this.startUnitsAttribute]=e,r.startsOn=this.calendar.unitsToDate(e).format(m.Z.dateFormat),r[this.endUnitsAttribute]=e+t,r.endsOn=this.calendar.unitsToDate(e+t).format(m.Z.dateFormat),r})),P(this,"startOffsetInUnits",((e,t)=>{if(e&&t)return t[this.startUnitsAttribute]-e[this.startUnitsAttribute]})),P(this,"shiftedUnits",((e,t,r)=>{var n=r[this.startUnitsAttribute]-t[this.startUnitsAttribute];return u()({},this.startDateAndUnits(e[this.startUnitsAttribute]+n),this.endDateAndUnits(e[this.endUnitsAttribute]+n))})),P(this,"shiftBarByDelta",((e,t)=>u()({},this.startDateAndUnits(e[this.startUnitsAttribute]+t),this.endDateAndUnits(e[this.endUnitsAttribute]+t)))),P(this,"extendBarByDelta",((e,t)=>u()({},this.endDateAndUnits(e[this.endUnitsAttribute]+t)))),P(this,"startDateAndUnits",(e=>{var t={};return t[this.startUnitsAttribute]=e,t.startsOn=this.calendar.unitsToDate(e).format(m.Z.dateFormat),t})),P(this,"endDateAndUnits",(e=>{var t={};return t[this.endUnitsAttribute]=e,t.endsOn=this.calendar.unitsToDate(e).format(m.Z.dateFormat),t})),P(this,"minStartUnits",(e=>{var t=this,r=l()(e,(e=>t.startUnits(e)));return i()(r)})),P(this,"maxEndUnits",(e=>{var t=this,r=l()(e,(e=>t.endUnits(e)));return a()(r)})),this.calendar=e.calendar,this.offsetFromOrigin=e.offsetFromOrigin,this.defaultIntervalsInWindow=e.defaultIntervalsInWindow,this.totalIntervals=e.totalIntervals,this.intervalOffset=e.intervalOffset,this.unitsPerInterval=e.unitsPerInterval,this.startUnitsAttribute=e.startUnitsAttribute,this.endUnitsAttribute=e.endUnitsAttribute,this.startDate=e.startDate,this.endDate=e.endDate,this.timelineType=e.timelineType,this.preferences=e.preferences,this.totalUnits=this.totalIntervals*this.unitsPerInterval,this.timelineStartUnits=this.offsetFromOrigin,this.timelineEndUnits=this.timelineStartUnits+this.totalUnits,this.intervalsInWindow=this.defaultIntervalsInWindow}}const S=O},40902:(e,t,r)=>{"use strict";r.d(t,{W:()=>s,Y:()=>i});class n{constructor(e){var t=e.list,r=e.defaultState;Array.isArray(t)?this.list=t:this.list=void 0===t?[]:[t],this.defaultState=r}toggle(e,t){var r=(e||[]).map((e=>parseInt(e)));this.isToggledFor(t)?this.list=[...new Set([...this.list,...r])]:this.list=this.list.filter((e=>!r.includes(e)))}isToggledFor(e){return this.defaultState!==e}}class a extends n{constructor(e){super({list:e,defaultState:i.CLOSED})}isAnyOpen(e){return e.some((e=>this.list.includes(parseInt(e))))}}class o extends n{constructor(e){super({list:e,defaultState:i.OPENED})}isAnyOpen(e){return!e.some((e=>this.list.includes(parseInt(e))))}}var i={CLOSED:"closed",OPENED:"opened"};function s(e){var t=e.list;switch(e.defaultState){case i.OPENED:return new o(t);case i.CLOSED:return new a(t);default:throw new Error("Unknown toggle type")}}},43525:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n,a,o,i=r(67294),s=r.n(i),l=r(10883),c=r(72027),u=r(45771),d=r(91668),h=r(3759),p=r(55058),f=r(39012),m=r(48414),v=r(65943),g=r(7440),y=r(71460),b=r(27521),w=r(45697),C=r.n(w),E=r(56264),_=r.n(E);function x(){x=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function L(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){L(o,n,a,i,s,"next",e)}function s(e){L(o,n,a,i,s,"throw",e)}i(void 0)}))}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}class T extends s().Component{constructor(){super(...arguments),this.panes=[],this.panes.push({content:p.ZP,icon:f.c.filter,props:{viewId:window.currentRoadmapable.primaryViewId,children:s().createElement("p",{id:"filters-helper-text"},"Save filters to this view for sharing with others.")},title:"View Filter",inactiveClasses:e=>({"bold-blue":(0,p.o2)(e)})})}render(){return s().createElement(b.aH,null,s().createElement(g.HookProvider,{useHook:()=>{return e=this.props.viewId,t=this.props.useFiltersFromViewId,r=this.props.mergeWithViewFilters,n=O(s().useState(),2),a=n[0],o=n[1],i=(0,y.Hx)(e,{enabled:!a,notifyOnChangeProps:["data","isError","isStale"]}),u=(0,y.Pl)({id:t},{enabled:!a,notifyOnChangeProps:["data","isError","isStale"]}),d=function(){var e=(0,y.JH)();return function(){var t=P(x().mark((function t(r){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,m.logPageAction)("SettingsModal - saved changes",{viewId:0,isPrimary:!1}),"Tags"===r.timeline_style&&window.dataLayer.push({event:"List_bytag"}),t.next=4,e.mutateAsync(r,{onSuccess:R});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(),p=!i.data||!u.data,f=i.isFetching||u.isFetching,s().useEffect((()=>{if(!p&&!f){var e=function(e,t,r){if(e&&t){var n=_().decamelizeKeys(e),a=_().decamelizeKeys(t),o=(0,l.P)(n,c.Z.defaultFormData,D);o=(0,l.Q)(o,I);var i=r?h.Z.mergeWithViewFilters(a):a;return o.tag_view_filters=i.tag_view_filters,o.lane_view_filters=i.lane_view_filters,o.legend_view_filters=i.legend_view_filters,o.show_untagged=i.show_untagged,o.show_untagged_milestones=i.show_untagged_milestones,o.show_no_legend=i.show_no_legend,o.custom_label_view_filters=i.custom_label_view_filters,o}}(i.data,u.data,r);o(e)}}),[p,f,i.data,u.data,r]),{isLoading:!a,isError:i.isError||u.isError,onSubmit:d,formData:a};var e,t,r,n,a,o,i,u,d,p,f}},(e=>s().createElement(d.Z,k({panes:this.panes,submitText:"Create",title:"New View"},e,this.props)))))}}n=T,a="propTypes",o={viewId:C().number,mergeWithViewFilters:C().bool,useFiltersFromViewId:C().number},a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o;var D={start_date:"start_date",end_date:"end_date",bar_style:"bar_style",timeline_style:"timeline_style",fiscal_year_first_month:"fiscal_year_first_month",display_grid:"display_grid",sprint_interval_duration:"sprint_interval_duration",sprint_interval_offset:"sprint_interval_offset",intervals_to_display:"intervals_to_display"},I={effort_type:{"Sizes (S-XL)":"size","Numeric (0-10)":"numeric"}};function R(e){return A.apply(this,arguments)}function A(){return(A=P(x().mark((function e(t){var r,n,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.dataLayer.push({event:"new_child_view_created"}),r=window.current_user.id,n=t.data.roadmapable_view.id,a=t.data.roadmapable_view.roadmapable_id,h.Z.clearSavedPersonalFilters(r,a,n),e.next=7,(0,v.iN)(window.currentRoadmapable.routeForView(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,u.Z)(d.Z.mountPoint,T);const j=T;function M(){M=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function N(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){N(o,n,a,i,s,"next",e)}function s(e){N(o,n,a,i,s,"throw",e)}i(void 0)}))}}function F(e){return V.apply(this,arguments)}function V(){return(V=B(M().mark((function e(t){var r,n,a,o,i,s,l;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.viewId,n=t.activeKey,a=void 0===n?null:n,o=t.useCurrentViewsActiveFilters,i=void 0!==o&&o,(0,m.logPageAction)("SettingsModal - open",{viewId:0,isPrimary:!1}),s=i?window.currentRoadmapable.currentViewId:r,l={viewId:r,useFiltersFromViewId:s,mergeWithViewFilters:i},a&&(l.activeKey=a),j.show(l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},55705:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>U,dd:()=>V,ol:()=>Z});var n=r(18446),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(45771),u=r(91088),d=r(56264),h=r.n(d),p=r(49546),f=r(55058),m=r(39012),v=r(71460);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=e.formData,r=e.viewId,n=t.fieldFor("included_roadmaps").value,a=function(e,t,r){var n=g(i().useState(t),2),a=n[0],o=n[1],s=(0,v.Pl)({id:e,roadmaps:t.split(",")},{enabled:a!==t,select:e=>({showNoLegend:e.showNoLegend,showUntagged:e.showUntagged,showUntaggedMilestones:e.showUntaggedMilestones,tagViewFilters:e.tagViewFilters,laneViewFilters:e.laneViewFilters,legendViewFilters:e.legendViewFilters})});return i().useEffect((()=>{s.data&&(r.update(h().decamelizeKeys(s.data)),o(t))}),[s.data]),{status:a===t?"loaded":"loading"}}(r,n,t),o=a.status;switch(o){case"loaded":return i().createElement(w,{roadmaps:n,formData:t});case"loading":return i().createElement(C,null);case"error":return i().createElement(E,null);default:throw"Invalid view filter loading status ".concat(o)}}function w(e){var t=e.roadmaps,r=e.formData;return t?i().createElement(f.ZP,{formData:r},i().createElement("p",{id:"filters-helper-text"},"Save filters to this portfolio for sharing with others.")):i().createElement("p",{id:"empty-roadmaps-filter-panel-text"},"There are no roadmaps on this Portfolio View. Go to the General tab and add roadmaps to view filter options.")}function C(){return i().createElement(p.Z,{bsStyle:"info"},i().createElement(m.Z,{classes:m.c.spin,name:m.c.spinner}),i().createElement("span",null," Loading view filters..."))}function E(){return i().createElement(p.Z,{bsStyle:"danger"},i().createElement("span",null,"Failed loading filters. Please close the settings and try again or contact support if the problem persists."))}b.defaultFormData=f.ZP.defaultFormData,b.propTypes={formData:l().object.isRequired,viewId:l().number.isRequired},w.propTypes={roadmaps:l().string.isRequired,formData:l().object.isRequired};var _=r(48414),x=r(7440),L=r(27521),P=r(10883);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}function S(){S=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j extends i().Component{static get defaultFormData(){var e={};return u.Z.defaultPanes.forEach((t=>{e=R(R({},e),t.defaultFormData)})),e=R(R({},e),b.defaultFormData)}constructor(){super(...arguments),this.panes=[],this.panes.push({content:b,icon:m.c.filter,props:{viewId:this.props.viewId},title:"View Filter",inactiveClasses:e=>({"bold-blue":(0,f.o2)(e)})}),this.handleSubmit=this.handleSubmit.bind(this)}haveViewFiltersChanged(e,t){return Object.keys(b.defaultFormData).some((r=>!a()(t[r],e[r])))}logPortfolioChange(e,t,r){e.toLowerCase()!==t.toLowerCase()&&(0,_.logPageAction)(r||"PortfolioView - Changed",{from:e,to:t})}handleSubmit(e,t,r,n){var a,o=this;return(a=S().mark((function a(){var i,s,l,c,u;return S().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i=[r.mutateAsync({portfolioId:o.props.masterPlanId,viewId:o.props.viewId,data:e})],o.haveViewFiltersChanged(e,t)&&i.push(n.mutateAsync({viewId:o.props.viewId,data:e})),o.logPortfolioChange(t.view_style,e.view_style,"PortfolioView - Changed Layout"),o.logPortfolioChange(t.timeline_style,e.timeline_style,"PortfolioView - Changed Style"),window.showAJAXLoaderModal(),a.next=8,Promise.allSettled(i);case 8:if(s=a.sent,l=k(s,2),c=l[0],u=l[1],window.hideAJAXLoaderModal(),"rejected"!==c.status){a.next=15;break}throw c.reason;case 15:if("rejected"!==(null===u||void 0===u?void 0:u.status)){a.next=17;break}throw u.reason;case 17:o.onSuccess(c,!0);case 18:case"end":return a.stop()}}),a)})),function(){var e=this,t=arguments;return new Promise((function(r,n){var o=a.apply(e,t);function i(e){D(o,r,n,i,s,"next",e)}function s(e){D(o,r,n,i,s,"throw",e)}i(void 0)}))})()}onSuccess(){this.props.onExited(),this.props.onSuccess(...arguments)}render(){var e=O({},this.props);return delete e.onSuccess,delete e.viewId,i().createElement(L.aH,null,i().createElement(x.HookProvider,{useHook:()=>{return e=this.props.viewId,r=k(i().useState(),2),n=r[0],a=r[1],o=(0,v.v9)(e,{enabled:!n,notifyOnChangeProps:["data","isError","isStale"]}),s=(0,v.Pl)({id:e},{enabled:!n,notifyOnChangeProps:["data","isError","isStale"]}),l=!o.data||!s.data,c=o.isFetching||s.isFetching,i().useEffect((()=>{if(!l&&!c){var e=function(e,t){if(e&&t){var r=h().decamelizeKeys(e),n=h().decamelizeKeys(t),a=(0,P.P)(r,j.defaultFormData,V);return(a=(0,P.Q)(a,Z)).tag_view_filters=n.tag_view_filters,a.lane_view_filters=n.lane_view_filters,a.legend_view_filters=n.legend_view_filters,a.show_untagged=n.show_untagged,a.show_untagged_milestones=n.show_untagged_milestones,a.show_no_legend=n.show_no_legend,a.custom_label_view_filters=n.custom_label_view_filters,a}}(o.data,s.data);a(e)}}),[l,c,o.data,s.data]),{isLoading:!n,isError:o.isError||s.isError,formData:n,availableRoadmaps:null===(t=o.data)||void 0===t?void 0:t.availableRoadmaps,updatePortfolioView:(0,v.xb)(),bulkUpdateViewFilters:(0,v.ZJ)()};var e,t,r,n,a,o,s,l,c}},(t=>{var r=t.formData;return i().createElement(u.Z,O({panes:this.panes,onSubmit:e=>this.handleSubmit(e,r,t.updatePortfolioView,t.bulkUpdateViewFilters)},e,t))})))}}A(j,"propTypes",{onExited:l().func.isRequired,onSuccess:l().func.isRequired,masterPlanId:l().number.isRequired,viewId:l().number.isRequired,activeKey:l().string}),(0,c.Z)(u.Z.mountPoint,j);const M=j;function N(){N=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function B(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function F(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){B(o,n,a,i,s,"next",e)}function s(e){B(o,n,a,i,s,"throw",e)}i(void 0)}))}}var V={name:"name",description:"description",start_date:"start_date",end_date:"end_date",bar_style:"style",legend_style:"color_style",lane_style:"lane_style",timeline_style:"renderer.style",fiscal_year_first_month:"renderer.fiscal_year_first_month",display_grid:"renderer.grid_style",sprint_interval_duration:"renderer.interval_duration",sprint_interval_offset:"renderer.interval_offset",intervals_to_display:"renderer.intervals_to_display"},Z={display_grid:{"(None)":"none",Months:"months",Quarters:"quarters",Weeks:"weeks",Sprints:"sprints"}};function U(e,t,r){return G.apply(this,arguments)}function G(){return G=F(N().mark((function e(t,r,n){var a,o=arguments;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.length>3&&void 0!==o[3]?o[3]:null,H(t,r),M.show({masterPlanId:t,viewId:r,onSuccess:n||(()=>null),activeKey:a});case 3:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function H(e,t){var r=window.currentRoadmapable?(0,_.commonRoadmapableContext)():{isPortfolio:!0,isPrimary:!0,roadmapableId:e,currentViewId:t};(0,_.logPageAction)("SettingsModal - open",r)}},32646:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>oe,is:()=>ee,ol:()=>te});var n=r(72027),a=r(67294),o=r.n(a),i=r(45697),s=r.n(i),l=r(45771),c=r(17678),u=r(8212),d=r(7629),h=r(3785),p=r(31210);class f extends d.Z{renderRowView(){return o().createElement(h.Z,{isDeleteEnabled:this.props.isDeleteEnabled,isEditEnabled:this.props.isEditEnabled,selected:this.props.selected,tag:this.props.tag,onChecked:this.props.onChecked,onDelete:this.onDeleteSelected.bind(this),onEdit:this.displayEditMode.bind(this)})}renderRowEdit(){return o().createElement(p.Z,{tag:this.props.tag,onCancel:this.displayViewMode.bind(this),onSave:this.onSave.bind(this)})}}const m=f;var v=r(65763),g=r(99411);class y extends v.Z{renderRow(e){return o().createElement(m,{key:g.Z.elementKey(e.tag_type,e.id),selected:this.props.selectedTags[e.name],tag:e,onChecked:this.props.onRowChecked,onDelete:this.props.onDelete,onEdit:this.props.onEdit})}}const b=y;class w extends u.Z{renderTagList(e){return o().createElement(b,{selectedTags:this.state.selectedTags,tags:e,onDelete:this.handleSingleDelete.bind(this),onEdit:this.handleEdit.bind(this),onRowChecked:this.tagChecked.bind(this)})}}w.defaultProps={tagManagerEmptyMessage:"Manage the Tags you use on this roadmap. Add Tags to a Bar or Container.",tagManagerNoResultsMessage:"There are no matching Tags on your roadmap.",isAddNewEnabled:!1,isAddNewVisible:!1,tagsChanged:()=>{}};const C=w;var E=r(74527);const _=class{constructor(e){this.roadmapId=e}index(){return E.default.roadmapTagActions.index(this.roadmapId)}bulkUpdate(e,t){return E.default.roadmapTagActions.bulkUpdate(this.roadmapId,e,t)}bulkDelete(e){return E.default.roadmapTagActions.bulkDelete(this.roadmapId,e)}};var x,L,P,O=r(55888),S=r(7440);class k extends o().Component{constructor(){super(...arguments),this.tagManagerActions=new _(this.props.roadmapId),this.state={tags:[]}}render(){return o().createElement(S.HookProvider,{useHook:()=>{return e=this.props.roadmapId,t=(0,O.j6)(e),r=(0,O.q7)(e),n=(0,O.Jx)(e),{bulkUpdate:r,bulkDelete:n,tags:t};var e,t,r,n}},(e=>{var t=e.bulkUpdate,r=e.bulkDelete,n=e.tags;return o().createElement(C,{isDeleteEnabled:!0,isDeleteVisible:!0,isMergeEnabled:!0,isMergeVisible:!0,isSearchVisible:!0,tagManagerActions:this.tagManagerActions,bulkUpdate:t,bulkDelete:r,tags:n.data||[]})}))}}x=k,L="propTypes",P={roadmapId:s().number.isRequired},L in x?Object.defineProperty(x,L,{value:P,enumerable:!0,configurable:!0,writable:!0}):x[L]=P;const T=k;var D=r(39012),I=r(27521),R=r(71460),A=r(18641),j=r(56264),M=r.n(j),N=r(10883);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(this,arguments)}function Z(){Z=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function U(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class W extends o().Component{static get defaultFormData(){var e={};return c.Z.defaultPanes.forEach((t=>{e=H(H({},e),t.defaultFormData)})),e}constructor(){super(...arguments),this.panes=[],this.panes.push({acceptsFormData:!1,content:T,icon:D.c.tags,props:{roadmapId:this.props.roadmapId},title:"Tags"}),this.handleSubmit=this.handleSubmit.bind(this)}hasDefaultLayoutChanged(e,t){var r=e.view_style&&t.view_style,n=e.view_style!==t.view_style;return r&&n}handleSubmit(e,t,r){var n,a=this;return(n=Z().mark((function n(){var o,i,s,l;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.mutateAsync({viewId:a.props.viewId,data:e});case 2:if(o=n.sent,i=a.hasDefaultLayoutChanged(e,t),s=!!window.currentRoadmapable,!i||!s){n.next=8;break}return n.next=8,A.$.save(e.view_style);case 8:l=i,a.onSuccess(o,l);case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(e){U(o,r,a,i,s,"next",e)}function s(e){U(o,r,a,i,s,"throw",e)}i(void 0)}))})()}onSuccess(){this.props.onExited(),this.props.onSuccess(...arguments)}render(){var e=V({},this.props);return delete e.onSuccess,delete e.viewId,o().createElement(I.aH,null,o().createElement(S.HookProvider,{useHook:()=>function(e){var t=B(o().useState(),2),r=t[0],n=t[1],a=(0,R.v9)(e,{enabled:!r,notifyOnChangeProps:["data","isError","isStale"]});o().useEffect((()=>{a.data&&!a.isFetching&&n(function(e){if(!e)return;var t=M().decamelizeKeys(e),r=(0,N.P)(t,W.defaultFormData,ee);return(0,N.Q)(r,te)}(a.data))}),[a.data,a.isFetching]);var i=o().useMemo((()=>a.data&&!a.isFetching?M().decamelizeKeys(a.data):{}),[a.data,a.isFetching]);return{isLoading:!r,isError:a.isError,formData:r,activeMsTeamsWebhook:i.ms_teams_webhook,integrations:i.integrations,ownerMsTeamsEntitled:i.owner_ms_teams_entitled,ownerId:i.owner_id,legendGroupOptions:i.legend_group_options,initialLegendId:i.secondary_label_group_id,updateView:(0,R.X)()}}(this.props.viewId)},(t=>{var r=t.formData;return o().createElement(c.Z,V({panes:this.panes,onSubmit:e=>this.handleSubmit(e,r,t.updateView)},e,t))})))}}q(W,"propTypes",{onExited:s().func.isRequired,onSuccess:s().func.isRequired,viewId:s().number.isRequired,roadmapId:s().number.isRequired}),(0,l.Z)(c.Z.mountPoint,W);const z=W;var $=r(48414);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(){J=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Q(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function X(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Q(o,n,a,i,s,"next",e)}function s(e){Q(o,n,a,i,s,"throw",e)}i(void 0)}))}}var ee={name:"name",description:"description",effort_type:"effort_type",start_date:"start_date",end_date:"end_date",bar_style:"style",secondary_label_group_id:"secondary_label_group_id",timeline_style:"renderer.style",fiscal_year_first_month:"renderer.fiscal_year_first_month",display_grid:"renderer.grid_style",sprint_interval_duration:"renderer.interval_duration",sprint_interval_offset:"renderer.interval_offset",intervals_to_display:"renderer.intervals_to_display"},te={effort_type:{"Sizes (S-XL)":"size","Numeric (0-10)":"numeric"},display_grid:{"(None)":"none",Months:"months",Quarters:"quarters",Weeks:"weeks",Sprints:"sprints"}},re=function(){var e=X(J().mark((function e(t,r,a){var o,i=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i.length>3&&void 0!==i[3]?i[3]:null,(0,$.logPageAction)("SettingsModal - open"),n.Z.show({viewId:r,onSuccess:a||(()=>null),activeKey:o});case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ne=function(){var e=X(J().mark((function e(t,r,n){var a,o=arguments;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=o.length>3&&void 0!==o[3]?o[3]:null,ae(t,r),z.show({roadmapId:t,viewId:r,onSuccess:n||(()=>null),activeKey:a});case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ae=(e,t)=>{var r=window.currentRoadmapable?(0,$.commonRoadmapableContext)():{isPortfolio:!1,isPrimary:!0,roadmapableId:e,currentViewId:t};(0,$.logPageAction)("SettingsModal - open",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))};const oe={childViewSettings:re,roadmapSettings:ne}},22314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AjaxLoader:()=>i,AjaxLoaderComponent:()=>s});var n=r(67294),a=r.n(n),o=(r(32238),r(49714),"#ajax-loader-modal");class i{constructor(){this.ajaxModalCount=0}get modalCount(){return this.ajaxModalCount}decrementModalCount(){0!==this.ajaxModalCount&&(this.ajaxModalCount-=1)}incrementModalCount(){this.ajaxModalCount+=1}show(){this.incrementModalCount(),this.ajaxModalCount>0&&($(o).modal("show"),$(o).addClass("show-loader"))}hide(){this.decrementModalCount(),0===this.ajaxModalCount&&($(o).removeClass("show-loader"),$(o).modal("hide"))}}function s(){return a().useEffect((()=>(window.showAJAXLoaderModal(),()=>{window.hideAJAXLoaderModal()})),[]),null}window.AjaxLoader=new i,window.hideAJAXLoaderModal=function(){window.AjaxLoader.hide()},window.showAJAXLoaderModal=function(){window.AjaxLoader.show()}},93314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(2525),a=r.n(n),o=r(66073),i=r.n(o),s=r(27361),l=r.n(s),c=r(10883);const u=class{constructor(e,t){this.attributeMap=e||{},this.valueMap=t||{}}mapErrors(e){var t=l()(e,"response.data.errors",e.errors),r={};t&&i()(t,(e=>{var t=e.attribute,n=e.message;r[t]=r[t]||[],r[t].push(n)}));var n={base:[]};return a()(r,((e,t)=>{var r=this.attributeMap[t];r?n[r]=e:n.base=n.base.concat(e.map((e=>"".concat(t," ").concat(e))))})),e.isAxiosError&&(e.error=e.response.statusText,e.type=e.response.status),e.error&&e.type&&n.base.push("An error occurred. Please try again."),n}mapValues(e){return(0,c.Q)(e,this.valueMap)}getPayload(e){return this.buildPayload(this.mapValues(e))}buildPayload(e){return e}}},74527:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{addColorToPalette:()=>addColorToPalette,decrementCountInterceptor:()=>decrementCountInterceptor,default:()=>__WEBPACK_DEFAULT_EXPORT__,deleteColorInPalette:()=>deleteColorInPalette,editColorInPalette:()=>editColorInPalette,getColorPaletteUrl:()=>getColorPaletteUrl,getRoadmapPalettes:()=>getRoadmapPalettes,incrementCountInterceptor:()=>incrementCountInterceptor,labelGroupTransformations:()=>labelGroupTransformations,managerRequests:()=>managerRequests,roadmapableViewActions:()=>roadmapableViewActions,roadmapableViews:()=>roadmapableViews,userRequests:()=>userRequests});var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9669),axios__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__),app_javascript_async_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(65835),app_javascript_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(47452),humps__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(56264),humps__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(humps__WEBPACK_IMPORTED_MODULE_2__),query_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17563),_excluded=["interval","progressCallback","startPollingCallback"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function _objectWithoutProperties(e,t){if(null==e)return{};var r,n,a=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function asyncGeneratorStep(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){asyncGeneratorStep(o,n,a,i,s,"next",e)}function s(e){asyncGeneratorStep(o,n,a,i,s,"throw",e)}i(void 0)}))}}var csrfTokenElement=document.querySelector("meta[name=csrf-token]"),csrfToken=csrfTokenElement?csrfTokenElement.getAttribute("content"):void 0;axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.headers.common["X-CSRF-Token"]=csrfToken,axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.headers.common.Accept="application/json",axios__WEBPACK_IMPORTED_MODULE_0___default().defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var axiosScriptHeaders={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01"},axiosScriptHandler=response=>{if(response.isAxiosError)throw eval(response.response.data),response;return response};window.currentRequestCount=0,window.currentRequests=[];var requestId=0,incrementCountInterceptor=axios__WEBPACK_IMPORTED_MODULE_0___default().interceptors.request.use((e=>(window.currentRequestCount+=1,e.requestId=requestId+=1,window.currentRequests.push({requestId:requestId,config:e}),e))),decrementCountInterceptor=axios__WEBPACK_IMPORTED_MODULE_0___default().interceptors.response.use((e=>(window.currentRequestCount-=1,window.currentRequests=window.currentRequests.filter((t=>e.config.requestId!==t.config.requestId)),e)),(e=>(window.currentRequestCount-=1,e.config&&(window.currentRequests=window.currentRequests.filter((t=>e.config.requestId!==t.config.requestId))),Promise.reject(e)))),backgroundJob={run:(_run=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i,s,l;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.interval,a=t.progressCallback,o=t.startPollingCallback,i=_objectWithoutProperties(t,_excluded),e.next=3,axios__WEBPACK_IMPORTED_MODULE_0___default()(i);case 3:if(s=e.sent,void 0!==(l=null===(r=s.data)||void 0===r?void 0:r.status_url)){e.next=7;break}return e.abrupt("return",s.data);case 7:return null===o||void 0===o||o(),e.next=10,backgroundJob.poll({statusUrl:l,interval:n,progressCallback:a});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)}))),function(e){return _run.apply(this,arguments)}),poll:(_poll=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.statusUrl,n=t.interval,a=void 0===n?600:n,o=t.progressCallback;case 1:return e.next=3,axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:r}).catch((e=>{throw e.statusUrl=r,e}));case 3:if(200!==(i=e.sent).status){e.next=6;break}return e.abrupt("return",i.data);case 6:return null===o||void 0===o||o(i.data),e.next=9,(0,app_javascript_async_utils__WEBPACK_IMPORTED_MODULE_4__.g)(a);case 9:e.next=1;break;case 11:case"end":return e.stop()}}),e)}))),function(e){return _poll.apply(this,arguments)})},_poll,_run;function getPaginatedResources(e){return _getPaginatedResources.apply(this,arguments)}function _getPaginatedResources(){return(_getPaginatedResources=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i,s,l,c,u,d,h,p,f,m;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roadmapId,n=t.query,a=t.projectId,o=t.excludeDupes,i=t.queryUrl,s=t.paginationOffset,l=t.backgroundJobCompletionCallback,c=t.fetcherFn,u=t.page,d=t.resourceCollector,e.next=3,c("/roadmaps/".concat(r),{roadmapId:r,query:n,projectId:a,page:u,excludeDupes:o,url:i});case 3:if(h=e.sent,p=humps__WEBPACK_IMPORTED_MODULE_2___default().camelizeKeys(null===h||void 0===h?void 0:h.issues),!((f=h.total||h.stats.total)<s)){e.next=8;break}return e.abrupt("return",{issues:p});case 8:if(m=d.concat(p),null===l||void 0===l||l({progress:m.length,total:f}),m.length!==f){e.next=12;break}return e.abrupt("return",{issues:m});case 12:return e.next=14,getPaginatedResources({roadmapId:r,query:n,projectId:a,excludeDupes:o,queryUrl:i,paginationOffset:s,backgroundJobCompletionCallback:l,fetcherFn:c,page:u+1,resourceCollector:m});case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var integrationPaginatedJob={run:(_run2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i,s,l,c,u;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roadmapId,n=t.query,a=t.projectId,o=t.excludeDupes,i=t.queryUrl,s=t.paginationOffset,l=t.backgroundJobCompletionCallback,c=t.fetcherFn,u=[],e.next=5,getPaginatedResources({roadmapId:r,query:n,projectId:a,excludeDupes:o,queryUrl:i,paginationOffset:s,backgroundJobCompletionCallback:l,fetcherFn:c,page:1,resourceCollector:u});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(e){return _run2.apply(this,arguments)})},_run2;function updateBar(e){var t=e.data.bar||e.data,r=Object.assign({},t);delete r.roadmap;var n=_objectSpread(_objectSpread({},app_javascript_store__WEBPACK_IMPORTED_MODULE_1__.l.getData().bars),{},{[t.id]:r});app_javascript_store__WEBPACK_IMPORTED_MODULE_1__.l.patchData({bars:n})}var bars={index:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/bars"),method:"get",dataType:"json",params:t}),show:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:t,method:"get",dataType:"json",params:{master_plan_id:e}}),newBar:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/roadmapable_views/".concat(e,"/bars/new")}),create:(_create=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/roadmapable_views/".concat(t,"/bars"),data:r});case 2:return updateBar(n=e.sent),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(e,t){return _create.apply(this,arguments)}),update:(_update=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){var a;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/roadmapable_views/".concat(t,"/bars/").concat(r),data:{bar:n}});case 2:return updateBar(a=e.sent),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),function(e,t,r){return _update.apply(this,arguments)}),prioritizedIndex:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/roadmapable_views/".concat(e,"/bars/prioritized_index")}),updatePlanningScore:(e,t,r,n)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/bars/".concat(e,"/update_planning_score"),data:{type:t,value:n,key:r}})},_update,_create,scoring={updateScoreColumnHeading:(e,t,r,n)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/update_scoring_name"),method:"PUT",data:{type:t,key:r,value:n}}),updateScoreColumnWeight:(e,t,r,n)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/update_weighting_score"),method:"PUT",data:{type:t,key:r,value:n}}),addScoreColumn:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/add_planning_column"),method:"POST",data:{type:t}}),deleteScoreColumn:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/delete_planning_column"),method:"DELETE",data:{type:t,value:r}})},labelGroupTransformations={new:(e,t)=>{var r=Object.entries(t).map((function(e){return"".concat(e[0],"=").concat(e[1])})).join("&");return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",responseType:"json",url:"/roadmaps/".concat(e,"/label_group_transformations/new?").concat(r)})}},labels={create:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/roadmapable_views/".concat(e,"/").concat(t),data:r}),update:(e,t,r,n)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/roadmapable_views/".concat(e,"/").concat(t,"/").concat(r),data:n}),delete:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"DELETE",url:"/".concat(e,"/").concat(t),data:r})},roadmaps={create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/roadmaps",data:e}),new:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/roadmaps/new"}),reorderBars:(_reorderBars=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){var n,a=arguments;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:"table_view",e.next=3,backgroundJob.run({url:"/roadmaps/".concat(t,"/sort"),method:"PUT",data:{bar_ids:r,view:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t){return _reorderBars.apply(this,arguments)}),changeFolder:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/change_folder"),method:"PUT",data:{folder_id:t}}),integrationImport:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/import/?integration_type=").concat(t),method:"GET"}),snapshots:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/snapshots"),method:"GET",headers:{Accept:"text/javascript"}}),remotePush:(e,t)=>{var r={integration_id:t};return backgroundJob.run({method:"POST",url:"/roadmaps/".concat(e,"/pending_bars_push_status"),dataType:"json",data:r})},permittedUsers:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(e.path(),"/permitted_users"),method:"GET",params:t}),updateRoadmapImportMapping:(e,t,r,n)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/import_mappings"),method:"PUT",data:{key:r,value:n,integration_type:t}})},_reorderBars,roadmapableViews={getViews:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views",method:"GET",params:e,cancelToken:t}),viewSettings:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/roadmapable_views/".concat(e,"/view_settings")}),publicViewSettings:(e,t)=>{var r=t?"pp":"pr";return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/".concat(r,"/").concat(e,"/view_settings")})},updateRoadmapableViewLabelGroup:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({data:r,method:"PUT",url:"/roadmapable_views/".concat(e,"/label_groups/").concat(t)}),updateViewFilters:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({data:t,method:"PUT",url:"/roadmapable_views/".concat(e,"/bulk_update")}),fetchViewFilter:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/roadmapable_views/".concat(e),params:t,cancelToken:r}),fetchPublicViewFilter:(e,t)=>{var r=window.location.pathname.startsWith("/pp/")?"pp":"pr";return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/".concat(r,"/").concat(e,"/view"),params:t})},new:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/roadmapable_views/new",params:{id:parseInt(e)}}),edit:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/roadmapable_views/".concat(e,"/edit")}),update:(_update2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({method:"PUT",url:"/roadmapable_views/".concat(t),data:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return _update2.apply(this,arguments)}),create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/roadmapable_views",data:e})},_update2,portfolioViews={create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/portfolio_views",data:e}),copy:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/portfolio_views/".concat(e,"/copy")}),update:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/portfolio_views/".concat(e),data:t}),changeFolder:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/portfolio_views/".concat(e,"/change_folder"),method:"PUT",data:{folder_id:t}}),bars:e=>{var t=e.portfolioId,r=e.parked,n=e.limit,a=e.offset,o=e.cancelToken,i=query_string__WEBPACK_IMPORTED_MODULE_3__.stringify({parked:r,limit:n,offset:a});return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/portfolio_views/".concat(t,"/bars?").concat(i),cancelToken:o})}},folders={get:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/folders/".concat(e),cancelToken:t}),create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/folders",data:e}),update:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/folders/".concat(e),data:t}),editable:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/folders/editable"})},savedImportQuery={executeImport:(e,t)=>backgroundJob.run({url:"/roadmaps/".concat(e,"/saved_query_import_status"),method:"POST",data:{saved_import_query_id:t}})},vimeo={getToken:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/integrations/vimeo/token"}),managedUserVideos:()=>backgroundJob.run({method:"POST",url:"/integrations/vimeo_managed_user_status"})},azureDevOps={getSyncedRoadmaps:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/".concat(e,"/synced_roadmaps"),method:"GET"}),getRoadmapSettings:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/ado_settings"),method:"GET"}),getRoadmapSyncFields:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/ado_sync_enabled_fields"),method:"GET"}),updateRoadmapSyncFields:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/ado_sync_enabled_fields"),method:"PUT",data:{sync_enabled_fields:t}}),getRoadmapImportMapping:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/ado_import_mappings"),method:"GET"}),updateRoadmapImportMapping:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/ado_import_mappings"),method:"PUT",data:{key:t,value:r}}),createWorkItem:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({data:t,dataType:"JSON",method:"POST",url:"/bars/".concat(e,"/ado/work_items")}),getProjects:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/ado/projects"}),getWorkItemTypes:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/ado/projects/".concat(e,"/work_item_types")}),getFields:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/ado/fields"}),updateIntegration:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/ado",method:"PATCH",data:{vsts_integration:e}}),searchIssues:e=>backgroundJob.run({url:"/ado/issue_search",method:"POST",data:e.data}),createSavedImportQuery:(e,t,r,n,a,o)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/ado/saved_import_queries",method:"POST",data:{saved_import_query:{roadmap_id:e,import_criteria:{import_query:n,import_query_url:a,import_project_id:t,import_project_label:r,import_containers:o}}}}),getSavedImportQueries:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/ado/saved_import_queries",method:"GET"}),deletedSavedImportQuery:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/ado/saved_import_queries/".concat(e),method:"DELETE"}),runFetchStatsJob:(e,t,r,n,a,o)=>backgroundJob.run({url:"/roadmaps/".concat(e,"/ado/issue_stats"),method:"POST",data:{roadmap_id:e,project:r,query:t,page:n,exclude_dupes:a,query_url:o}}),getIssueStats:(e,t)=>backgroundJob.run({url:"".concat(e,"/ado/issue_stats"),method:"POST",data:humps__WEBPACK_IMPORTED_MODULE_2___default().decamelizeKeys(t)})},msTeams={getWebhooks:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/integrations/ms_teams/webhooks"}),addWebhook:(e,t)=>{var r={third_party_integration_webhook:{name:e,url:t}};return axios__WEBPACK_IMPORTED_MODULE_0___default()({data:r,dataType:"JSON",method:"POST",url:"/integrations/ms_teams/webhooks"})},deleteWebhook:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"DELETE",url:"/integrations/ms_teams/webhooks/".concat(e)}),updateWebhook:(e,t,r)=>{var n={third_party_integration_webhook:{id:e,name:t,url:r}};return axios__WEBPACK_IMPORTED_MODULE_0___default()({data:n,dataType:"JSON",method:"PUT",url:"/integrations/ms_teams/webhooks/".concat(e)})}},jira={getSyncedRoadmaps:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/".concat(e,"/synced_roadmaps"),method:"GET"}),getRoadmapSettings:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/jira_settings"),method:"GET"}),getRoadmapSyncFields:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/jira_sync_enabled_fields"),method:"GET"}),updateRoadmapSyncFields:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/jira_sync_enabled_fields"),method:"PUT",data:{sync_enabled_fields:t}}),getRoadmapImportMapping:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/jira_import_mappings"),method:"GET"}),updateRoadmapImportMapping:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/jira_import_mappings"),method:"PUT",data:{key:t,value:r}}),createSavedImportQuery:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/jira/saved_import_queries",method:"POST",data:{saved_import_query:{roadmap_id:e,import_criteria:{import_query:t,import_containers:r}}}}),getSavedImportQueries:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/jira/saved_import_queries",method:"GET"}),deletedSavedImportQuery:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/jira/saved_import_queries/".concat(e),method:"DELETE"}),projectFields:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/jira/projects/".concat(e,"/fields"),method:"GET",dataType:"json"}),issues:e=>backgroundJob.run({url:"/jira/issue_search",method:"POST",data:e}),runIssueMetadataJob:e=>backgroundJob.run({url:"/jira/issue_type_metadatas_status",method:"POST",data:e}),runUserMetadataJob:()=>backgroundJob.run({url:"/jira/user_metadatas_status",method:"POST"}),newIssue:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/bars/".concat(e,"/jira/issues/new"),method:"GET",params:t,headers:{Accept:"text/html"}}),saveIssue:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/bars/".concat(e,"/jira/issues"),method:"POST",data:convertToFormData(t)}),getIssueTypeMetadata:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/jira/issue_type_metadatas/".concat(e,"id?project_id=").concat(t),method:"GET"}),getIssueStats:(e,t)=>backgroundJob.run({url:"".concat(e,"/jira/issue_stats"),method:"POST",data:humps__WEBPACK_IMPORTED_MODULE_2___default().decamelizeKeys(t)})},github={issues:e=>backgroundJob.run({url:"/github/issue_search",data:e,method:"POST"}),getRepositories:()=>backgroundJob.run({url:"/github/repositories_status",method:"POST"}),updateIntegration:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/github",method:"PATCH",data:{github_integration:e}}),getIssueStats:(e,t)=>backgroundJob.run({url:"".concat(e,"/github/issue_stats"),method:"POST",dataType:"json",data:t})},tracker={issues:e=>backgroundJob.run({url:"/tracker/issue_search",data:e,method:"POST"}),getProjects:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/tracker/projects",method:"GET"}),updateIntegration:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/tracker",method:"PATCH",data:{pivotal_integration:e}}),getIssueStats:(e,t)=>backgroundJob.run({url:"".concat(e,"/tracker/issue_stats"),method:"POST",data:t})},trello={getBoards:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/trello/boards",method:"GET"}),getSettings:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/trello/settings",method:"GET"}),updateSettings:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/trello/settings",method:"POST",data:{settings:e}}),issues:e=>backgroundJob.run({url:"/trello/issue_search",method:"POST",data:e}),getIssueStats:(e,t)=>backgroundJob.run({url:"".concat(e,"/trello/issue_stats"),method:"POST",data:t})},accountActions={getMembers:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(e,"/members"),method:"GET"}),changeOwner:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(e,"/change_owner"),method:"PUT",data:{new_owner_id:t}}),updateAdminRights:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/account_memberships/".concat(e),method:"PUT",data:{account_membership:{is_account_owner:t}}}),deleteUser:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/".concat(e),method:"DELETE"}),removeUserMembership:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/billing/end_management/".concat(e),method:"DELETE"}),transferRoadmaps:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/".concat(e,"/transfers"),method:"GET",headers:{Accept:"text/javascript"}}),upgradeAccount:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/upgrade_account/".concat(e),method:"GET",headers:{Accept:"text/javascript"}}),accountMembershipsCount:e=>{var t=window.current_user.account_id;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(t,"/memberships_count"),method:"GET",cancelToken:e})},getAccountMemberships:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=window.current_user.account_id;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(r,"/account_memberships"),method:"GET",params:{offset:e,page_size:10},cancelToken:t})},teamsInAccountCount:()=>{var e=window.current_user.account_id;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(e,"/teams_count"),method:"GET"})}},teamsActions={getTeams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=window.current_user.account_id;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(r,"/teams"),method:"GET",params:{page_size:t,offset:e}})},getTeamMemberships:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/teams/".concat(e,"/team_memberships"),method:"GET",params:{page_size:n,offset:r},cancelToken:t})},createTeam:e=>{var t=window.current_user.account_id;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(t,"/teams"),method:"POST",data:{team:e}})},updateTeam:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/teams/".concat(e),method:"PUT",data:{team:t}}),deleteTeam:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/teams/".concat(e),method:"DELETE"}),teamMembershipsCount:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/teams/".concat(e,"/team_memberships_count"),method:"GET",cancelToken:t}),createTeamMemberships:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/teams/".concat(e,"/team_memberships/bulk_create"),method:"POST",data:{user_ids:t}}),deleteTeamMembership:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/team_memberships/".concat(e),method:"DELETE"})},enterpriseTagActions={index:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/enterprise_tags",method:"GET"}),create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/shared_tags",method:"POST",data:{name:e}}),bulkUpdate:(_bulkUpdate=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({url:"/enterprise_tags/enterprise_update_tags_status",method:"POST",data:{new_tag_name:t,tags_to_be_removed:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return _bulkUpdate.apply(this,arguments)}),bulkDelete:(_bulkDelete=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({url:"/enterprise_tags/enterprise_delete_tags_status",method:"POST",data:{tag_names:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return _bulkDelete.apply(this,arguments)}),deleteSharedTag:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/shared_tags",method:"DELETE",data:{name:e}})},_bulkDelete,_bulkUpdate,roadmapTagActions={index:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/tags"),method:"GET"}),bulkUpdate:(_bulkUpdate2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({url:"/roadmaps/".concat(t,"/tags/update_tags_status"),method:"POST",data:{new_tag_name:r,tags_to_be_removed:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return _bulkUpdate2.apply(this,arguments)}),bulkDelete:(_bulkDelete2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({url:"/roadmaps/".concat(t,"/tags/delete_tags_status"),method:"POST",data:{tag_names:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return _bulkDelete2.apply(this,arguments)})},_bulkDelete2,_bulkUpdate2;function getRoadmapPalettes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=()=>!0===window.standardizationsManager?"/account/palettes":"".concat(window.currentRoadmapable.path(),"/palettes");return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:t(),cancelToken:e})}function getColorPaletteUrl(e){return!0===window.standardizationsManager?"/account/palettes/".concat(e,"/palette_colors"):"/roadmaps/".concat(window.currentRoadmapable.roadmapableId(),"/palettes/").concat(e,"/palette_colors")}function addColorToPalette(e,t){var r=getColorPaletteUrl(t);return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:r,dataType:"json",data:{palette_color:{hex:e}}})}function editColorInPalette(e,t){var r="".concat(getColorPaletteUrl(t),"/").concat(e.id);return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:r,dataType:"json",data:{palette_color:{hex:e.hex}}})}function deleteColorInPalette(e,t){var r="".concat(getColorPaletteUrl(t),"/").concat(e.id);return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"DELETE",url:r,dataType:"json",data:{palette_color_id:e.id}})}function getJiraProjects(){return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/jira/projects",dataType:"json"})}function updateIntegrationSelectedProject(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/".concat(e,"/selected_projects"),method:"PUT",dataType:"json",data:t})}function updateIntegrationCustomMappings(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/".concat(e,"/custom_mappings"),method:"PUT",dataType:"json",data:t})}function bulkUpdateIntegrationCustomMappings(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/".concat(e,"/bulk_update_custom_mappings"),method:"PUT",dataType:"json",data:t})}function updateIntegrationSyncEnabledFields(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/".concat(e,"/sync_enabled_fields"),method:"PUT",dataType:"json",data:t})}function updateIntegrationSyncMetric(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integration_sync",method:"PUT",dataType:"json",data:{integration_sync:{sync_calculation_metric:e}}})}function syncRoadmap(e,t){var r={integration_id:t};return backgroundJob.run({url:"/roadmaps/".concat(e,"/bar_syncs_status"),method:"POST",dataType:"json",data:r})}function getAvailableSlackChannels(e){return backgroundJob.run({url:"/slack/available_channels_status",method:"POST",dataType:"json",cancelToken:e})}var managerRequests={editLabelGroup:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"script",url:"/label_groups/".concat(e,"/edit"),method:"get",headers:{Accept:"text/javascript"}}),newLegend:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"script",url:"/roadmapable_views/".concat(e,"/legends/new"),method:"get",headers:{Accept:"text/javascript"}}),editLegend:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"script",url:"/roadmapable_views/".concat(t,"/legends/").concat(e,"/edit"),method:"get",headers:{Accept:"text/javascript"}}),updateLegend:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"script",url:"/legends/".concat(e),method:"put",data:{legend:t},headers:{Accept:"text/javascript"}}),updateLegendPosition:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"json",url:"/roadmapable_views/".concat(r,"/legends/update_order"),method:"put",data:Object.assign({legend_id:e},t)}),deleteLegend:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"json",url:"/legends/".concat(e),method:"delete"}),createMilestone:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/sublanes/".concat(t.sublaneId,"/milestones"),method:"post",data:{milestone:e},dataType:"json"}),updateMilestone:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"json",url:"/milestones/".concat(t.milestoneId),method:"put",data:{milestone:e}}),deleteMilestone:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/milestones/".concat(e),method:"delete",dataType:"json"}),createBarLink:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:t,method:"post",dataType:"json",data:{link:e}}),shiftBar:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/bars/shift"),method:"put",dataType:"json",data:{bar_ids:t,shift:r}}),shiftLane:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/bars/shift_lane"),method:"put",dataType:"json",data:{bar_ids:t,shift_lane:r}}),updateBars:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/bars/bulk_update"),method:"put",dataType:"json",data:{bars:t,options:r}}),deleteBar:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/bars/".concat(e),method:"delete",dataType:"json"}),deleteBars:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(t,"/bars/bulk_delete"),method:"post",dataType:"json",data:{bar_ids:e,options:{silent:!1,single_track:!1,action:"deleted"}}}),undoDeleteBars:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(t,"/bars/undo_bulk_delete"),method:"post",dataType:"json",data:{bar_ids:e}}),copyBarsToLane:(_copyBarsToLane=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({url:"/roadmapable_views/".concat(n,"/bars/bulk_copy_to_lane_status"),method:"post",dataType:"json",data:{bar_ids:t,lane_id:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t,r){return _copyBarsToLane.apply(this,arguments)}),updateDefaultBar:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(t,"/update_default_bar"),method:"post",dataType:"json",data:{bar_id:e}}),duplicateBar:(_duplicateBar=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({url:"/bars/".concat(t,"/duplicate_bar_status"),method:"POST",dataType:"json",data:{bar:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return _duplicateBar.apply(this,arguments)}),createComment:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/bars/".concat(e,"/comments"),method:"post",dataType:"json",data:t}),deleteComment:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/comments/".concat(e,"?portfolio_view_id=").concat(t),method:"delete",dataType:"json"}),createLane:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/lanes"),method:"post",dataType:"json"}),editLane:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(t,"/lanes/").concat(e,"/edit"),method:"get",headers:{Accept:"text/javascript"}}),updateLaneOrder:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(r,"/lanes/update_order"),method:"put",dataType:"json",data:Object.assign({lane_id:e},t)}),deleteLane:(_deleteLane=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,backgroundJob.run({url:"/lanes/".concat(t,"/delete_lane_status"),method:"POST",dataType:"json"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return _deleteLane.apply(this,arguments)}),moveLane:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/lanes/".concat(e,"/move/").concat(t),method:"put",dataType:"json"}),reorderLanes:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/lanes"),method:"get",dataType:"script",headers:{Accept:"text/javascript"}}),updateBarFieldVisibility:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(t,"/bar_field_settings"),method:"PUT",dataType:"json",data:{fields:e}}),toggleItems:(e,t,r,n,a)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/".concat(e,"/").concat(t,"/").concat(r,"/toggles"),method:"put",dataType:"json",data:{ids:n,is_toggled:a}}),getRoadmapTags:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/tags"),method:"GET",dataType:"json",cancelToken:t})}},_deleteLane,_duplicateBar,_copyBarsToLane,labelGroups={index:(e,t)=>{var r=query_string__WEBPACK_IMPORTED_MODULE_3__.stringifyUrl({url:"/standardization/label_groups",query:{type:e}});return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:r,cancelToken:t})},create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/standardization/label_groups",data:e}),get:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/standardization/label_groups/".concat(e)}),update:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/standardization/label_groups/".concat(e),data:t}),delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/standardization/label_groups/".concat(e),method:"DELETE"}),updateLabel:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/standardization/labels/".concat(t),method:"PATCH",data:r}),createLabel:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/standardization/label_groups/".concat(e,"/labels"),data:t}),reorderLabel:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/standardization/labels/".concat(e,"/reorder"),data:t}),deleteLabel:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/standardization/labels/".concat(t),method:"DELETE"})},customFields={index:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/custom_fields"}),create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/custom_fields",data:e}),update:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"PUT",url:"/custom_fields/".concat(e),data:t})},links={delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/links/".concat(e),method:"DELETE"})},customActions={updateLinkModalSyncInfoRead:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/update_complete_custom_action",method:"PUT",dataType:"json",data:{custom_action_name:"link_modal_sync_info_read"}}),updateLinkModalPercentCompleteEnabledMessageRead:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/update_complete_custom_action",method:"PUT",dataType:"json",data:{custom_action_name:"link_modal_sync_info_percent_enabled_read"}}),updateLinkModalPercentCompleteDisabledMessageRead:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/update_complete_custom_action",method:"PUT",dataType:"json",data:{custom_action_name:"link_modal_sync_info_percent_disabled_read"}}),updateLinkHowToSyncBarFieldsMessageRead:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/update_complete_custom_action",method:"PUT",dataType:"json",data:{custom_action_name:"link_how_to_sync_bar_fields_info_read"}})},roadmapableIndexActions={updateRoadmapableSortOrder:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default().put("/roadmapables/update_roadmaps_order",{selected_column:e,selected_sort_order:t}),paginateRoadmapResults:(_paginateRoadmapResults=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,a){var o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios__WEBPACK_IMPORTED_MODULE_0___default()({url:t,method:"GET",params:{offset:r,folder_id:n},cancelToken:a});case 2:return o=e.sent,e.abrupt("return",o.data);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return _paginateRoadmapResults.apply(this,arguments)})},_paginateRoadmapResults,userRequests={index:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users",method:"GET",params:{offset:e}})},updatePreferredLayout:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/update_layout",method:"PUT",dataType:"json",data:{roadmapable_view_id:e,preferred_layout:t}}),signOut:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"delete",url:"/users/sign_out"})},sublaneActions={create:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/".concat(e,"/").concat(t,"/sublanes"),method:"POST",data:r}),deleteSublane:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/sublanes/".concat(e),method:"DELETE"})},printable={create:(_create2=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r,n,a){var o;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="roadmap"===t?"/roadmaps/".concat(r):"/portfolio_views/".concat(r),e.next=3,backgroundJob.run({progressCallback:a,url:"".concat(o,"/exporter_status"),method:"POST",data:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e,t,r,n){return _create2.apply(this,arguments)})},_create2,importActions={runExcelImportJob:(e,t)=>backgroundJob.run(_objectSpread({url:"".concat(e,"/bar_imports_status"),method:"POST"},t)),runImportJob:e=>backgroundJob.run(_objectSpread({method:"post"},e))},shareActions={basePath:(e,t)=>"/".concat(t,"s/").concat(e),permissionsRoute:e=>"roadmap"===e?"permissions":"".concat(e,"_permissions"),fetchPermissions:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(shareActions.basePath(e,t),"/shares"),method:"GET",cancelToken:r}),fetchAccountMemberships:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(shareActions.basePath(e,t),"/account_memberships"),method:"GET",params:{page_size:r,offset:n},cancelToken:a})},createPrivateLink:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/publicize"),method:"PUT"}),revokePrivateLink:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/privatize"),method:"PUT"}),searchShareOptions:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(shareActions.basePath(e,t),"/share_options/search"),method:"GET",params:{q:r,page_size:20}}),createIndividualPermission:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(shareActions.basePath(e,t),"/").concat(shareActions.permissionsRoute(t)),method:"POST",data:r}),updateIndividualPermission:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/".concat(shareActions.permissionsRoute(t),"/").concat(e),method:"PUT",data:r}),deleteIndividualPermission:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/".concat(shareActions.permissionsRoute(t),"/").concat(e),method:"DELETE"}),createGroupPermission:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(shareActions.basePath(e,t),"/team_permissions"),method:"POST",data:r}),deleteGroupPermission:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(shareActions.basePath(e,t),"/team_permissions/").concat(r),method:"DELETE"}),updateGroupPermission:(e,t,r,n)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"".concat(shareActions.basePath(e,t),"/team_permissions/").concat(r),method:"PUT",data:n}),changeOwner:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/".concat(shareActions.permissionsRoute(t),"/").concat(e,"/transfer_ownership"),method:"POST",data:r})},notifications={get:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/follows",method:"GET"}),bulkUpdate:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/follows/bulk_update",method:"PUT",data:{follow:e}}),updateGlobalNotificationSetting:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/email_notification_settings",method:"PUT",data:{email_notification_setting:e}}),updateRoadmapableFollowsSetting:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/follows/".concat(e.id),method:"PUT",data:e}),index:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/notifications",method:"GET",dataType:"json",params:{identifier:e,limit:t,seen_at:r}}),setSeen:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/notifications/set_seen",method:"PUT",dataType:"json",params:{identifier:e}})},integrationSync={get:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integration_sync",method:"GET"}),start:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integration_sync",method:"POST"}),update:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integration_sync",method:"PUT",data:e}),status:e=>{var t=e.interval,r=e.progressCallback;return backgroundJob.poll({statusUrl:"/integration_sync",interval:t,progressCallback:r})}},integrations={setSyncPercentComplete:(e,t,r)=>{var n=new FormData;return n.set(t,r),axios__WEBPACK_IMPORTED_MODULE_0___default()({url:e,method:"PUT",data:n})},delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/integrations/".concat(e),method:"DELETE"})},oauth={index:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/oauth2/authorized_applications",method:"get"}),delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/oauth2/authorized_applications/".concat(e),method:"DELETE"})},personalAccessToken={hasToken:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/oauth/personal_access_tokens/has_token",method:"get"}),issue:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/oauth/personal_access_tokens/issue",method:"POST"}),revoke:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/oauth/personal_access_tokens/revoke",method:"DELETE"})},userPreferences={get:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/user_preferences"),method:"GET"}),update:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/user_preferences"),method:"POST",data:t})},history={getMutations:(_getMutations=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,n=t.maximumId,a=t.minimumId,o=t.pageSize,i=t.cancelToken,e.next=3,axios__WEBPACK_IMPORTED_MODULE_0___default()({url:r,method:"GET",params:{maximum_id:n,minimum_id:a,page_size:o},cancelToken:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return _getMutations.apply(this,arguments)}),getScopedMutations:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:e,method:"GET"}),getRecentBarChanges:(_getRecentBarChanges=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n,a,o,i;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roadmapId,n=t.maximumId,a=t.sinceDate,o=t.pageSize,i=t.cancelToken,e.next=3,axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(r,"/history/recent_bar_changes"),method:"GET",params:{maximum_id:n,since_date:a,page_size:o},cancelToken:i});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return _getRecentBarChanges.apply(this,arguments)})},_getRecentBarChanges,_getMutations,invites={create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/invites",method:"POST",data:e}),delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/invites/".concat(e),method:"DELETE"})},currentUser={roadmaps:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"GET",url:"/users/available_roadmaps_for_portfolio_views",dataType:"json"})},subscription={update:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:e,method:"PUT",data:t})},searchActions={globalSearch:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/global_search",method:"GET",params:humps__WEBPACK_IMPORTED_MODULE_2___default().decamelizeKeys(e)}),connectionsSearch:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/connections_search",method:"GET",params:humps__WEBPACK_IMPORTED_MODULE_2___default().decamelizeKeys(e)})},connectionActions={createConnection:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/bars/".concat(e,"/dependencies/"),method:"POST",data:{connects_from_type:"bar",connects_from_id:e,connects_to_type:"bar",connects_to_id:t},dataType:"json"}),deleteConnection:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/bars/".concat(e,"/dependencies/").concat(t.id),method:"DELETE"})};function syncConsultations(e,t){var r={user_email:e,consultation_message:t};return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/consultation",dataType:"json",data:r})}function loadTemplateInBackground(e,t){return _loadTemplateInBackground.apply(this,arguments)}function _loadTemplateInBackground(){return(_loadTemplateInBackground=_asyncToGenerator(_regeneratorRuntime().mark((function e(t,r){return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.template=t,e.next=3,backgroundJob.run({method:"POST",url:"/load_template_status",params:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function createFTUProfile(e){var t=convertToFormData(e);return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/profile",method:"post",dataType:"json",data:t})}function loadAccountUsers(){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/manage_subscription/membership",method:"get",dataType:"json"})}function toggleUserLicense(e){var t=new FormData;return t.append("user_id",e),axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/billing/toggle_license",method:"put",dataType:"json",data:t})}function hybridSsoCallback(e){var t=convertToFormData(e);return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/auth/google_oauth2/callback",method:"post",dataType:"json",data:t})}function extendTrial(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(e,"/extend"),method:"post",dataType:"json"})}function createSubscription(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/subscription",method:"post",dataType:"json",data:humps__WEBPACK_IMPORTED_MODULE_2___default().decamelizeKeys(e)})}function setPercentCompleteDefaultZero(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(e,"/percent_complete_default_zero"),method:"post",dataType:"json",data:{percent_complete_default_zero:t}})}function percentCompleteDefaultZero(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/accounts/".concat(e,"/percent_complete_default_zero"),method:"get",dataType:"json"})}function updateViewCustomOrder(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"put",url:"/roadmapable_views/".concat(e,"/custom_order_settings"),data:$.param(t)})}function copyRoadmapable(e){return _copyRoadmapable.apply(this,arguments)}function _copyRoadmapable(){return(_copyRoadmapable=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(t,"/copy"),method:"POST"});case 2:r=e.sent;case 3:return e.next=5,axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/roadmaps/load_copy?copy_job_id=".concat(r.data.copy_job_id)});case 5:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.next=10,(0,app_javascript_async_utils__WEBPACK_IMPORTED_MODULE_4__.g)(600);case 10:e.next=3;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function createRoadmapableVersion(e){return _createRoadmapableVersion.apply(this,arguments)}function _createRoadmapableVersion(){return(_createRoadmapableVersion=_asyncToGenerator(_regeneratorRuntime().mark((function e(t){var r,n;return _regeneratorRuntime().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(t,"/create_snapshot"),method:"post"});case 2:r=e.sent;case 3:return e.next=5,axios__WEBPACK_IMPORTED_MODULE_0___default()({method:"POST",url:"/roadmaps/load_snapshot?snapshot_job_id=".concat(r.data.snapshot_job_id),headers:axiosScriptHeaders}).catch(axiosScriptHandler);case 5:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.next=10,(0,app_javascript_async_utils__WEBPACK_IMPORTED_MODULE_4__.g)(600);case 10:e.next=3;break;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function deleteRoadmapable(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:e,method:"delete"})}function deleteSnapshot(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"json",url:"/roadmaps/".concat(e,"/destroy_snapshot"),method:"delete"})}function deleteIdentityProvider(){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/manage_subscription/security/remove_identity_provider",method:"delete"})}function userCommentToggle(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/users/update_comments_open",method:"put",data:{comments_open:e}})}function convertToFormData(e){var t=new FormData;return Object.keys(e).forEach((r=>{t.append(r,e[r])})),t}function postData(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:e,data:t,method:"post"})}function getSharedTags(e,t){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmaps/".concat(e,"/tags/search"),dataType:"json",params:t,method:"GET"})}function getData(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:e,method:"get",dataType:"json",params:t})}var reports={getReport:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/reports",method:"GET",dataType:"json",params:{owner_type:e,owner_id:t,report_type:r}})},conversations={create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/conversations",method:"POST",dataType:"json",data:e}),index:(e,t,r,n)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/conversations",method:"GET",dataType:"json",params:{owner_type:e,owner_id:t,state:r,public_url_code:n}}),update:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/conversations/".concat(e),method:"PUT",dataType:"json",data:t}),resolve:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/conversations/".concat(e,"/resolve"),method:"PUT",dataType:"json",data:t}),resolve_all:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/conversations/resolve_all",method:"PUT",dataType:"json",params:{owner_type:e,owner_id:t,public_url_code:r}}),delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"json",url:"/conversations/".concat(e),method:"delete"})},launchChecklist={create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_checklist",method:"POST",dataType:"json",data:e}),update:e=>{var t=e.id,r=e.data;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_checklist/".concat(t),method:"PUT",dataType:"json",data:r})},delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_checklist/".concat(e),method:"DELETE",dataType:"json"}),reorder:e=>{var t=e.ownerType,r=e.ownerId,n=e.orderArrayAsString;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_object_orders",method:"POST",dataType:"json",params:{owner_type:t,owner_id:r,order_array_as_string:n}})}},launchChecklistItems={create:e=>{var t=e.launchChecklistId,r=e.data;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_checklist/".concat(t,"/launch_checklist_items"),method:"POST",dataType:"json",data:r})},delete:e=>{var t=e.launchChecklistId,r=e.id;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_checklist/".concat(t,"/launch_checklist_items/").concat(r),method:"DELETE",dataType:"json"})},complete:(e,t,r)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_checklist/".concat(e,"/launch_checklist_items/").concat(t,"/complete"),method:"PUT",dataType:"json",data:r}),update:e=>{var t=e.launchChecklistId,r=e.id,n=e.data;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_checklist/".concat(t,"/launch_checklist_items/").concat(r),method:"PUT",dataType:"json",data:n})}},launches={users:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launches/users",method:"GET",dataType:"json"}),create:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launches",method:"POST",dataType:"json",data:e}),delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launches/".concat(e),method:"DELETE",dataType:"json"}),show:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launches/".concat(e),method:"GET",dataType:"json"}),index:()=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launches",method:"GET",dataType:"json"}),update:e=>{var t=e.id,r=e.data;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launches/".concat(t),method:"PUT",dataType:"json",data:r})},addConnections:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launches/".concat(e,"/add_connections"),method:"PUT",dataType:"json",data:t}),createConnection:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_connections",method:"POST",dataType:"json",data:e}),updateConnection:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_connections/".concat(e),method:"PUT",dataType:"json",data:t}),deleteConnection:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_connections/".concat(e),method:"DELETE",dataType:"json",data:t}),getBarInformation:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_connections/bar_information",method:"GET",dataType:"json",params:{bar_id:e}}),search:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/launch_connections/search",method:"GET",params:humps__WEBPACK_IMPORTED_MODULE_2___default().decamelizeKeys(e)})},roadmapableViewActions={delete:e=>axios__WEBPACK_IMPORTED_MODULE_0___default()({dataType:"json",url:"/roadmapable_views/".concat(e),method:"delete"}),updateSettings:(e,t)=>axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(e,"/settings"),method:"put",dataType:"json",data:{settings:t}}),getPublicSettings(e){var t=e.publicUrlCode;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/pr/".concat(t,"/roadmapable_settings"),method:"get",dataType:"json"})},getSettings(e){var t=e.viewId;return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/roadmapable_views/".concat(t,"/settings"),method:"get",dataType:"json"})}};function searchEditableRoadmaps(e){return axios__WEBPACK_IMPORTED_MODULE_0___default()({url:"/editable_roadmaps/search",dataType:"json",params:e,method:"GET"})}var api={bars:bars,subscription:subscription,scoring:scoring,labels:labels,labelGroups:labelGroups,labelGroupTransformations:labelGroupTransformations,customActions:customActions,customFields:customFields,roadmapableIndexActions:roadmapableIndexActions,roadmaps:roadmaps,roadmapableViews:roadmapableViews,portfolioViews:portfolioViews,folders:folders,managerRequests:managerRequests,userRequests:userRequests,accountActions:accountActions,teamsActions:teamsActions,msTeams:msTeams,azureDevOps:azureDevOps,jira:jira,github:github,tracker:tracker,trello:trello,vimeo:vimeo,savedImportQuery:savedImportQuery,sublaneActions:sublaneActions,enterpriseTagActions:enterpriseTagActions,roadmapTagActions:roadmapTagActions,printable:printable,importActions:importActions,shareActions:shareActions,notifications:notifications,integrationSync:integrationSync,integrations:integrations,oauth:oauth,personalAccessToken:personalAccessToken,backgroundJob:backgroundJob,integrationPaginatedJob:integrationPaginatedJob,getJiraProjects:getJiraProjects,updateIntegrationSelectedProject:updateIntegrationSelectedProject,updateIntegrationCustomMappings:updateIntegrationCustomMappings,bulkUpdateIntegrationCustomMappings:bulkUpdateIntegrationCustomMappings,updateIntegrationSyncEnabledFields:updateIntegrationSyncEnabledFields,updateIntegrationSyncMetric:updateIntegrationSyncMetric,syncRoadmap:syncRoadmap,syncConsultations:syncConsultations,loadTemplateInBackground:loadTemplateInBackground,createFTUProfile:createFTUProfile,getAvailableSlackChannels:getAvailableSlackChannels,loadAccountUsers:loadAccountUsers,toggleUserLicense:toggleUserLicense,hybridSsoCallback:hybridSsoCallback,extendTrial:extendTrial,createSubscription:createSubscription,setPercentCompleteDefaultZero:setPercentCompleteDefaultZero,percentCompleteDefaultZero:percentCompleteDefaultZero,links:links,userPreferences:userPreferences,history:history,invites:invites,updateViewCustomOrder:updateViewCustomOrder,copyRoadmapable:copyRoadmapable,createRoadmapableVersion:createRoadmapableVersion,deleteRoadmapable:deleteRoadmapable,deleteSnapshot:deleteSnapshot,currentUser:currentUser,searchActions:searchActions,deleteIdentityProvider:deleteIdentityProvider,userCommentToggle:userCommentToggle,convertToFormData:convertToFormData,postData:postData,getSharedTags:getSharedTags,connectionActions:connectionActions,getData:getData,roadmapableViewActions:roadmapableViewActions,searchEditableRoadmaps:searchEditableRoadmaps,reports:reports,conversations:conversations,launches:launches,launchChecklistItems:launchChecklistItems,launchChecklist:launchChecklist};const __WEBPACK_DEFAULT_EXPORT__=api},29193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var n=r(28583),a=r.n(n),o=r(66678),i=r.n(o),s=r(22205),l=r.n(s),c=r(66073),u=r.n(c),d=r(55652),h=r(24838),p=r(2785),f=r(58909),m=r(87029);function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&r.call(g,a)&&(f=g);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function g(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}var y,b,w={restoreDeletebar:e=>{var t=[e],r=window.currentRoadmapable.findDeletedBar(e);r.setDeleted({deleted:!1});var n=[r];if(r.isContainer){var a=window.currentRoadmapable.findDeletedContainedBars(e);u()(a,(e=>{t.push(e.id),n.push(e),e.setDeleted({deleted:!1})}))}f.default.publish("UNDO_DELETE_BARS",n),f.default.publish("UPDATED_BAR"),p.Z.undoDeleteBars(t)},deleteBar:e=>{var t=[e],r=window.currentRoadmapable.findActiveBar(e);r.setDeleted({deleted:!0}),r.isContainer&&u()(r.bars(),(e=>{t.push(e.id),e.setDeleted({deleted:!0})})),f.default.publish("DELETED_BARS",t),f.default.publish("UPDATED_BAR"),p.Z.deleteBars(t)},deleteBarFromListView:(y=v().mark((function e(t,r){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.ProductPlan.roadmapView.deleteBar(t);case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:n=m.ZP.removeBarFromCustomOrderGroup(r.customOrderGroupId,t),m.ZP.applyCustomOrderUpdates(n),h.Z.execute(w,"deleteBar",{barId:t,parent:r});case 8:case"end":return e.stop()}}),e)})),b=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=y.apply(e,t);function o(e){g(a,r,n,o,i,"next",e)}function i(e){g(a,r,n,o,i,"throw",e)}o(void 0)}))},function(e,t){return b.apply(this,arguments)}),adjustContainer:(e,t)=>{var r=window.currentRoadmapable.findActiveBar(e),n={id:r.id},a=!1,o=window.currentRoadmapable.timelineSettings(),i=o.minStartUnits([r].concat(t));r.startUnits()>i&&(a=!0,n=l()(n,o.startDateAndUnits(i)));var s=window.currentRoadmapable.timelineSettings().maxEndUnits([r].concat(t));return r.endUnits()<s&&(a=!0,n=l()(n,o.endDateAndUnits(s))),a?n:void 0},placeBarOnDateAndLane:function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=window.currentRoadmapable.findActiveBar(e),s=w.buildPayloadForContainedBar(e,t,r,n),l=s.barsToUpdate,c=s.stashedBarAttrs,u=s.payload;l?(h.Z.execute(w,"updateBars",{barId:i.id,newBarValues:l,originalBarValues:c,fromDroppable:a,toDroppable:o}),d.ProductPlan.roadmapManager.updateBarsPosition(l)):(h.Z.execute(w,"moveBar",{originalBar:i,payload:u,stashedBarAttrs:c,fromDroppable:a,toDroppable:o}),d.ProductPlan.roadmapManager.silentUpdateBar(i.id,u))},buildPayloadForContainedBar:(e,t,r,n)=>{var a=window.currentRoadmapable.findActiveBar(e);if(!a.isContainer){var o,s=[];s.push(i()(a.getUndoAttributes()));var l=w.buildPayload(a.id,t,r,n);if(t){var c=window.currentRoadmapable.findActiveBar(t),u=i()(c.getUndoAttributes()),d=w.adjustContainer(t,l);d&&(s.push(u),o=[l,d])}return{barsToUpdate:o,stashedBarAttrs:s,payload:l}}},buildPayload:(e,t,r,n)=>{var o,i=window.currentRoadmapable.findActiveBar(e);o=0===n?{actualStartUnits:i.actualStartUnits,actualEndUnits:i.actualEndUnits,uniformStartUnits:i.uniformStartUnits,uniformEndUnits:i.uniformEndUnits}:w.calculateNewDateAttributesForBar(i,n);var s=i.sublaneId;return i.laneId()!==r&&(s=window.currentRoadmapable.lastSublaneIdInLane(r)+1||0),t&&(s=window.currentRoadmapable.sublanesForContainer(t).pop()+1||0),a()({containerId:t||null,id:i.id,isContained:!!t,laneId:r,sublaneId:s},o)},calculateNewDateAttributesForBar:(e,t)=>window.currentRoadmapable.timelineSettings().shiftBarByDelta(e,t)};const C=w},10883:(e,t,r)=>{"use strict";r.d(t,{P:()=>s,Q:()=>l});var n=r(27361),a=r.n(n),o=r(2525),i=r.n(o);function s(e,t,r){var n={};return i()(t,((t,o)=>{var i=r[o]||o,s=a()(e,i);s||(s=t),n[o]=s})),n}function l(e,t){var r={};return i()(e,((e,n)=>{var a=t[n];if(void 0!==a){var o=a[e];if(void 0===o)throw"Invalid value ".concat(JSON.stringify(e)," for ").concat(JSON.stringify(n),". ")+"Expected one of ".concat(JSON.stringify(Object.keys(a)),".");r[n]=o}else r[n]=e})),r}},49351:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(93314);class a extends n.Z{constructor(){super({"master_plan.name":"name","master_plan.description":"description","master_plan.timeline_type":"timeline_style","master_plan.start_date":"start_date","master_plan.end_date":"end_date","master_plan.lane_style":"lane_style","master_plan.included_roadmaps":"included_roadmaps","master_plan.folder_id":"folder_id","primary_view.name":"name","primary_view.description":"description","primary_view.style":"bar_style","primary_view.color_style":"legend_style","primary_view.start_date":"start_date","primary_view.end_date":"end_date","primary_view.renderer.style":"timeline_style","primary_view.renderer.fiscal_year_first_month":"fiscal_year_first_month","primary_view.renderer.grid_style":"display_grid","primary_view.renderer.interval_duration":"sprint_interval_duration","primary_view.renderer.interval_offset":"sprint_interval_offset","primary_view.renderer.intervals_to_display":"intervals_to_display"},{display_grid:{none:"(None)",months:"Months",quarters:"Quarters",weeks:"Weeks",sprints:"Sprints"}})}buildPayload(e){var t={name:e.name,description:e.description,timeline_type:e.timeline_style,start_date:e.start_date,end_date:e.end_date,included_roadmaps:e.included_roadmaps,lane_style:e.lane_style,folder_id:e.folder_id},r={color_style:e.legend_style},n={name:t.name,description:t.description,style:e.bar_style,start_date:t.start_date,end_date:t.end_date,view_style:e.view_style,renderer_type:"Timeline",is_primary_view:!0,renderer_attributes:{style:t.timeline_type,fiscal_year_first_month:e.fiscal_year_first_month,grid_style:e.display_grid,interval_duration:e.sprint_interval_duration,interval_offset:e.sprint_interval_offset,intervals_to_display:e.intervals_to_display}},a={master_plan:t};return a.master_plan.preferences=r,a.master_plan.primary_view_attributes=n,Object.values(a.master_plan.preferences).every((e=>void 0===e))&&delete a.master_plan.preferences,a}}const o=a;var i=r(74527);function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,i,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function l(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,s,"next",e)}function s(e){l(o,n,a,i,s,"throw",e)}i(void 0)}))}}const u=class{static create(e){return c(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new o,t.prev=1,window.showAJAXLoaderModal(),t.next=5,i.default.portfolioViews.create(r.getPayload(e));case 5:return t.abrupt("return",t.sent);case 8:throw t.prev=8,t.t0=t.catch(1),r.mapErrors(t.t0.response.data);case 11:return t.prev=11,window.hideAJAXLoaderModal(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})))()}static update(e,t){return c(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new o,r.prev=1,r.next=4,i.default.portfolioViews.update(e,n.getPayload(t));case 4:return r.abrupt("return",r.sent);case 7:throw r.prev=7,r.t0=r.catch(1),n.mapErrors(r.t0.response.data);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()}}},23125:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var n=r(9669),a=r.n(n),o=r(65835);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cancelCurrentWorkOnRun,r=void 0!==t&&t,n=e.strategy,o=void 0===n?s.CONCURRENT:n,l=e.cancelToken,c=e.onStartWork,u=e.onFinishWork,d=e.onError;i(this,"currentWork",null),i(this,"cancelTokenSource",a().CancelToken.source()),this.cancelToken=l,this.onStartWork=c,this.onFinishWork=u,this.onError=d,this.cancelCurrentWorkOnRun=r,this.strategy=o,null===l||void 0===l||l.subscribe((()=>{this.cancelTokenSource.cancel()}))}run(e){var t,r;if(null===(t=this.cancelToken)||void 0===t||!t.reason){null===this.currentWork&&(null===(r=this.onStartWork)||void 0===r||r.call(this)),this.cancelCurrentWorkOnRun&&this.currentWork&&this.cancelCurrentWork();var n=this.cancelTokenSource.token,a=this.strategy((()=>(0,o.B)(e(n))),this.currentWork);this.currentWork=a,a.catch((e=>{var t;null===(t=this.onError)||void 0===t||t.call(this,e)})).finally((()=>{var e;this.currentWork===a&&(this.currentWork=null,null===(e=this.onFinishWork)||void 0===e||e.call(this,this.cancelToken))}))}}cancelCurrentWork(){this.cancelTokenSource.cancel(),this.cancelTokenSource=a().CancelToken.source()}isRunning(){return!!this.currentWork}}i(s,"CONCURRENT",((e,t)=>Promise.all([t,e()]))),i(s,"BLOCKING",((e,t)=>{var r;return null!==(r=null===t||void 0===t?void 0:t.then(e))&&void 0!==r?r:e()})),i(s,"DROPPING",((e,t)=>null!==t&&void 0!==t?t:e()))},98061:(e,t,r)=>{"use strict";r.d(t,{Uq:()=>l,bd:()=>c});var n=r(67294),a=r.n(n),o=r(9669),i=r.n(o),s=(r(23125),r(65835));function l(){var e=i().CancelToken.source();return a().useEffect((()=>e.cancel),[]),e.token}function c(e,t){a().useEffect((()=>{var t=i().CancelToken.source();return(0,s.B)(e(t.token)),t.cancel}),t)}},65835:(e,t,r)=>{"use strict";function n(e,t){return new Promise(((r,n)=>{null!==t&&void 0!==t&&t.reason&&n(t.reason);var a=setTimeout(r,e);null===t||void 0===t||t.subscribe((()=>{clearTimeout(a),n(t.reason)}))}))}function a(e){return e.catch((e=>{if(null===e||void 0===e||!e.__CANCEL__)throw e}))}r.d(t,{B:()=>a,g:()=>n})},76364:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n="chrome",a="edge",o="unknown",i=e=>{if(!e)return o;e=e.toLowerCase();var t=o;return e.match(/android|iPhone|mobile|ios|crios/i)?t=o:e.match(/chrome|chromium/)?t=n:e.match(/firefox|fxios/i)?t="firefox":e.match(/safari/i)?t="safari":e.match(/opr\//i)?t="opera":e.match(/edg/i)&&(t=a),t};const s={isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.platform)},isFirefox:function(e){return/firefox/i.test(e||"")},isVimeoRecordSupported:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return[n,a].includes(i(e))}}},90820:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});var n=r(66678),a=r.n(n),o=r(85564),i=r.n(o),s=r(7739),l=r.n(s),c=r(35161),u=r.n(c),d=r(89734),h=r.n(d),p=r(28583),f=r.n(p),m=r(55652),v=r(2785),g=r(58909),y=r(89425);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(){C=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function E(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){E(o,n,a,i,s,"next",e)}function s(e){E(o,n,a,i,s,"throw",e)}i(void 0)}))}}class x{static findOrBuildDefaultLane(){return _(C().mark((function e(){var t,r,n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=m.ProductPlan.roadmapManager.roadmap.getFirstLane())){e.next=5;break}return e.abrupt("return",t);case 5:return e.next=7,m.ProductPlan.roadmapManager.createLane();case 7:return r=e.sent,n=r.data,e.abrupt("return",window.currentRoadmapable.findLane(n.id));case 10:case"end":return e.stop()}}),e)})))()}static setTimelineAttributesForBar(e,t,r){var n;n=e.parked?y.Z.parkingLotToTimelineDates(e.startsOn,e.endsOn):{startDate:e.startsOn,endDate:e.endsOn},e.updateDatesWithinRoadmap({startsOn:n.startDate,endsOn:n.endDate});var a={parked:!1,laneId:t};return void 0!==r&&(a.sublaneId=r),e.update(a),{bar:e,payload:this.buildBarPayload(e,n)}}static buildBarPayload(e,t){var r=window.currentRoadmapable.timelineSettings().dateToUnitsForBarDateChange(t.startDate,t.endDate);return f()(e.getBarAttributesForUpdate(),r,{parked:!1,position_position:0,starts_on:t.startDate,ends_on:t.endDate})}static bulkMoveBars(e,t){return _(C().mark((function r(){var n,a,o,i,s,l,c;return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=x.sortBarsByDate(e),a=[],o=[],i=window.currentRoadmapable.findLane(t),s=i.lastSublaneId(),l=s+1,n.forEach((r=>{var n=void 0;r.isContained?r.isContained&&!e.some((e=>e.id===r.containerId))&&(r.updatePositioningAttributes({containerId:null,isContained:!1}),n=l,l+=1):(n=l,l+=1);var i=x.setTimelineAttributesForBar(r,t,n);o.push(i.bar),r.isContained||a.push(i.payload)})),g.default.publish("UPDATED_BARS",o),c=a.map((e=>{var t=Object.assign({},e);return delete t.legend_id,t})),r.prev=9,r.next=12,v.Z.updateBars(c);case 12:return r.abrupt("return",r.sent);case 15:r.prev=15,r.t0=r.catch(9),m.ProductPlan.requireRefresh(r.t0);case 18:case"end":return r.stop()}}),r,null,[[9,15]])})))()}static storeBulkUndoAction(e){m.ProductPlan.UndoQueue.redoAction=void 0,m.ProductPlan.UndoQueue.queuedCommands.push((()=>m.ProductPlan.roadmapManager.undoUpdateBars(e)))}static sortBarsByDate(e){return h()(e,(e=>e.startsOn||y.Z.parkingLotToTimelineDates(e.startsOn,e.endsOn).startDate))}static run(e){var t=this;return _(C().mark((function r(){var n,o,s,c,d,h,p,f,m,v;return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=[],o=u()(e,(e=>window.currentRoadmapable.findActiveBar(e))),r.next=4,t.findOrBuildDefaultLane();case 4:s=r.sent,c=l()(o,(e=>e.lane?e.lane.id:s.id)),d=0,h=Object.entries(c);case 7:if(!(d<h.length)){r.next=15;break}return p=b(h[d],2),f=p[0],m=p[1],v=i()(u()(m,(e=>(n.push(a()(e.getUndoAttributes())),e)))),r.next=12,t.bulkMoveBars(v,f);case 12:d++,r.next=7;break;case 15:x.storeBulkUndoAction(n);case 16:case"end":return r.stop()}}),r)})))()}}const L=x},72209:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),a=r.n(n),o=r(22314),i=r(76395),s=a().lazy((()=>Promise.all([r.e(540),r.e(39)]).then(r.bind(r,71039))));function l(e){return a().createElement(n.Suspense,{fallback:a().createElement(o.AjaxLoaderComponent,null)},a().createElement(s,e))}l.show=e=>i.Z.show(l,e)},90075:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o);function s(e){return a().createElement("span",{className:"icon-spacer ".concat(e.size)},e.children)}s.propTypes={children:i().element,size:i().string},s.defaultProps={size:"default"}},14371:(e,t,r)=>{"use strict";r.d(t,{uW:()=>c,e3:()=>H,Y2:()=>v,Kv:()=>h});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o);i().string,i().string,i().bool,i().func;var s=r(94184),l=r.n(s);function c(e){var t=l()({"content-card":!0,["content-card--".concat(e.type)]:"default"!==e.type,"content-card--highlight":e.highlight,"content-card--simple":e.simple});return a().createElement("div",{className:t},a().createElement("div",{className:"content-card__title"},e.title),e.children)}c.defaultProps={type:"default",highlight:!1,simple:!1},c.propTypes={title:i().string,type:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node]),highlight:i().bool,simple:i().bool};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=u((0,n.useState)(e.defaultValue),2),r=t[0],o=t[1];var i=l()({"options-toggle":!0,disabled:e.disabled});return a().createElement("label",{className:i},a().createElement("input",{className:"options-toggle__input",type:"checkbox",name:e.fieldName,value:e.values[1],checked:r===e.values[1],onChange:function(){var t=e.values.filter((e=>e!==r));o(t[0]),e.handleChange(t[0])},disabled:e.disabled}),a().createElement("span",{className:"options-toggle__label"},e.labels[0]),a().createElement("div",{className:"options-toggle__switch"}),a().createElement("span",{className:"options-toggle__label"},e.labels[1]))}h.propTypes={labels:i().array.isRequired,fieldName:i().string.isRequired,values:i().array.isRequired,handleChange:i().func.isRequired,defaultValue:i().string.isRequired,disabled:i().bool},h.defaultProps={disabled:!1};var p=r(39012);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=f((0,n.useState)(e.initialValue),2),r=t[0],o=t[1],i=t=>{o(parseInt(t)),"function"===typeof e.onChange&&e.onChange(t)};return a().createElement("label",{className:"number-input"},a().createElement("div",{className:"number-input__label"},e.label),a().createElement("input",{className:"number-input__input",type:"number",min:"1",step:"1",onChange:e=>{e.target.value>=1&&i(e.target.value)},value:r}),a().createElement("div",{className:"number-input__buttons"},a().createElement("button",{onClick:()=>i(r-1),className:"number-input__button",disabled:r<2},a().createElement(p.Z,{name:p.c.minus})),a().createElement("button",{onClick:()=>i(r+1),className:"number-input__button"},a().createElement(p.Z,{name:p.c.plus}))))}v.propTypes={label:i().string.isRequired,initialValue:i().number,onChange:i().func},v.defaultProps={initialValue:1};var g=r(30998),y=r.n(g),b=r(73935),w=r.n(b),C=r(55652);var E=r(78695),_=r(48098),x=r(86604),L=r(16149),P=r(57299);function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S.apply(this,arguments)}function k(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){k(o,n,a,i,s,"next",e)}function s(e){k(o,n,a,i,s,"throw",e)}i(void 0)}))}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R=a().forwardRef(((e,t)=>{var r={};return"number"===typeof e.top&&"number"===typeof e.scrollTop&&(r={top:e.top-e.scrollTop+36}),a().createElement("div",{ref:t,className:"palettes-popover",onClick:e=>e.stopPropagation(),style:r},a().createElement(_.ZP,e.colorPalettesProps))}));function A(e){var t=D((0,n.useState)(!1),2),r=t[0],o=t[1],i=(0,n.useRef)(null),s=(0,n.useRef)(null);function c(){return(c=T(O().mark((function t(r){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==r||!e.onDeleteLabel){t.next=7;break}return t.next=3,e.onDeleteLabel(e.label);case 3:return n=t.sent,t.abrupt("return",!1===n?r:n);case 7:if("function"!==typeof e.handleUpdateLabel){t.next=9;break}return t.abrupt("return",e.handleUpdateLabel(e.label.id,{name:r}));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t){"function"===typeof e.handleUpdateLabel&&(e.handleUpdateLabel(e.label.id,{palette_color_id:t.id}),o(!1))}a().useEffect((()=>{function e(e){r&&s.current&&!s.current.contains(e.target)&&!function(e){var t=document.getElementById("context-menu-component-container");return!(!t||!t.classList.contains("color-context-menu"))&&t.contains(e.target)}(e)&&o(!1)}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[r,s]);var d="hsl(".concat(C.ProductPlan.hexToHsl(e.label.hex),")"),h=C.ProductPlan.getContrastClasses(e.label.hex),f=l()({"label-item":!0,"label-item--reorderable":e.canReorder});return a().createElement("div",{className:f,"data-name":e.label.name,ref:i},e.canReorder&&a().createElement("span",S({"aria-hidden":!0,className:"label-item__reorder-icon","data-name":"label-item__drag-handle"},e.dragHandleProps),a().createElement(P.Z,{classes:"pp-icon",id:"grab_handle"})),e.canEdit?a().createElement("div",{className:"label-item__color-box",style:{backgroundColor:d},onClick:function(t){t.stopPropagation(),o(void 0!==e.label.id&&!r)}},a().createElement(p.Z,{classes:"label-color-caret ".concat(h),name:r?p.c.caretUp:p.c.caretDown})):a().createElement("div",{className:"label-item__color-box",style:{backgroundColor:d}}),e.canEdit?a().createElement(E.Z,{classes:"label-item__name",value:e.label.name,active:e.active,handleValueUpdate:function(e){return c.apply(this,arguments)}}):a().createElement("div",{className:"label-item__simple_name"},e.label.name),e.canEdit&&a().createElement("div",{className:"label-item__actions"},"function"===typeof e.handleUpdateLabel&&a().createElement(x.ZP,{label:L.Z.form.labels.DESCRIPTION,onSubmit:function(t){if("function"===typeof e.handleUpdateLabel)return e.handleUpdateLabel(e.label.id,{description:t})},descriptionValue:e.label.description,popoverConfig:{title:e.label.name,body:e.label.description},parentScrollRef:e.listRef}),"function"===typeof e.onDeleteLabel&&a().createElement("span",{className:"label-item__button-delete"},a().createElement(p.Z,{"aria-label":"Delete",name:p.c.trash,onClick:function(){return e.onDeleteLabel(e.label)}}))),function(){if(!r)return null;var t=Object.assign({},{selectedId:e.label.paletteColorId,onColorClick:u},e.colorPalettesProps);return a().createElement("div",{ref:s},a().createElement(R,{colorPalettesProps:t,label:e.label,top:i.current.offsetTop,scrollTop:e.scrollTop}))}())}R.propTypes={label:i().object.isRequired,colorPalettesProps:i().object,top:i().number,scrollTop:i().number},A.propTypes={label:i().object.isRequired,active:i().bool,onDeleteLabel:i().func,handleUpdateLabel:i().func,scrollTop:i().number,colorPalettesProps:i().object,canEdit:i().bool,canReorder:i().bool,dragHandleProps:i().any,listRef:i().any},A.defaultProps={active:!1,onDeleteLabel:null,handleUpdateLabel:()=>{},canReroder:!1,colorPalettesProps:{canAdd:!0,canDeleteCustomColor:!0,canEdit:!1,showSelectedState:!0,size:_.J7.small},dragHandleProps:{}};var j=r(31808);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U="label-list-dnd-portal";function G(e){var t=a().useRef(null),r=V(a().useState(0),2),o=r[0],i=r[1],s=e.canEdit,l=e.handleDeleteLabel,c=e.canReorder,u=V(a().useState(e.labels),2),d=u[0],h=u[1];function p(t,r){if("function"===typeof e.handleUpdateLabel)return e.handleUpdateLabel(e.type,t,r)}function f(t,r){if("function"===typeof e.handleUpdateLabelDescription)return e.handleUpdateLabelDescription(e.type,t,r)}(0,n.useEffect)((()=>h(e.labels)),[e.labels]),(0,n.useEffect)((()=>(function(){if(!document.getElementById(U)){var e=document.createElement("div");e.setAttribute("id",U),e&&document.body.appendChild(e)}}(),()=>{var e;(e=document.getElementById(U))&&e.parentNode.removeChild(e)})),[]);var m=(e,r,n)=>{var i=r.isDragging,u=((e,r)=>a().createElement("div",F({ref:e.innerRef},e.draggableProps,{style:e.draggableProps.style}),a().createElement(A,{key:r.id,label:r,onDeleteLabel:l,handleUpdateLabel:p,handleUpdateLabelDescription:f,scrollTop:o,canEdit:s,canReorder:c,listRef:t,dragHandleProps:e.dragHandleProps})))(e,n);return i?w().createPortal(u,document.querySelector("#".concat(U))):u};return a().createElement("div",{className:"label-list__items","data-name":"label-list__items",ref:t,onScroll:function(){i(t.current.scrollTop)}},a().createElement(j.Z5,{onDragEnd:function(t){if("function"===typeof e.handleReorderLabel&&"DROP"===(null===t||void 0===t?void 0:t.reason)){var r=t.draggableId,n=t.destination;return h(function(e,t,r){var n=[...e],a=y()(n,{id:parseInt(t,10)});if(a>=0){var o=n[a];n.splice(a,1),n.splice(r,0,o)}return n}(d,r,n.index)),e.handleReorderLabel(t)}}},a().createElement(j.bK,{droppableId:"label-list__droppable",direction:"vertical",isDropDisabled:!c},(e=>a().createElement("div",F({},e.droppableProps,{ref:e.innerRef}),d.map(((e,t)=>a().createElement(j._l,{key:e.id,draggableId:"".concat(e.id),index:t,isDragDisabled:!c},((t,r)=>m(t,r,e))))),e.placeholder)))),e.children)}function H(e){var t=V(a().useState(!1),2),r=t[0],n=t[1];return a().createElement("div",{className:"label-list"},e.showLabelTitle&&a().createElement("div",{className:"label-list__header",title:e.labelTitle},e.labelTitle),a().createElement(G,e,r&&a().createElement(A,{key:"new-label",label:{name:"New Label"},handleUpdateLabel:function(t,r){var a=N(N({},{name:"New Label"}),r);return n(!1),e.handleCreateLabel(e.type,a)},active:!0,canEdit:e.canEdit})),e.canAddLabels&&e.canEdit&&a().createElement("div",{className:"label-list__footer"},a().createElement("button",{className:"label-list__add",onClick:function(){n(!0)},disabled:r},a().createElement(p.Z,{name:p.c.plus}),a().createElement("span",null,"Add another label"))))}H.propTypes={labels:i().array.isRequired,labelTitle:i().string.isRequired,type:i().string.isRequired,handleDeleteLabel:i().func,handleUpdateLabel:i().func,handleUpdateLabelDescription:i().func,handleCreateLabel:i().func,handleReorderLabel:i().func,showLabelTitle:i().bool,canAddLabels:i().bool,canEdit:i().bool,canReorder:i().bool,newLabelPlaceholder:i().string},G.propTypes=N(N({},H.propTypes),{},{children:i().any}),H.defaultProps=G.defaultProps={canAddLabels:!0,showLabelTitle:!0,handleDeleteLabel:null,handleUpdateLabel:()=>{},handleUpdateLabelDescription:()=>{},handleCreateLabel:()=>{},handleReorderLabel:()=>{},canReorder:!1,canEdit:!0}},38565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(94184),l=r.n(s);r(40259);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends n.Component{constructor(e){super(e),c(this,"handleFieldChange",(e=>{this.props.onHandleChange(e),this.setState({fieldValue:e.target.value||""})})),this.state={fieldValue:e.value},this.textInput=a().createRef()}componentDidUpdate(e){if(e.value!==this.props.value&&this.state.fieldValue!==this.props.value)return this.setState({fieldValue:this.props.value})}renderRequiredorOptionalLabel(){var e=this.props,t=e.required,r=e.optional,n=e.id;return t?a().createElement("label",{htmlFor:n,className:"a-input__label"},this.props.label," ",a().createElement("span",{className:"required"},"*")):r?a().createElement("label",{htmlFor:n,className:"a-input__label"},this.props.label," ",a().createElement("span",{className:"optional"},"(optional)")):a().createElement("label",{htmlFor:n,className:"a-input__label"},this.props.label," ")}render(){var e=this.props,t=e.id,r=e.name,n=e.type,o=e.onHandleBlur,i=e.focus,s=e.error,c=l()({"has-error":s},"a-input__field"),u=l()({"has-error":s},"a-input__hint");return a().createElement("div",{className:"atlas-form-field a-input"},this.renderRequiredorOptionalLabel(),a().createElement("input",{className:c,id:t,name:r,placeholder:"",type:n,value:this.state.fieldValue,onBlur:o,onChange:this.handleFieldChange,autoFocus:i}),s&&a().createElement("div",{className:u},s.errorText))}}c(u,"propTypes",{id:i().string,error:i().shape({errorText:i().string.required}),label:i().string.isRequired,value:i().string,type:i().string.isRequired,name:i().string.isRequired,onHandleBlur:i().func,onHandleChange:i().func,required:i().bool,focus:i().bool,optional:i().bool}),c(u,"defaultProps",{value:"",onHandleChange:()=>{}});const d=u},2785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(55652),a=r(56264),o=r.n(a),i=r(74527),s=r(58909);function l(){l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,s,"next",e)}function s(e){c(o,n,a,i,s,"throw",e)}i(void 0)}))}}const d=class{static shiftX(e,t){return u(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==e.length&&0!==t){r.next=2;break}return r.abrupt("return",null);case 2:return r.next=4,i.default.managerRequests.shiftBar(window.currentRoadmapable.currentViewId,e,t).catch(n.ProductPlan.requireRefresh);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}static shiftLane(e,t){return u(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==e.length&&0!==t){r.next=2;break}return r.abrupt("return",null);case 2:return r.next=4,i.default.managerRequests.shiftLane(window.currentRoadmapable.currentViewId,e,t).catch(n.ProductPlan.requireRefresh);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}static updateBars(e){return u(l().mark((function t(){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,i.default.managerRequests.updateBars(window.currentRoadmapable.currentViewId,o().decamelizeKeys(e),{silent:!1,single_track:!1,action:"edited"});case 4:return r=t.sent,e.some((e=>e.hasOwnProperty("tag_list")))&&(r.data.bars.forEach((e=>{var t=window.currentRoadmapable.findBar(e.id);t&&t.setTags(e)})),s.default.publish("BULK_ADD_TAGS")),s.default.publish("BULK_UPDATE_BARS",r),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))()}static deleteBar(e){return u(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.managerRequests.deleteBar(e).catch(n.ProductPlan.requireRefresh);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()}static deleteBars(e){return u(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,i.default.managerRequests.deleteBars(e,window.currentRoadmapable.roadmapableId());case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}static undoDeleteBars(e){return u(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,i.default.managerRequests.undoDeleteBars(e,window.currentRoadmapable.roadmapableId()).catch(n.ProductPlan.requireRefresh);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))()}}},91650:(e,t,r)=>{"use strict";r.d(t,{Z:()=>An,p:()=>Mn});var n=r(11700),a=r.n(n),o=r(35161),i=r.n(o),s=r(91175),l=r.n(s),c=r(63105),u=r.n(c),d=r(18446),h=r.n(d),p=r(36968),f=r.n(p),m=r(50361),v=r.n(m),g=r(66678),y=r.n(g),b=r(27361),w=r.n(b),C=r(41609),E=r.n(C),_=r(22205),x=r.n(_),L=r(45697),P=r.n(L),O=r(67294),S=r.n(O),k=r(73935),T=r.n(k),D=r(94184),I=r.n(D),R=r(51793),A=r(84256),j=r(74527),M=r(63483),N=r(99449),B=r(38422);function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class V extends S().Component{constructor(e){super(e),this.mathSetup={centerX:V.width/2,centerY:V.height/2,radius:V.height/2-5,circumference:2*Math.PI,start:Math.PI/-2};var t={value:this.props.value};t.value=this.valueToString(t.value),this.state=t}componentDidMount(){void 0!==this.props.value&&this.updateCanvas()}UNSAFE_componentWillReceiveProps(e){var t=e.value;t!==this.state.value&&this.setState({value:this.valueToString(t)})}valueToString(e){return void 0===e?"":e.toString()}updateCanvas(){this.drawGrayBackgroundRing(),this.drawPercentComplete()}drawGrayBackgroundRing(){this.drawArc(V.gray,this.mathSetup.circumference,!0)}drawPercentComplete(){var e=E()(this.valueToString(this.props.value))||void 0===this.props.value?0:parseInt(this.props.value);this.drawArc(this.props.color,this.valToRadians(e),!1)}drawArc(e,t,r){var n=this.canvas.getContext("2d");r&&n.clearRect(0,0,V.width,V.height),n.beginPath(),n.lineWidth=6,n.lineCap="round",n.strokeStyle=e,n.arc(this.mathSetup.centerX,this.mathSetup.centerY,this.mathSetup.radius,this.mathSetup.start,t,!1),n.stroke()}valToRadians(e){var t=3.6*e;return t*=Math.PI/180,t+=this.mathSetup.start}render(){if(void 0===this.props.value)return null;var e={height:V.height,color:this.props.color};return S().createElement("div",{className:"graph-percent-complete",style:e},S().createElement("canvas",{className:"graph",height:V.height,width:V.width,ref:e=>{this.canvas=e}}),S().createElement("div",{className:"text"},S().createElement("div",{className:"percentage"},"".concat(this.props.value,"%")),S().createElement("div",{className:"complete"},"Complete")))}}F(V,"propTypes",{id:P().string,color:P().string.isRequired,value:P().number}),F(V,"gray","#E6E7E8"),F(V,"height",64),F(V,"width",64);const Z=V;var U=r(55652),G=r(93314);class H extends G.Z{constructor(){super({name:"name",ends_on:"ends_on",starts_on:"starts_on"})}buildPayload(e){return{name:e.name,ends_on:e.ends_on,starts_on:e.starts_on}}}const q=H;function W(){W=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function z(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function K(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){z(o,n,a,i,s,"next",e)}function s(e){z(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Y(e,t){return J.apply(this,arguments)}function J(){return(J=K(W().mark((function e(t,r){var n,a,o,i,s,l;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.currentRoadmapable.isMasterPlan()?window.currentRoadmapable.id:null,a=r.body,o=r.honeyPotValue,e.prev=2,window.showAJAXLoaderModal(),e.next=6,U.ProductPlan.roadmapManager.createComment({comment:{body:a,comment_user_ref:o,master_plan_id:n}},t);case 6:return l=e.sent,((null===l||void 0===l||null===(i=l.data)||void 0===i||null===(s=i.comment)||void 0===s?void 0:s.body)||"").match(/@\[(.*?)\]\(.*?\)/gim)&&window.dataLayer.push({event:"user_mentioned"}),e.abrupt("return",l);case 10:return e.prev=10,window.hideAJAXLoaderModal(),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,,10,13]])})))).apply(this,arguments)}function Q(e,t){return X.apply(this,arguments)}function X(){return(X=K(W().mark((function e(t,r){var n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,window.showAJAXLoaderModal(),e.next=4,U.ProductPlan.roadmapManager.updateBar(t,r);case 4:return n=e.sent,e.abrupt("return",{json:n});case 8:throw e.prev=8,e.t0=e.catch(0),(new q).mapErrors(e.t0);case 11:return e.prev=11,window.hideAJAXLoaderModal(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))).apply(this,arguments)}var ee=r(54228),te=r(19728),re=r(71441);function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ae extends S().Component{render(){return S().createElement(re.Z,this.props)}}ne(ae,"propTypes",re.Z.propTypes),ne(ae,"isUserPresent",null!=window.current_user),ne(ae,"defaultProps",{canAttachJiraIssue:ae.isUserPresent&&window.current_user.can_attach_jira_issue,isJiraAuthenticated:ae.isUserPresent&&window.current_user.jira_authentication_enabled,canAttachTrackerIssue:ae.isUserPresent&&window.current_user.can_attach_tracker_issue,isTrackerAuthenticated:ae.isUserPresent&&window.current_user.tracker_authentication_enabled,canAttachVstsIssue:ae.isUserPresent&&window.current_user.can_attach_vsts_issue,isVstsAuthenticated:ae.isUserPresent&&window.current_user.vsts_authentication_enabled,canAttachTrelloIssue:ae.isUserPresent&&window.current_user.can_attach_trello_issue,isTrelloAuthenticated:ae.isUserPresent&&window.current_user.trello_authentication_enabled,canAttachGithubIssue:ae.isUserPresent&&window.current_user.can_attach_github_issue,isGithubAuthenticated:ae.isUserPresent&&window.current_user.github_authentication_enabled,showActionGroup:!0,showConnectionsOption:!0,showDeleteAction:!0,showEffortEditOption:!0,showFieldVisibilityGroup:!0,showHistoryAction:!0,showPercentEditOption:!0,showStrategicImportantOption:!0,showCopyLink:!0,showPrioritizeAction:!0});const oe=ae;var ie,se,le,ce=r(57299),ue=r(39012),de=r(34844);class he extends S().Component{renderViewTypeAction(){return this.props.canEdit?S().createElement(ee.Z,{rootClose:!0,overlay:S().createElement(te.Z,{id:"toggle-mode-tooltip"},"Switch to ".concat(this.props.editMode?"view":"edit"," mode")),placement:"top"},S().createElement("div",{className:"modal-control-icon"},S().createElement(ce.Z,{classes:"toggle-view-mode",id:"switch-view-mode-icon",onClick:this.props.onEditMode}))):null}renderCommentsAction(){var e=this.props.canEdit?{padding:"0 15px"}:null;return this.props.commentsEnabled?S().createElement(ee.Z,{rootClose:!0,overlay:S().createElement(te.Z,{id:"toggle-comments-tooltip"},"".concat(this.props.commentsOpen?"Hide":"Show"," comments")),placement:"top"},S().createElement("div",{className:"modal-control-icon"},S().createElement(ue.Z,{classes:"toggle-comments",name:ue.c.comments,style:e,onClick:this.props.onCommentToggle}))):null}renderContextMenuAction(){if(!this.props.canEdit)return null;var e=this.props,t=e.bar,r=e.barFieldSettings,n=e.onContextDelete,a=e.onContextHistory,o=e.onContextPark,i=e.onContextPrioritize,s=e.onSendBarToOnClick,l=e.onVisibilityChange;return S().createElement(ee.Z,{rootClose:!0,overlay:S().createElement(te.Z,{id:"toggle-options-tooltip"},"Options"),placement:"top"},S().createElement("div",{className:"modal-control-icon"},S().createElement("div",{className:"toggle-context-menu"},S().createElement(oe,{bar:this.props.bar,barFieldSettings:r,showDatesEditOption:!t.parked,showHistoryAction:window.getLayout()!==de.Z.PARKING_LOT,showParkingLotAction:!t.parked,showPrioritizeAction:!0,onDeleteOnClick:n,onFieldVisibilityChange:l,onHistoryOnClick:a,onParkOnClick:o,onPrioritizeOnClick:i,onSendBarToOnClick:s}))))}render(){return S().createElement("div",{className:"pp-modal-controls"},this.renderViewTypeAction(),this.renderCommentsAction(),this.renderContextMenuAction())}}ie=he,se="propTypes",le={bar:P().object.isRequired,barFieldSettings:P().object,canEdit:P().bool.isRequired,commentsOpen:P().bool.isRequired,editMode:P().bool.isRequired,onCommentToggle:P().func.isRequired,onContextDelete:P().func.isRequired,onContextHistory:P().func.isRequired,onContextPark:P().func.isRequired,onContextPrioritize:P().func.isRequired,onEditMode:P().func.isRequired,onSendBarToOnClick:P().func.isRequired,onVisibilityChange:P().func.isRequired,commentsEnabled:P().bool.isRequired},se in ie?Object.defineProperty(ie,se,{value:le,enumerable:!0,configurable:!0,writable:!0}):ie[se]=le;const pe=he;var fe=r(13311),me=r.n(fe),ve=r(66923),ge=r(7736),ye=r(37437),be=r(96339),we=["value"];function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ce.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class xe extends S().Component{constructor(){super(...arguments),_e(this,"handleSync",(()=>{be.Z.handleSync(this.getBar(),this.fieldName(),this.props.onHandleFieldSync)}))}static translateEffort(e){return null===e?null:"size"===window.currentRoadmapable.effortType&&Number(e)>=3?"3":e}fieldName(){return"effort"}getBar(){return window.currentRoadmapable.findActiveBar(this.props.barId)}isInputDisabled(){return this.props.fieldSyncStatus===A.Ik.LOCKED}render(){var e=this.props,t=e.value,r=Ee(e,we),n=this.isInputDisabled(),a=(0,ye.$)(this.fieldName(),!0,this.props.barId,this.handleSync,this.props.fieldSyncStatus);return S().createElement("div",{className:"bar-field",id:"effort-field"},S().createElement(ge.Z.Input,Ce({disabled:n,clearable:!h()(t,"N/A")&&!h()(t,""),deleteRemoves:!1,escapeClearsValue:!1,labelKey:"name",name:"effort",options:this.props.options,searchable:!1,value:xe.translateEffort(t),valueKey:"id"},r)),a)}}_e(xe,"propTypes",{barId:P().number,options:P().array.isRequired,value:P().string,onHandleFieldSync:P().func,fieldSyncStatus:P().string}),_e(xe,"defaultProps",{fieldSyncStatus:A.Ik.NOT_VISIBLE});class Le extends S().Component{render(){var e=me()(this.props.options,(e=>e.id===this.props.value));return e?S().createElement("div",{className:"effort"},this.props.hasLabel&&S().createElement("span",null,"Effort: "),S().createElement("span",{className:"effort-name"},e.name)):null}}_e(Le,"propTypes",{options:P().array.isRequired,value:P().string,hasLabel:P().bool}),_e(Le,"defaultProps",{hasLabel:!0});const Pe=(0,ve.Z)(xe,Le);var Oe=r(8876),Se=r(23657),ke=r(63273),Te=r(77271),De=["barId","fieldName","fieldSyncStatus"];function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ie.apply(this,arguments)}function Re(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class je extends S().Component{constructor(){super(),Ae(this,"handleSync",(()=>{be.Z.handleSync(this.getBar(),this.props.fieldName,this.props.onHandleFieldSync)}))}getBar(){return window.currentRoadmapable.findActiveBar(this.props.barId)}render(){var e=this.props,t=e.barId,r=e.fieldName,n=e.fieldSyncStatus,a=Re(e,De),o=this.props.fieldSyncStatus===A.Ik.LOCKED,i=(0,ye.$)(r,this.props.editMode,t,this.handleSync,n);return S().createElement("div",{className:"bar-field",id:"".concat(this.props.fieldName,"-field")},S().createElement(Te.Z,Ie({disabled:o,editMode:this.props.editMode,id:this.props.id,label:this.props.fieldName,rows:this.props.rows,value:this.props.value},a)),i)}}Ae(je,"propTypes",{barId:P().number,editMode:P().bool.isRequired,onHandleFieldSync:P().func.isRequired,fieldName:P().string.isRequired,rows:P().number,label:P().string,value:P().string,id:P().string,fieldSyncStatus:P().string}),Ae(je,"defaultProps",{fieldSyncStatus:A.Ik.NOT_VISIBLE});const Me=je;var Ne=r(16689),Be=r.n(Ne),Fe=r(82723),Ve=r.n(Fe),Ze=r(81763),Ue=r.n(Ze),Ge=r(78718),He=r.n(Ge),qe=r(43557),We=r(51206),ze=r(24167),$e=r(19322),Ke=r.n($e);function Ye(){Ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Je(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Qe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Je(o,n,a,i,s,"next",e)}function s(e){Je(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Xe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class et extends S().Component{constructor(e){var t;super(e),t=this,Xe(this,"handleSync",Qe(Ye().mark((function e(){var r;return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props.fieldSyncStatus!==A.Ik.LOCKED,window.showAJAXLoaderModal(),e.prev=2,e.next=5,U.ProductPlan.roadmapManager.updateBar(t.props.barId,{jira_issue_synced:r});case 5:t.props.onHandleIssueSynced(window.currentRoadmapable.findActiveBar(t.props.barId).fieldSyncLockSettings.percent_complete);case 6:return e.prev=6,window.hideAJAXLoaderModal(),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[2,,6,9]])})))),Xe(this,"handleChange",(e=>{var t=e.target.value;return E()(this.valueToString(t))?t=this.valueToApi(t):(t=this.valueToApi(t),t=Math.min(Math.max(t,this.props.min),this.props.max)),e.target.id="percent_done",e.target.value=this.state.value,this.props.onChange(e,{value:t})})),Xe(this,"updateInputValue",(e=>{this.setState({value:e.target.value,sliderValue:this.valueToSliderValue(e.target.value)})})),this.mathSetup={centerX:et.width/2,centerY:et.height/2,radius:et.width/2-15,circumference:2*Math.PI,start:Math.PI/-2};var r=He()(e,"value");r.value=this.valueToString(r.value),r.sliderValue=this.valueToSliderValue(r.value),this.state=r}getBar(){return window.currentRoadmapable.findActiveBar(this.props.barId)}componentDidMount(){this.props.editMode||void 0!==this.props.value&&this.updateCanvas()}UNSAFE_componentWillReceiveProps(e){var t=e.value;t!==this.state.value&&this.setState({value:this.valueToString(t),sliderValue:this.valueToSliderValue(t)})}valueToString(e){return void 0===e?"":e.toString()}valueToApi(e){return Ue()(e)?e:E()(e)?void 0:parseInt(e)}valueToSliderValue(e){return E()(this.valueToString(e))||void 0===e?0:parseInt(e)}updateCanvas(){this.drawBaseCircumference(),this.loadPercent()}drawBaseCircumference(){this.drawArc(et.gray,this.mathSetup.circumference,!0)}loadPercent(){var e=this.valueToSliderValue(this.props.value);this.drawArc(this.props.color,this.valToRadians(e),!1)}drawArc(e,t,r){var n=this.canvas.getContext("2d");r&&n.clearRect(0,0,et.width,et.height),n.beginPath(),n.lineWidth=20,n.strokeStyle=e,n.arc(this.mathSetup.centerX,this.mathSetup.centerY,this.mathSetup.radius,this.mathSetup.start,t,!1),n.stroke()}valToRadians(e){var t=3.6*e;return t*=Math.PI/180,t+=this.mathSetup.start}render(){return this.props.editMode?this.renderEditMode():this.renderViewMode()}renderEditMode(){var e=this.props,t=e.id,r=e.label,n=e.validationState,a=Ve()(this.props,Be()(et.propTypes));(a=Ve()(a,["help","id","label","validationState"])).value=this.state.value,a.type="number",a.max=this.props.max,a.min=this.props.min,a.onBlur=this.handleChange,a.onChange=this.updateInputValue;var o=null;this.props.fieldSyncStatus!==A.Ik.NOT_VISIBLE&&(this.props.fieldSyncStatus===A.Ik.LOCKED&&(a.disabled="disabled"),o=S().createElement(ye.Z,{barId:this.props.barId,integrationField:"percent",fieldSyncStatus:this.props.fieldSyncStatus,onToggle:this.handleSync}));var i={change:this.updateInputValue,slideStop:this.handleChange,disabled:a.disabled,max:this.props.max,min:this.props.min,tooltip:"hide",value:this.state.sliderValue};return S().createElement(qe.Z,{className:"percent-done",controlId:t,validationState:n},S().createElement(We.Z,null,r),S().createElement("div",{className:"slider-combo"},S().createElement(Ke(),i),S().createElement(ze.Z,a),o))}renderViewMode(){if(void 0===this.props.value)return null;var e={width:et.width,height:et.height,color:this.props.color};return S().createElement("div",{className:"percent-complete",style:e},S().createElement("div",{className:"text"},S().createElement("div",{className:"percentage"},this.props.value),S().createElement("div",{className:"complete"},"% Complete")),S().createElement("canvas",{className:"graph",height:et.height,ref:e=>{this.canvas=e},width:et.width}))}}Xe(et,"propTypes",{id:P().string,label:P().string,validationState:P().any,barId:P().number.isRequired,color:P().string.isRequired,editMode:P().bool.isRequired,fieldSyncStatus:P().string,min:P().number,max:P().number,onHandleIssueSynced:P().func.isRequired,onChange:P().func,value:P().number}),Xe(et,"defaultProps",{max:100,min:0,value:void 0,fieldSyncStatus:A.Ik.NOT_VISIBLE}),Xe(et,"gray","#E6E7E8"),Xe(et,"height",200),Xe(et,"width",200);const tt=et;var rt=r(80008),nt=r.n(rt),at=r(35387),ot=r(2287);function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class st extends S().Component{constructor(e){super(e),it(this,"startsOnErrors",(()=>this.props.errors.starts_on||[])),it(this,"endsOnErrors",(()=>this.props.errors.ends_on||[])),it(this,"errorMessages",(()=>[...this.startsOnErrors(),...this.endsOnErrors()].join(", "))),it(this,"validationState",(()=>""!==this.errorMessages()?"error":null)),it(this,"handleSync",(()=>{be.Z.handleSync(this.getBar(),this.fieldName(),this.props.onHandleFieldSync)})),this.state={startDate:nt()(e.startDate),endDate:nt()(e.endDate)}}renderViewMode(){return S().createElement("div",{className:"view-bar-dates"},S().createElement("span",null,this.props.startDate),S().createElement("span",null," ","\u2014"," "),S().createElement("span",null,this.props.endDate))}fieldName(){return"dates"}getBar(){return window.currentRoadmapable.findActiveBar(this.props.barId)}renderEditMode(){var e=this.props.fieldSyncStatus===A.Ik.LOCKED;return S().createElement(ot.Z,{barData:this.props.barId,blockStyle:!1,disabled:e,endDateField:this.state.endDate,endsOnLimits:e=>at.Z.endsOnLimits(this.props.barId,e),errors:this.errorMessages(),fieldName:"bar",isValidEndDate:at.Z.isValidEndDate,isValidStartDate:at.Z.isValidStartDate,startDateField:this.state.startDate,startsOnLimits:e=>at.Z.startsOnLimits(this.props.barId,e),validationState:this.validationState,onChange:this.props.onChange})}render(){var e=this.props.editMode?this.renderEditMode():this.renderViewMode(),t=(0,ye.$)(this.fieldName(),this.props.editMode,this.props.barId,this.handleSync,this.props.fieldSyncStatus);return S().createElement("div",{className:"bar-field",id:"daterange-field"},e,t)}}it(st,"propTypes",{barId:P().oneOfType([P().object,P().number]).isRequired,editMode:P().bool.isRequired,endDate:P().string,errors:P().object,startDate:P().string,onChange:P().func.isRequired,onHandleFieldSync:P().func.isRequired,fieldSyncStatus:P().string}),it(st,"defaultProps",{fieldSyncStatus:A.Ik.NOT_VISIBLE});const lt=st;var ct=["value","onChange","onLaunchFormChange"];function ut(){ut=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dt.apply(this,arguments)}function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ft(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mt(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){mt(o,n,a,i,s,"next",e)}function s(e){mt(o,n,a,i,s,"throw",e)}i(void 0)}))}}function gt(e){return yt.apply(this,arguments)}function yt(){return(yt=vt(ut().mark((function e(t){var r,n;return ut().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.default.launches.getBarInformation(t);case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bt="Go to Launch";function wt(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S().createElement("div",null,S().createElement("div",null),S().createElement("div",t,e.name))}(e)}function Ct(e){if(e){var t="/launch/".concat(e.launch_id?e.launch_id:e);return S().createElement(ee.Z,{overlay:S().createElement(te.Z,{id:"launch-tooltip"},bt),placement:"bottom"},S().createElement("a",{href:t,className:"launch-a"},S().createElement(ue.Z,{classes:"launch-anchor","aria-hidden":"true",name:ue.c.rocket})))}return null}function Et(e){var t=e.value,r=e.onChange,n=e.onLaunchFormChange,a=ft(e,ct),o=ht((0,O.useState)(t),2),i=o[0],s=o[1],l=ht((0,O.useState)(!0),2),c=l[0],u=l[1],d=ht((0,O.useState)(null),2),h=d[0],p=d[1];function f(){return(f=vt(ut().mark((function t(){var r,n;return ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt(e.barId);case 2:return 0===(r=t.sent).launches.length&&u(!1),r.launch_connections.length>0&&(n=r.launch_connections[0],null==i&&s(n),p(n.id)),t.abrupt("return",{options:r.launches});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return c?S().createElement(qe.Z,{id:"launch-field"},S().createElement("div",{className:"product-launch-label"},S().createElement(We.Z,{htmlFor:"launchId"},"Product Launch"),Ct(i)),S().createElement(ge.Z.Input,dt({async:!0,id:"launchId",clearable:!0,deleteRemoves:!1,escapeClearsValue:!1,fieldName:"add_bar_to_launch",label:"Product Launch",labelKey:"name",name:"launchId",optionRenderer:wt,loadOptions:function(){return f.apply(this,arguments)},searchable:!1,valueKey:"launch_id",value:i,placeholder:"Add to Launch",searchPromptText:"",onChange:e=>{!function(e){s(e.target.value),r(e,e.target),n(e.target.value,h)}(e)}},a))):void 0}Et.propTypes={onChange:P().func.isRequired,barId:P().number.isRequired,onLaunchFormChange:P().func.isRequired,value:P().any};const _t=S().memo(Et);var xt=r(99411),Lt=r(34428);class Pt extends S().Component{render(){return S().createElement("form",{className:"details-dialog-form",id:this.props.id},this.props.children)}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Pt,"propTypes",{children:P().oneOfType([P().arrayOf(P().node),P().node]).isRequired,editMode:P().bool.isRequired,formData:P().object.isRequired,id:P().string.isRequired});const Ot=Pt;var St=r(49546),kt=r(88090),Tt=r(83424),Dt=r(12251);function It(){It=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Rt(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}class At extends S().Component{constructor(e){super(e),this.handleDeleteComment=this.handleDeleteComment.bind(this)}handleDeleteComment(){var e=this;this.props.onVisibilityChange();var t,r,n=this.props.barId;Lt.Z.show({title:"Delete Comment",message:"Do you want to delete this comment?",confirmButtonVariation:"danger",cancelCallback:this.props.onVisibilityChange,confirmCallback:(t=It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.showAJAXLoaderModal(),t.next=3,U.ProductPlan.roadmapManager.deleteComment(e.props.comment.id,n).finally((()=>{window.hideAJAXLoaderModal(),e.props.onVisibilityChange()}));case 3:case"end":return t.stop()}}),t)})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Rt(o,n,a,i,s,"next",e)}function s(e){Rt(o,n,a,i,s,"throw",e)}i(void 0)}))},function(){return r.apply(this,arguments)})})}render(){return S().createElement("li",{className:"comment",key:this.props.comment.id},S().createElement("div",{className:"header"},S().createElement("div",{className:"username"},this.props.comment.username),S().createElement("div",{className:"from-now"},nt()(this.props.comment.created_at).fromNow()),this.renderDeleteComment()),S().createElement("p",{className:"respect-newlines comment-text"},S().createElement(Dt.Z,{body:this.props.comment.body})))}renderDeleteComment(){var e=U.ProductPlan.currentUser();return e&&e.id===this.props.comment.user_id?S().createElement("div",{className:"delete-comment"},S().createElement(ue.Z,{name:ue.c.trashOutline,title:"Delete Comment",onClick:this.handleDeleteComment})):null}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(At,"propTypes",{barId:P().number.isRequired,comment:P().object.isRequired,onVisibilityChange:P().func.isRequired});const jt=At;var Mt=S().lazy((()=>Promise.resolve().then(r.bind(r,75562))));function Nt(e){return S().createElement(O.Suspense,{fallback:S().createElement("div",null,"Loading...")},S().createElement(Mt,e))}function Bt(){Bt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Ft(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ft(o,n,a,i,s,"next",e)}function s(e){Ft(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ut extends S().Component{static pastIntoInput(e,t){if(e.focus(),"number"===typeof e.selectionStart&&"number"===typeof e.selectionEnd){var r=e.value,n=e.selectionStart;e.value=r.slice(0,n)+t+r.slice(e.selectionEnd),e.selectionEnd=e.selectionStart=n+t.length}else if("undefined"!==typeof document.selection){var a=document.selection.createRange();a.text=t,a.collapse(!1),a.select()}}constructor(e){var t;super(e),t=this,Zt(this,"persistComment",Vt(Bt().mark((function e(){var r;return Bt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.state.body){e.next=2;break}return e.abrupt("return");case 2:return r={body:t.state.body,honeyPotValue:t.state.honeyPotValue},e.next=5,Y(t.props.barId,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))),Zt(this,"renderCollaborationTextArea",(()=>S().createElement(Nt,{honeypotId:"comment_user_ref",htmlId:"comment-body",placeholder:"Comment as ".concat(U.ProductPlan.currentUser().name),users:this.fetchUsers,value:this.state.body,onChange:this.handleChange,onHoneypotChange:this.handleHoneypotChange,onKeyDown:this.handleKeyDown}))),this.state={comments:[],body:"",honeyPotValue:void 0,submitting:!1},this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleHoneypotChange=this.handleHoneypotChange.bind(this)}componentDidMount(){var e=window.currentRoadmapable.findBarComments(this.props.barId).concat([]);this.setState({comments:e}),this.props.onSaveCallback&&this.props.onSaveCallback(this.persistComment)}canSubmit(){return!this.state.submitting}createComment(){var e=this;return Vt(Bt().mark((function t(){var r,n;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.body){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.persistComment();case 4:r=t.sent,n=r.data,e.setState({body:"",comments:e.state.comments.concat([n.comment]),submitting:!1});case 7:case"end":return t.stop()}}),t)})))()}fetchUsers(e,t){return Vt(Bt().mark((function r(){var n,a,o,i;return Bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={page_size:20,offset:0,query:e},r.next=3,j.default.roadmaps.permittedUsers(window.currentRoadmapable,n);case 3:a=r.sent,o=a.data,i=window.currentRoadmapable.isMasterPlan()?"master_plan_permitted_users":"roadmap_permitted_users",t(o[i].map((e=>({display:e.name,id:e.user_id}))));case 7:case"end":return r.stop()}}),r)})))()}handleKeyDown(e){var t=this;return Vt(Bt().mark((function r(){return Bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(13===e.keyCode){r.next=2;break}return r.abrupt("return");case 2:if(!e.shiftKey){r.next=6;break}Ut.pastIntoInput(e.target,"\n"),r.next=11;break;case 6:if(!t.canSubmit()){r.next=11;break}return r.next=9,t.setStateAsync({submitting:!0});case 9:return r.next=11,t.createComment();case 11:e.preventDefault(),e.stopPropagation();case 13:case"end":return r.stop()}}),r)})))()}setStateAsync(e){var t=this;return Vt(Bt().mark((function r(){return Bt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,new Promise((r=>t.setState(e,r)));case 2:case"end":return r.stop()}}),r)})))()}handleChange(e){this.setState({body:e.target.value})}handleHoneypotChange(e){this.setState({honeyPotValue:e.target.value})}renderComments(){var e=this.state.comments.map((e=>{if(e)return S().createElement(jt,{barId:this.props.barId,comment:e,key:e.id,onVisibilityChange:this.props.onVisibilityChange})}));return S().createElement("ul",{className:"comments-list"},e)}renderCommentBox(){return this.props.canMakeComment?this.renderCollaborationTextArea():null}render(){return this.props.visible?S().createElement("div",{className:"comments-panel"},S().createElement("div",{className:"header"},S().createElement("div",{className:"title"},"Comments")),this.renderComments(),this.renderCommentBox()):null}}Zt(Ut,"propTypes",{barId:P().number.isRequired,canMakeComment:P().bool.isRequired,visible:P().bool.isRequired,onCloseComments:P().func.isRequired,onVisibilityChange:P().func.isRequired,onSaveCallback:P().func.isRequired});const Gt=Ut;var Ht=r(85008),qt=r(65029);function Wt(){Wt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function zt(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function $t(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){zt(o,n,a,i,s,"next",e)}function s(e){zt(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Yt extends S().Component{static show(e){var t=$("#".concat(Yt.selector));0===t.length&&(t=$("<div id=".concat(Yt.selector,"></div>")),$("body").append(t));var r=x()({},this.defaultProps,e,{holder:t[0]});xt.Z.renderComponent(this,r,t)}static handleExit(){var e=$("#".concat(Yt.selector));e.length>0&&T().unmountComponentAtNode(e[0])}static handleSaveJiraIssue(e,t){return U.ProductPlan.jiraIssuesController.saveJiraIssue(e,t)}constructor(e){super(e),this.createNewJiraIssue=this.createNewJiraIssue.bind(this),this.handleSaveJiraIssue=Yt.handleSaveJiraIssue.bind(this)}componentDidMount(){this.openJiraModal()}componentDidUpdate(){this.openJiraModal()}componentWillUnmount(){var e=document.querySelector(".integration-create-resource-wrapper .modal-footer"),t=document.querySelector(".integration-create-resource-wrapper .create-jira-resource");e&&e.remove(),t&&t.remove()}closeJiraModal(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0)?"general":"integrations";this.props.onCreateIntegrationResourceClose(e)}openJiraModal(){var e=this;return $t(Wt().mark((function t(){var r,n;return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.showAJAXLoaderModal(),t.prev=1,t.next=4,j.default.jira.runUserMetadataJob();case 4:return t.next=6,j.default.jira.newIssue(e.props.barId,e.props.formData);case 6:r=t.sent,n=r.data,e.showJiraModal(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.jiraMetadataSyncError(t.t0);case 14:return t.prev=14,window.hideAJAXLoaderModal(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])})))()}showJiraModal(e){U.ProductPlan.jiraIssuesController.modal(e,this.createNewJiraIssue,this.props.onCreateIntegrationResourceClose)}createNewJiraIssue(e){var t=this;return $t(Wt().mark((function r(){var n,a;return Wt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return window.showAJAXLoaderModal(),r.prev=1,r.next=4,Yt.handleSaveJiraIssue(t.props.barId,e);case 4:return n=r.sent,a={name:n.data.summary,url:n.data.url},r.next=8,qt.Z.createJiraLink(t.props.barId,a);case 8:t.props.onLinkAdded(),t.closeJiraModal();case 10:return r.prev=10,$("form#new_jira_issue .btn.btn-success.save").removeClass("disabled"),window.hideAJAXLoaderModal(),r.finish(10);case 14:case"end":return r.stop()}}),r,null,[[1,,10,14]])})))()}jiraMetadataSyncError(e){var t,r=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status;401===r?this.props.onJiraAuthenticationChange(!1):this.props.onJiraSyncError(),this.closeJiraModal(r)}render(){return null}}Kt(Yt,"propTypes",{barId:P().number.isRequired,formData:P().object.isRequired,onJiraAuthenticationChange:P().func.isRequired,onJiraSyncError:P().func.isRequired,onLinkAdded:P().func.isRequired,onVisibilityChange:P().func.isRequired,onCreateIntegrationResourceClose:P().func,editMode:P().bool}),Kt(Yt,"selector","bar-details-jira-modal-mount");const Jt=Yt;function Qt(e){var t=e.label,r=e.value,n=e.customKey;return r?S().createElement(qe.Z,{controlId:n},S().createElement(We.Z,null,t),S().createElement("p",{id:n,className:"respect-newlines"},r),S().createElement("hr",{className:"paragraph-separator"})):null}function Xt(e){var t=e.field,r=e.label,n=e.fieldSyncStatus,a=e.onHandleFieldSync,o=e.fieldName,i=e.barId,s=t.onChange;return S().createElement(Me,{editMode:!0,id:t.id,label:r,rows:1,value:t.value,onChange:s,htmlFor:t.id,fieldSyncStatus:n,onHandleFieldSync:a,fieldName:o,barId:i})}Qt.propTypes={label:P().string.isRequired,customKey:P().string.isRequired,value:P().string},Xt.propTypes={field:P().object.isRequired,label:P().string.isRequired,fieldSyncStatus:P().string,onHandleFieldSync:P().func,fieldName:P().string,barId:P().number};var er={string:Qt},tr={string:Xt};function rr(e){var t=e.customAttributes;return Object.keys(t||{}).map((e=>{var r=t[e];return S().createElement(er[r.type_name],{key:r.key,customKey:r.key,label:r.label,value:r.value})}))}function nr(e){var t=e.formData,r=e.fieldSyncStatus,n=e.onHandleFieldSync,a=e.barId;return Object.keys(t.data.fields||{}).map((e=>{var o,i=t.data.fields[e],s=Object.entries(r);return o=s.length>0?s.filter((e=>e[0]===i.key))[0][1]:A.Ik.NOT_VISIBLE,S().createElement(tr[i.type_name],{key:i.key,label:i.label,field:t.fieldFor("fields.".concat(i.key)),fieldSyncStatus:o,onHandleFieldSync:n,fieldName:i.key,barId:a})}))}var ar=r(87195),or=r(49381);function ir(e){var t=e.integrations,r=e.barId,n=e.editMode,a=e.onVisibilityChange,o=e.onLinkDeleted,i=window.currentRoadmapable.findActiveBar(r).links.filter((e=>e.type!==A.Un.WEBLINK)),s=(0,or.p)(i,r,n,a,o);return S().createElement("div",{className:"empty-integrations"},S().createElement("div",{className:"icons-row"},(0,ar.EW)(t)),(0,ar.uY)(),i.length>0&&S().createElement("div",{className:"interegation-links"},S().createElement("div",{className:"links-table"},s)))}ir.propTypes={integrations:P().array.isRequired,barId:P().number,editMode:P().bool,onVisibilityChange:P().func,onLinkDeleted:P().func};var sr=r(25325),lr=r.n(sr),cr=r(91966),ur=r.n(cr);var dr=e=>{var t=e.integration,r="jira"===t.short_name||"vsts"===t.short_name;return S().createElement("div",{className:"integration-list-item"},S().createElement("div",{className:"integration-name-wrapper"},S().createElement("div",null,S().createElement(Tt.Z,{id:"".concat(t.short_name,"-color-icon")})),S().createElement("div",null,"".concat(t.display_name))),S().createElement("div",{className:"integration-action-wrapper"},S().createElement("a",{className:"integration-link-action integration-action-button link-".concat(t.short_name),onClick:()=>e.onLinkToIntegrationResource(t.short_name)},S().createElement("span",null,"Link existing")),r&&S().createElement("a",{onClick:()=>e.onCreateIntegrationResource(t.short_name),className:"integration-create-action integration-action-button create-".concat(t.short_name)},S().createElement("span",null,"Create new"))))};dr.propTypes={integration:P().object.isRequired,barId:P().number.isRequired,onLinkAdded:P().func,onWebLinkAdded:P().func,onVisibilityChange:P().func,onLinkToIntegrationResource:P().func,onCreateIntegrationResource:P().func};var hr=r(91425),pr=r(79881);var fr=r(98533);function mr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return vr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gr(e){var t,r,n,a,o,i=e.editMode,s=e.barId,l=window.currentRoadmapable.findActiveBar(s),c=l.links.filter((e=>e.type!==A.Un.WEBLINK)),u=mr(S().useState(U.ProductPlan.loggedIn()&&!U.ProductPlan.currentUser().link_how_to_sync_bar_fields_info_read),2),d=u[0],h=u[1],p=()=>{j.default.customActions.updateLinkHowToSyncBarFieldsMessageRead(),U.ProductPlan.currentUser().link_how_to_sync_bar_fields_info_read=!0,h(!1)},f=(e,t)=>{return((e,t)=>l.links.length>0&&e.length>0&&t.length>0)(e,t)?(r=1===e.length?"Links on this bar will not sync until the Roadmap Owner has configured ".concat(pr.$.getIntegrationName(e[0])):"Some integrations cannot sync until the Roadmap\u2019s Owner configures their mappings",S().createElement("div",{className:"link-wont-sync-warning"},S().createElement(hr.LinkWontSyncMessage,{message:r}))):null;var r};return S().createElement("div",{className:"integrations-links-list links-component"},S().createElement("div",{className:"integrations-messages"},l.links.length>0&&d&&i&&S().createElement("div",{id:"new-bar-link-info"},S().createElement(hr.NewBarLinkAddedSyncInfoMessage,{onDismiss:p})),window.currentRoadmapable.ownerId!==(null===(o=window.current_user)||void 0===o?void 0:o.id)&&i&&(t=pr.$.getOwnerAndUserIntegrations(),r=c.map((e=>(0,fr.c)(e.type))),n=ur()(t.currentUserIntegrations,t.ownerIntegrations),a=lr()(r,n),f(a,n)),l.hasDeadLinks()&&(l.hasDeadLinks()||i?S().createElement("div",{id:"bar-dead-link-info"},S().createElement(hr.BarWithDeadLinkMessage,{integrationName:l.deadLinkSyncIntegrationName()})):null)),S().createElement("div",{className:"integrations-list-actions"},e.enabledIntegrations.map((t=>S().createElement(dr,{key:"".concat(t.short_name,"-list-item"),integration:t,barId:s,onLinkAdded:e.onLinkAdded,onWebLinkAdded:e.onWebLinkAdded,onVisibilityChange:e.onVisibilityChange,onLinkToIntegrationResource:e.onLinkToIntegrationResource,onCreateIntegrationResource:e.onCreateIntegrationResource})))),c.length>0&&S().createElement("div",{className:"links-table"},(0,or.p)(c,s,i,e.onVisibilityChange,e.onLinkDeleted)))}gr.propTypes={barId:P().number.isRequired,onLinkAdded:P().func,onWebLinkAdded:P().func,onVisibilityChange:P().func,editMode:P().bool,enabledIntegrations:P().array,onLinkDeleted:P().func,onLinkToIntegrationResource:P().func,onCreateIntegrationResource:P().func};var yr=r(65943);function br(){return br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},br.apply(this,arguments)}function wr(e){var t,r,n=(t=window.current_user.integrations,r=["ms_teams","slack","vimeo"],Object.entries(t).filter((e=>!r.includes(e[0]))).map((e=>e[1])).sort(((e,t)=>(0,yr.XQ)(e,t,"display_name")))),a=n.filter((e=>e.enabled));return S().createElement("div",{className:"bar-details-integrations"},a.every((e=>!e.enabled))?S().createElement(ir,br({integrations:n},e)):S().createElement(gr,br({enabledIntegrations:a},e)))}wr.propTypes={barId:P().number.isRequired,onLinkAdded:P().func,onWebLinkAdded:P().func,onVisibilityChange:P().func,editMode:P().bool,onLinkDeleted:P().func,onLinkToIntegrationResource:P().func,onCreateIntegrationResource:P().func};var Cr=r(53046),Er=r(48414);function _r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class xr extends S().Component{constructor(){super(...arguments),_r(this,"state",{fields:{linkName:"",linkUrl:""}}),_r(this,"addWebLink",(()=>{this.props.onWebLinkAdded()})),_r(this,"makeLogCallback",(()=>{(0,Er.logPageAction)("WebLink created",{barId:this.props.barId,source:"bar details dialog",view:this.currentViewName}),this.addWebLink()}))}componentDidMount(){try{this.currentViewName=U.ProductPlan.currentUser().preferences.layout[window.currentRoadmapable.currentViewId]}catch(e){throw this.currentViewName="undefined",e}}render(){var e=this.props,t=e.links,r=e.barId,n=e.editMode,a=e.onVisibilityChange,o=e.onLinkDeleted,i=(0,or.p)(t,r,n,a,o);return this.props.editMode||i.length?S().createElement("div",{className:"links-component",id:this.props.id},S().createElement("div",{className:"header"},S().createElement(Cr.Z,{addLink:this.makeLogCallback,barId:this.props.barId,fields:this.state.fields,hideCallback:()=>{},isVerticalForm:!1})),i.length>0&&S().createElement("div",{className:"links-table"},i)):null}}_r(xr,"propTypes",{links:P().array,barId:P().number.isRequired,editMode:P().bool.isRequired,id:P().oneOfType([P().string,P().number]).isRequired,onVisibilityChange:P().func.isRequired,onWebLinkAdded:P().func.isRequired,onLinkDeleted:P().func});const Lr=xr;function Pr(e){var t=window.currentRoadmapable.findActiveBar(e.barId).links.filter((e=>e.type===A.Un.WEBLINK));return S().createElement(S().Fragment,null,S().createElement("div",{className:"pane-title"},e.title),S().createElement(Lr,{links:t,barId:e.barId,editMode:e.editMode,id:"links",onVisibilityChange:e.onVisibilityChange,onWebLinkAdded:e.onWebLinkAdded,onLinkDeleted:e.onLinkDeleted}))}Pr.prototypes={title:P().string.isRequired};var Or=r(33365),Sr=r(60431);function kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Tr extends S().Component{constructor(){super(...arguments),kr(this,"state",{fields:{linkName:"",linkUrl:""}}),kr(this,"addConnection",(()=>{this.props.onConnectionAdded()}))}componentDidMount(){try{this.currentViewName=U.ProductPlan.currentUser().preferences.layout[window.currentRoadmapable.currentViewId]}catch(e){throw this.currentViewName="undefined",e}}render(){var e=Dr(this.props);return this.props.editMode||e.length?S().createElement("div",{className:"connections-component",id:this.props.id},S().createElement("div",{className:"header"},S().createElement(Sr.Z,{title:"Add a Connection",bar:window.currentRoadmapable.findActiveBar(this.props.barId),onUpdate:this.props.onConnectionAdded,onVisibilityChange:()=>{}})),e.length>0&&S().createElement("div",{className:"links-table"},e)):null}}kr(Tr,"propTypes",{connections:P().object,barId:P().number.isRequired,editMode:P().bool.isRequired,id:P().oneOfType([P().string,P().number]).isRequired,onVisibilityChange:P().func.isRequired,onConnectionAdded:P().func.isRequired});var Dr=e=>{var t=e.connections;return[...t.dependents,...t.dependencies].map((t=>S().createElement(Or.Z,{barId:e.barId,connection:t,editMode:e.editMode,key:t.id,onVisibilityChange:e.onVisibilityChange,renderAsTable:!0})))};const Ir=Tr;var Rr=r(59111);function Ar(e){var t=window.currentRoadmapable.findActiveBar(e.barId),r={dependents:Rr.Z.fetchDependentConnections(t),dependencies:Rr.Z.fetchDependencyConnections(t)};return e.editMode||r.dependents.length||r.dependencies.length?S().createElement(S().Fragment,null,S().createElement("div",{className:"pane-title"},e.title),S().createElement(Ir,{connections:r,barId:e.barId,editMode:e.editMode,id:"connetions",onVisibilityChange:e.onVisibilityChange,onConnectionAdded:e.onConnectionAdded})):null}Ar.prototypes={title:P().string.isRequired};var jr=r(93714),Mr=r(92122),Nr=r(53668),Br=r(87651),Fr=r(1861),Vr=r(59704),Zr=r.n(Vr),Ur=r(75472),Gr=r.n(Ur),Hr=r(93128),qr=r(50308),Wr=r.n(qr),zr=r(65701),$r=r(97846),Kr=r(87850);function Yr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Jr extends S().Component{constructor(e){super(e),Yr(this,"handleSubmit",(e=>{this.props.onSubmit(e)})),Yr(this,"handleProjectChange",(e=>{this.props.onProjectChange(e)})),Yr(this,"handleSubmitOnEnter",(e=>{13==e.which&&this.handleSubmit(e)})),Yr(this,"formatWorkItemTypeOption",(e=>{var t=$(e.element).data("icon");return t?"<img style='margin-right: 5px; margin-top: -3px' width='15' height='15' src='"+t+"'>"+e.text:e.text})),Yr(this,"handleDescriptionChange",(e=>{this.setState({description:e})})),this.compRefs={},this.state={description:this.barPropertyValue("description")||""}}setOnShownRefs(e,t){this[e]=t,this.compRefs[e]=t}classes(){return I()({"center-block":!0},this.props.additionalClasses)}form(){return $(this.NewAzureDevOpsWorkItemForm)}formData(){return xt.Z.getFormData(this.form())}barPropertyValue(e){if(this.props.bar)return this.props.bar[e]}render(){var e=this.props,t=e.projects,r=e.selectedProjectId,n=e.workItemTypes,a=e.workItemTypeSelectedId,o=e.onWorkItemTypeChange;return S().createElement("form",{className:this.classes(),id:this.props.formId,ref:e=>{this.setOnShownRefs("NewAzureDevOpsWorkItemForm",e)},onSubmit:this.handleSubmit},S().createElement(Kr.Z,{allowClear:!1,key:"project_id",inputId:"project_id",inputName:"project_id",label:"Project",options:t,placeholder:"Select a Azure DevOps Project",onChange:this.handleProjectChange,selectionClass:"project-options",value:r,width:"100%"}),S().createElement(Kr.Z,{allowClear:!1,key:"work_item_type",inputId:"work_item_type",inputName:"work_item_type",label:"Work Item Type",formatSelection:this.formatWorkItemTypeOption,formatResult:this.formatWorkItemTypeOption,options:n,placeholder:"Loading Work Item Types...",onChange:o,selectionClass:"work-item-type-options",value:a,width:"100%"}),S().createElement(zr.Z,{errors:this.props.errors.title,key:"title",inputId:"title",inputName:"title",isRequired:!0,label:"Title",ref:e=>{this.setOnShownRefs("name",e)},value:this.barPropertyValue("name"),onKeyDown:this.handleSubmitOnEnter}),S().createElement($r.Z,{key:"description",inputId:"description",inputName:"description",label:"description",ref:e=>{this.setOnShownRefs("description",e)},rows:2,value:this.state.description,onChange:this.handleDescriptionChange}))}}Yr(Jr,"propTypes",{formId:P().string.isRequired,onClose:P().func.isRequired,onSubmit:P().func.isRequired,bar:P().object.isRequired,errors:P().object,projects:P().array,selectedProjectId:P().string,onProjectChange:P().func.isRequired,workItemTypes:P().array,workItemTypeSelectedId:P().string,onWorkItemTypeChange:P().func.isRequired,additionalClasses:P().object,editMode:P().bool}),Yr(Jr,"defaultProps",{errors:Wr()()});const Qr=Jr;var Xr=r(78318);function en(e){var t=e.primaryButtonName,r=e.onPrimaryButtonClick,n=e.secondaryButtonName,a=e.onSecondaryButtonClick;return e.editMode?S().createElement(kt.Z.Footer,null,S().createElement(Xr.Z,{bsStyle:"success",onClick:r},t),S().createElement(Xr.Z,{onClick:a},n)):null}function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tn.apply(this,arguments)}function rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(r),!0).forEach((function(t){ln(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function an(){an=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function on(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function sn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){on(o,n,a,i,s,"next",e)}function s(e){on(o,n,a,i,s,"throw",e)}i(void 0)}))}}function ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}en.propTypes={primaryButtonName:P().string.isRequired,onPrimaryButtonClick:P().func.isRequired,secondaryButtonName:P().string.isRequired,onSecondaryButtonClick:P().func.isRequired,editMode:P().bool.isRequired};class cn extends S().Component{constructor(){var e;super(...arguments),e=this,ln(this,"state",{errors:{}}),ln(this,"projectSelectBoxSourceHandler",(e=>{var t=e.data,r=Gr()(t.projects,[e=>e.name.toLowerCase()],["asc"]);return r.length>0?{sortedOptions:r,selectedOption:Zr()(r,(e=>e.id===window.current_user.vsts_recent_project))?window.current_user.vsts_recent_project:r[0].id}:{}})),ln(this,"handleProjectChange",function(){var t=sn(an().mark((function t(r){var n,a,o,i;return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.target.value,e.setState({selectedProjectId:n}),window.showAJAXLoaderModal(),t.prev=3,t.next=6,e.loadWorkItemTypes(n);case 6:a=t.sent,o=a.workItemTypes,i=a.workItemTypeSelectedId,e.setState({workItemTypes:o,workItemTypeSelectedId:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),e.onRequestFailure(t.t0);case 15:return t.prev=15,window.hideAJAXLoaderModal(),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e){return t.apply(this,arguments)}}()),ln(this,"handleWorkItemTypeChange",(e=>{var t=e.val;this.setState({workItemTypeSelectedId:t})})),ln(this,"handleClose",(()=>this.props.onCreateIntegrationResourceClose())),ln(this,"handleSubmit",(e=>{e&&e.preventDefault();var t=$(this.workItemForm.form());if(t.find("button#bar-modal-submit").hasClass("disabled"))return!1;var r={};t.serializeArray().forEach((e=>{E()(e.name)||(r[e.name]=e.value)})),this.isFormDataValid(r)&&this.saveWorkItem(r)})),ln(this,"isFormDataValid",(e=>!(!e.title||0===e.title.trim().length)||(this.setState({errors:{title:{message:"Please enter a title."}}}),!1))),ln(this,"saveWorkItem",function(){var t=sn(an().mark((function t(r){var n,a,o,i,s;return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.barId,(a=$(e.workItemForm.form())).find("button#bar-modal-submit").addClass("disabled"),window.showAJAXLoaderModal(),t.prev=4,t.next=7,j.default.azureDevOps.createWorkItem(n,r);case 7:return o=t.sent,i=o.data,s={name:i.name,url:i.url},t.next=12,qt.Z.createVstsLink(n,s);case 12:e.props.onLinkAdded(),e.handleClose(),t.next=20;break;case 16:t.prev=16,t.t0=t.catch(4),Hr.Z.unsuccessful("Add to ADO","Error while trying to add to Azure DevOps. Please try again later."),console.log(t.t0);case 20:return t.prev=20,a.find("button#bar-modal-submit").removeClass("disabled"),window.hideAJAXLoaderModal(),t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[4,16,20,24]])})));return function(e){return t.apply(this,arguments)}}())}componentDidMount(){this.initialLoad()}initialLoad(){var e=this;return sn(an().mark((function t(){var r,n,a,o,i,s;return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.showAJAXLoaderModal(),t.prev=1,t.next=4,e.loadProjects();case 4:return r=t.sent,n=r.projects,a=r.selectedProjectId,t.next=9,e.loadWorkItemTypes(a);case 9:o=t.sent,i=o.workItemTypes,s=o.workItemTypeSelectedId,e.setState({selectedProjectId:a,projects:n,workItemTypes:i,workItemTypeSelectedId:s}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),e.onRequestFailure(t.t0);case 18:return t.prev=18,window.hideAJAXLoaderModal(),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[1,15,18,21]])})))()}loadProjects(){var e=this;return sn(an().mark((function t(){var r,n,a,o;return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.default.azureDevOps.getProjects();case 2:return r=t.sent,n=e.projectSelectBoxSourceHandler(r),a=n.selectedOption,o=n.sortedOptions.map((e=>nn(nn({},e),{},{key:e.id}))),t.abrupt("return",{projects:o,selectedProjectId:a});case 7:case"end":return t.stop()}}),t)})))()}loadWorkItemTypes(e){return sn(an().mark((function t(){var r,n,a,o;return an().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.default.azureDevOps.getWorkItemTypes(e);case 2:return r=t.sent,n=r.data.work_item_types.map((e=>nn(nn({},e),{},{key:e.reference_name,id:e.reference_name}))),a=n.find((e=>"Epic"===e.name)),o=void 0!==a?a.key:n[0].key,t.abrupt("return",{workItemTypes:n,workItemTypeSelectedId:o});case 7:case"end":return t.stop()}}),t)})))()}onRequestFailure(e){console.log(e),U.ProductPlan.requireRefresh(e)}render(){var e=U.ProductPlan.getBar(this.props.barId),t=this.state,r=t.selectedProjectId,n=t.projects,a=t.workItemTypes,o=t.workItemTypeSelectedId;return S().createElement(S().Fragment,null,S().createElement("div",{className:"create-vsts-resource container-fluid"},S().createElement("div",{className:"row"},S().createElement("div",{className:"create-resource-header col-sm-12"},"Create new work item")),S().createElement("div",{className:"row"},S().createElement("div",{className:"col-sm-12"},S().createElement(Qr,tn({bar:e,errors:this.state.errors,onClose:this.handleClose,formId:"new_ado_work_item",ref:e=>{this.workItemForm=e},onSubmit:this.handleSubmit,selectedProjectId:r,projects:n,workItemTypes:a,workItemTypeSelectedId:o,onWorkItemTypeChange:this.handleWorkItemTypeChange,onProjectChange:this.handleProjectChange},this.props))))),S().createElement(en,{primaryButtonName:"Create Work Item",onPrimaryButtonClick:this.handleSubmit,secondaryButtonName:"Cancel",onSecondaryButtonClick:this.handleClose,editMode:this.props.editMode}))}}ln(cn,"propTypes",{barId:P().number.isRequired,onLinkAdded:P().func.isRequired,onVisibilityChange:P().func.isRequired,onVstsAuthenticationChange:P().func,onCreateIntegrationResourceClose:P().func,editMode:P().bool});const un=cn;var dn="Strategic Importance",hn="Description",pn="Notes",fn="Tags",mn="Effort",vn="Launch";function gn(e){var t,r,n,a,o,i,s,l,c,u,d=e.startDate,h=e.roadmapableId,p=e.formData,f=e.barFieldSettings,m=e.endDate,v=new R.Z(e.endDate).endOfDayApiFormatted(),g="".concat(d," \u2013 ").concat(v);function y(){if(!Number.isInteger(p.fieldFor("legend_id").value))return null;var e=window.currentRoadmapable.legendTitle;return S().createElement("div",{className:"details-summary--row",key:"legend",id:"legend"},S().createElement("span",{className:"details-summary--label"},"".concat(e,": ")),S().createElement("span",{className:"details-summary--value"},S().createElement(Oe.Z,{editMode:!1,field:p.fieldFor("legend_id"),label:e,options:window.currentRoadmapable.legendOptions(h)})))}return S().createElement(S().Fragment,null,0===(u=[f.datesVisible?""===m||""===d?null:S().createElement("div",{className:"details-summary--row",key:"dates",id:"dates"},S().createElement("span",{className:"details-summary--label"},"Dates: "),S().createElement("span",{className:"details-summary--value"},g)):null,y(),...(c=p.fieldFor("custom_label_assignments").value,window.currentRoadmapable.customLabelGroups.map((e=>{var t=e.labels.find((t=>t.id===c[e.id]));return t?S().createElement("div",{className:"details-summary--row",key:t.id},S().createElement("span",{className:"details-summary--label"},"".concat(e.name,": ")),S().createElement("span",{className:"details-summary--value"},S().createElement(Oe.Z,{editMode:!1,field:p.fieldFor("custom_label_assignments.".concat(e.id)),label:e.name,options:e.labels.map((e=>{var t;return{id:e.id,name:e.name,color:yn(null===(t=e.paletteColor)||void 0===t?void 0:t.hex)}}))}))):null}))),p.fieldFor("effort").value&&f.effortVisible?window.currentRoadmapable.isMasterPlan()?null:S().createElement("div",{className:"details-summary--row",key:"effort",id:"effort"},S().createElement("span",{className:"details-summary--label"},"".concat(mn,":")),S().createElement("span",{className:"details-summary--value"},S().createElement(Pe,{editMode:!1,field:p.fieldFor("effort"),options:window.currentRoadmapable.effortOptions(),onHandleFieldSync:()=>{},hasLabel:!1}))):null]).filter(Boolean).length?null:S().createElement("div",{className:"details-summary"},u),(null===(t=p.data)||void 0===t?void 0:t.description)&&S().createElement("div",{className:"summary-item",id:"description"},S().createElement("div",{className:"summary-item--label"},hn),S().createElement("div",{className:"summary-item--value"},null===(r=p.data)||void 0===r?void 0:r.description)),null!==(s=p.data)&&void 0!==s&&s.strategic_value&&f.strategicImportanceVisible?S().createElement("div",{className:"summary-item",id:"strategic_importance"},S().createElement("div",{className:"summary-item--label"},dn),S().createElement("div",{className:"summary-item--value"},null===(l=p.data)||void 0===l?void 0:l.strategic_value)):null,(null===(n=p.data)||void 0===n?void 0:n.notes)&&S().createElement("div",{className:"summary-item",id:"notes"},S().createElement("div",{className:"summary-item--label"},pn),S().createElement("div",{className:"summary-item--value"},null===(a=p.data)||void 0===a?void 0:a.notes)),p.data.fields.value?null:S().createElement(rr,{customAttributes:p.data.fields}),(null===(o=p.data)||void 0===o?void 0:o.tag_list)&&S().createElement("div",{className:"summary-item",id:"tags"},S().createElement("div",{className:"summary-item--label"},fn),S().createElement("div",{className:"summary-item--value"},S().createElement(ke.Z,{barId:e.barId,editMode:!1,value:null===(i=p.data)||void 0===i?void 0:i.tag_list,onChange:()=>{},onHandleFieldSync:()=>{}}))),e.launchInformation&&S().createElement("div",{className:"summary-item",id:"launch"},S().createElement("div",{className:"summary-item--label"},vn),S().createElement("div",{className:"summary-item--value"},e.launchInformation.name,Ct(e.launchInformation.id))))}gn.propTypes={startDate:P().string,endDate:P().string,roadmapableId:P().number,formData:P().object,barId:P().number,barFieldSettings:P().object,launchInformation:P().object};var yn=e=>e&&"#"+e;function bn(e){var t=e.barId,r=e.barFieldSettings,n=e.onVisibilityChange,a=window.currentRoadmapable.findActiveBar(t),o=a.links.filter((e=>e.type===A.Un.WEBLINK)),i=a.links.filter((e=>e.type!==A.Un.WEBLINK)),s={dependents:Rr.Z.fetchDependentConnections(a),dependencies:Rr.Z.fetchDependencyConnections(a)},l=[...s.dependents,...s.dependencies],c=Dr({barId:t,connections:s,editMode:!1,onVisibilityChange:n}),u=(0,or.p)(o,t,!1,(()=>{}),(()=>{})),d=(0,or.p)(i,t,!1,(()=>{}),(()=>{}));return S().createElement(S().Fragment,null,S().createElement("div",{className:"view-mode-links"},o.length>0&&S().createElement("div",{className:"web-links"},S().createElement("div",{className:"title"},"Links"),S().createElement("div",{className:"links-table"},u)),i.length>0&&S().createElement("div",{className:"interegation-links"},S().createElement("div",{className:"title"},"Integrations"),S().createElement("div",{className:"links-table"},d)),0===l.length?null:r.connectionsVisible?S().createElement("div",{className:"connections"},S().createElement("div",{className:"title"},"Connections"),S().createElement("div",{className:"links-table"},c)):null))}bn.propTypes={barFieldSettings:P().object,barId:P().number,onvisibilityChange:P().func};var wn=r(20977),Cn=(r(8459),r(48391),r(58909)),En=r(13202),_n=r(27521);function xn(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=On(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function Ln(){return Ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ln.apply(this,arguments)}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||On(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(e,t){if(e){if("string"===typeof e)return Sn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sn(e,t):void 0}}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kn(){kn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Tn(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Dn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Tn(o,n,a,i,s,"next",e)}function s(e){Tn(o,n,a,i,s,"throw",e)}i(void 0)}))}}function In(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Rn extends S().Component{static loadBarModal(e){return Dn(kn().mark((function t(){var r,n;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.barId||e,t.next=3,U.ProductPlan.roadmapManager.loadBar(r);case 3:n=t.sent,Rn.show({bar:n});case 5:case"end":return t.stop()}}),t)})))()}static show(e){var t=$("#".concat(Rn.barDetailsDialogSelector));0===t.length&&(t=$("<div id=".concat(Rn.barDetailsDialogSelector,"></div>")),$("body").append(t)),$(".popover").popover("hide");var r=x()({},this.defaultProps,e,{holder:t[0]});return xt.Z.renderComponent(this,r,t)}static handleExit(){var e=$("#".concat(Rn.barDetailsDialogSelector));e.length>0&&T().unmountComponentAtNode(e[0])}static fetchEditMode(){return!U.ProductPlan.fullScreenSettings.isViewMode()}constructor(e){var t;super(e),t=this,In(this,"handleIssueSynced",(e=>{this.setState({percentCompleteFieldSyncStatus:e})})),In(this,"handleBarFieldSynced",(e=>{if(!E()(e)){var t=window.currentRoadmapable.findActiveBar(this.props.bar.id);this.setState({titleFieldSyncStatus:t.fieldSyncLockSettings.name,descriptionFieldSyncStatus:t.fieldSyncLockSettings.description,dateRangeFieldSyncStatus:t.fieldSyncLockSettings.dates,tagsFieldSyncStatus:t.fieldSyncLockSettings.tag_list,strategicImportanceFieldSyncStatus:t.fieldSyncLockSettings.strategic_value,effortFieldSyncStatus:t.fieldSyncLockSettings.effort,notesFieldSyncStatus:t.fieldSyncLockSettings.notes,legendFieldSyncStatus:t.fieldSyncLockSettings.legend,customFieldsSyncStatus:this.getCustomFieldSyncLockSettings(t.fieldSyncLockSettings)})}})),In(this,"handleCommentSaveCallback",(e=>{this.commentSaveCallback=e})),In(this,"getCustomFieldSyncLockSettings",(e=>{if(E()(e))return[];var t=Object.entries(e).filter((e=>e[0].match(/^custom_/)));return Object.fromEntries(t)})),In(this,"handleError",(e=>{this.setState({errors:e,show:!0})})),In(this,"handleClose",(()=>{this.setState({show:!1,showLinkToIntegrationResource:!1,showCreateIntegrationResource:!1,addBarsToLaunch:!1})})),In(this,"handleEditMode",(()=>{U.ProductPlan.fullScreenSettings.toggleEditMode(),this.setState({editMode:!this.state.editMode})})),In(this,"handleCommentToggle",Dn(kn().mark((function e(){var r;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!t.state.showComments,t.setState({showComments:r}),!U.ProductPlan.currentUser()){e.next=8;break}return U.ProductPlan.currentUser().comments_open=r,window.showAJAXLoaderModal(),e.next=7,j.default.userCommentToggle(r);case 7:window.hideAJAXLoaderModal();case 8:case"end":return e.stop()}}),e)})))),In(this,"handleHide",(()=>{this.state.isDirty?this.promptFormChanged():this.handleClose()})),In(this,"handleFormChanged",((e,t)=>{var r=void 0===t?e.target.value:t.value,n=v()(this.state.formData),a=w()(n,e.target.id),o=(a&&Object.prototype.hasOwnProperty.call(a,"value")?"".concat(e.target.id,".value"):e.target.id)||e.target.id;f()(n,o,r);var i=this.formChanged(n);this.setState({isDirty:i,formData:n})})),In(this,"handleSubmit",Dn(kn().mark((function e(){var r,n,a;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(r=t.commentSaveCallback)||void 0===r||r.call(t),t.state.isDirty){e.next=4;break}return t.handleClose(),e.abrupt("return");case 4:return n=Object.keys(t.state.formData).reduce(((e,r)=>{if("fields"===r)e.fields=Object.keys(t.state.formData.fields).reduce(((e,r)=>{var n=t.state.formData.fields[r];return void 0!==n.value&&e.push({key:n.key,value:n.value}),e}),[]);else if("custom_label_assignments"===r)e.custom_label_assignments=Object.entries(t.state.formData.custom_label_assignments).map((e=>{var t=Pn(e,2),r=t[0],n=t[1];return{label_group_id:Number(r),label_id:n||null}}));else{var n=t.state.formData[r];e[r]=void 0===n?null:n}return e}),{}),t.processLaunchForBar(),delete n.launchId,a=window.currentRoadmapable.timelineSettings(),Object.assign(n,a.dateToUnitsForBarDateChange(n.starts_on,n.ends_on)),e.prev=9,e.next=12,t.submitForm(t.props.bar.id,n);case 12:t.handleClose(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),t.handleError(e.t0);case 18:case"end":return e.stop()}}),e,null,[[9,15]])})))),In(this,"handleKeyDown",(e=>{if(!this.state.show)return null;13===e.keyCode?this.handleSubmit():27===e.keyCode&&this.handleHide()})),In(this,"handleEscKey",(e=>{if(!this.state.show)return null;27===e.keyCode&&this.handleHide()})),In(this,"handleFieldVisibilityChange",function(){var e=Dn(kn().mark((function e(r){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.showAJAXLoaderModal(),e.prev=1,e.next=4,U.ProductPlan.roadmapManager.updateBarFieldVisibility(r.attribute,r.value);case 4:t.setState({barFieldSettings:t.fetchBarFieldSettings(t.props.bar)});case 5:return e.prev=5,window.hideAJAXLoaderModal(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}()),In(this,"handleContextDelete",Dn(kn().mark((function e(){var r,n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.handleClose(),r="Delete Bar",n="Are you sure you want to delete '".concat(t.props.bar.name,"'?"),t.props.bar.isContainer&&(r="Delete Container",n="Are you sure you want to delete the container '".concat(t.props.bar.name,"' and all the bars inside it?")),e.next=6,Lt.Z.showAsync({title:r,message:n,confirmButtonVariation:"danger"});case 6:if(!e.sent){e.next=13;break}return e.next=10,U.ProductPlan.roadmapManager.deleteBar(t.props.bar.id);case 10:Rn.handleExit(),e.next=14;break;case 13:t.handleVisibilityChange();case 14:case"end":return e.stop()}}),e)})))),In(this,"handleContextPark",(()=>(this.handleClose(),U.ProductPlan.roadmapView.parkBar(this.props.bar.id)))),In(this,"handleContextPrioritize",(()=>(this.handleClose(),U.ProductPlan.roadmapView.prioritizeBar(this.props.bar.id)))),In(this,"handleContextHistory",(()=>{this.handleClose(),Cn.default.publish(Cn.eventNames.SHOW_BAR_HISTORY,this.props.bar.id)})),In(this,"handleContextSendBarToOnClick",(e=>{"jira"===e&&this.handleCreateIntegrationResource("jira"),"ado"===e&&this.handleCreateIntegrationResource("vsts")})),In(this,"handleJiraSyncError",(()=>{var e=S().createElement(St.Z,{bsStyle:"danger"},S().createElement("p",null,"We are sorry, we cannot connect you to Jira right now. Please try again later or contact",S().createElement("b",null,"support@productplan.com")));this.setState({dialogError:e})})),In(this,"handleConnectionAdded",(()=>{this.setState({activeBookmark:"connections"})})),In(this,"handleLinkAdded",Dn(kn().mark((function e(){var r,n,a,o,i=arguments;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(i.length>0&&void 0!==i[0])||i[0],n={activeBookmark:"links",dialogError:null},!r){e.next=9;break}return e.next=5,t.submitForm(t.props.bar.id,{jira_issue_synced:!0});case 5:a=window.currentRoadmapable.findActiveBar(t.props.bar.id),o=t,n=x()(n,t.buildSyncLockState(a.fieldSyncLockSettings)),E()(a.integrationSyncEnabledFields())&&be.Z.enableAllSyncFields(a,(()=>{var e=window.currentRoadmapable.findActiveBar(t.props.bar.id);o.setState(t.buildSyncLockState(e.fieldSyncLockSettings))}));case 9:t.setState(n);case 10:case"end":return e.stop()}}),e)})))),In(this,"buildSyncLockState",(e=>({percentCompleteFieldSyncStatus:(null===e||void 0===e?void 0:e.percent_complete)||A.Ik.NOT_VISIBLE,titleFieldSyncStatus:(null===e||void 0===e?void 0:e.name)||A.Ik.NOT_VISIBLE,descriptionFieldSyncStatus:(null===e||void 0===e?void 0:e.description)||A.Ik.NOT_VISIBLE,tagsFieldSyncStatus:(null===e||void 0===e?void 0:e.tag_list)||A.Ik.NOT_VISIBLE,dateRangeFieldSyncStatus:(null===e||void 0===e?void 0:e.dates)||A.Ik.NOT_VISIBLE,strategicImportanceFieldSyncStatus:(null===e||void 0===e?void 0:e.strategic_value)||A.Ik.NOT_VISIBLE,effortFieldSyncStatus:(null===e||void 0===e?void 0:e.effort)||A.Ik.NOT_VISIBLE,legendFieldSyncStatus:(null===e||void 0===e?void 0:e.legend)||A.Ik.NOT_VISIBLE,notesFieldSyncStatus:(null===e||void 0===e?void 0:e.notes)||A.Ik.NOT_VISIBLE,customFieldsSyncStatus:this.getCustomFieldSyncLockSettings(e||{})}))),In(this,"handleVisibilityChange",(function(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e=r&&!n?{initialPane:r}:r?{show:!t.state.show,initialPane:r}:{show:!t.state.show},t.setState(e)})),In(this,"handleJiraAuthenticationChange",(e=>{var t=S().createElement(wn.Z,{integrationType:or.r.jira.name});U.ProductPlan.currentUser().jira_authentication_enabled=e,this.setState({dialogError:t,isJiraAuthenticated:e})})),In(this,"handleWebLinkAdded",(()=>{this.handleLinkAdded(!1)})),In(this,"renderCustomFields",(()=>window.currentRoadmapable.ownerHasFeature("custom_fields")?S().createElement(nr,{formData:this.formData(),fieldSyncStatus:this.state.customFieldsSyncStatus,onHandleFieldSync:this.handleBarFieldSynced,barId:this.props.bar.id}):null)),In(this,"renderCustomLabelGroups",(()=>window.currentRoadmapable.customLabelGroups.map(((e,t)=>S().createElement(Oe.Z,{key:e.id,editMode:this.state.editMode,field:this.formData().fieldFor("custom_label_assignments.".concat(e.id)),label:e.name,options:e.labels.map((e=>{var t;return{id:e.id,name:e.name,color:Vn(null===(t=e.paletteColor)||void 0===t?void 0:t.hex)}})),placeholder:"Choose a value for ".concat(e.name),pendoType:"custom_label_group",pendoId:"pendo-custom-label-group-CTA-".concat(t+1)}))))),In(this,"handleTrackerAuthenticationChange",(e=>{U.ProductPlan.currentUser().tracker_authentication_enabled=e,this.setState({isTrackerAuthenticated:e})})),In(this,"handleVstsAuthenticationChange",(e=>{U.ProductPlan.currentUser().vsts_authentication_enabled=e,this.setState({isVstsAuthenticated:e})})),In(this,"handleTrelloAuthenticationChange",(e=>{U.ProductPlan.currentUser().trello_authentication_enabled=e,this.setState({isTrelloAuthenticated:e})})),In(this,"handleGithubAuthenticationChange",(e=>{U.ProductPlan.currentUser().github_authentication_enabled=e,this.setState({isGithubAuthenticated:e})})),In(this,"makeLogCallback",((e,t)=>()=>((0,Er.logPageAction)("".concat(e," created"),{barId:this.props.bar.id,source:"bar modal",view:this.currentViewName}),t()))),In(this,"handleOnClose",(()=>{this.handleVisibilityChange("integrations",!1),this.setState({showLinkToIntegrationResource:!1})})),In(this,"handleCreateIntegrationResourceClose",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"integrations";t.handleVisibilityChange(e,!1),t.setState({showCreateIntegrationResource:!1})})),In(this,"handleLinkDeleted",(()=>{var e=window.currentRoadmapable.findActiveBar(this.props.bar.id);this.setState(this.buildSyncLockState(e.fieldSyncLockSettings))})),In(this,"handleLinkToIntegrationResource",(e=>{this.setState({showLinkToIntegrationResource:!0,integrationLinkType:e})})),In(this,"handleCreateIntegrationResource",(e=>{this.setState({showCreateIntegrationResource:!0,integrationType:e})})),In(this,"handleBarLaunchFormChange",((e,t)=>{this.setState({addBarToLaunch:!0,launchId:e,launchConnectionId:t})})),this.canEdit=U.ProductPlan.canEdit(),this.state=this.buildState(e)}UNSAFE_componentWillReceiveProps(e){this.setState(this.buildState(e))}addEscListener(){$("body").on(Rn.escEventName,this.handleEscKey)}removeEscListener(){$("body").off(Rn.escEventName)}componentDidMount(){this.addEscListener()}componentWillUnmount(){this.removeEscListener()}buildState(e){var t=U.ProductPlan.currentUser(),r=this.fetchBarFieldSettings(e.bar),n=w()(r,"commentsVisible",!1),a={activeBookmark:null,barFieldSettings:r,editMode:Rn.fetchEditMode()&&U.ProductPlan.canEdit(),errors:null,isDirty:!1,dialogError:null,isJiraAuthenticated:t&&!!t.jira_authentication_enabled,isTrackerAuthenticated:t&&!!t.tracker_authentication_enabled,isVstsAuthenticated:t&&!!t.vsts_authentication_enabled,isTrelloAuthenticated:t&&!!t.trello_authentication_enabled,isGithubAuthenticated:t&&!!t.github_authentication_enabled,show:!0,showComments:n&&null!==t&&t.comments_open,commentsEnabled:n,formData:{name:e.bar.name||"",description:e.bar.description||"",effort:null===e.bar.effort?null:String(e.bar.effort),ends_on:e.bar.endsOn||"",legend_id:e.bar.legend.id,notes:e.bar.notes||"",starts_on:e.bar.startsOn||"",strategic_value:e.bar.strategic_value||"",percent_done:e.bar.hasPercent()?parseInt(e.bar.percentDone||"0",10):void 0,tag_list:e.bar.tags.map((e=>e.name)).join(","),fields:(e.bar.fields||[]).reduce(((e,t)=>(e[t.key]=t,e)),{}),custom_label_assignments:Fn(e.bar)},initialPane:"general",addBarToLaunch:!1,launchId:null,launchConnectionId:null};return Object.assign(a,this.buildSyncLockState(e.bar.fieldSyncLockSettings)),Object.assign(a,{initialFormData:y()(a.formData)})}fetchBarFieldSettings(e){return window.currentRoadmapable.barFieldSettingsForBar(e)}formChanged(e){return!h()(this.state.initialFormData,e)}promptFormChanged(){this.handleClose(),Lt.Z.show({title:"Discard Changes",message:"You have unsaved changes on this bar. Are you sure you want to discard those changes?",confirmCallback:this.handleClose,cancelCallback:this.handleVisibilityChange,confirmButtonLabel:"Discard",confirmButtonVariation:"danger"})}formData(){return new Ht.Z(this.state.formData,this.state.errors,this.handleFormChanged)}getLegendColor(){return this.props.bar.roadmap.legendFor([{label_id:this.state.formData.legend_id}]).hex||"#527093"}renderHeaderPercentComplete(){if(this.state.editMode)return null;var e={backgroundColor:"hsl(".concat(U.ProductPlan.hexToHsl(this.getLegendColor(),65),")")},t={backgroundColor:"hsl(".concat(U.ProductPlan.hexToHsl(this.getLegendColor()),")"),width:"".concat(this.formData().data.percent_done,"%")};return S().createElement("div",{className:"header-percent-complete",style:e},S().createElement("div",{className:"completion-bar",style:t}))}renderModalHeader(){var e=this.state.barFieldSettings,t="hsl(".concat(U.ProductPlan.hexToHsl(this.getLegendColor()),")"),r=U.ProductPlan.getContrastClasses(this.getLegendColor()),n={backgroundColor:this.state.editMode?t:""},a=I()({"view-mode":!this.state.editMode,[r]:this.state.editMode});return S().createElement(kt.Z.Header,{className:a,style:n},this.renderHeaderPercentComplete(),S().createElement(kt.Z.Title,{className:"truncate"},this.props.bar.name),S().createElement(pe,{bar:this.props.bar,barFieldSettings:e,canEdit:this.canEdit,commentsEnabled:this.state.commentsEnabled,commentsOpen:this.state.showComments,editMode:this.state.editMode,onCommentToggle:this.handleCommentToggle,onContextDelete:this.handleContextDelete,onContextHistory:this.handleContextHistory,onContextPark:this.handleContextPark,onContextPrioritize:this.handleContextPrioritize,onEditMode:this.handleEditMode,onSendBarToOnClick:this.handleContextSendBarToOnClick,onVisibilityChange:this.handleFieldVisibilityChange}))}connectionsPane(e){return this.shouldRenderConnections()?S().createElement(Ar,{title:e,barId:this.props.bar.id,editMode:this.state.editMode,id:"connections",onConnectionAdded:this.handleConnectionAdded,onVisibilityChange:this.handleVisibilityChange}):null}linksPane(e){return S().createElement(Pr,{title:e,barId:this.props.bar.id,editMode:this.state.editMode,id:"links",onLinkAdded:this.handleLinkAdded,onVisibilityChange:this.handleVisibilityChange,onWebLinkAdded:this.handleWebLinkAdded,onLinkDeleted:this.handleLinkDeleted})}integrationsPane(e){return S().createElement(S().Fragment,null,S().createElement("div",{className:"pane-title"},e),this.renderIntegrations())}generalPane(e){return S().createElement(S().Fragment,null,S().createElement("div",{className:"pane-title"},e),S().createElement(Ot,{editMode:this.state.editMode,formData:this.formData(),id:"bar-details"},this.renderDialogError(),this.renderName(),this.renderDescription(),this.renderStrategicImportance(),S().createElement("div",{className:"grouped-fields"},this.renderEffort(),this.renderLegend(),this.renderPercentComplete()),S().createElement("div",{className:"grouped-fields"},this.renderCustomLabelGroups()),this.renderTags(),this.renderNotes(),this.launchFeatureFlagEnabled()&&this.renderAddBarToLaunch(),this.renderDates(),this.renderCustomFields()))}getPanes(){var e=[];return e.push({name:"General",content:this.generalPane("General"),icon:"info",key:"general-pane",active:"general"===this.state.initialPane}),this.shouldRenderConnections()&&e.push({name:"Connections",content:this.connectionsPane("Connections"),icon:"connection",key:"connection-pane",active:"connections"===this.state.initialPane}),e.push({name:"Links",content:this.linksPane("Links"),icon:"link",key:"links-pane",active:"links"===this.state.initialPane}),e.push({name:"Integrations",content:this.integrationsPane("Integrations"),icon:"puzzle",key:"integrations-pane",active:"integrations"===this.state.initialPane}),e}generateNavKey(e){return e.toLowerCase().replace(/\s/g,"-")}getDefaultActiveKey(){var e=this.getPanes(),t=u()(e,(e=>!0===e.active));return E()(t)?this.generateNavKey(l()(e).key):l()(t).key}renderTabbedEditMode(){return this.state.editMode?S().createElement(M.Z.Container,{className:"panes-container edit-mode",defaultActiveKey:this.getDefaultActiveKey(),id:"tab-contents"},S().createElement("div",{className:"clearfix"},S().createElement("div",{className:"side-tabs"},this.renderNav()),S().createElement("div",{className:"tabs-content"},this.renderContent()))):null}renderIcon(e){switch(e.icon){case"info":return S().createElement(ue.Z,{name:ue.c.infoCircle});case"integration":case"puzzle":return S().createElement(ue.Z,{name:ue.c.puzzle});case"link":return S().createElement(ue.Z,{name:ue.c.link});default:return S().createElement(Tt.Z,{id:"connections-icon"})}}renderNav(){var e=this.getPanes(),t=i()(e,(e=>{var t=e.key;return S().createElement(N.Z,{eventKey:t,key:t},this.renderIcon(e)," ",S().createElement("span",{className:"item-label"},a()(e.name)))}));return S().createElement(B.Z,{stacked:!0},t)}renderContent(){var e=this.getPanes(),t=i()(e,(e=>{var t=e.key;return S().createElement(M.Z.Pane,{className:t,eventKey:t,key:t},e.content)}));return S().createElement(M.Z.Content,{animation:!1},t)}renderCreateIntegrationResource(){var e,t=this.state.integrationType;return"vsts"===t?e=S().createElement(un,{barId:this.props.bar.id,onLinkAdded:this.handleLinkAdded,onVisibilityChange:this.handleVisibilityChange,onVstsAuthenticationChange:this.handleVstsAuthenticationChange,onCreateIntegrationResourceClose:this.handleCreateIntegrationResourceClose,editMode:this.state.editMode}):"jira"===t&&(e=S().createElement(Jt,{barId:this.props.bar.id,formData:this.formData().data,onJiraAuthenticationChange:this.handleJiraAuthenticationChange,onJiraSyncError:this.handleJiraSyncError,onLinkAdded:this.handleLinkAdded,onVisibilityChange:this.handleVisibilityChange,onCreateIntegrationResourceClose:this.handleCreateIntegrationResourceClose,editMode:this.state.editMode})),S().createElement("div",{className:"integration-create-resource-wrapper ".concat(t,"-create-resource")},e)}renderLinkToIntegrationResource(){var e,t=this.state.integrationLinkType,r=this.makeLogCallback(A.Un[t.toUpperCase()],this.handleLinkAdded),n=U.ProductPlan.getBar(this.props.bar.id);switch(t){case"jira":e=S().createElement(jr.Z,{authenticated:this.state.isJiraAuthenticated,bar:n,onAuthChange:this.handleJiraAuthenticationChange,onLinksUpdated:r,onClose:this.handleOnClose});break;case"vsts":e=S().createElement(Mr.Z,{bar:n,authenticated:this.state.isVstsAuthenticated,onAuthChange:this.handleVstsAuthenticationChange,onLinksUpdated:r,isVerticalForm:!1,onClose:this.handleOnClose});break;case"tracker":e=S().createElement(Nr.Z,{bar:n,authenticated:this.state.isTrackerAuthenticated,onAuthChange:this.handleTrackerAuthenticationChange,onLinksUpdated:r,isVerticalForm:!1,onClose:this.handleOnClose});break;case"github":e=S().createElement(Br.Z,{bar:n,authenticated:this.state.isGithubAuthenticated,onAuthChange:this.handleGithubAuthenticationChange,onLinksUpdated:r,isVerticalForm:!1,onClose:this.handleOnClose});break;case"trello":e=S().createElement(Fr.Z,{bar:n,authenticated:this.state.isTrelloAuthenticated,onAuthChange:this.handleTrelloAuthenticationChange,onLinksUpdated:r,isVerticalForm:!1,onClose:this.handleOnClose})}return S().createElement("div",{className:"integration-add-link-wrapper ".concat(t,"-add-link")},e,S().createElement(en,{primaryButtonName:"Done",onPrimaryButtonClick:this.handleOnClose,secondaryButtonName:"Close",onSecondaryButtonClick:this.handleOnClose,editMode:this.state.editMode}))}detailsSummary(){return S().createElement(gn,{startDate:this.formData().data.starts_on,endDate:this.formData().data.ends_on,roadmapableId:this.props.bar.roadmap.roadmapableId(),formData:this.formData(),barId:this.props.bar.id,barFieldSettings:this.state.barFieldSettings,launchInformation:this.props.bar.launchInformation})}renderViewModeV2(){return this.state.editMode?null:S().createElement(S().Fragment,null,S().createElement(kt.Z.Body,{bsClass:"modal-body view-mode"},S().createElement("div",{className:"summary-top"},S().createElement("div",{className:"summary-side"},this.detailsSummary())),S().createElement(jn,{url:this.props.bar.url})),S().createElement("div",{className:"links-side"},this.renderViewOnlyPercentComplete(),S().createElement(bn,{barId:this.props.bar.id,barFieldSettings:this.state.barFieldSettings,onVisibilityChange:this.handleVisibilityChange})))}renderDialogError(){return this.state.dialogError?this.state.dialogError:null}renderName(){var e=this.formData().fieldFor("name");return S().createElement(Se.Z,{barId:this.props.bar.id,editMode:this.state.editMode,field:e,placeholder:"Bars must have a name",onHandleFieldSync:this.handleBarFieldSynced,onHandleKeyDown:this.handleKeyDown,fieldSyncStatus:this.state.titleFieldSyncStatus})}renderDescription(){return S().createElement(Me,Ln({barId:this.props.bar.id,editMode:this.state.editMode,onHandleFieldSync:this.handleBarFieldSynced,fieldName:"description",fieldSyncStatus:this.state.descriptionFieldSyncStatus},this.formData().fieldFor("description")))}renderStrategicImportance(){return this.state.barFieldSettings.strategicImportanceVisible?S().createElement(Me,Ln({barId:this.props.bar.id,editMode:this.state.editMode,onHandleFieldSync:this.handleBarFieldSynced,fieldName:"strategic_value",label:"Strategic Importance",fieldSyncStatus:this.state.strategicImportanceFieldSyncStatus},this.formData().fieldFor("strategic_value"))):null}renderEffort(){return this.state.barFieldSettings.effortVisible?S().createElement(Pe,{barId:this.props.bar.id,editMode:this.state.editMode,field:this.formData().fieldFor("effort"),label:"Effort",options:window.currentRoadmapable.effortOptions(),placeholder:"Select an Effort",onHandleFieldSync:this.handleBarFieldSynced,fieldSyncStatus:this.state.effortFieldSyncStatus}):null}renderLegend(){return S().createElement(Oe.Z,{barId:this.props.bar.id,editMode:this.state.editMode,field:this.formData().fieldFor("legend_id"),label:window.currentRoadmapable.legendTitle,options:window.currentRoadmapable.legendOptions(this.props.bar.roadmap.roadmapableId()),placeholder:"Choose a Legend key",onHandleFieldSync:this.handleBarFieldSynced,fieldSyncStatus:this.state.legendFieldSyncStatus,pendoType:"legend"})}renderTags(){return S().createElement(ke.Z,{barId:this.props.bar.id,editMode:this.state.editMode,value:this.formData().data.tag_list,onChange:this.handleFormChanged,onHandleFieldSync:this.handleBarFieldSynced,fieldSyncStatus:this.state.tagsFieldSyncStatus})}renderNotes(){return S().createElement(Me,Ln({barId:this.props.bar.id,editMode:this.state.editMode,onHandleFieldSync:this.handleBarFieldSynced,fieldName:"notes",fieldSyncStatus:this.state.notesFieldSyncStatus},this.formData().fieldFor("notes")))}renderPercentComplete(){return this.state.barFieldSettings.percentCompleteVisible?S().createElement(tt,{autoComplete:"off",barId:this.props.bar.id,color:this.getLegendColor(),editMode:this.state.editMode,id:"percent_done",fieldSyncStatus:this.state.percentCompleteFieldSyncStatus,label:"Percent Complete",value:this.formData().data.percent_done,onChange:this.handleFormChanged,onHandleIssueSynced:this.handleIssueSynced}):null}renderViewOnlyPercentComplete(){return this.state.barFieldSettings.percentCompleteVisible?S().createElement(Z,{color:this.getLegendColor(),value:this.formData().data.percent_done,id:"view_percent_done"}):null}renderDates(){if(!this.state.barFieldSettings.datesVisible)return null;var e=new R.Z(this.formData().data.ends_on).endOfDayApiFormatted();return S().createElement(lt,{barId:this.props.bar.id,editMode:this.state.editMode,endDate:e,errors:{starts_on:this.formData().fieldFor("starts_on").errors,ends_on:this.formData().fieldFor("ends_on").errors},startDate:this.formData().data.starts_on,onChange:this.handleFormChanged,onHandleFieldSync:this.handleBarFieldSynced,fieldSyncStatus:this.state.dateRangeFieldSyncStatus})}shouldRenderConnections(){return this.state.barFieldSettings.connectionsVisible}renderIntegrations(){return S().createElement(wr,{barId:this.props.bar.id,onLinkAdded:this.handleLinkAdded,onWebLinkAdded:this.handleWebLinkAdded,onVisibilityChange:this.handleVisibilityChange,editMode:this.state.editMode,onLinkDeleted:this.handleLinkDeleted,onLinkToIntegrationResource:this.handleLinkToIntegrationResource,onCreateIntegrationResource:this.handleCreateIntegrationResource})}renderComments(){return S().createElement(Gt,{barId:this.props.bar.id,canMakeComment:window.currentRoadmapable.canComment,visible:this.state.showComments,onCloseComments:this.handleCommentToggle,onSaveCallback:this.handleCommentSaveCallback,onVisibilityChange:this.handleVisibilityChange})}shouldAddOrUpdateBarToLaunchConnection(){return this.state.addBarToLaunch&&(this.state.launchId||this.state.launchConnectionId)}launchFeatureFlagEnabled(){return window.currentRoadmapable.ownerHasFeature("product_launch")}renderAddBarToLaunch(){if(!this.props.bar.parked)return S().createElement(_t,{barId:this.props.bar.id,onLaunchFormChange:this.handleBarLaunchFormChange,onChange:this.handleFormChanged,value:this.formData().data.launchId})}addBarToLaunch(e){var t=this;return Dn(kn().mark((function r(){return kn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.state.formData.launchId,r.next=3,j.default.launches.createConnection({bar_id:t.props.bar.id,launch_id:e});case 3:case"end":return r.stop()}}),r)})))()}updateBarToLaunchConnection(e,t){var r=this;return Dn(kn().mark((function n(){return kn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.default.launches.updateConnection(e,{bar_id:r.props.bar.id,launch_id:t});case 2:case"end":return n.stop()}}),n)})))()}deleteBarToLaunchConnection(e){return Dn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.default.launches.deleteConnection(e,{});case 2:case"end":return t.stop()}}),t)})))()}processLaunchForBar(){var e=this;return Dn(kn().mark((function t(){return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.shouldAddOrUpdateBarToLaunchConnection()){t.next=4;break}return t.next=3,e.processLaunchConnection();case 3:e.setState({addBarToLaunch:!1,launchId:null,launchConnectionId:null});case 4:case"end":return t.stop()}}),t)})))()}processLaunchConnection(){var e=this;return Dn(kn().mark((function t(){var r,n;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!e.state.launchConnectionId,n=e.state.launchId,!r){t.next=6;break}e.addBarToLaunch(e.state.launchId),t.next=12;break;case 6:if(!n){t.next=11;break}return t.next=9,e.updateBarToLaunchConnection(e.state.launchConnectionId,e.state.launchId);case 9:t.next=12;break;case 11:e.deleteBarToLaunchConnection(e.state.launchConnectionId);case 12:case"end":return t.stop()}}),t)})))()}renderModalContent(){return S().createElement(S().Fragment,null,this.renderTabbedEditMode(),this.renderViewModeV2())}renderModalBody(){var e=I()({"dialog-left-body":!0,"view-mode":!this.state.editMode});return S().createElement("div",{className:"dialog-left"},S().createElement("div",{className:e},this.renderModalContent()),S().createElement(en,{primaryButtonName:"Save",onPrimaryButtonClick:this.handleSubmit,secondaryButtonName:"Close",onSecondaryButtonClick:this.handleHide,editMode:this.state.editMode}))}shouldRenderLinkToIntegrationResource(){return this.state.editMode&&this.state.showLinkToIntegrationResource}shouldRenderCreateIntegrationResource(){return this.state.editMode&&this.state.showCreateIntegrationResource}renderModalForm(){return this.shouldRenderLinkToIntegrationResource()?this.renderLinkToIntegrationResource():this.shouldRenderCreateIntegrationResource()?this.renderCreateIntegrationResource():this.renderModalBody()}render(){var e=I()({"comments-off":!this.state.showComments},"bar-details-dialog");return S().createElement(_n.aH,null,S().createElement(kt.Z,{animation:!1,dialogClassName:e,enforceFocus:!1,keyboard:!1,show:this.state.show,onExited:Rn.handleExit,onHide:this.handleHide},S().createElement("div",{className:"dialog-container"},this.renderModalHeader(),S().createElement("div",{className:"dialog-body"},this.renderModalForm(),this.renderComments()))))}submitForm(){var e=arguments,t=this;return Dn(kn().mark((function r(){var n;return kn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(null!==(n=t.props.onSubmitForm)&&void 0!==n?n:Q)(...e);case 2:case"end":return r.stop()}}),r)})))()}}In(Rn,"escEventName","keydown.BarDetailsEsc"),In(Rn,"propTypes",{bar:P().object.isRequired,onSubmitForm:P().func}),In(Rn,"barDetailsDialogSelector","bar-details-dialog-mount");const An=Rn;function jn(e){var t=e.url;return window.currentRoadmapable.isMasterPlan()&&window.currentRoadmapable.permissions.can_edit?S().createElement("div",{className:"metadata-footer"},S().createElement("a",{href:t},"Edit bar in the roadmap",S().createElement(ue.Z,{name:ue.c.externalLinkSquare}))):null}function Mn(){(0,En.Ko)({name:"bar",effect:Nn})}function Nn(e,t){return Bn.apply(this,arguments)}function Bn(){return(Bn=Dn(kn().mark((function e(t,r){return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn.loadBarModal(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e){var t,r={},n=xn(window.currentRoadmapable.customLabelGroups);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,i=xn(e.customLabels);try{var s=function(){var e=a.value;o.labels.some((t=>t.id===e.labelId))&&(r[o.id]=e.labelId)};for(i.s();!(a=i.n()).done;)s()}catch(l){i.e(l)}finally{i.f()}}}catch(l){n.e(l)}finally{n.f()}return r}var Vn=e=>e&&"#"+e},45771:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(99411);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){t.show=function(r){e.create();var a=o(o({onExited:()=>e.unmount()},t.defaultProps),r);return n.Z.renderComponent(t,a,e.element)}}},33365:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(83424),l=r(34428),c=r(59111),u=r(83868),d=r(39012),h=r(90075),p=r(93128);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function m(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){m(o,n,a,i,s,"next",e)}function s(e){m(o,n,a,i,s,"throw",e)}i(void 0)}))}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends a().Component{constructor(){var e;super(...arguments),e=this,g(this,"handleDeleteConnection",v(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.onVisibilityChange(),t.next=3,l.Z.showAsync({title:"Delete Connection",message:"Are you sure you want to delete the connection to '".concat(e.props.connection.name,"'?"),confirmButtonVariation:"danger"});case 3:if(t.sent){t.next=7;break}return e.props.onVisibilityChange("connections"),t.abrupt("return");case 7:return t.next=9,c.Z.deleteConnection(e.props.barId,e.props.connection);case 9:"function"===typeof e.props.onDeleted&&e.props.onDeleted(),e.props.onVisibilityChange("connections");case 11:case"end":return t.stop()}}),t)})))),g(this,"handleConnectionClick",function(){var t=v(f().mark((function t(r){var n,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.onVisibilityChange(),n=e.props.barId===e.props.connection.connects_from_id?e.props.connection.connects_to_id:e.props.connection.connects_from_id,a=window.currentRoadmapable.findActiveBar(n),window.currentRoadmapable.isPrimaryView()||0!==$("#roadmapbar_"+n).length){t.next=6;break}return p.Z.unsuccessful("".concat(e.props.connection.name," is currently filtered out\u2014update Settings or Filters to view.")),t.abrupt("return");case 6:if("function"!==typeof e.props.onConnectionClick){t.next=11;break}return t.next=9,e.props.onConnectionClick(r,n,e.props.connection.roadmap_id,v(f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.Z.redirectToBar(e.props.connection,a,n);case 2:case"end":return t.stop()}}),t)}))));case 9:t.next=13;break;case 11:return t.next=13,u.Z.redirectToBar(e.props.connection,a,n);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}renderConnectionsTable(){return a().createElement("div",{className:"connection ".concat(this.props.connection.icon)},a().createElement("div",{className:"connection--section"},a().createElement("a",{onClick:this.handleConnectionClick,title:this.props.connection.title},a().createElement(h.Z,null,a().createElement(s.Z,{id:"".concat(this.props.connection.icon,"-icon")})),a().createElement("span",{className:"connection--name"},this.props.connection.name))),a().createElement("div",{className:"connection--remove"},this.props.editMode&&a().createElement(d.Z,{classes:"connections-delete-icon",name:d.c.trash,onClick:this.handleDeleteConnection})))}render(){return this.props.renderAsTable?this.renderConnectionsTable():a().createElement("li",{className:"connection ".concat(this.props.connection.icon)},a().createElement("a",{title:this.props.connection.title,onClick:this.handleConnectionClick},a().createElement(s.Z,{id:"".concat(this.props.connection.icon,"-icon")}),a().createElement("span",{className:"connection-name"},this.props.connection.name)),this.props.editMode&&a().createElement(d.Z,{classes:"connections-delete-icon",name:d.c.times,onClick:this.handleDeleteConnection}))}}g(y,"propTypes",{barId:i().number.isRequired,connection:i().object.isRequired,editMode:i().bool.isRequired,onVisibilityChange:i().func.isRequired,onConnectionClick:i().func,onDeleted:i().func,renderAsTable:i().bool}),g(y,"defaultProps",{onConnectionClick:null,onDeleted:null,renderAsTable:!1});const b=y},12251:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(7187),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s);function c(e){return i().createElement("span",{dangerouslySetInnerHTML:{__html:(t=e.body,r=new RegExp(/@\[(.*?)\]\(.*?\)/gm),a()(t).replace(r,'<strong class="app-mention">@$1</strong>'))}});var t,r}c.propTypes={body:l().string.isRequired}},62761:(e,t,r)=>{"use strict";r.d(t,{e:()=>c});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(83424),l=r(90075);function c(e){return"JiraLink"!==e.type||!e.icon_url&&!e.is_query_link?null:a().createElement(u,{link:e})}function u(e){var t=e.link,r=t.is_query_link?a().createElement(s.Z,{id:"jira-query-icon"}):a().createElement("img",{className:"bar-link-icon pp-icon",src:t.icon_url});return a().createElement(l.Z,null,r)}u.propTypes={link:i().object}},37437:(e,t,r)=>{"use strict";r.d(t,{$:()=>p,Z:()=>m});var n,a,o,i=r(67294),s=r.n(i),l=r(45697),c=r.n(l),u=r(55652),d=r(39012),h=r(84256);function p(e,t,r,n,a){return t&&void 0!==r&&a!==h.Ik.NOT_VISIBLE?s().createElement(f,{barId:r,integrationField:e,onToggle:n,fieldSyncStatus:a}):null}class f extends s().Component{getBar(){return u.ProductPlan.getBar(this.props.barId)}render(){var e="Click to update daily.",t=d.c.unlockAlt.string,r=!1,n="".concat(this.props.integrationField,"-link-container"),a="".concat(this.props.integrationField,"-link");return this.props.fieldSyncStatus===h.Ik.LOCKED?r=!0:this.props.fieldSyncStatus===h.Ik.UNLOCKED&&(r=!1),r&&(e="Click to stop updating daily.",t=d.c.lockAlt.string),s().createElement("div",{className:"sync-link-container",id:n},s().createElement("i",{className:t,id:a,title:e,onClick:this.props.onToggle}))}}n=f,a="propTypes",o={barId:c().number.isRequired,integrationField:c().string.isRequired,onToggle:c().func.isRequired,fieldSyncStatus:c().string},a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o;const m=f},8876:(e,t,r)=>{"use strict";r.d(t,{Z:()=>C});var n=r(13311),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(66923),u=r(7736),d=r(37437),h=r(55652),p=r(96339),f=r(84256);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends i().Component{constructor(){super(...arguments),g(this,"handleSync",(()=>{p.Z.handleSync(this.getBar(),this.fieldName(),this.props.onHandleFieldSync)})),g(this,"renderOption",(e=>{var t=w(this.props.pendoType,e.id),r=t?{id:t}:{};return this.option(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r))})),g(this,"renderValue",(e=>this.option(e,{className:"text-with-newlines"})))}fieldName(){return"legend"}getBar(){return window.currentRoadmapable.findActiveBar(this.props.barId)}option(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={backgroundColor:e.color,height:"12px",width:"12px"};return i().createElement("div",{className:"legend-select"},i().createElement("div",{className:"legend-swatch",style:r}),i().createElement("div",t,e.name))}render(){var e=m({},this.props),t=!!this.props.value&&"1none"!==this.props.value,r=i().createElement(u.Z.Input,m({clearable:t,deleteRemoves:!1,escapeClearsValue:!1,labelKey:"name",name:"legend",optionRenderer:this.renderOption,options:this.props.options,searchable:!1,valueKey:"id",valueRenderer:this.renderValue},e));if(!h.ProductPlan.isFeatureEnabled("sync_lanes_legends"))return r;var n=(0,d.$)(this.fieldName(),!0,this.props.barId,this.handleSync,this.props.fieldSyncStatus);return this.props.fieldSyncStatus===f.Ik.LOCKED&&(r=i().createElement(u.Z.Input,m({clearable:t,deleteRemoves:!1,escapeClearsValue:!1,labelKey:"name",name:"legend",optionRenderer:this.renderOption,options:this.props.options,searchable:!1,valueKey:"id",valueRenderer:this.renderValue},e,{disabled:!0}))),i().createElement("div",{className:"bar-field",id:"legend-field"},r,n)}}g(y,"propTypes",{barId:l().number,fieldSyncStatus:l().string,onHandleFieldSync:l().func,options:l().array,value:l().oneOfType([l().number,l().string]),pendoType:l().string}),g(y,"defaultProps",{options:[],fieldSyncStatus:f.Ik.NOT_VISIBLE});class b extends i().Component{render(){var e=a()(this.props.options,(e=>e.id===this.props.value));if(!e)return null;var t={backgroundColor:e.color};return i().createElement("div",{className:"legend-select"},i().createElement("div",{className:"legend-swatch",style:t}),i().createElement("div",{className:"legend-name"},e.name))}}g(b,"propTypes",{options:l().array,value:l().oneOfType([l().number,l().string])});var w=(e,t)=>{switch(e){case"legend":return"pendo-primary-label-group-".concat(t);case"custom_label_group":return"pendo-custom-dropdown-field-".concat(t);default:return}};const C=(0,c.Z)(y,b)},23657:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(21707),l=r(96339),c=r(37437),u=r(84256);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends a().Component{constructor(){super(),d(this,"handleSync",(()=>{l.Z.handleSync(this.getBar(),this.fieldName(),this.props.onHandleFieldSync)}))}fieldName(){return"name"}componentDidMount(){this.nameField&&this.nameField.select()}getBar(){return window.currentRoadmapable.findActiveBar(this.props.barId)}isInputDisabled(){return this.props.fieldSyncStatus===u.Ik.LOCKED}render(){var e=this.isInputDisabled(),t=(0,c.$)(this.fieldName(),this.props.editMode,this.props.barId,this.handleSync,this.props.fieldSyncStatus);return a().createElement("div",{className:"bar-field",id:"name-field"},a().createElement(s.Z,{autoComplete:"off",disabled:e,editMode:this.props.editMode,field:this.props.field,inputRef:e=>{this.nameField=e?$(e):null},label:this.props.label,placeholder:this.props.placeholder,type:"text",onKeyDown:this.props.onHandleKeyDown}),t)}}d(h,"propTypes",{barId:i().number,editMode:i().bool.isRequired,field:i().object.isRequired,onHandleFieldSync:i().func,label:i().string,placeholder:i().string,onHandleKeyDown:i().func,fieldSyncStatus:i().string}),d(h,"defaultProps",{label:"Title",fieldSyncStatus:u.Ik.NOT_VISIBLE});const p=h},89476:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(43557),l=r(51206),c=r(24614),u=r(58909);r(26891),r(66177),r(86227);var d,h,p,f=[{key:"minimal",name:"Minimal",value:0},{key:"condensed",name:"Condensed",value:1},{key:"small-font",name:"Small Font",value:2},{key:"normal",name:"Normal",value:3},{key:"projector",name:"Projector",value:4}];function m(e){return f.find((t=>e===t.key))||f[3]}class v extends a().Component{componentDidMount(){var e=m(this.props.field.value);$("#style-slider").slider({min:0,max:f.length-1,value:e.value,slide:(t,r)=>{var n=f.find((e=>e.value===r.value));document.querySelector(".sample-bar .inner").innerText=e.name;var a={target:{id:this.props.field.id,value:n.key}};this.props.field.onChange(a),u.default.publish("ROADMAP_STYLE_UPDATED",n.key)}})}render(){var e=0!==this.props.field.errors.length?this.props.field.errors:null,t=e?"error":null;return a().createElement(s.Z,{className:"required roadmap-style-preference slider-input-wrapper",validationState:t},a().createElement(l.Z,{className:"control-label string required"},"Bar & Font Size",a().createElement("i",{className:"required-dot"},"*")),a().createElement("div",{className:"sample-bar"},a().createElement("div",{className:"project-bar"},a().createElement("div",{className:"bar-content"},a().createElement("div",{className:"project-bar-title"},a().createElement("div",{className:"inner"},m(this.props.field.value).name))))),a().createElement("div",{className:"style-slider-container","aria-label":"Bar & Font Size"},a().createElement("div",{className:"ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all",id:"style-slider"},a().createElement("span",{className:"ui-slider-handle ui-state-default ui-corner-all",style:{left:"75%"}}))),e&&a().createElement(c.Z,null,e))}}d=v,h="propTypes",p={field:i().object.isRequired},h in d?Object.defineProperty(d,h,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[h]=p;const g=v},7736:(e,t,r)=>{"use strict";r.d(t,{Z:()=>U});var n=r(13311),a=r.n(n),o=r(58613),i=r.n(o),s=r(28583),l=r.n(s),c=r(82723),u=r.n(c),d=r(67294),h=r.n(d),p=r(45697),f=r.n(p),m=r(43129),v=r(32754),g=r(66923);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C={autoload:f().bool.isRequired,cache:f().any,children:f().func.isRequired,ignoreAccents:f().bool,ignoreCase:f().bool,loadOptions:f().func.isRequired,loadingPlaceholder:f().oneOfType([f().string,f().node]),multi:f().bool,noResultsText:f().oneOfType([f().string,f().node]),onChange:f().func,onInputChange:f().func,options:f().array.isRequired,pagination:f().bool,placeholder:f().oneOfType([f().string,f().node]),searchPromptText:f().oneOfType([f().string,f().node]),value:f().any,searchState:f().object},E={},_={autoload:!0,cache:E,children:e=>h().createElement(m.ZP,e),ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],pagination:!1,searchPromptText:"Type to search"};class x extends d.Component{constructor(e,t){super(e,t),this._cache=e.cache===E?{}:e.cache,this.state={inputValue:"",isLoading:!1,isLoadingPage:!1,page:1,options:e.options},this.onInputChange=this.onInputChange.bind(this),this.onMenuScrollToBottom=this.onMenuScrollToBottom.bind(this)}componentDidMount(){this.props.autoload&&this.loadOptions("")}UNSAFE_componentWillReceiveProps(e){e.options!==this.props.options&&this.setState({options:e.options})}componentWillUnmount(){this._callback=null}loadOptions(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.props,a=n.loadOptions,o=n.pagination,i=n.searchState;if(void 0===i){var s=this._cache;if(!(s&&Object.prototype.hasOwnProperty.call(s,e)&&(this._callback=null,this.setState({isLoading:!1,options:s[e].options,page:s[e].page}),!o||o&&(s[e].page>=r||s[e].hasReachedLastPage)))){var l,c=function n(a,i){var l=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=i&&i.options||[],u=o&&0===c.length;r>1&&l&&(c=t.state.options.concat(c)),s&&(s[e]={page:r,options:c,hasReachedLastPage:u}),n===t._callback&&(t._callback=null,t.setState({isLoading:!1,isLoadingPage:!1,page:r,options:c}))};this._callback=c,this.setState({isLoading:!0,isLoadingPage:r>this.state.page}),(l=o?a(e,r,c):a(e,c))&&l.then((e=>c(null,e)),(e=>c(e)))}}else i.search(e)}onInputChange(e){var t=this.props,r=t.ignoreAccents,n=t.ignoreCase,a=t.onInputChange,o=e;if(a){var i=a(o);null!=i&&"object"!==typeof i&&(o=""+i)}var s=o;return r&&(s=P(s)),n&&(s=s.toLowerCase()),this.setState({inputValue:o}),this.loadOptions(s),o}noResultsText(){var e=this.props,t=e.loadingPlaceholder,r=e.noResultsText,n=e.searchPromptText,a=this.state,o=a.inputValue;return a.isLoading?t:o&&r?r:n}focus(){this.select.focus()}onMenuScrollToBottom(){this.props.pagination&&!this.state.isLoading&&(void 0===this.props.searchState?this.loadOptions(this.state.inputValue,this.state.page+1):this.props.searchState.loadNextPage())}render(){var e=this.props,t=e.children,r=e.loadingPlaceholder,n=e.placeholder,a=this.state,o=a.isLoading,i=a.isLoadingPage,s=a.options,l={noResultsText:this.noResultsText(),placeholder:o?r:n,options:o&&r&&!i?[]:s,ref:e=>this.select=e};return t(b(b(b({},this.props),l),{},{isLoading:o,onInputChange:this.onInputChange,onMenuScrollToBottom:this.onMenuScrollToBottom}))}}x.propTypes=C,x.defaultProps=_;var L=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],P=e=>{for(var t=0;t<L.length;t++)e=e.replace(L[t].letters,L[t].base);return e};function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(((t,r)=>{var n=e[r];return void 0!==n&&(t[r]=n),t}),t)}class D extends h().Component{focus(){this.select.focus()}render(){return h().createElement(x,this.props,(e=>h().createElement(m.V$,this.props,(t=>{var r=this.props.tethered?v.Z:m.ZP;return h().createElement(r,S(S({},T(e,T(t,{}))),{},{ref:r=>{this.select=r,t.ref(r),e.ref(r)},onFocus:()=>{e.onInputChange("")},onInputChange:r=>(t.onInputChange(r),e.onInputChange(r))}))}))))}}const I=D;var R=h().lazy((()=>r.e(331).then(r.bind(r,17331))));function A(e){return h().createElement(d.Suspense,{fallback:h().createElement("div",null,"Loading")},h().createElement(R,e))}var j=r(58909),M=["normalizeChanges"];function N(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class F extends h().Component{constructor(){super(...arguments),this.onChange=this.onChange.bind(this)}onChange(e){var t=e=>e[this.props.valueKey||"value"],r={target:{id:this.props.id,name:this.props.name,value:""}};this.props.multi?r.target.value=e.map(t).join(","):e&&(r.target.value=t(e)),this.props.onChange(r),j.default.publish("SELECT_FIELD_CHANGE_".concat(this.props.id),r)}selectComponentType(){return this.props.async?this.props.creatable?I:this.props.sortable?A:x:this.props.tethered?v.Z:m.ZP}render(){var e=u()(this.props,["async","creatable","sortable"]),t=e.normalizeChanges,r=N(e,M),n=l()({},r);return t&&(n.onChange=this.onChange),h().createElement(this.selectComponentType(),n)}}B(F,"propTypes",{async:f().bool,multi:f().bool,creatable:f().bool,searchable:f().bool,sortable:f().bool,id:f().string.isRequired,name:f().string,normalizeChanges:f().bool,tethered:f().bool,tetherClassName:f().string,valueKey:f().string,onChange:f().func.isRequired,tetherAttachment:f().string,autoFocus:f().bool,openOnFocus:f().bool,optionComponent:f().func,valueComponent:f().func}),B(F,"defaultProps",{normalizeChanges:!0,creatable:!0,searchable:!0,tethered:!1});class V extends h().Component{render(){var e=this.props,t=e.id,r=e.label,n=e.options,o=e.value,s=i()(a()(n,(e=>e.id===o)),"name");return h().createElement("div",null,h().createElement("div",null,r),h().createElement("div",{id:t},s))}}B(V,"propTypes",{id:f().string.isRequired,label:f().string.isRequired,options:f().array.isRequired,value:f().any.isRequired});var Z=(0,g.Z)(F,V);Z.Input=F,Z.DefaultView=V;const U=Z},63273:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(41609),a=r.n(n),o=r(18446),i=r.n(o),s=r(35161),l=r.n(s),c=r(67294),u=r.n(c),d=r(45697),h=r.n(d),p=r(55652),f=r(83424),m=r(96339),v=r(37437),g=r(7736),y=r(39012),b=r(84256);var w=r(55888),C=r(7440);function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class L extends u().Component{static renderTag(e){var t=e.name;return u().createElement("div",{className:"tag-select",key:t},u().createElement("span",null,t))}render(){var e=l()(this.props.value,(function(){return L.renderTag(...arguments)}));return u().createElement("div",null,e)}}x(L,"propTypes",{value:h().array.isRequired});var P=g.Z.withView(L);class O extends u().Component{static renderOption(e){return u().createElement("div",{className:"tag-select-options"},i()(e.tag_type,"shared_tag")&&u().createElement(y.Z,{name:y.c.shareAlt}),e.name)}static valueComponent(e){var t=e.id,r=e.children,n=e.disabled,a=e.value,o=e.onRemove,i=e.value.allowTagRemoval;return u().createElement("div",{className:"tag-select",id:t,onMouseDown:()=>{n||o(a)}},u().createElement("span",null,r,i&&u().createElement(f.Z,{id:"close-icon"})))}static newTagPrompt(e){return"Create a new tag: '".concat(e,"'")}static newOptionCreator(e){var t=e.label,r=e.tagType;return{allowTagRemoval:e.allowTagRemoval,name:t,tag_type:r}}static generateTagOptions(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"string"===typeof e?a()(e)?[]:l()(e.split(","),(e=>O.newOptionCreator({allowTagRemoval:t,label:e,tagType:"tag"}))):l()(e,(e=>O.newOptionCreator({allowTagRemoval:t,label:e.name,tagType:e.tagType})))}constructor(e){super(e),x(this,"handleTagChange",(e=>{this.setState({activeTags:e}),this.props.onChange({target:{id:"tag_list",value:l()(e,"name").join(",")}})})),x(this,"handleSync",(()=>{m.Z.handleSync(p.ProductPlan.getBar(this.props.barId),this.fieldName(),this.props.onHandleFieldSync)})),x(this,"allowTagRemoval",(()=>!this.isInputDisabled())),x(this,"isInputDisabled",(()=>this.props.fieldSyncStatus===b.Ik.LOCKED)),this.state={activeTags:O.generateTagOptions(this.props.value,this.allowTagRemoval())}}componentDidUpdate(e){var t=this.props,r=t.value,n=t.fieldSyncStatus;e.value===r&&e.fieldSyncStatus===n||this.setState({activeTags:O.generateTagOptions(r,this.allowTagRemoval())})}fieldName(){return"tag_list"}render(){var e,t=this.isInputDisabled(),r=(0,v.$)(this.fieldName(),this.props.editMode,this.props.barId,this.handleSync,this.props.fieldSyncStatus),n=null===(e=window.currentRoadmapable)||void 0===e?void 0:e.roadmapableId(),a=this.allowTagRemoval();return u().createElement("div",{className:"bar-field",id:"tags-field","data-name":"tags-field"},u().createElement(C.HookProvider,{useHook:()=>function(e){var t=e.roadmapId,r=e.allowTagRemoval,n=E(u().useState(),2),a=n[0],o=n[1],i=(0,w.M4)({roadmapId:t,searchTerm:a},{keepPreviousData:!0}),s=u().useMemo((()=>{var e,t=null===(e=i.data)||void 0===e?void 0:e.pages,n=t?t.flatMap((e=>e.tags)):[];return O.generateTagOptions(n,r)}),[i.data,r]);return{search:o,loadNextPage:i.fetchNextPage,formattedResults:s,isFetching:i.isFetching}}({roadmapId:n,allowTagRemoval:a})},(e=>u().createElement(P,{async:!0,multi:!0,pagination:!0,autoFocus:this.props.autoFocus,autoload:!1,disabled:t,editMode:this.props.editMode,escapeClearsValue:!1,id:this.props.inputId,label:this.props.label,labelKey:"name",loadOptions:e.search,name:"tag_list",newOptionCreator:O.newOptionCreator,normalizeChanges:!1,optionRenderer:O.renderOption,placeholder:"Add Tags",promptTextCreator:O.newTagPrompt,tetherClassName:this.props.tetherClassName,tethered:this.props.tethered,value:this.state.activeTags,valueComponent:O.valueComponent,valueKey:"name",onChange:this.handleTagChange,onBlur:this.props.onBlur,searchState:e,options:e.formattedResults}))),r)}}x(O,"propTypes",{autoFocus:h().bool,barId:h().number,editMode:h().bool.isRequired,inputId:h().string,onHandleFieldSync:h().func,label:h().oneOfType([h().string,h().bool]),value:h().string.isRequired,tetherClassName:h().string,tethered:h().bool,onChange:h().func.isRequired,onBlur:h().func,fieldSyncStatus:h().string}),x(O,"defaultProps",{autoFocus:!1,inputId:"tag_list",label:"Tags",tethered:!1,fieldSyncStatus:b.Ik.NOT_VISIBLE});const S=O},32754:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(14293),a=r.n(n),o=r(67294),i=r.n(o),s=r(43129),l=r(11076),c=r.n(l);class u extends s.ZP{constructor(e){super(e),this.renderOuter=this._renderOuter}_renderOuter(){var e=super.renderOuter.apply(this,arguments);if(e){var t=this.props.tetherClassName?this.props.tetherClassName:null,r=this.wrapper?this.wrapper.offsetWidth:null,n=a()(this.props.tetherAttachment)?"top left":this.props.tetherAttachment;return i().createElement(c(),{attachment:"".concat(n),className:t,constraints:[{attachment:"together",to:"window",pin:["top"]}],renderElementTo:"body",targetAttachment:"top left"},i().createElement("div",null),i().cloneElement(e,{style:{position:"static",width:r}}))}}}},77271:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(82723),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(43557),u=r(51206),d=r(54042);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends i().Component{fieldControl(e){return i().createElement(c.Z,null,i().createElement(u.Z,{htmlFor:this.props.id},this.props.label),e)}renderViewMode(){return""===this.props.value?null:this.fieldControl(i().createElement("div",null,i().createElement("p",{className:"textarea-autoresize",id:this.props.id},this.props.value),i().createElement("hr",{className:"paragraph-separator"})))}renderEditMode(){var e=a()(this.props,["editMode","errors","label","value","htmlFor"]);return e.defaultValue=this.props.value,e.name=this.props.id,this.fieldControl(i().createElement(d.Z,h({className:"form-control"},e)))}render(){return this.props.editMode?this.renderEditMode():this.renderViewMode()}}p(f,"propTypes",{editMode:l().bool.isRequired,rows:l().number,label:l().string,value:l().string,id:l().string}),p(f,"defaultProps",{rows:2});const m=f},85008:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(27361),a=r.n(n),o=r(2525),i=r.n(o);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l{constructor(e,t,r,n){this.id=e,this.value=t,this.errors=r||[],this.onChange=n}isEqual(e){return!(this.id!==e.id||this.value!==e.value||this.onChange!==e.onChange||this.errors.length!==e.errors.length)&&this.errors.every((function(t,r){return t===e.errors[r]}))}}const c=class{constructor(e,t,r,n){s(this,"update",(e=>{var t={targets:[]};i()(e,((e,r)=>{t.targets.push({id:r,value:e})})),this.onChange(t)})),s(this,"setErrors",(e=>{this.onSetErrors(e)})),s(this,"errorsFor",(e=>this.errors?a()(this.errors,e):null)),s(this,"fieldFor",(e=>{var t=a()(this.data,e),r=t&&Object.prototype.hasOwnProperty.call(t,"value")?t.value:t;return new l(e,r,this.errorsFor(e),this.onChange)})),this.data=e,this.errors=t,this.onChange=r,this.onSetErrors=n}}},83868:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(55652),a=r(34844),o=r(65835);function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,s,"next",e)}function s(e){c(o,n,a,i,s,"throw",e)}i(void 0)}))}}var d=[0,50,200,200,200,200,200,200,2e3];function h(e){return p.apply(this,arguments)}function p(){return p=u(i().mark((function e(t){var r,n,a,l,c,u,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=h.length>1&&void 0!==h[1]?h[1]:d,a=s(r),e.prev=2,a.s();case 4:if((l=a.n()).done){e.next=16;break}return c=l.value,e.next=8,(0,o.g)(c);case 8:return e.next=10,t();case 10:if(!(u=e.sent)){e.next=13;break}return e.abrupt("return",u);case 13:n=u;case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:throw n;case 25:case"end":return e.stop()}}),e,null,[[2,18,21,24]])}))),p.apply(this,arguments)}var f=r(65943),m=r(12458),v=r(21372),g=r(24e3);function y(){y=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function b(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){b(o,n,a,i,s,"next",e)}function s(e){b(o,n,a,i,s,"throw",e)}i(void 0)}))}}function C(){return C=w(y().mark((function e(t){var r,o,i,s,l,c,u,d=arguments;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:void 0,o=d.length>2?d[2]:void 0,i=t.url||t.bar_url,!window.currentRoadmapable.isMasterPlan()){e.next=14;break}if(!window.currentRoadmapable.roadmaps[t.roadmap_id]){e.next=11;break}return s=Number(i.split("/").pop()),l={id:s,roadmap:{id:t.roadmap_id}},e.next=9,(0,g.c)(l);case 9:e.next=12;break;case 11:n.ProductPlan.openLinkInNewTab(i);case 12:e.next=39;break;case 14:if(!r){e.next=19;break}return e.next=17,L.clickLocalBarResult(r);case 17:e.next=39;break;case 19:if(t.roadmap_id!==window.currentRoadmapable.roadmapableId()){e.next=38;break}e.t0=window.getLayout(),e.next=e.t0===a.Z.LIST||e.t0===a.Z.TIMELINE||e.t0===a.Z.ROADMAP?23:e.t0===a.Z.PARKING_LOT?27:e.t0===a.Z.ROADMAP_VIEW?30:36;break;case 23:return $(document).one("PARKING_LOT_LOADED",w(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=()=>f.RZ.selectorExists(".parking-lot-table")&&!f.RZ.loaderIsShowing(),e.next=3,h(t);case 3:return e.next=5,E(o);case 5:case"end":return e.stop()}}),e)})))),m.Z.set(v.Z.parked),window.setLayout(a.Z.PARKING_LOT),e.abrupt("break",36);case 27:return $(document).one("ROADMAP_LOADED",w(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=()=>f.RZ.selectorExists(".timeline")&&!f.RZ.loaderIsShowing(),e.next=3,h(t);case 3:return e.next=5,E(o);case 5:case"end":return e.stop()}}),e)})))),window.setLayout(a.Z.TIMELINE),e.abrupt("break",36);case 30:return e.next=32,n.ProductPlan.roadmapManager.loadBar(o);case 32:return c=e.sent,u=c.data,L.clickLocalBarResult(u.bar),e.abrupt("break",36);case 36:e.next=39;break;case 38:n.ProductPlan.openLinkInNewTab(i);case 39:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function E(e){return _.apply(this,arguments)}function _(){return(_=w(y().mark((function e(t){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.currentRoadmapable.findActiveBar(t),e.next=3,L.clickLocalBarResult(r);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=w(y().mark((function e(t){var n,o,i,s,l,c,u,d;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.bar=t,n=window.currentRoadmapable.isExportView,window.getLayout()!==a.Z.LIST){e.next=8;break}return o=r(58909).default,i=r(58909),s=i.eventNames,o.publish(s.SEARCH_RESULT_CLICKED,t),e.abrupt("return");case 8:if(!window.currentRoadmapable.isPrimaryView()||window.currentRoadmapable.isMasterPlan()||n){e.next=27;break}if(!t.parked){e.next=20;break}return l=r(12458).Z,c=r(21372).Z,l.set(c.parked),window.setLayout(a.Z.PARKING_LOT),u=()=>f.RZ.selectorExists(".parking-lot-table")&&!f.RZ.loaderIsShowing(),e.next=17,h(u);case 17:window.ProductPlan.parkinglotView.scrollBarIntoView(t.id,!0,window.bar.name),e.next=25;break;case 20:return window.setLayout(a.Z.TIMELINE),d=()=>f.RZ.selectorExists(".timeline")&&!f.RZ.loaderIsShowing(),e.next=24,h(d);case 24:window.ProductPlan.roadmapView.scrollBarIntoView(t.id,!0,window.bar.name);case 25:e.next=28;break;case 27:t.parked?window.ProductPlan.parkinglotView?window.ProductPlan.parkinglotView.scrollBarIntoView(t.id,!0,window.bar.name):window.ProductPlan.roadmapView.showBarNotFoundToast(window.bar.name):window.ProductPlan.roadmapView.scrollBarIntoView(t.id,!0,window.bar.name);case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L={redirectToBar:function(e){return C.apply(this,arguments)},clickLocalBarResult:function(e){return x.apply(this,arguments)}};const P=L},35387:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(53632),a=r.n(n),o=r(35161),i=r.n(o),s=r(6162),l=r.n(s),c=r(41609),u=r.n(c),d=r(80008),h=r.n(d),p=r(51793),f={unitsToDate:(e,t)=>t.unitsToDate(e),convertToEndOfDay(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=p.Z.fromString(e).endOfDayApiFormatted();return t?h()(r):r},getStartsOnLimits(e,t,r){var n=void 0,a=void 0;if(e.isContained)n=e.parent().startsOn,a=f.convertToEndOfDay(e.endsOn);else if(u()(e.bars()))a=void 0===r?f.convertToEndOfDay(e.endsOn):r;else{var o=f.getLeastChildBarUnits(e);a=f.unitsToDate(o,t)}return{minDate:n,maxDate:a}},getEndsOnLimits(e,t,r){var n=void 0,a=void 0;if(e.isContained)n=r||e.startsOn,a=e.parent().endsOn,a=f.convertToEndOfDay(a);else if(u()(e.bars()))n=r||e.startsOn;else{var o=f.getGreatestChildBarUnits(e);n=f.unitsToDate(o,t),n=f.convertToEndOfDay(n)}return{minDate:n,maxDate:a}},startsOnLimits(e,t){var r=window.currentRoadmapable.findActiveBar(e),n=window.currentRoadmapable.timelineSettings();return f.getStartsOnLimits(r,n,t)},endsOnLimits(e,t){var r=window.currentRoadmapable.findActiveBar(e),n=window.currentRoadmapable.timelineSettings();return f.getEndsOnLimits(r,n,t)},isValidStartDate(e,t,r){var n=t.format(p.Z.dateFormat);return!u()(r)&&f.dateWithinBounds(f.startsOnLimits(e,n),r)},isValidEndDate(e,t,r){var n=t.format(p.Z.dateFormat);return!u()(r)&&f.dateWithinBounds(f.endsOnLimits(e,n),r)},dateWithinBounds:(e,t)=>(void 0===e.minDate||t>=e.minDate)&&(void 0===e.maxDate||t<=e.maxDate),endsOnForSubmit(e){var t=e;return h().isMoment(e)||(t=h()(e)),h()(t).add(1,"days").format(p.Z.dateFormat)},getGreatestChildBarUnits:e=>l()(i()(e.bars(),(e=>e.endUnits()))),getLeastChildBarUnits:e=>a()(i()(e.bars(),(e=>e.startUnits())))};const m=f},96339:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(91966),a=r.n(n),o=r(93386),i=r.n(o),s=r(44908),l=r.n(s),c=r(50308),u=r.n(c),d=r(55652),h=r(84256);function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=f,s(y,"constructor",f),s(f,"constructor",h),h.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function f(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){f(o,n,a,i,s,"next",e)}function s(e){f(o,n,a,i,s,"throw",e)}i(void 0)}))}}class v{static enableAllSyncFields(e,t){return m(p().mark((function r(){var n;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,h.K3)(e),window.showAJAXLoaderModal(),r.prev=2,r.next=5,d.ProductPlan.roadmapManager.updateBar(e.id,{settings:{sync_enabled_fields:n}});case 5:null===t||void 0===t||t();case 6:return r.prev=6,window.hideAJAXLoaderModal(),r.finish(6);case 9:case"end":return r.stop()}}),r,null,[[2,,6,9]])})))()}static breakBarLegendSync(e){return m(p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.ProductPlan.isFeatureEnabled("sync_lanes_legends")){t.next=2;break}return t.abrupt("return");case 2:if(!(r=d.ProductPlan.roadmapManager.roadmapable().findActiveBar(e))||!r.hasIntegrationFieldSyncEnabled("legend")){t.next=5;break}return t.abrupt("return",v.handleSync(r,"legend",u(),!0));case 5:case"end":return t.stop()}}),t)})))()}static handleSync(e,t,r){var n=arguments,o=this;return m(p().mark((function s(){var c,u;return p().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c=n.length>3&&void 0!==n[3]&&n[3],u=[],o.fieldSyncEnabled=!e.hasIntegrationFieldSyncEnabled(t),0===(u=o.fieldSyncEnabled?l()(i()([t],e.integrationSyncEnabledFields())):a()(e.integrationSyncEnabledFields(),[t])).length&&(u=["empty"]),c||window.showAJAXLoaderModal(),s.prev=6,s.next=9,d.ProductPlan.roadmapManager.updateBar(e.id,{settings:{sync_enabled_fields:u}});case 9:r(u);case 10:return s.prev=10,c||window.hideAJAXLoaderModal(),s.finish(10);case 13:case"end":return s.stop()}}),s,null,[[6,,10,13]])})))()}}const g=v},48290:(e,t,r)=>{"use strict";r.d(t,{UX:()=>v,ZP:()=>y});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(94184),l=r.n(s);var c=r(39012),u=r(76490),d=r(60769);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p="color",f="palette",m="Add Color",v={circle:"color-circle",selected:"color-circle--selected",palette:"color-palette",icon:"color-circle--icon"};class g extends a().Component{constructor(){super(...arguments),h(this,"handleColorClick",((e,t)=>r=>{var n=this.props.onColorClick;n&&n(e,t,r)})),h(this,"handleAddColorClick",(e=>t=>{var r=this.props.onAddColorClick;r&&r(e,t)})),h(this,"handleContextMenuClick",((e,t)=>()=>{var r=this.props.onContextMenuClick;r&&r(e,t)})),h(this,"option",((e,t)=>[a().createElement(u.Z,{key:"menu-item-".concat(e.id),label:"Delete",onClick:this.handleContextMenuClick(e,t)})]))}getAddColorUI(e,t){var r=l()(v.circle,"color-circle--".concat(t),v.icon),n="color-add-".concat(e.id);return a().createElement("span",{checked:!1,className:r,"data-color":n,"data-name":p,key:n,role:"radio",style:{backgroundColor:"#FFFFFF"},title:m,onClick:this.handleAddColorClick(e)},a().createElement(c.Z,{name:c.c.plus}))}getColorCircle(e,t,r,n,o){var i=null!=t&&parseInt(t)===e.id,s=l()(v.circle,"color-circle--".concat(n),{[v.selected]:!!o&&i}),c="color-".concat(e.id,"-").concat(e.hex);return a().createElement("span",{checked:i,className:s,"data-color":e.id,"data-name":p,key:c,role:"radio",style:{backgroundColor:"#".concat(e.hex.toUpperCase())},title:e.hex,onClick:this.handleColorClick(e,r)})}getExistingColorUI(e,t,r,n,o){return this.props.canDelete?a().createElement(d.Z,{className:"color-context-menu",hideMenu:!1,id:"color-context-menu-".concat(e.id),itemId:"color-context-menu-".concat(e.id),key:"color-context-menu-".concat(e.id),options:this.option(e,r)},this.getColorCircle(e,t,r,n,o)):this.getColorCircle(e,t,r,n,o)}getColorsUI(){var e=this.props,t=e.size,r=e.selectedId,n=e.palette,a=e.showSelectedState;return n.colors.map((e=>isNaN(e.id)?"add"===e.id?this.getAddColorUI(n,t):void 0:this.getExistingColorUI(e,r,n,t,a)))}render(){return a().createElement("div",{className:v.palette,"data-name":f},this.getColorsUI())}}g.propTypes={canDelete:i().bool,onAddColorClick:i().func,onColorClick:i().func,onContextMenuClick:i().func,palette:i().object.isRequired,selectedId:i().oneOfType([i().string,i().number]),showSelectedState:i().bool,size:i().string},g.defaultProps={size:"medium"};const y=g},48098:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>W,XL:()=>z,J7:()=>_});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(48290),l=a().lazy((()=>r.e(753).then(r.bind(r,89753))));function c(e){return a().createElement(n.Suspense,{fallback:a().createElement("div",null,"Loading...")},a().createElement(l,e))}var u=r(94184),d=r.n(u),h=r(9669),p=r.n(h),f=r(93128),m=r(73935),v=r.n(m);function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function y(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function b(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){y(o,n,a,i,s,"next",e)}function s(e){y(o,n,a,i,s,"throw",e)}i(void 0)}))}}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _={large:"large",medium:"medium",small:"small"},x="color-picker",L="system",P="custom",O={event:"custom_colors_add"},S={event:"custom_colors_edit"},k={event:"custom_colors_delete"},T="color-palette-separator",D="color-palette-readonly",I="color-picker-wrapper",R="color-picker-wrapper-invalid",A="color-picker-wrapper-message",j="color-palette-wrapper",M="color-palette-title",N="color-palette-colors",B="It looks like this color is already assigned.",F="Dang\u2026 we couldn\u2019t add that color.",V="That color is stubborn.",Z="Oh no! We couldn't delete that color.",U="This never happens, but the colors could not load.",G="Please try again.";function H(e,t){p().isCancel(e)||(f.Z.unsuccessful(t,G),console.error(e))}class q extends a().Component{constructor(){var e;super(...arguments),e=this,E(this,"cancelTokenSource",p().CancelToken.source()),E(this,"cancelToken",this.cancelTokenSource.token),E(this,"state",C({selectedColor:null,showPicker:!1,pickerPosition:{top:0,left:0},showSelectedState:!0},this.props)),E(this,"handleColorChange",(e=>{var t=this.props.onColorChange,r=this.state,n=r.palettes,a=r.pickerForPalette,o=Object.assign({},this.state.selectedColor,{hex:e.hex.replace("#","")}),i=n.map((e=>e)),s=i.find((e=>e.id===a));s.colors=s.colors.map(((e,t)=>{if(e.id===o.id&&"add"!==o.id)e.hex=o.hex;else if("add"===e.id&&"add"===o.id){o.id="add"+Math.floor(Date.now()*Math.random()),e.id=o.id,e.hex=o.hex;var r=t+1;if(r<s.colors.length)s.colors[r].id="add"}return e})),t&&t(o),this.handleSetState({selectedColor:o,palettes:i})})),E(this,"handleColorChangeComplete",function(){var t=b(g().mark((function t(n){var a,o,i,s,l,c,u,d,h,p,f,m,v;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.cancelToken.reason){t.next=2;break}return t.abrupt("return");case 2:if(a=e.state,o=a.palettes,i=a.pickerForPalette,s=a.selectedColor,l=e.props.onColorChangeComplete,!e.getExistingColor(s)){t.next=10;break}return e.handleSetState({inValidColorSelected:!0}),t.abrupt("return");case 10:e.handleSetState({inValidColorSelected:!1});case 11:if(c=r(74527),u=[...o],d=u.find((e=>e.id===i)),!isNaN(s.id)){t.next=34;break}return window.dataLayer.push(O),t.prev=17,t.next=20,c.addColorToPalette(n.hex.replace("#",""),d.id);case 20:h=t.sent,p=h.data,f=Object.assign({},s,{id:p.id}),(m=d.colors.find((e=>e.hex===s.hex)))?m.id=f.id:(v=d.colors.findIndex((e=>"add"===e.id)),d.colors.splice(v-1,0,f)),l&&l(f,"add"),e.handleSetState({selectedColor:f,selectedId:p.id,palettes:u}),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(17),H(t.t0,F);case 32:t.next=44;break;case 34:return window.dataLayer.push(S),t.prev=35,t.next=38,c.editColorInPalette(s,d.id);case 38:l&&l(s,"edit"),t.next=44;break;case 41:t.prev=41,t.t1=t.catch(35),H(t.t1,V);case 44:case"end":return t.stop()}}),t,null,[[17,29],[35,41]])})));return function(e){return t.apply(this,arguments)}}()),E(this,"handleColorClick",((e,t,r)=>{var n=this.state,a=n.showPicker,o=n.selectedId,i=n.canEdit,s=this.props.onColorClick;s&&s(e,this);var l=r.currentTarget.getBoundingClientRect(),c={left:r.currentTarget.offsetLeft,top:r.currentTarget.offsetTop+l.height},u=e.id===o,d=t.type===L,h=C(C({},this.state),{},{pickerPosition:c,showPicker:i&&!d&&!(u&&a),selectedId:e.id,selectedColor:e,pickerForPalette:t.id});a||this.setUpClickAway(),this.handleSetState(h)})),E(this,"handleContextMenuClick",function(){var t=b(g().mark((function t(n,a){var o,i,s,l,c;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props.onColorChangeComplete,i=r(74527),window.dataLayer.push(k),t.prev=3,t.next=6,i.deleteColorInPalette(n,a.id);case 6:s=e.state.palettes,(l=Object.assign({},a)).colors=l.colors.filter((e=>e.id!==n.id)),c=s.map((e=>e.id===l.id?l:e)),o&&o(n,"delete"),e.handleSetState({palettes:c}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(3),H(t.t0,Z);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})));return function(e,r){return t.apply(this,arguments)}}()),E(this,"handleAddColorClick",((e,t)=>{var r=this.state.palettes,n=Object.assign({},e),a=n.colors.findIndex((e=>"add"===e.id)),o=n.colors[a];o.hex="FFFFFF";var i=r.map((e=>e.id===n.id?n:e)),s=t.currentTarget.getBoundingClientRect(),l={left:t.currentTarget.offsetLeft,top:t.currentTarget.offsetTop+s.height};this.setUpClickAway(),this.handleSetState({palettes:i,selectedId:o.id,selectedColor:o,showPicker:!0,pickerPosition:l,pickerForPalette:e.id})})),E(this,"handleClickAway",(e=>{var t=e.target.classList.contains(s.UX.circle),r=e.target.classList.contains(I),n=$(e.target).parents(".".concat(I)).length>0;t||r||n?this.setUpClickAway():this.handleSetState({showPicker:!1})})),E(this,"setUpClickAway",(()=>{$("html").one("click",this.handleClickAway)}))}fetchPalettes(){var e=this;return b(g().mark((function t(){var n,a,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r(74527),t.prev=1,t.next=4,n.getRoadmapPalettes(e.cancelToken);case 4:a=t.sent,o=a.data,e.handleSetState({palettes:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),H(t.t0,U);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}componentDidMount(){this.fetchPalettes()}componentWillUnmount(){this.cancelTokenSource.cancel("All operations cancelled when component unmounted"),$("html").off("click",this.handleClickAway)}handleSetState(e){this.cancelToken.reason||this.setState(e)}getExistingColor(e){for(var t=this.state.palettes,r=null,n=0;n<t.length;n++)for(var a=0;a<t[n].colors.length;a++){var o=t[n].colors[a],i=!!parseInt(o.id);if(o.hex===e.hex&&o.id!==e.id&&i){r=o;break}}return r}handleExternalPropChange(e){e&&e!==this.state&&this.handleSetState(C(C({},this.state),e))}getCustomPaletteUI(e){var t=this.state.canAdd,r=e.palette.colors.find((e=>"add"===e.id));return t&&!r&&e.palette.colors.push({id:"add"}),e.onAddColorClick=this.handleAddColorClick,a().createElement(s.ZP,e)}getPalettesUI(){var e=this.state,t=e.selectedId,r=e.palettes,n=e.showSelectedState,o=e.showPicker,i=this.props,l=i.size,c=i.showLabel,u=n||!n&&o;return r.map(((e,r)=>{var o={size:l,selectedId:t,palette:e,showSelectedState:u,onColorClick:this.handleColorClick},i=a().createElement(s.ZP,o);e.type===P&&(this.props.canDeleteCustomColor&&(o.canDelete=!0,o.onContextMenuClick=this.handleContextMenuClick),i=this.getCustomPaletteUI(o,r));var h=r>0&&a().createElement("hr",{className:T}),p=d()(j,{[D]:!n&&e.type===L});return a().createElement("div",{className:p,key:"".concat(e.type,"-").concat(e.id),role:"radiogroup"},c&&a().createElement("div",{className:M},h,e.name),a().createElement("div",{className:N},h,i))}))}getColorPickerUI(){var e=this.state,t=e.selectedColor,r=e.pickerPosition,n=e.inValidColorSelected,o={left:r.left,top:r.top},i=d()(I,{[R]:n});return a().createElement("div",{className:i,"data-name":x,style:o},a().createElement(c,{disableAlpha:!0,color:"#".concat(t.hex),presetColors:[],styles:{picker:{}},onChange:this.handleColorChange,onChangeComplete:this.handleColorChangeComplete}),n&&a().createElement("p",{className:A},B))}render(){var e=this.state,t=e.showPicker,r=e.canAdd,n=e.canEdit,o=e.palettes;return a().createElement("div",{style:{minHeight:"42px"}},o&&this.getPalettesUI(),(r||n)&&t&&this.getColorPickerUI())}}q.propTypes={canAdd:i().bool,canDeleteCustomColor:i().bool,canEdit:i().bool,onColorChange:i().func,onColorChangeComplete:i().func,onColorClick:i().func,palettes:i().array,selectedId:i().number,showLabel:i().bool,showSelectedState:i().bool,size:i().string};const W=q;function z(e,t){var r={onColorClick:null,size:_.small,selectedId:null},n=Object.assign({},r,t),o=a().createElement(q,n),i=document.getElementById(e);return v().render(o,i)}},15547:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(76395),l=r(48098);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d="Edit Roadmap Colors",h="Close";class p extends a().Component{constructor(e){super(e),u(this,"handleClose",(()=>{var e=this.props.onHandleClose,t=this.state.isColorChanged;e&&e(t,this.showModal)})),u(this,"handleColorChangeComplete",(e=>{this.setState({isColorChanged:e})})),this.state={isColorChanged:!1}}static show(e){return s.Z.show(this,e)}render(){return a().createElement(s.Z,c({additionalClasses:"colors-modal",ref:e=>{this.showModal=e},title:d,onClose:this.handleClose},this.props),a().createElement("div",{className:"colors-content"},a().createElement(l.ZP,{canAdd:!0,canDeleteCustomColor:!0,canEdit:!0,selectedId:null,showLabel:!0,showSelectedState:!1,size:l.J7.small,onColorChangeComplete:this.handleColorChangeComplete})),a().createElement("div",{className:"pp-centered-buttons"},a().createElement("button",{className:"btn btn-success",type:"button",onClick:this.handleClose},h)))}}p.propTypes={onHandleClose:i().func};const f=p},76490:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(94184),l=r.n(s),c=r(54228),u=r(95234),d=r(39012),h=r(90075);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends a().Component{constructor(){super(...arguments),p(this,"handleOnItemClick",(e=>(e.stopPropagation(),this.props.disabled||this.props.onClick(),!1)))}renderItemWithTooltip(){return a().createElement("li",{id:this.props.id,className:l()({disabled:this.props.disabled})},a().createElement(c.Z,{placement:"bottom",rootClose:!0,overlay:a().createElement(u.Z,{id:"tooltip-action-move-menu"},a().createElement("div",{className:"title"},this.props.tooltip))},a().createElement("a",{className:"clamp--1",href:"javascript:void(0)",onClick:this.handleOnItemClick},this.props.icon&&a().createElement(h.Z,null,a().createElement(d.Z,{name:this.props.icon})),this.props.label)))}renderItemWithoutTooltip(){return a().createElement("li",{id:this.props.id,className:l()({disabled:this.props.disabled})},a().createElement("a",{className:"clamp--1",href:"javascript:void(0)",onClick:this.handleOnItemClick},this.props.icon&&a().createElement(h.Z,null,a().createElement(d.Z,{name:this.props.icon})),this.props.label))}render(){return this.props.tooltip?this.renderItemWithTooltip():this.renderItemWithoutTooltip()}}p(f,"propTypes",{id:i().string,icon:i().object,label:i().string.isRequired,onClick:i().func,disabled:i().bool,tooltip:i().string}),p(f,"defaultProps",{onClick:()=>{},disabled:!1});const m=f},60769:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(67294),a=r.n(n),o=r(81936),i=r(14342);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends n.Component{render(){var e=l(l({},this.props),{},{isContextMenu:!0,mouseButton:o.RY});return a().createElement(o.ZP,e)}}c(u,"propTypes",i.i),c(u,"defaultProps",i.l);const d=u},81936:(e,t,r)=>{"use strict";r.d(t,{CC:()=>m,RY:()=>v,ZP:()=>y});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(73935),l=r.n(s),c=r(94184),u=r.n(c),d=r(14342);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=0,v=2;class g extends a().Component{constructor(e){super(e),this.createContextMenu=this.createContextMenu.bind(this),this.destroyContextMenu=this.destroyContextMenu.bind(this),this.handleOpenContextMenu=this.handleOpenContextMenu.bind(this),this.handleOpenContextMenuOutside=this.handleOpenContextMenuOutside.bind(this),this.handleOpenContextMenuInside=this.handleOpenContextMenuInside.bind(this),this.handleClickOutsideContextMenu=this.handleClickOutsideContextMenu.bind(this),this.container=$("#context-menu-component-container"),this.state={isMenuVisible:!1,contextMenuStyle:void 0}}componentDidMount(){var e=this.props,t=e.id,r=e.hideMenu,n=e.mouseButton,a=document.getElementById(t);r||(n===m?(document.addEventListener("contextmenu",this.handleClickOutsideContextMenu),document.addEventListener("click",this.handleClickOutsideContextMenu),a&&a.addEventListener("click",this.handleOpenContextMenu)):(document.addEventListener("contextmenu",this.handleOpenContextMenu),document.addEventListener("click",this.handleClickOutsideContextMenu)))}componentWillUnmount(){var e=this.props,t=e.id,r=e.hideMenu,n=e.mouseButton,a=document.getElementById(t);r||(n===m?(document.removeEventListener("contextmenu",this.handleClickOutsideContextMenu),document.removeEventListener("click",this.handleClickOutsideContextMenu),a&&a.removeEventListener("click",this.handleOpenContextMenu)):(document.removeEventListener("contextmenu",this.handleOpenContextMenu),document.removeEventListener("click",this.handleClickOutsideContextMenu)),this.destroyContextMenu())}componentDidUpdate(e,t){this.state.isMenuVisible?this.createContextMenu():void 0!==t&&t.isMenuVisible&&this.destroyContextMenu()}handleOpenContextMenuOutside(){this.state.isMenuVisible&&this.updateContextMenuVisibility(!1)}handleOpenContextMenuInside(e){e.preventDefault(),this.state.isVisible&&this.contextMenuRoot.contains(e.target)||this.setupContextMenu(e)}isOutsideClick(e){return!this.root.contains(e.target)&&!$("#context-menu-component-container").has(e.target).length}isMenuItemClick(e){return!$("#context-menu-component-container").has(e.target).length}handleOpenContextMenu(e){(e.stopPropagation(),this.props.hideMenu)||(this.isOutsideClick(e)||this.shouldToggle()&&this.isMenuItemClick(e)?this.handleOpenContextMenuOutside():this.handleOpenContextMenuInside(e))}createContextMenu(){if(0===$("#context-menu-component-container").length){var e=$("<div id='context-menu-component-container'></div>");$("body").append(e)}l().render(this.contextMenuContainer(),$("#context-menu-component-container")[0])}getDropdownMenuPosition(e,t){var r,n=$(window).width(),a=null!==(r=$("#context-menu-component-container").children().outerWidth())&&void 0!==r?r:0;return n<t+a?{top:e,left:n-a-20}:{top:e,left:t}}getPosition(e){var t=this.props,r=t.isContextMenu,n=t.id;if(!r){var a=$("#".concat(n)),o=a.offset(),i=o.top+a.outerHeight(!0),s=o.left;return this.getDropdownMenuPosition(i,s)}return{top:e.clientY,left:e.clientX}}setupContextMenu(e){if(!this.props.hideMenu){this.setState({isMenuVisible:!0});var t=this.getPosition(e);this.setState({contextMenuStyle:t})}}shouldToggle(){var e=this.state.isMenuVisible,t=this.props.toggleButton;return e&&t}isContextMenuVisible(){return $("#context-menu-component-container")&&$("#context-menu-component-container").length>0}destroyContextMenu(){this.isContextMenuVisible()&&(this.updateContextMenuVisibility(!1),$("#context-menu-component-container").length>0&&(l().unmountComponentAtNode($("#context-menu-component-container")[0]),$("#context-menu-component-container").remove()))}updateContextMenuVisibility(e){this.setState({isMenuVisible:e})}handleClickOutsideContextMenu(e){this.props.hideMenu||(this.isOutsideClick(e)&&this.state.isMenuVisible||this.state.isMenuVisible&&this.props.mouseButton===v&&e.button!=v)&&this.updateContextMenuVisibility(!1)}contextMenuContainer(){var e=u()({"dropdown-menu":!0,"context-menu-container":!0,open:this.state.isMenuVisible,[this.props.className]:!0});return a().createElement("ul",{className:e,ref:e=>this.contextMenuRoot=e,style:this.state.contextMenuStyle},this.props.options)}render(){var e=this.props,t=e.children,r=e.className,n=e.id,o=e.onClick;return a().createElement("div",{className:r,id:n,ref:e=>this.root=e,onClick:o},t)}}f(g,"propTypes",p(p({},d.i),{},{isContextMenu:i().bool,mouseButton:i().number,toggleButton:i().bool})),f(g,"defaultProps",p(p({},d.l),{},{isContextMenu:!0,mouseButton:v,toggleButton:!1}));const y=g},14342:(e,t,r)=>{"use strict";r.d(t,{i:()=>s,l:()=>l});var n=r(50308),a=r.n(n),o=r(45697),i=r.n(o),s={children:i().node,className:i().string,hideMenu:i().bool,id:i().string.isRequired,onClick:i().func,options:i().array.isRequired},l={children:null,className:"",hideMenu:!1,onClick:a()}},2287:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n=r(41609),a=r.n(n),o=r(27361),i=r.n(o),s=r(28583),l=r.n(s),c=r(50308),u=r.n(c),d=r(67294),h=r.n(d),p=r(11076),f=r.n(p),m=r(45697),v=r.n(m),g=r(80008),y=r.n(g),b=r(30833),w=r(39012),C=r(82723),E=r.n(C),_=(r(6063),r(76141)),x=r(94184),L=r.n(x);function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O extends h().Component{classes(){return L()({"pp-datepicker":!0,errors:this.props.errors})}handleBlur(e){e.preventDefault(),e.stopPropagation()}render(){var e=E()(this.props,"errors");return h().createElement("div",{className:this.classes(),onBlur:this.handleBlur},h().createElement(_.SingleDatePicker,e))}}P(O,"propTypes",{disabled:v().bool.isRequired,errors:v().any}),P(O,"defaultProps",{disabled:!1,errors:!1});const S=O;var k=r(43557),T=r(51206),D=r(24614),I=r(35387),R=r(51793),A=r(58909);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=R.Z.dateFormat;class B extends h().Component{constructor(e){super(e),M(this,"handleStartDateChange",(e=>{var t=document.getElementById(this.props.fieldName+"-starts-on").value;t=this.formatCorrector(t,e),null===e&&(e=this.state.startDate),this.setState({startDate:e,startDateError:!1},(()=>{if(null!==t){var e=t.format(N);if(!this.isValidStartDate(e))return this.setState({startDateError:!0});var r=this.props.onChange||this.props.startDateField.onChange,n={target:{id:this.props.barData?"starts_on":"start_date",value:t.format(N)}};r(n),A.default.publish("START_DATE_FIELD_CHANGE",n)}else this.setState({startDateError:!0})}))})),M(this,"handleEndDateChange",(e=>{var t=document.getElementById(this.props.fieldName+"-ends-on").value;t=this.formatCorrector(t,e),null===e&&(e=this.state.endDate),this.setState({endDate:e,endDateError:!1},(()=>{if(null!==t){var e=t.format(N);if(!this.isValidEndDate(e))return this.setState({endDateError:!0});var r=this.props.onChange||this.props.endDateField.onChange,n={};this.props.barData?(n.id="ends_on",n.dateForSubmit=I.Z.endsOnForSubmit(t.format(N))):(n.id="end_date",n.dateForSubmit=t.format(N));var a={target:{id:n.id,value:n.dateForSubmit}};r(a),A.default.publish("END_DATE_FIELD_CHANGE",a)}else this.setState({endDateError:!0})}))})),M(this,"handleOnCloseStartsOn",(e=>{null===e.date&&this.setState({startDate:y()(i()(this.props.startDateField,"value")||this.props.startDateField)})})),M(this,"handleOnCloseEndsOn",(e=>{null===e.date&&this.setState({endDate:y()(i()(this.props.endDateField,"value")||this.props.endDateField)})})),M(this,"isValidStartDate",(e=>this.props.isValidStartDate?this.props.isValidStartDate(this.props.barData,this.state.endDate,e):!a()(e)&&y()(e).isValid()&&y()(e).isBefore(this.state.endDate))),M(this,"isValidEndDate",(e=>this.props.isValidEndDate?this.props.isValidEndDate(this.props.barData,this.state.startDate,e):!a()(e)&&y()(e).isValid()&&y()(e).isAfter(this.state.startDate))),this.state={currentStartDateLimits:e.startsOnLimits(),currentEndDateLimits:e.endsOnLimits(),startDate:y()(e.startDateField.value||e.startDateField),endDate:y()(e.endDateField.value||e.endDateField)}}UNSAFE_componentWillReceiveProps(e){var t={};this.state.endDate!==e.endDateField&&(t.currentStartDateLimits=this.props.startsOnLimits(e.endDateField)),this.state.startDate!==e.startDateField&&(t.currentEndDateLimits=this.props.endsOnLimits(e.startDateField)),this.setState(l()({},t,{startDateError:!1,endDateError:!1})),e.barData||(e.startDateField&&0!==e.startDateField.errors.length&&this.setState({startDateError:!0}),e.endDateField&&0!==e.endDateField.errors.length&&this.setState({endDateError:!0}))}formatCorrector(e,t){if(null!==t)return t;var r=y()(e,["YYYY-MM-DD","YYYY-M-D","YYYY-MM-D","YYYY-M-DD"],!0);return r.isValid()?r:null}focusData(e,t){return t?{["".concat(e,"Focused")]:t}:{["".concat(e,"Focused")]:t,["".concat(e,"DateError")]:t}}renderInline(e,t){return h().createElement(k.Z,{validationState:this.props.validationState()},h().createElement(T.Z,null,"Dates"),h().createElement("div",{className:"bar-details-date-range"},h().createElement(S,j({date:this.state.startDate,disabled:this.props.disabled,focused:this.state.startFocused,id:this.props.fieldName+"-starts-on",isOutsideRange:e=>(0,_.isInclusivelyBeforeDay)(t.endDateLimit,e),onClose:this.handleOnCloseStartsOn,onDateChange:this.handleStartDateChange,onFocusChange:e=>{var t=e.focused;return this.setState(this.focusData("start",t))}},e.startDateProps)),h().createElement("div",{className:"date-range-separator"}),h().createElement(S,j({date:this.state.endDate,disabled:this.props.disabled,focused:this.state.endFocused,id:this.props.fieldName+"-ends-on",isOutsideRange:t=>(0,_.isInclusivelyAfterDay)(e.startDateLimit,t),onClose:this.handleOnCloseEndsOn,onDateChange:this.handleEndDateChange,onFocusChange:e=>{var t=e.focused;return this.setState(this.focusData("end",t))}},t.endDateProps))),h().createElement(D.Z,null,this.props.errors))}checkStartValidState(){var e=this.props;if(y().isMoment(e.startDateField))return!1;var t=e.startDateField&&0!==e.startDateField.errors.length?e.startDateField.errors:void 0;return{errors:t,hasError:t?"error":null}}checkEndValidState(){var e=this.props;if(y().isMoment(e.endDateField))return!1;var t=e.endDateField&&0!==e.endDateField.errors.length?e.endDateField.errors:void 0;return{errors:t,hasError:t?"error":null}}renderBlock(e,t){var r=this.checkStartValidState(),n=this.checkEndValidState();return h().createElement("div",{id:"date-picker-field"},h().createElement("div",{className:"field-col"},h().createElement(k.Z,{validationState:r.hasError},h().createElement(T.Z,null,"Start Date"),h().createElement(S,j({date:this.state.startDate,disabled:this.props.disabled,focused:this.state.startFocused,id:this.props.fieldName+"-starts-on",isOutsideRange:e=>(0,_.isInclusivelyBeforeDay)(t.endDateLimit,e),onClose:this.handleOnCloseStartsOn,onDateChange:this.handleStartDateChange,onFocusChange:e=>{var t=e.focused;return this.setState(this.focusData("start",t))}},e.startDateProps)),r.errors&&h().createElement(D.Z,null,r.errors))),h().createElement("div",{className:"field-col"},h().createElement(k.Z,{validationState:n.hasError},h().createElement(T.Z,null,"End Date"),h().createElement(S,j({date:this.state.endDate,disabled:this.props.disabled,focused:this.state.endFocused,id:this.props.fieldName+"-ends-on",isOutsideRange:t=>(0,_.isInclusivelyAfterDay)(e.startDateLimit,t),onClose:this.handleOnCloseEndsOn,onDateChange:this.handleEndDateChange,onFocusChange:e=>{var t=e.focused;return this.setState(this.focusData("end",t))}},t.endDateProps)),n.errors&&h().createElement(D.Z,null,n.errors))))}render(){var e={block:!0,displayFormat:N,openDirection:b.OPEN_UP,numberOfMonths:1,hideKeyboardShortcutsPanel:!0,verticalSpacing:10,keepOpenOnDateSelect:!0,transitionDuration:0,navPrev:h().createElement(w.Z,{name:w.c.arrowLeft}),navNext:h().createElement(w.Z,{name:w.c.arrowRight}),daySize:30},t=l()({},e,{errors:this.state.startDateError}),r=l()({},e,{errors:this.state.endDateError}),n={startDateProps:t,startDateLimit:null===this.state.startDate?y()(i()(this.props.startDateField,"value")||this.props.startDateField):this.state.startDate.clone().subtract(1,"days")},a={endDateProps:r,endDateLimit:null===this.state.endDate?y()(i()(this.props.endDateField,"value")||this.props.endDateField):this.state.endDate.clone().add(1,"days")},o=this.props.blockStyle?this.renderBlock(n,a):this.renderInline(n,a);return h().createElement(f(),{attachment:"top left",className:this.props.tetherWrapClass,renderElementTo:"body",targetAttachment:"top left"},this.props.children,o)}}M(B,"propTypes",{barData:v().oneOfType([v().object,v().number]),endDateField:v().oneOfType([v().object,v().string]),startDateField:v().oneOfType([v().object,v().string]),onChange:v().func,isValidStartDate:v().func,isValidEndDate:v().func,endsOnLimits:v().func,startsOnLimits:v().func,validationState:v().func,errors:v().string,disabled:v().bool.isRequired,fieldName:v().string,blockStyle:v().bool,appendToBody:v().bool,children:v().oneOfType([v().arrayOf(v().node),v().node]),tetherWrapClass:v().string}),M(B,"defaultProps",{endsOnLimits:u(),startsOnLimits:u(),validationState:u(),appendToBody:!1,disabled:!1});const F=B},39012:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m,c:()=>f});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(71820);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends a().Component{constructor(){super(...arguments),d(this,"handleClick",(()=>{var e=this.props.onClick;e&&e()}))}classes(){var e=this.props,t=e.classes,r=e.prefix,n=this.props.name,a=r,o=t;return"object"===typeof t&&(o=t.classes),n&&"string"===typeof n&&-1===n.indexOf("fa-")?n="fa-".concat(n):!r&&n&&(a=n.prefix),"".concat(a," ").concat(n.classes," ").concat(o)}render(){var e=u(u({},this.props),{},{classes:null,name:null});return a().createElement("i",l({},e,{className:this.classes(),onClick:this.handleClick}))}}d(h,"propTypes",{classes:i().oneOfType([i().string,i().object]),name:i().oneOfType([i().string,i().object]).isRequired,onClick:i().func,title:i().string,id:i().string,style:i().object,prefix:i().string}),d(h,"defaultProps",{classes:""});var p={};Object.keys(s).forEach((e=>{var t=s[e],r="".concat(t.prefix," ").concat(t.classes),n=".".concat(r.replace(/\s/g,".")),a=u(u({},t),{},{string:r,selectorString:n});p[e]=a}));var f=p;const m=h},71820:e=>{e.exports={angleRight:{classes:"fa-angle-right",prefix:"fas"},archive:{classes:"fa-archive",prefix:"fas"},arrowDown:{classes:"fa-arrow-down",prefix:"fas"},arrowLeft:{classes:"fa-arrow-left",prefix:"fas"},arrowRight:{classes:"fa-arrow-right",prefix:"fas"},arrowAltRight:{classes:"fa-arrow-alt-right",prefix:"fas"},arrowsAlt:{classes:"fa-expand-arrows-alt",prefix:"fas"},arrowUp:{classes:"fa-arrow-up",prefix:"fas"},arrowsV:{classes:"fa-arrows-v",prefix:"fas"},arrowsReorder:{classes:"fa-arrows",prefix:"far"},ban:{classes:"fa-ban",prefix:"fas"},base:{classes:"fa",prefix:"fa"},bell:{classes:"fa-bell",prefix:"fas"},binoculars:{classes:"fa-binoculars",prefix:"fas"},building:{classes:"fa-building",prefix:"fas"},calculator:{classes:"fa-calculator",prefix:"fas"},calendar:{classes:"fa-calendar-alt",prefix:"fas"},caretUp:{classes:"fa-caret-up",prefix:"fas"},caretDown:{classes:"fa-caret-down",prefix:"fas"},caretLeft:{classes:"fa-caret-left",prefix:"fas"},caretRight:{classes:"fa-caret-right",prefix:"fas"},chartBar:{classes:"fa-chart-bar",prefix:"far"},chartLine:{classes:"fa-chart-line",prefix:"fas"},check:{classes:"fa-check",prefix:"fas"},checkSquare:{classes:"fa-check-square",prefix:"fas"},checkCircle:{classes:"fa-check-circle",prefix:"fal"},checkCircleSolid:{classes:"fa-check-circle",prefix:"fas"},checkDouble:{classes:"fa-check-double",prefix:"far"},chevronCircleDown:{classes:"fa-chevron-circle-down",prefix:"fas"},chevronDown:{classes:"fa-chevron-down",prefix:"fas"},chevronLeft:{classes:"fa-chevron-left",prefix:"far"},chevronRight:{classes:"fa-chevron-right",prefix:"fas"},circle:{classes:"fa-circle",prefix:"far"},circleSolid:{classes:"fa-circle",prefix:"fas"},circleArrowLeft:{classes:"fa-arrow-alt-circle-left",prefix:"far"},circleCheck:{classes:"fa-circle-check",prefix:"fa-solid"},clipboard:{classes:"fa-clipboard",prefix:"far"},listDropdown:{classes:"fa-list-dropdown",prefix:"fas"},listOfItemsAlternate:{classes:"fa-list-alt",prefix:"fa"},clipboardListCheck:{classes:"fa-clipboard-list-check",prefix:"fas"},clipboardList:{classes:"fa-clipboard-list",prefix:"fas"},codeBranch:{classes:"fa-code-branch",prefix:"fas"},cog:{classes:"fa-cog",prefix:"fas"},columns:{classes:"fa-columns",prefix:"fas"},comments:{classes:"fa-comments",prefix:"fas"},commentSmile:{classes:"fa-comment-smile",prefix:"far"},copy:{classes:"fa-copy",prefix:"fas"},download:{classes:"fa-download",prefix:"fas"},edit:{classes:"fa-edit",prefix:"fas"},ellipsisVertical:{classes:"fa-ellipsis-v",prefix:"fas"},ellipsisVerticalThin:{classes:"fa-ellipsis-v",prefix:"far"},envelope:{classes:"fa-envelope",prefix:"fas"},expand:{classes:"fa-expand-alt",prefix:"fas"},eye:{classes:"fa-eye",prefix:"far"},eyeSlash:{classes:"fa-eye-slash",prefix:"far"},eyeSlashSolid:{classes:"fa-eye-slash",prefix:"fas"},externalLinkSquare:{classes:"fa-external-link-square-alt",prefix:"far"},file:{classes:"fa-file",prefix:"fas"},fileImage:{classes:"fa-file-image",prefix:"far"},filter:{classes:"fa-filter",prefix:"fas"},folder:{classes:"fa-folder",prefix:"fas"},fw:{classes:"fa-fw",prefix:"fa"},globe:{classes:"fa-globe",prefix:"fas"},gripVertical:{classes:"fa-grip-vertical",prefix:"fas"},hashtag:{classes:"fa-hashtag",prefix:"fas"},highlighter:{classes:"fa-highlighter",prefix:"fas"},history:{classes:"fa-history",prefix:"fas"},image:{classes:"fa-image",prefix:"far"},infoCircle:{classes:"fa-info-circle",prefix:"fas"},infoSquare:{classes:"fa-info-square",prefix:"fas"},levelUp:{classes:"fa-level-up-alt",prefix:"fas"},link:{classes:"fa-link",prefix:"fas"},lock:{classes:"fa-lock",prefix:"fas"},lockOpen:{classes:"fa-lock-open",prefix:"fas"},lockAlt:{classes:"fa-lock-alt",prefix:"fas"},longArrowUp:{classes:"fa-long-arrow-alt-up",prefix:"fas"},longArrowDown:{classes:"fa-long-arrow-alt-down",prefix:"fas"},longArrowLeft:{classes:"fa-long-arrow-alt-left",prefix:"fas"},longArrowRight:{classes:"fa-long-arrow-alt-right",prefix:"fas"},minus:{classes:"fa-minus",prefix:"fas"},minusCircle:{classes:"fa-minus-circle",prefix:"fas"},minusSquare:{classes:"fa-minus-square",prefix:"fas"},minusSquareOutline:{classes:"fa-minus-square",prefix:"far"},mousePointer:{classes:"fa-mouse-pointer",prefix:"fas"},objectGroup:{classes:"fa-object-group",prefix:"fas"},paintBrush:{classes:"fa-paint-brush",prefix:"fas"},parking:{classes:"fa-parking",prefix:"fas"},percentage:{classes:"fa-percentage",prefix:"fal"},filePdf:{classes:"fa-file-pdf",prefix:"far"},paperPlane:{classes:"fa-paper-plane",prefix:"fas"},pencil:{classes:"fa-pencil-alt",prefix:"fas"},play:{classes:"fa-play",prefix:"fas"},plus:{classes:"fa-plus",prefix:"fas"},plusCircle:{classes:"fa-plus-circle",prefix:"fas"},plusSquare:{classes:"fa-plus-square",prefix:"fas"},pulseSpinner:{classes:"fa-spinner fa-pulse fa-3x fa-fw",prefix:"fas"},pulseSpinnerSmall:{classes:"fa-spinner fa-pulse fa-fw",prefix:"fas"},puzzle:{classes:"fa-puzzle-piece",prefix:"fas"},questionCircle:{classes:"fa-question-circle",prefix:"fas"},refresh:{classes:"fa-sync",prefix:"fas"},search:{classes:"fa-search",prefix:"fas"},shareAlt:{classes:"fa-fw fa-share-alt",prefix:"fas"},share:{classes:"fa-share-square",prefix:"fas"},shareOutline:{classes:"fa-share-square",prefix:"far"},slack:{classes:"fa-slack",prefix:"fab"},sort:{classes:"fa-sort",prefix:"fas"},sortDown:{classes:"fa-sort-down",prefix:"fas"},sortUp:{classes:"fa-sort-up",prefix:"fas"},spin:{classes:"fa-spin",prefix:"fa"},spinner:{classes:"fa-spinner",prefix:"fas"},stickyNote:{classes:"fa-sticky-note",prefix:"fas"},fileSpreadsheet:{classes:"fa-file-spreadsheet",prefix:"far"},rocket:{classes:"fa-rocket",prefix:"fas"},square:{classes:"fa-square",prefix:"fas"},squareOutline:{classes:"fa-square",prefix:"far"},stack:{classes:"fa-stack",prefix:"fa"},stack1:{classes:"fa-stack-1x",prefix:"fa"},stack2:{classes:"fa-stack-2x",prefix:"fa"},stream:{classes:"fa-stream",prefix:"fas"},table:{classes:"fa-table",prefix:"fas"},tags:{classes:"fa-tags",prefix:"fas"},tasks:{classes:"fa-tasks",prefix:"fas"},text:{classes:"fa-text",prefix:"fas"},th:{classes:"fa-th",prefix:"fas"},times:{classes:"fa-times",prefix:"fas"},timesSquare:{classes:"fa-times-square",prefix:"fas"},timesCircle:{classes:"fa-times-circle",prefix:"fas"},trash:{classes:"fa-trash-alt",prefix:"fas"},trashOutline:{classes:"fa-trash-alt",prefix:"far"},unlink:{classes:"fa-unlink",prefix:"fas"},unlockAlt:{classes:"fa-unlock-alt",prefix:"fas"},upload:{classes:"fa-upload",prefix:"fas"},user:{classes:"fa-user",prefix:"fas"},users:{classes:"fa-users",prefix:"fas"},warning:{classes:"fa-exclamation-triangle",prefix:"fas"},warningSquare:{classes:"fa-exclamation-square",prefix:"fa"}}},7440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{HookProvider:()=>R,useDataStore:()=>x,useEventKey:()=>E,useEventListener:()=>D,useEventsChannel:()=>C,useFirstTruthyValue:()=>T,useGlobal:()=>P,useLocalStorage:()=>O,useOnClickAway:()=>b,usePersonalFiltersApplied:()=>k,usePlannedFilter:()=>S,useThrottledEffect:()=>I,useUserStore:()=>L,useZoomControls:()=>w});var n=r(23493),a=r.n(n),o=r(67294),i=r.n(o),s=r(55652),l=r(58909),c=r(47452),u=r(3759),d=r(12458);function h(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y="CHANGED_ZOOM_LEVEL";function b(e){var t=i().useRef();return i().useEffect((()=>{if(t.current){var r=r=>{t.current.contains(r.target)||e&&e()};return document.addEventListener("click",r),()=>document.removeEventListener("click",r)}}),[e]),t}function w(){var e=i().useState(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s.ProductPlan.displaySettings.zoomState())),t=m(e,2),r=t[0],n=r.canZoomIn,a=r.canZoomOut,o=r.visibleWidth,l=t[1];return C(y,(e=>{l(e)})),{canZoomIn:n,canZoomOut:a,zoomIn:s.ProductPlan.displaySettings.zoomin,zoomOut:s.ProductPlan.displaySettings.zoomout,visibleWidth:o}}function C(e,t){var r=Array.isArray(e)?e:[e];i().useEffect((()=>{var e,n=h(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;l.default.subscribe(a,t)}}catch(o){n.e(o)}finally{n.f()}return()=>{var e,n=h(r);try{for(n.s();!(e=n.n()).done;){var a=e.value;l.default.unsubscribe(a,t)}}catch(o){n.e(o)}finally{n.f()}}}),[e,t])}function E(e){var t=m(i().useState(0),2),r=t[0],n=t[1];return C(e,(()=>n((e=>e+1)))),r}function _(e){var t=m(i().useState(c.Z.get(e)),2),r=t[0],n=t[1];return C("".concat(e,"_STORE_CHANGED").toUpperCase(),n),[r,t=>c.Z.patch(e,t)]}function x(){return _("data")}function L(){return _("user")}function P(e,t){i().useEffect((()=>(window[e]=t,()=>{delete window[e]})))}function O(e,t){var r=m(i().useState((function(){var r=localStorage.getItem(e);return r?JSON.parse(r):t?t():null})),2),n=r[0],a=r[1];return i().useEffect((()=>localStorage.setItem(e,JSON.stringify(n))),[n]),[n,a]}function S(){var e=d.Z.get(),t=m(i().useState(e),2),r=t[0],n=t[1];return C("PLANNED_FILTER_CHANGED",(e=>n(e))),r}function k(){var e=m(i().useState(u.Z.hasFilters()),2),t=e[0],r=e[1];return C("UPDATED_FILTERS",(()=>{r(u.Z.hasFilters())})),t}function T(e){var t=i().useRef();return e&&!t.current&&(t.current=e),t.current}function D(e,t,r){i().useEffect((()=>{var n;return null===e||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,t,r),()=>{var n;return null===e||void 0===e||null===(n=e.removeEventListener)||void 0===n?void 0:n.call(e,t,r)}}),[e,t,r])}function I(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];var s=i().useCallback(a()(e,...n),[e,...n]),l=s.cancel;return i().useEffect((()=>l),[l]),i().useEffect(s,t),l}function R(e){var t,r=e.useHook,n=e.args,a=void 0===n?[]:n,o=e.children,i=r(...a);return null!==(t=null===o||void 0===o?void 0:o(i))&&void 0!==t?t:null}},87563:(e,t,r)=>{"use strict";r.d(t,{bN:()=>A,K5:()=>D,Gz:()=>w,KL:()=>R,oM:()=>I,CQ:()=>b,Oo:()=>x,mc:()=>k,Eu:()=>T,EY:()=>S,Kl:()=>L,pF:()=>O,y2:()=>E,og:()=>P,Ac:()=>C});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(94184),l=r.n(s),c=r(54228),u=r(19728),d=r(39012),h=r(92303),p=r(34844),f=r(27087);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y="Not available for this style setting";function b(e){var t=(0,f.useScoreDrawerContext)().toggleScoreDrawer;return a().createElement(_,v({icon:d.c.clipboardListCheck,tooltipText:"Prioritize",active:!1,onClick:t},e))}function w(e){var t=!(0,h.Z)(p.Z.LIST,window.currentRoadmapable.timelineSettings().timelineType),r=t?y:"List";return a().createElement(_,v({disabled:t,tooltipText:r,icon:d.c.columns},e))}function C(e){var t=!(0,h.Z)(p.Z.TIMELINE,window.currentRoadmapable.timelineSettings().timelineType),r=t?y:"Timeline";return a().createElement(_,v({disabled:t,tooltipText:r,icon:d.c.stream},e))}function E(e){var t,r=e.disabled?"Not available from this view":null!==(t=e.tooltipText)&&void 0!==t?t:"Table";return a().createElement(_,v({icon:d.c.table,tooltipText:r},e))}function _(e){var t,r=e.active,n=e.disabled,o=e.icon,i=e.name,s=e.onClick,h=e.tooltipText;return t=a().createElement("a",{className:l()("navbar-view-icon",{active:r}),"data-view-name":i,"aria-label":i,id:"".concat(i,"-navbar-view-icon"),disabled:n,href:"javascript:void(0)",role:"button",onClick:e=>{n||s(e)}},a().createElement(d.Z,{name:o})),h?a().createElement(c.Z,{rootClose:!0,overlay:a().createElement(u.Z,{id:h},h),placement:"bottom"},t):t}function x(e){var t=e.onClick,r=void 0===t?null:t,n=e.classNames,o=void 0===n?"":n,i=e.fill,s=void 0===i?null:i;return a().createElement("svg",{className:o,id:"product-plan-logo",viewBox:"0 0 25 19",onClick:r,xmlns:"http://www.w3.org/2000/svg"},a().createElement("g",{className:"bars"},a().createElement("path",{d:"M23.321 5H5.68C5.305 5 5 4.719 5 4.375V.625C5 .281 5.305 0 5.679 0H23.32c.374 0 .679.281.679.625v3.75c0 .344-.271.625-.679.625z",fill:s||"#0A6CB9"}),a().createElement("path",{d:"M18.321 12H.68C.305 12 0 11.719 0 11.375v-3.75C0 7.281.305 7 .679 7H18.32c.374 0 .679.281.679.625v3.75c0 .344-.271.625-.679.625z",fill:s||"#FFC33D"}),a().createElement("path",{d:"M24.321 19H6.68C6.305 19 6 18.719 6 18.375v-3.75c0-.344.305-.625.679-.625H24.32c.374 0 .679.281.679.625v3.75c0 .344-.271.625-.679.625z",fill:s||"#CD2D1F"})))}function L(){return a().createElement("svg",{className:"show-all-connections-icon",width:"22",height:"14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("path",{className:"stroke",clipRule:"evenodd",d:"M4 7a3 3 0 100 6 3 3 0 000-6z",strokeWidth:"2"}),a().createElement("path",{className:"fill",d:"M7 9h5a1 1 0 110 2H7V9z"}),a().createElement("path",{className:"stroke",clipRule:"evenodd",d:"M18 1a3 3 0 110 6 3 3 0 010-6z",strokeWidth:"2"}),a().createElement("path",{className:"fill",d:"M15 3h-5a1 1 0 000 2h5V3z"}))}function P(){return a().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"240",height:"152",fill:"none"},a().createElement("rect",{width:"239",height:"31",x:".5",y:".5",fill:"#fff",stroke:"#D1D5D9",rx:"3.5"}),a().createElement("path",{fill:"#919497",d:"M19 19.688a3.896 3.896 0 01-3.91-3.637l-2.871-2.215c-.383.492-.739.984-1.012 1.531a.873.873 0 00-.082.383c0 .164.027.3.082.41C12.684 19.06 15.637 21 19 21c.71 0 1.422-.11 2.105-.273l-1.394-1.094c-.246.055-.492.055-.711.055zm8.559 1.613l-3.008-2.352a9.17 9.17 0 002.215-2.789.873.873 0 00.082-.383c0-.164-.028-.3-.082-.41C25.289 12.47 22.336 10.5 19 10.5c-1.477.027-2.844.383-4.047 1.04L11.48 8.86a.462.462 0 00-.273-.083c-.137 0-.273.055-.328.164l-.547.684a.462.462 0 00-.082.273.39.39 0 00.164.329l16.078 12.441a.462.462 0 00.274.082.44.44 0 00.355-.164l.52-.684a.462.462 0 00.082-.273.39.39 0 00-.164-.328zm-5.004-3.883l-1.094-.848c.11-.246.137-.52.164-.82v-.027a2.614 2.614 0 00-2.598-2.598c-.246 0-.492.055-.738.11.164.218.246.492.273.765-.027.11-.027.191-.054.273l-2.024-1.53c.684-.575 1.559-.903 2.516-.93 2.16 0 3.938 1.777 3.938 3.937 0 .602-.165 1.148-.383 1.668z"}),a().createElement("rect",{width:"130",height:"8",x:"55",y:"12",fill:"#D1D5D9",rx:"4"}),a().createElement("path",{fill:"#D1D5D9",d:"M38 0h1v32h-1z"}),a().createElement("rect",{width:"239",height:"31",x:".5",y:"40.5",fill:"#fff",stroke:"#D1D5D9",rx:"3.5"}),a().createElement("path",{fill:"#919497",d:"M19 59.688a3.896 3.896 0 01-3.91-3.637l-2.871-2.215c-.383.492-.739.984-1.012 1.531a.873.873 0 00-.082.383c0 .164.027.3.082.41C12.684 59.06 15.637 61 19 61c.71 0 1.422-.11 2.105-.273l-1.394-1.094c-.246.054-.492.054-.711.054zm8.559 1.613l-3.008-2.352a9.17 9.17 0 002.215-2.789.873.873 0 00.082-.383c0-.164-.028-.3-.082-.41C25.289 52.47 22.336 50.5 19 50.5c-1.477.027-2.844.383-4.047 1.04l-3.473-2.68a.462.462 0 00-.273-.083c-.137 0-.273.055-.328.164l-.547.684a.462.462 0 00-.082.273.39.39 0 00.164.329l16.078 12.441a.462.462 0 00.274.082.44.44 0 00.355-.164l.52-.684a.462.462 0 00.082-.273.39.39 0 00-.164-.328zm-5.004-3.883l-1.094-.848c.11-.246.137-.52.164-.82v-.027a2.614 2.614 0 00-2.598-2.598c-.246 0-.492.055-.738.11.164.218.246.492.273.765-.027.11-.027.191-.054.273l-2.024-1.53c.684-.575 1.559-.903 2.516-.93 2.16 0 3.938 1.777 3.938 3.937 0 .602-.165 1.148-.383 1.668z"}),a().createElement("rect",{width:"164",height:"8",x:"55",y:"52",fill:"#D1D5D9",rx:"4"}),a().createElement("path",{fill:"#D1D5D9",d:"M38 40h1v32h-1z"}),a().createElement("rect",{width:"239",height:"31",x:".5",y:"80.5",fill:"#fff",stroke:"#D1D5D9",rx:"3.5"}),a().createElement("path",{fill:"#919497",d:"M19 99.688a3.896 3.896 0 01-3.91-3.637l-2.871-2.215c-.383.492-.739.984-1.012 1.531a.873.873 0 00-.082.383c0 .164.027.3.082.41C12.684 99.06 15.637 101 19 101c.71 0 1.422-.109 2.105-.273l-1.394-1.094c-.246.055-.492.055-.711.055zm8.559 1.613l-3.008-2.352a9.17 9.17 0 002.215-2.789.873.873 0 00.082-.383c0-.164-.028-.3-.082-.41C25.289 92.47 22.336 90.5 19 90.5c-1.477.027-2.844.383-4.047 1.04l-3.473-2.68a.462.462 0 00-.273-.083c-.137 0-.273.055-.328.164l-.547.684a.462.462 0 00-.082.273.39.39 0 00.164.329l16.078 12.441a.46.46 0 00.274.082.442.442 0 00.355-.164l.52-.684a.461.461 0 00.082-.273.39.39 0 00-.164-.328zm-5.004-3.883l-1.094-.848c.11-.246.137-.52.164-.82v-.027a2.614 2.614 0 00-2.598-2.598c-.246 0-.492.055-.738.11.164.218.246.492.273.765-.027.11-.027.191-.054.273l-2.024-1.53c.684-.575 1.559-.903 2.516-.93 2.16 0 3.938 1.777 3.938 3.937 0 .602-.165 1.148-.383 1.668z"}),a().createElement("rect",{width:"80",height:"8",x:"55",y:"92",fill:"#D1D5D9",rx:"4"}),a().createElement("path",{fill:"#D1D5D9",d:"M38 80h1v32h-1z"}),a().createElement("rect",{width:"239",height:"31",x:".5",y:"120.5",fill:"#fff",stroke:"#D1D5D9",rx:"3.5"}),a().createElement("path",{fill:"#919497",d:"M19 139.688a3.896 3.896 0 01-3.91-3.637l-2.871-2.215c-.383.492-.739.984-1.012 1.531a.875.875 0 00-.082.383c0 .164.027.301.082.41 1.477 2.899 4.43 4.84 7.793 4.84.71 0 1.422-.109 2.105-.273l-1.394-1.094c-.246.055-.492.055-.711.055zm8.559 1.613l-3.008-2.352a9.156 9.156 0 002.215-2.789.872.872 0 00.082-.383c0-.164-.028-.3-.082-.41-1.477-2.898-4.43-4.867-7.766-4.867-1.477.027-2.844.383-4.047 1.039l-3.473-2.68a.467.467 0 00-.273-.082c-.137 0-.273.055-.328.164l-.547.684a.461.461 0 00-.082.273.39.39 0 00.164.329l16.078 12.441a.46.46 0 00.274.082.442.442 0 00.355-.164l.52-.684a.461.461 0 00.082-.273.39.39 0 00-.164-.328zm-5.004-3.883l-1.094-.848c.11-.246.137-.519.164-.82v-.027a2.614 2.614 0 00-2.598-2.598c-.246 0-.492.055-.738.109.164.219.246.493.273.766-.027.109-.027.191-.054.273l-2.024-1.531c.684-.574 1.559-.902 2.516-.93 2.16 0 3.938 1.778 3.938 3.938 0 .602-.165 1.148-.383 1.668z"}),a().createElement("rect",{width:"113",height:"8",x:"55",y:"132",fill:"#D1D5D9",rx:"4"}),a().createElement("path",{fill:"#D1D5D9",d:"M38 120h1v32h-1z"}))}function O(e){var t=e.classNames,r=void 0===t?"":t;return a().createElement("svg",{className:r,width:"268",height:"152",xmlns:"http://www.w3.org/2000/svg",title:"Dragging a table row"},a().createElement("defs",null,a().createElement("filter",{x:"-9.4%",y:"-64.1%",width:"118.8%",height:"240.6%",filterUnits:"objectBoundingBox",id:"TableDragIcon-c"},a().createElement("feMorphology",{radius:".5",operator:"dilate",in:"SourceAlpha",result:"shadowSpreadOuter1"}),a().createElement("feOffset",{dy:"2",in:"shadowSpreadOuter1",result:"shadowOffsetOuter1"}),a().createElement("feGaussianBlur",{stdDeviation:"7",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),a().createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0.156862745 0 0 0 0 0.160784314 0 0 0 0 0.160784314 0 0 0 0.2 0",in:"shadowBlurOuter1"})),a().createElement("filter",{x:"-27.9%",y:"-32.5%",width:"155.7%",height:"173.3%",filterUnits:"objectBoundingBox",id:"TableDragIcon-e"},a().createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),a().createElement("feGaussianBlur",{stdDeviation:".4",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),a().createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}),a().createElement("feMerge",null,a().createElement("feMergeNode",{in:"shadowMatrixOuter1"}),a().createElement("feMergeNode",{in:"SourceGraphic"}))),a().createElement("rect",{id:"TableDragIcon-a",x:"0",y:"40",width:"240",height:"32",rx:"4"}),a().createElement("rect",{id:"TableDragIcon-d",x:"0",y:"0",width:"240",height:"32",rx:"3"}),a().createElement("mask",{id:"TableDragIcon-b",maskContentUnits:"userSpaceOnUse",maskUnits:"objectBoundingBox",x:"0",y:"0",width:"240",height:"32",fill:"#fff"},a().createElement("use",{xlinkHref:"#TableDragIcon-a"}))),a().createElement("g",{transform:"translate(6)",fill:"none",fillRule:"evenodd"},a().createElement("g",{transform:"translate(0 120)"},a().createElement("rect",{stroke:"#D1D5D9",fill:"#FFF",x:".5",y:".5",width:"239",height:"31",rx:"4"}),a().createElement("g",{fill:"#6A6E72"},a().createElement("path",{d:"M16 11h2v2h-2zM20 11h2v2h-2zM16 15h2v2h-2zM20 15h2v2h-2zM16 19h2v2h-2zM20 19h2v2h-2z"})),a().createElement("rect",{fill:"#D1D5D9",x:"55",y:"12",width:"106",height:"8",rx:"4"}),a().createElement("path",{fill:"#D1D5D9",d:"M38 0h1v32h-1z"})),a().createElement("g",{transform:"translate(0 80)"},a().createElement("rect",{stroke:"#D1D5D9",fill:"#FFF",x:".5",y:".5",width:"239",height:"31",rx:"4"}),a().createElement("g",{fill:"#6A6E72"},a().createElement("path",{d:"M16 11h2v2h-2zM20 11h2v2h-2zM16 15h2v2h-2zM20 15h2v2h-2zM16 19h2v2h-2zM20 19h2v2h-2z"})),a().createElement("rect",{fill:"#D1D5D9",x:"55",y:"12",width:"82",height:"8",rx:"4"}),a().createElement("path",{fill:"#D1D5D9",d:"M38 0h1v32h-1z"})),a().createElement("use",{stroke:"#D1D5D9",mask:"url(#TableDragIcon-b)",strokeWidth:"2",fill:"#F0F3F5",strokeDasharray:"3",xlinkHref:"#TableDragIcon-a"}),a().createElement("g",{transform:"translate(8 52)"},a().createElement("use",{fill:"#000",filter:"url(#TableDragIcon-c)",xlinkHref:"#TableDragIcon-d"}),a().createElement("use",{stroke:"#D1D5D9",fill:"#FFF",xlinkHref:"#TableDragIcon-d"}),a().createElement("g",{fill:"#6A6E72"},a().createElement("path",{d:"M16 11h2v2h-2zM20 11h2v2h-2zM16 15h2v2h-2zM20 15h2v2h-2zM16 19h2v2h-2zM20 19h2v2h-2z"})),a().createElement("rect",{fill:"#D1D5D9",x:"55",y:"12",width:"138",height:"8",rx:"4"}),a().createElement("g",{fill:"#D1D5D9"},a().createElement("path",{d:"M38 0h1v32h-1z"}))),a().createElement("rect",{stroke:"#D1D5D9",fill:"#FFF",x:".5",y:".5",width:"239",height:"31",rx:"4"}),a().createElement("g",{fill:"#6A6E72"},a().createElement("path",{d:"M16 11h2v2h-2zM20 11h2v2h-2zM16 15h2v2h-2zM20 15h2v2h-2zM16 19h2v2h-2zM20 19h2v2h-2z"})),a().createElement("rect",{fill:"#D1D5D9",x:"55",y:"12",width:"130",height:"8",rx:"4"}),a().createElement("path",{fill:"#D1D5D9",d:"M38 0h1v32h-1z"}),a().createElement("g",null,a().createElement("g",{filter:"url(#TableDragIcon-e)",transform:"translate(20 63)"},a().createElement("path",{d:"M3 1.15c.48-.18 1.43-.07 1.68.47s.4 1.24.41 1.07a6.39 6.39 0 01.13-1.54 1.11 1.11 0 01.69-.69A1.93 1.93 0 016.83.4c.31.064.585.242.77.5a5.48 5.48 0 01.39 1.83 6.54 6.54 0 01.27-1.58 1.24 1.24 0 01.69-.48c.33-.06.67-.06 1 0a1.4 1.4 0 01.68.49c.212.53.34 1.09.38 1.66 0 .14.07-.39.29-.74a1.002 1.002 0 111.9.64v2.26a11.63 11.63 0 01-.24 1.74 5.87 5.87 0 01-.72 1.43 7.22 7.22 0 00-1.19 1.81 4.12 4.12 0 00-.1 1c-.001.31.04.62.12.92a5.79 5.79 0 01-1.23 0c-.39-.06-.87-.84-1-1.08a.38.38 0 00-.68 0c-.22.38-.71 1.07-1 1.11-.67.08-2.06 0-3.14 0 0 0 .19-1-.23-1.36-.42-.36-.83-.78-1.14-1.06l-.83-.92a4.45 4.45 0 01-1.24-2C.37 5.63.39 5.18.58 4.8a1.5 1.5 0 01.85-.65 1.8 1.8 0 01.88.06c.196.082.366.217.49.39.23.31.31.46.21.12s-.32-.59-.43-1a4.58 4.58 0 01-.38-1.53 1.14 1.14 0 01.83-1",fill:"#FFF",fillRule:"nonzero"}),a().createElement("path",{d:"M3 1.15c.48-.18 1.43-.07 1.68.47s.4 1.24.41 1.07a6.39 6.39 0 01.13-1.54 1.11 1.11 0 01.69-.69A1.93 1.93 0 016.83.4c.31.064.585.242.77.5a5.48 5.48 0 01.39 1.83 6.54 6.54 0 01.27-1.58 1.24 1.24 0 01.69-.48c.33-.06.67-.06 1 0a1.4 1.4 0 01.68.49c.212.53.34 1.09.38 1.66 0 .14.07-.39.29-.74a1.002 1.002 0 111.9.64v2.26a11.63 11.63 0 01-.24 1.74 5.87 5.87 0 01-.72 1.43 7.22 7.22 0 00-1.19 1.81 4.12 4.12 0 00-.1 1c-.001.31.04.62.12.92a5.79 5.79 0 01-1.23 0c-.39-.06-.87-.84-1-1.08a.38.38 0 00-.68 0c-.22.38-.71 1.07-1 1.11-.67.08-2.06 0-3.14 0 0 0 .19-1-.23-1.36-.42-.36-.83-.78-1.14-1.06l-.83-.92a4.45 4.45 0 01-1.24-2C.37 5.63.39 5.18.58 4.8a1.5 1.5 0 01.85-.65 1.8 1.8 0 01.88.06c.196.082.366.217.49.39.23.31.31.46.21.12s-.32-.59-.43-1a4.58 4.58 0 01-.38-1.53c.02-.48.34-.897.8-1.04z",stroke:"#000",strokeWidth:".75",strokeLinejoin:"round"}),a().createElement("path",{d:"M10.75 8.826V5.374a.375.375 0 00-.75 0v3.452a.375.375 0 00.75 0zM8.77 8.825L8.75 5.37a.374.374 0 00-.75.004l.02 3.454a.374.374 0 00.75-.004zM6 5.38l.02 3.445c.001.208.17.376.377.375a.376.376 0 00.373-.38l-.02-3.445A.376.376 0 006.373 5 .376.376 0 006 5.38z",fill:"#000",fillRule:"nonzero"})))))}function S(){return a().createElement("svg",{width:"768",height:"311",viewBox:"0 0 768 311",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"ScoreDrawerEmptyTimeline-image"},a().createElement("rect",{x:"248",y:"46",width:"240",height:"38",rx:"4",fill:"#1973BA"}),a().createElement("rect",{x:"248.5",y:"46.5",width:"239",height:"37",rx:"3.5",stroke:"#282929",strokeOpacity:"0.2"}),a().createElement("path",{d:"M265.414 67.6484C265.112 66.9349 264.961 66.1849 264.961 65.3984C264.961 64.612 265.112 63.8646 265.414 63.1562C265.716 62.4427 266.122 61.8307 266.633 61.3203C267.148 60.8047 267.76 60.3958 268.469 60.0938C269.182 59.7917 269.932 59.6406 270.719 59.6406C271.286 59.6406 271.831 59.7214 272.352 59.8828C272.872 60.0391 273.302 60.2318 273.641 60.4609C273.984 60.6849 274.284 60.9115 274.539 61.1406C274.799 61.3698 274.99 61.5625 275.109 61.7188L275.281 61.9609L274.477 62.6797C274.445 62.6276 274.396 62.5599 274.328 62.4766C274.266 62.388 274.12 62.2344 273.891 62.0156C273.661 61.7917 273.414 61.5964 273.148 61.4297C272.883 61.2578 272.531 61.1042 272.094 60.9688C271.656 60.8281 271.198 60.7578 270.719 60.7578C269.875 60.7578 269.104 60.9609 268.406 61.3672C267.708 61.7682 267.159 62.3255 266.758 63.0391C266.357 63.7474 266.156 64.5339 266.156 65.3984C266.156 66.263 266.357 67.0521 266.758 67.7656C267.159 68.474 267.708 69.0312 268.406 69.4375C269.104 69.8385 269.875 70.0391 270.719 70.0391C271.198 70.0391 271.656 69.974 272.094 69.8438C272.536 69.7083 272.901 69.5469 273.188 69.3594C273.474 69.1719 273.724 68.9844 273.938 68.7969C274.156 68.6094 274.315 68.4479 274.414 68.3125L274.562 68.1172L275.359 68.8438C275.339 68.875 275.305 68.9193 275.258 68.9766C275.216 69.0286 275.12 69.1354 274.969 69.2969C274.818 69.4583 274.656 69.612 274.484 69.7578C274.318 69.9036 274.096 70.0651 273.82 70.2422C273.544 70.4193 273.258 70.5729 272.961 70.7031C272.669 70.8281 272.326 70.9349 271.93 71.0234C271.534 71.112 271.13 71.1562 270.719 71.1562C269.932 71.1562 269.182 71.0052 268.469 70.7031C267.76 70.401 267.148 69.9948 266.633 69.4844C266.122 68.9688 265.716 68.3568 265.414 67.6484ZM277.203 67.7969V63.3203H278.32V67.7969C278.32 68.4688 278.526 69.0234 278.938 69.4609C279.354 69.8984 279.867 70.1172 280.477 70.1172C281.128 70.1172 281.677 69.8802 282.125 69.4062C282.573 68.9271 282.797 68.3125 282.797 67.5625V63.3203H283.922V71H282.797V69.9609C282.776 69.9922 282.745 70.0365 282.703 70.0938C282.661 70.1458 282.562 70.2422 282.406 70.3828C282.255 70.5182 282.091 70.638 281.914 70.7422C281.742 70.8464 281.51 70.9401 281.219 71.0234C280.932 71.112 280.633 71.1562 280.32 71.1562C279.43 71.1562 278.688 70.8438 278.094 70.2188C277.5 69.5938 277.203 68.7865 277.203 67.7969ZM285.836 69.7969L286.641 69C286.661 69.0312 286.69 69.0729 286.727 69.125C286.763 69.1719 286.846 69.2604 286.977 69.3906C287.107 69.5156 287.242 69.6276 287.383 69.7266C287.529 69.8255 287.714 69.9167 287.938 70C288.167 70.0781 288.401 70.1172 288.641 70.1172C289.177 70.1172 289.591 70 289.883 69.7656C290.174 69.526 290.32 69.2188 290.32 68.8438C290.32 68.6094 290.242 68.4089 290.086 68.2422C289.935 68.0703 289.737 67.9349 289.492 67.8359C289.247 67.737 288.977 67.6432 288.68 67.5547C288.383 67.4661 288.086 67.3672 287.789 67.2578C287.497 67.1484 287.229 67.0208 286.984 66.875C286.74 66.724 286.539 66.5182 286.383 66.2578C286.232 65.9922 286.156 65.6797 286.156 65.3203C286.156 64.7422 286.398 64.237 286.883 63.8047C287.367 63.3724 287.979 63.1562 288.719 63.1562C289.016 63.1562 289.305 63.1927 289.586 63.2656C289.867 63.3385 290.102 63.4271 290.289 63.5312C290.477 63.6302 290.641 63.7318 290.781 63.8359C290.927 63.9349 291.034 64.0208 291.102 64.0938L291.203 64.2031L290.398 65C290.383 64.9792 290.359 64.9505 290.328 64.9141C290.302 64.8776 290.234 64.8151 290.125 64.7266C290.021 64.6328 289.909 64.5521 289.789 64.4844C289.674 64.4115 289.518 64.3464 289.32 64.2891C289.128 64.2318 288.927 64.2031 288.719 64.2031C288.297 64.2031 287.951 64.3151 287.68 64.5391C287.414 64.763 287.281 65.0234 287.281 65.3203C287.281 65.5443 287.357 65.737 287.508 65.8984C287.664 66.0599 287.865 66.1875 288.109 66.2812C288.354 66.375 288.622 66.4661 288.914 66.5547C289.211 66.638 289.505 66.737 289.797 66.8516C290.094 66.9609 290.365 67.0938 290.609 67.25C290.854 67.401 291.052 67.612 291.203 67.8828C291.359 68.1536 291.438 68.474 291.438 68.8438C291.438 69.5052 291.185 70.0573 290.68 70.5C290.174 70.9375 289.495 71.1562 288.641 71.1562C288.281 71.1562 287.938 71.1094 287.609 71.0156C287.286 70.9219 287.021 70.8099 286.812 70.6797C286.609 70.5443 286.43 70.4115 286.273 70.2812C286.117 70.1458 286.005 70.0312 285.938 69.9375L285.836 69.7969ZM292.633 64.3594V63.3203H293.516C293.943 63.3203 294.156 63.0547 294.156 62.5234V60.7578H295.195V63.3203H296.875V64.3594H295.195V68.9219C295.195 69.3125 295.286 69.6094 295.469 69.8125C295.651 70.0156 295.906 70.1172 296.234 70.1172C296.401 70.1172 296.57 70.099 296.742 70.0625C296.914 70.0208 297.047 69.9792 297.141 69.9375L297.273 69.8828V70.9219C296.956 71.0781 296.594 71.1562 296.188 71.1562C295.526 71.1562 295.008 70.9635 294.633 70.5781C294.263 70.1875 294.078 69.6354 294.078 68.9219V64.3594H292.633ZM298.836 69.1797C298.487 68.5651 298.312 67.8906 298.312 67.1562C298.312 66.4219 298.487 65.7474 298.836 65.1328C299.19 64.5182 299.667 64.0365 300.266 63.6875C300.87 63.3333 301.526 63.1562 302.234 63.1562C302.943 63.1562 303.596 63.3333 304.195 63.6875C304.794 64.0365 305.268 64.5182 305.617 65.1328C305.971 65.7474 306.148 66.4219 306.148 67.1562C306.148 67.8906 305.971 68.5651 305.617 69.1797C305.268 69.7943 304.794 70.2786 304.195 70.6328C303.596 70.9818 302.943 71.1562 302.234 71.1562C301.526 71.1562 300.87 70.9818 300.266 70.6328C299.667 70.2786 299.19 69.7943 298.836 69.1797ZM299.43 67.1562C299.43 67.9844 299.706 68.6849 300.258 69.2578C300.81 69.8307 301.469 70.1172 302.234 70.1172C303.005 70.1172 303.664 69.8333 304.211 69.2656C304.758 68.6927 305.031 67.9896 305.031 67.1562C305.031 66.3229 304.758 65.6224 304.211 65.0547C303.664 64.487 303.005 64.2031 302.234 64.2031C301.464 64.2031 300.802 64.487 300.25 65.0547C299.703 65.6224 299.43 66.3229 299.43 67.1562ZM308.156 71V63.3203H309.273V64.2812C309.289 64.25 309.315 64.2109 309.352 64.1641C309.388 64.112 309.469 64.0208 309.594 63.8906C309.724 63.7604 309.865 63.6458 310.016 63.5469C310.167 63.4479 310.367 63.3594 310.617 63.2812C310.872 63.1979 311.143 63.1562 311.43 63.1562C311.773 63.1562 312.094 63.2031 312.391 63.2969C312.688 63.3906 312.924 63.5052 313.102 63.6406C313.284 63.776 313.438 63.9115 313.562 64.0469C313.693 64.1771 313.784 64.2891 313.836 64.3828L313.914 64.5234C313.935 64.487 313.964 64.4375 314 64.375C314.042 64.3125 314.138 64.2031 314.289 64.0469C314.44 63.8906 314.607 63.7526 314.789 63.6328C314.977 63.513 315.227 63.4036 315.539 63.3047C315.857 63.2057 316.195 63.1562 316.555 63.1562C317.424 63.1562 318.135 63.4453 318.688 64.0234C319.24 64.5964 319.516 65.401 319.516 66.4375V71H318.391V66.4375C318.391 65.7292 318.214 65.1797 317.859 64.7891C317.51 64.3984 317.049 64.2031 316.477 64.2031C315.893 64.2031 315.398 64.4349 314.992 64.8984C314.591 65.362 314.391 65.9818 314.391 66.7578V71H313.273V66.4375C313.273 65.7344 313.096 65.1875 312.742 64.7969C312.388 64.401 311.924 64.2031 311.352 64.2031C310.768 64.2031 310.276 64.4349 309.875 64.8984C309.474 65.362 309.273 65.9818 309.273 66.7578V71H308.156ZM321.516 67.1562C321.516 66.4271 321.688 65.7552 322.031 65.1406C322.38 64.5208 322.841 64.0365 323.414 63.6875C323.992 63.3333 324.612 63.1562 325.273 63.1562C326.32 63.1562 327.195 63.5182 327.898 64.2422C328.602 64.9661 328.953 65.8854 328.953 67C328.953 67.0938 328.945 67.1901 328.93 67.2891C328.919 67.3828 328.906 67.4531 328.891 67.5L328.875 67.5781L322.633 67.5625C322.674 68.25 322.961 68.849 323.492 69.3594C324.023 69.8646 324.643 70.1172 325.352 70.1172C325.654 70.1172 325.945 70.0729 326.227 69.9844C326.508 69.8958 326.742 69.7917 326.93 69.6719C327.117 69.5469 327.281 69.4219 327.422 69.2969C327.568 69.1719 327.672 69.0651 327.734 68.9766L327.836 68.8438L328.555 69.5625C328.523 69.6042 328.479 69.6615 328.422 69.7344C328.365 69.8073 328.232 69.9349 328.023 70.1172C327.82 70.2995 327.604 70.4609 327.375 70.6016C327.146 70.7422 326.846 70.8698 326.477 70.9844C326.112 71.099 325.737 71.1562 325.352 71.1562C324.669 71.1562 324.034 70.9818 323.445 70.6328C322.857 70.2786 322.388 69.7943 322.039 69.1797C321.69 68.5651 321.516 67.8906 321.516 67.1562ZM322.633 66.6016H327.836C327.758 65.9141 327.479 65.3438 327 64.8906C326.521 64.4323 325.945 64.2031 325.273 64.2031C324.607 64.2031 324.018 64.4401 323.508 64.9141C323.003 65.388 322.711 65.9505 322.633 66.6016ZM330.953 71V63.3203H332.07V64.3594C332.091 64.3281 332.122 64.2865 332.164 64.2344C332.211 64.1771 332.312 64.0807 332.469 63.9453C332.625 63.8047 332.792 63.6823 332.969 63.5781C333.151 63.4688 333.391 63.3724 333.688 63.2891C333.99 63.2005 334.305 63.1562 334.633 63.1562H334.953V64.2812H334.469C333.807 64.2812 333.242 64.5104 332.773 64.9688C332.305 65.4219 332.07 66.0182 332.07 66.7578V71H330.953ZM339.992 71V59.7969H341.195V71H339.992ZM344.078 71V63.3203H345.195V64.4375C345.216 64.401 345.247 64.3542 345.289 64.2969C345.331 64.2396 345.427 64.138 345.578 63.9922C345.734 63.8464 345.898 63.7161 346.07 63.6016C346.247 63.487 346.479 63.3854 346.766 63.2969C347.057 63.2031 347.359 63.1562 347.672 63.1562C348.599 63.1562 349.352 63.4557 349.93 64.0547C350.508 64.6484 350.797 65.4427 350.797 66.4375V71H349.672V66.4375C349.672 65.7656 349.477 65.2266 349.086 64.8203C348.701 64.4089 348.203 64.2031 347.594 64.2031C346.906 64.2031 346.333 64.4401 345.875 64.9141C345.422 65.388 345.195 66.0026 345.195 66.7578V71H344.078ZM352.555 64.3594V63.3203H353.438C353.865 63.3203 354.078 63.0547 354.078 62.5234V60.7578H355.117V63.3203H356.797V64.3594H355.117V68.9219C355.117 69.3125 355.208 69.6094 355.391 69.8125C355.573 70.0156 355.828 70.1172 356.156 70.1172C356.323 70.1172 356.492 70.099 356.664 70.0625C356.836 70.0208 356.969 69.9792 357.062 69.9375L357.195 69.8828V70.9219C356.878 71.0781 356.516 71.1562 356.109 71.1562C355.448 71.1562 354.93 70.9635 354.555 70.5781C354.185 70.1875 354 69.6354 354 68.9219V64.3594H352.555ZM358.234 67.1562C358.234 66.4271 358.406 65.7552 358.75 65.1406C359.099 64.5208 359.56 64.0365 360.133 63.6875C360.711 63.3333 361.331 63.1562 361.992 63.1562C363.039 63.1562 363.914 63.5182 364.617 64.2422C365.32 64.9661 365.672 65.8854 365.672 67C365.672 67.0938 365.664 67.1901 365.648 67.2891C365.638 67.3828 365.625 67.4531 365.609 67.5L365.594 67.5781L359.352 67.5625C359.393 68.25 359.68 68.849 360.211 69.3594C360.742 69.8646 361.362 70.1172 362.07 70.1172C362.372 70.1172 362.664 70.0729 362.945 69.9844C363.227 69.8958 363.461 69.7917 363.648 69.6719C363.836 69.5469 364 69.4219 364.141 69.2969C364.286 69.1719 364.391 69.0651 364.453 68.9766L364.555 68.8438L365.273 69.5625C365.242 69.6042 365.198 69.6615 365.141 69.7344C365.083 69.8073 364.951 69.9349 364.742 70.1172C364.539 70.2995 364.323 70.4609 364.094 70.6016C363.865 70.7422 363.565 70.8698 363.195 70.9844C362.831 71.099 362.456 71.1562 362.07 71.1562C361.388 71.1562 360.753 70.9818 360.164 70.6328C359.576 70.2786 359.107 69.7943 358.758 69.1797C358.409 68.5651 358.234 67.8906 358.234 67.1562ZM359.352 66.6016H364.555C364.477 65.9141 364.198 65.3438 363.719 64.8906C363.24 64.4323 362.664 64.2031 361.992 64.2031C361.326 64.2031 360.737 64.4401 360.227 64.9141C359.721 65.388 359.43 65.9505 359.352 66.6016ZM367.672 71V63.3203H368.789V64.3594C368.81 64.3281 368.841 64.2865 368.883 64.2344C368.93 64.1771 369.031 64.0807 369.188 63.9453C369.344 63.8047 369.51 63.6823 369.688 63.5781C369.87 63.4688 370.109 63.3724 370.406 63.2891C370.708 63.2005 371.023 63.1562 371.352 63.1562H371.672V64.2812H371.188C370.526 64.2812 369.961 64.5104 369.492 64.9688C369.023 65.4219 368.789 66.0182 368.789 66.7578V71H367.672ZM372.625 63.3203H373.828L376.312 69.4766L378.789 63.3203H379.992L376.867 71H375.75L372.625 63.3203ZM381.562 61.2656C381.422 61.125 381.352 60.9557 381.352 60.7578C381.352 60.5599 381.422 60.3906 381.562 60.25C381.703 60.1094 381.872 60.0391 382.07 60.0391C382.268 60.0391 382.438 60.1094 382.578 60.25C382.719 60.3906 382.789 60.5599 382.789 60.7578C382.789 60.9557 382.719 61.125 382.578 61.2656C382.438 61.4062 382.268 61.4766 382.07 61.4766C381.872 61.4766 381.703 61.4062 381.562 61.2656ZM381.516 71V63.3203H382.633V71H381.516ZM384.641 67.1562C384.641 66.4271 384.812 65.7552 385.156 65.1406C385.505 64.5208 385.966 64.0365 386.539 63.6875C387.117 63.3333 387.737 63.1562 388.398 63.1562C389.445 63.1562 390.32 63.5182 391.023 64.2422C391.727 64.9661 392.078 65.8854 392.078 67C392.078 67.0938 392.07 67.1901 392.055 67.2891C392.044 67.3828 392.031 67.4531 392.016 67.5L392 67.5781L385.758 67.5625C385.799 68.25 386.086 68.849 386.617 69.3594C387.148 69.8646 387.768 70.1172 388.477 70.1172C388.779 70.1172 389.07 70.0729 389.352 69.9844C389.633 69.8958 389.867 69.7917 390.055 69.6719C390.242 69.5469 390.406 69.4219 390.547 69.2969C390.693 69.1719 390.797 69.0651 390.859 68.9766L390.961 68.8438L391.68 69.5625C391.648 69.6042 391.604 69.6615 391.547 69.7344C391.49 69.8073 391.357 69.9349 391.148 70.1172C390.945 70.2995 390.729 70.4609 390.5 70.6016C390.271 70.7422 389.971 70.8698 389.602 70.9844C389.237 71.099 388.862 71.1562 388.477 71.1562C387.794 71.1562 387.159 70.9818 386.57 70.6328C385.982 70.2786 385.513 69.7943 385.164 69.1797C384.815 68.5651 384.641 67.8906 384.641 67.1562ZM385.758 66.6016H390.961C390.883 65.9141 390.604 65.3438 390.125 64.8906C389.646 64.4323 389.07 64.2031 388.398 64.2031C387.732 64.2031 387.143 64.4401 386.633 64.9141C386.128 65.388 385.836 65.9505 385.758 66.6016ZM393.031 63.3203H394.234L396.234 69.2422L398.156 63.3203H399.117L401.031 69.2422L403.031 63.3203H404.234L401.594 71H400.555L398.633 65.1562L396.719 71H395.672L393.031 63.3203ZM405.039 69.7969L405.844 69C405.865 69.0312 405.893 69.0729 405.93 69.125C405.966 69.1719 406.049 69.2604 406.18 69.3906C406.31 69.5156 406.445 69.6276 406.586 69.7266C406.732 69.8255 406.917 69.9167 407.141 70C407.37 70.0781 407.604 70.1172 407.844 70.1172C408.38 70.1172 408.794 70 409.086 69.7656C409.378 69.526 409.523 69.2188 409.523 68.8438C409.523 68.6094 409.445 68.4089 409.289 68.2422C409.138 68.0703 408.94 67.9349 408.695 67.8359C408.451 67.737 408.18 67.6432 407.883 67.5547C407.586 67.4661 407.289 67.3672 406.992 67.2578C406.701 67.1484 406.432 67.0208 406.188 66.875C405.943 66.724 405.742 66.5182 405.586 66.2578C405.435 65.9922 405.359 65.6797 405.359 65.3203C405.359 64.7422 405.602 64.237 406.086 63.8047C406.57 63.3724 407.182 63.1562 407.922 63.1562C408.219 63.1562 408.508 63.1927 408.789 63.2656C409.07 63.3385 409.305 63.4271 409.492 63.5312C409.68 63.6302 409.844 63.7318 409.984 63.8359C410.13 63.9349 410.237 64.0208 410.305 64.0938L410.406 64.2031L409.602 65C409.586 64.9792 409.562 64.9505 409.531 64.9141C409.505 64.8776 409.438 64.8151 409.328 64.7266C409.224 64.6328 409.112 64.5521 408.992 64.4844C408.878 64.4115 408.721 64.3464 408.523 64.2891C408.331 64.2318 408.13 64.2031 407.922 64.2031C407.5 64.2031 407.154 64.3151 406.883 64.5391C406.617 64.763 406.484 65.0234 406.484 65.3203C406.484 65.5443 406.56 65.737 406.711 65.8984C406.867 66.0599 407.068 66.1875 407.312 66.2812C407.557 66.375 407.826 66.4661 408.117 66.5547C408.414 66.638 408.708 66.737 409 66.8516C409.297 66.9609 409.568 67.0938 409.812 67.25C410.057 67.401 410.255 67.612 410.406 67.8828C410.562 68.1536 410.641 68.474 410.641 68.8438C410.641 69.5052 410.388 70.0573 409.883 70.5C409.378 70.9375 408.698 71.1562 407.844 71.1562C407.484 71.1562 407.141 71.1094 406.812 71.0156C406.49 70.9219 406.224 70.8099 406.016 70.6797C405.812 70.5443 405.633 70.4115 405.477 70.2812C405.32 70.1458 405.208 70.0312 405.141 69.9375L405.039 69.7969Z",fill:"white"}),a().createElement("rect",{x:"78",width:"312",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M94 19C94 16.7909 95.7909 15 98 15H224C226.209 15 228 16.7909 228 19C228 21.2091 226.209 23 224 23H98C95.7909 23 94 21.2091 94 19Z",fill:"#D1D5D9"}),a().createElement("rect",{y:"46",width:"240",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M16 65C16 62.7909 17.7909 61 20 61H122C124.209 61 126 62.7909 126 65C126 67.2091 124.209 69 122 69H20C17.7909 69 16 67.2091 16 65Z",fill:"#D1D5D9"}),a().createElement("rect",{x:"78",y:"92",width:"240",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M94 111C94 108.791 95.7909 107 98 107H176C178.209 107 180 108.791 180 111C180 113.209 178.209 115 176 115H98C95.7909 115 94 113.209 94 111Z",fill:"#D1D5D9"}),a().createElement("rect",{x:"382",y:"92",width:"314",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M398 111C398 108.791 399.791 107 402 107H480C482.209 107 484 108.791 484 111C484 113.209 482.209 115 480 115H402C399.791 115 398 113.209 398 111Z",fill:"#D1D5D9"}),a().createElement("rect",{x:"496",width:"200",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M512 19C512 16.7909 513.791 15 516 15H602C604.209 15 606 16.7909 606 19C606 21.2091 604.209 23 602 23H516C513.791 23 512 21.2091 512 19Z",fill:"#D1D5D9"}),a().createElement("rect",{x:"496",y:"46",width:"272",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M512 65C512 62.7909 513.791 61 516 61H642C644.209 61 646 62.7909 646 65C646 67.2091 644.209 69 642 69H516C513.791 69 512 67.2091 512 65Z",fill:"#D1D5D9"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTimeLine-filter0_d)"},a().createElement("rect",{x:"284",y:"88",width:"168",height:"209",rx:"4",fill:"white"})),a().createElement("rect",{x:"284",y:"260",width:"168",height:"1",fill:"#D1D5D9"}),a().createElement("path",{opacity:"0.5",d:"M292.629 109.667L293.271 108.956C293.294 108.988 293.326 109.031 293.367 109.086C293.413 109.141 293.515 109.239 293.675 109.38C293.839 109.517 294.014 109.637 294.201 109.742C294.388 109.847 294.636 109.943 294.946 110.029C295.256 110.116 295.58 110.159 295.917 110.159C296.632 110.159 297.184 109.993 297.571 109.66C297.963 109.323 298.159 108.883 298.159 108.341C298.159 108.072 298.098 107.837 297.975 107.637C297.856 107.432 297.694 107.268 297.489 107.145C297.284 107.017 297.047 106.903 296.778 106.803C296.514 106.702 296.234 106.611 295.938 106.529C295.646 106.443 295.352 106.354 295.056 106.263C294.764 106.167 294.484 106.051 294.215 105.914C293.951 105.773 293.716 105.611 293.511 105.429C293.306 105.242 293.142 105.005 293.019 104.718C292.9 104.426 292.841 104.093 292.841 103.72C292.841 102.981 293.13 102.355 293.709 101.84C294.288 101.32 295.049 101.061 295.992 101.061C296.343 101.061 296.68 101.104 297.004 101.19C297.332 101.277 297.603 101.382 297.817 101.505C298.032 101.628 298.221 101.751 298.385 101.874C298.553 101.997 298.676 102.102 298.754 102.188L298.863 102.318L298.159 103.022C298.141 102.995 298.111 102.961 298.07 102.92C298.034 102.874 297.947 102.795 297.811 102.681C297.678 102.567 297.535 102.466 297.38 102.38C297.229 102.293 297.029 102.216 296.778 102.147C296.528 102.075 296.266 102.038 295.992 102.038C295.345 102.038 294.832 102.202 294.454 102.53C294.076 102.858 293.887 103.255 293.887 103.72C293.887 103.961 293.937 104.178 294.037 104.369C294.137 104.556 294.272 104.711 294.44 104.834C294.609 104.952 294.807 105.064 295.035 105.169C295.263 105.274 295.505 105.36 295.76 105.429C296.015 105.497 296.277 105.577 296.546 105.668C296.819 105.755 297.084 105.841 297.339 105.928C297.594 106.014 297.836 106.131 298.063 106.276C298.291 106.422 298.49 106.584 298.658 106.762C298.827 106.935 298.961 107.158 299.062 107.432C299.162 107.701 299.212 108.004 299.212 108.341C299.212 109.166 298.918 109.838 298.33 110.357C297.747 110.877 296.942 111.137 295.917 111.137C295.498 111.137 295.099 111.087 294.721 110.986C294.342 110.886 294.03 110.765 293.784 110.624C293.543 110.478 293.328 110.332 293.142 110.187C292.959 110.041 292.829 109.918 292.752 109.817L292.629 109.667ZM300.477 107.637C300.477 106.999 300.627 106.411 300.928 105.873C301.233 105.331 301.636 104.907 302.138 104.602C302.644 104.292 303.186 104.137 303.765 104.137C304.681 104.137 305.446 104.453 306.062 105.087C306.677 105.72 306.984 106.525 306.984 107.5C306.984 107.582 306.978 107.666 306.964 107.753C306.955 107.835 306.943 107.896 306.93 107.938L306.916 108.006L301.454 107.992C301.491 108.594 301.741 109.118 302.206 109.564C302.671 110.007 303.213 110.228 303.833 110.228C304.097 110.228 304.353 110.189 304.599 110.111C304.845 110.034 305.05 109.943 305.214 109.838C305.378 109.729 305.521 109.619 305.645 109.51C305.772 109.4 305.863 109.307 305.918 109.229L306.007 109.113L306.636 109.742C306.608 109.779 306.57 109.829 306.52 109.893C306.469 109.956 306.353 110.068 306.171 110.228C305.993 110.387 305.804 110.528 305.604 110.651C305.403 110.774 305.141 110.886 304.817 110.986C304.498 111.087 304.17 111.137 303.833 111.137C303.236 111.137 302.68 110.984 302.165 110.679C301.65 110.369 301.24 109.945 300.935 109.407C300.629 108.869 300.477 108.279 300.477 107.637ZM301.454 107.151H306.007C305.938 106.55 305.695 106.051 305.275 105.654C304.856 105.253 304.353 105.053 303.765 105.053C303.181 105.053 302.666 105.26 302.22 105.675C301.778 106.09 301.522 106.582 301.454 107.151ZM308.803 111V101.197H309.78V111H308.803ZM311.605 107.637C311.605 106.999 311.756 106.411 312.057 105.873C312.362 105.331 312.765 104.907 313.267 104.602C313.772 104.292 314.315 104.137 314.894 104.137C315.81 104.137 316.575 104.453 317.19 105.087C317.806 105.72 318.113 106.525 318.113 107.5C318.113 107.582 318.106 107.666 318.093 107.753C318.084 107.835 318.072 107.896 318.059 107.938L318.045 108.006L312.583 107.992C312.619 108.594 312.87 109.118 313.335 109.564C313.8 110.007 314.342 110.228 314.962 110.228C315.226 110.228 315.481 110.189 315.728 110.111C315.974 110.034 316.179 109.943 316.343 109.838C316.507 109.729 316.65 109.619 316.773 109.51C316.901 109.4 316.992 109.307 317.047 109.229L317.136 109.113L317.765 109.742C317.737 109.779 317.699 109.829 317.648 109.893C317.598 109.956 317.482 110.068 317.3 110.228C317.122 110.387 316.933 110.528 316.732 110.651C316.532 110.774 316.27 110.886 315.946 110.986C315.627 111.087 315.299 111.137 314.962 111.137C314.365 111.137 313.809 110.984 313.294 110.679C312.779 110.369 312.369 109.945 312.063 109.407C311.758 108.869 311.605 108.279 311.605 107.637ZM312.583 107.151H317.136C317.067 106.55 316.824 106.051 316.404 105.654C315.985 105.253 315.481 105.053 314.894 105.053C314.31 105.053 313.795 105.26 313.349 105.675C312.907 106.09 312.651 106.582 312.583 107.151ZM319.829 109.407C319.524 108.869 319.371 108.279 319.371 107.637C319.371 106.994 319.524 106.404 319.829 105.866C320.134 105.328 320.545 104.907 321.06 104.602C321.575 104.292 322.131 104.137 322.728 104.137C323.056 104.137 323.372 104.182 323.678 104.273C323.988 104.365 324.245 104.476 324.45 104.608C324.655 104.741 324.838 104.873 324.997 105.005C325.157 105.132 325.273 105.242 325.346 105.333L325.462 105.47L324.758 106.167C324.74 106.135 324.712 106.094 324.676 106.044C324.639 105.994 324.557 105.905 324.43 105.777C324.302 105.65 324.165 105.538 324.02 105.442C323.874 105.342 323.685 105.253 323.452 105.176C323.22 105.094 322.978 105.053 322.728 105.053C322.09 105.053 321.534 105.303 321.06 105.805C320.586 106.301 320.349 106.912 320.349 107.637C320.349 108.361 320.586 108.974 321.06 109.476C321.534 109.977 322.09 110.228 322.728 110.228C322.978 110.228 323.22 110.189 323.452 110.111C323.689 110.034 323.887 109.943 324.047 109.838C324.206 109.729 324.348 109.619 324.471 109.51C324.594 109.4 324.685 109.307 324.744 109.229L324.833 109.113L325.53 109.742C325.503 109.779 325.462 109.829 325.407 109.893C325.353 109.956 325.232 110.068 325.045 110.228C324.863 110.387 324.669 110.528 324.464 110.651C324.263 110.774 324.006 110.886 323.691 110.986C323.377 111.087 323.056 111.137 322.728 111.137C322.131 111.137 321.575 110.984 321.06 110.679C320.545 110.369 320.134 109.945 319.829 109.407ZM326.364 105.189V104.28H327.137C327.51 104.28 327.697 104.048 327.697 103.583V102.038H328.606V104.28H330.076V105.189H328.606V109.182C328.606 109.523 328.686 109.783 328.846 109.961C329.005 110.139 329.229 110.228 329.516 110.228C329.661 110.228 329.81 110.212 329.96 110.18C330.11 110.143 330.227 110.107 330.309 110.07L330.425 110.022V110.932C330.147 111.068 329.83 111.137 329.475 111.137C328.896 111.137 328.442 110.968 328.114 110.631C327.791 110.289 327.629 109.806 327.629 109.182V105.189H326.364Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M293.47 135V125.197H297.182C298.089 125.197 298.84 125.491 299.438 126.079C300.035 126.667 300.333 127.401 300.333 128.28C300.333 129.16 300.035 129.894 299.438 130.481C298.84 131.069 298.089 131.363 297.182 131.363H294.522V135H293.47ZM294.522 130.379H297.182C297.811 130.379 298.316 130.188 298.699 129.805C299.087 129.417 299.28 128.909 299.28 128.28C299.28 127.651 299.087 127.146 298.699 126.763C298.316 126.375 297.811 126.182 297.182 126.182H294.522V130.379ZM301.379 133.182C301.379 132.626 301.548 132.174 301.885 131.828C302.222 131.482 302.707 131.256 303.341 131.151L305.932 130.728C305.932 130.24 305.772 129.839 305.453 129.524C305.139 129.21 304.738 129.053 304.25 129.053C304.027 129.053 303.808 129.087 303.594 129.155C303.384 129.219 303.206 129.301 303.061 129.401C302.919 129.497 302.792 129.593 302.678 129.688C302.568 129.784 302.486 129.864 302.432 129.928L302.356 130.03L301.728 129.401C301.75 129.365 301.785 129.319 301.83 129.265C301.88 129.21 301.987 129.11 302.151 128.964C302.315 128.818 302.486 128.69 302.664 128.581C302.846 128.467 303.081 128.365 303.368 128.273C303.655 128.182 303.949 128.137 304.25 128.137C305.016 128.137 305.649 128.385 306.15 128.882C306.656 129.374 306.909 129.989 306.909 130.728V135H305.932V134.091C305.913 134.118 305.884 134.157 305.843 134.207C305.806 134.253 305.722 134.337 305.59 134.46C305.458 134.578 305.314 134.683 305.159 134.774C305.004 134.866 304.799 134.948 304.544 135.021C304.293 135.098 304.031 135.137 303.758 135.137C303.079 135.137 302.511 134.938 302.056 134.542C301.604 134.146 301.379 133.692 301.379 133.182ZM302.356 133.182C302.356 133.478 302.479 133.726 302.726 133.927C302.976 134.127 303.32 134.228 303.758 134.228C304.391 134.228 304.911 134.02 305.316 133.605C305.727 133.191 305.932 132.653 305.932 131.992V131.568L303.621 131.992C302.778 132.152 302.356 132.548 302.356 133.182ZM309.145 135V128.28H310.122V129.189C310.14 129.162 310.168 129.126 310.204 129.08C310.245 129.03 310.334 128.946 310.471 128.827C310.607 128.704 310.753 128.597 310.908 128.506C311.068 128.41 311.277 128.326 311.537 128.253C311.801 128.175 312.077 128.137 312.364 128.137H312.645V129.121H312.221C311.642 129.121 311.147 129.322 310.737 129.723C310.327 130.119 310.122 130.641 310.122 131.288V135H309.145ZM314.039 135V125.197H315.017V131.849L318.38 128.28H319.569L316.979 131.008L319.85 135H318.729L316.35 131.712L315.017 133.113V135H314.039Z",fill:"#6A6E72"}),a().createElement("rect",{x:"288",y:"144",width:"160",height:"28",rx:"4",fill:"#EFF5FA"}),a().createElement("path",{d:"M297.32 153.2C297.796 153.2 298.235 153.284 298.636 153.452C299.037 153.611 299.383 153.835 299.672 154.124C299.971 154.404 300.199 154.735 300.358 155.118C300.526 155.501 300.61 155.911 300.61 156.35C300.61 156.789 300.526 157.199 300.358 157.582C300.199 157.965 299.971 158.301 299.672 158.59C299.383 158.87 299.037 159.094 298.636 159.262C298.235 159.421 297.796 159.5 297.32 159.5H294.94V163H293.4V153.2H297.32ZM294.94 154.6V158.1H297.32C297.563 158.1 297.791 158.058 298.006 157.974C298.221 157.881 298.407 157.755 298.566 157.596C298.725 157.437 298.846 157.251 298.93 157.036C299.023 156.821 299.07 156.593 299.07 156.35C299.07 156.107 299.023 155.879 298.93 155.664C298.846 155.449 298.725 155.263 298.566 155.104C298.407 154.945 298.221 154.824 298.006 154.74C297.791 154.647 297.563 154.6 297.32 154.6H294.94ZM306.137 157.47C306.081 157.461 306.021 157.451 305.955 157.442C305.899 157.433 305.829 157.423 305.745 157.414C305.671 157.405 305.591 157.4 305.507 157.4C304.975 157.4 304.551 157.568 304.233 157.904C303.916 158.24 303.757 158.725 303.757 159.36V163H302.357V156.28H303.757V156.98C303.916 156.821 304.098 156.681 304.303 156.56C304.481 156.457 304.691 156.364 304.933 156.28C305.185 156.187 305.47 156.14 305.787 156.14H306.137V157.47ZM308.722 163H307.322V156.28H308.722V163ZM308.862 154.18C308.862 154.423 308.782 154.623 308.624 154.782C308.465 154.941 308.264 155.02 308.022 155.02C307.779 155.02 307.578 154.941 307.42 154.782C307.261 154.623 307.182 154.423 307.182 154.18C307.182 153.937 307.261 153.737 307.42 153.578C307.578 153.419 307.779 153.34 308.022 153.34C308.264 153.34 308.465 153.419 308.624 153.578C308.782 153.737 308.862 153.937 308.862 154.18ZM315.932 159.64C315.932 159.323 315.876 159.029 315.764 158.758C315.652 158.487 315.498 158.254 315.302 158.058C315.106 157.853 314.882 157.694 314.63 157.582C314.378 157.461 314.112 157.4 313.832 157.4C313.552 157.4 313.286 157.461 313.034 157.582C312.782 157.694 312.558 157.853 312.362 158.058C312.166 158.254 312.012 158.487 311.9 158.758C311.788 159.029 311.732 159.323 311.732 159.64C311.732 159.957 311.788 160.251 311.9 160.522C312.012 160.793 312.166 161.031 312.362 161.236C312.558 161.432 312.782 161.591 313.034 161.712C313.286 161.824 313.552 161.88 313.832 161.88C314.112 161.88 314.378 161.824 314.63 161.712C314.882 161.591 315.106 161.432 315.302 161.236C315.498 161.031 315.652 160.793 315.764 160.522C315.876 160.251 315.932 159.957 315.932 159.64ZM310.332 159.64C310.332 159.164 310.425 158.716 310.612 158.296C310.798 157.876 311.05 157.507 311.368 157.19C311.694 156.863 312.068 156.607 312.488 156.42C312.908 156.233 313.356 156.14 313.832 156.14C314.308 156.14 314.756 156.233 315.176 156.42C315.596 156.607 315.964 156.863 316.282 157.19C316.608 157.507 316.865 157.876 317.052 158.296C317.238 158.716 317.332 159.164 317.332 159.64C317.332 160.116 317.238 160.564 317.052 160.984C316.865 161.404 316.608 161.777 316.282 162.104C315.964 162.421 315.596 162.673 315.176 162.86C314.756 163.047 314.308 163.14 313.832 163.14C313.356 163.14 312.908 163.047 312.488 162.86C312.068 162.673 311.694 162.421 311.368 162.104C311.05 161.777 310.798 161.404 310.612 160.984C310.425 160.564 310.332 160.116 310.332 159.64ZM322.653 157.47C322.597 157.461 322.536 157.451 322.471 157.442C322.415 157.433 322.345 157.423 322.261 157.414C322.186 157.405 322.107 157.4 322.023 157.4C321.491 157.4 321.066 157.568 320.749 157.904C320.432 158.24 320.273 158.725 320.273 159.36V163H318.873V156.28H320.273V156.98C320.432 156.821 320.614 156.681 320.819 156.56C320.996 156.457 321.206 156.364 321.449 156.28C321.701 156.187 321.986 156.14 322.303 156.14H322.653V157.47ZM325.237 163H323.837V156.28H325.237V163ZM325.377 154.18C325.377 154.423 325.298 154.623 325.139 154.782C324.981 154.941 324.78 155.02 324.537 155.02C324.295 155.02 324.094 154.941 323.935 154.782C323.777 154.623 323.697 154.423 323.697 154.18C323.697 153.937 323.777 153.737 323.935 153.578C324.094 153.419 324.295 153.34 324.537 153.34C324.78 153.34 324.981 153.419 325.139 153.578C325.298 153.737 325.377 153.937 325.377 154.18ZM328.107 154.04H329.367V156.28H330.767V157.54H329.367V161.026C329.367 161.278 329.447 161.483 329.605 161.642C329.764 161.801 329.965 161.88 330.207 161.88C330.385 161.88 330.543 161.857 330.683 161.81C330.758 161.791 330.833 161.768 330.907 161.74V163C330.823 163.028 330.73 163.051 330.627 163.07C330.422 163.117 330.189 163.14 329.927 163.14C329.293 163.14 328.807 162.967 328.471 162.622C328.135 162.267 327.967 161.74 327.967 161.04V157.54H326.707V156.28H327.407C327.622 156.28 327.79 156.21 327.911 156.07C328.042 155.93 328.107 155.72 328.107 155.44V154.04ZM334.056 163H332.656V156.28H334.056V163ZM334.196 154.18C334.196 154.423 334.116 154.623 333.958 154.782C333.799 154.941 333.598 155.02 333.356 155.02C333.113 155.02 332.912 154.941 332.754 154.782C332.595 154.623 332.516 154.423 332.516 154.18C332.516 153.937 332.595 153.737 332.754 153.578C332.912 153.419 333.113 153.34 333.356 153.34C333.598 153.34 333.799 153.419 333.958 153.578C334.116 153.737 334.196 153.937 334.196 154.18ZM341.126 157.54L337.416 161.74H341.266V163H335.666V161.74L339.376 157.54H335.806V156.28H341.126V157.54ZM343.792 160.13C343.83 160.354 343.904 160.573 344.016 160.788C344.138 161.003 344.287 161.189 344.464 161.348C344.651 161.507 344.866 161.637 345.108 161.74C345.351 161.833 345.612 161.88 345.892 161.88C346.219 161.88 346.508 161.829 346.76 161.726C347.022 161.614 347.236 161.493 347.404 161.362C347.6 161.203 347.773 161.026 347.922 160.83L348.832 161.74C348.627 162.001 348.375 162.235 348.076 162.44C347.824 162.617 347.516 162.781 347.152 162.93C346.788 163.07 346.368 163.14 345.892 163.14C345.416 163.14 344.968 163.047 344.548 162.86C344.128 162.673 343.755 162.417 343.428 162.09C343.111 161.763 342.859 161.385 342.672 160.956C342.486 160.527 342.392 160.065 342.392 159.57C342.392 159.094 342.481 158.651 342.658 158.24C342.845 157.82 343.092 157.456 343.4 157.148C343.708 156.84 344.068 156.597 344.478 156.42C344.898 156.233 345.346 156.14 345.822 156.14C346.298 156.14 346.737 156.224 347.138 156.392C347.54 156.551 347.885 156.779 348.174 157.078C348.473 157.367 348.702 157.713 348.86 158.114C349.028 158.515 349.112 158.954 349.112 159.43C349.112 159.533 349.108 159.626 349.098 159.71C349.089 159.794 349.08 159.869 349.07 159.934C349.061 160.009 349.052 160.074 349.042 160.13H343.792ZM345.822 157.33C345.29 157.33 344.856 157.484 344.52 157.792C344.184 158.1 343.96 158.483 343.848 158.94H347.74C347.656 158.483 347.446 158.1 347.11 157.792C346.784 157.484 346.354 157.33 345.822 157.33Z",fill:"#1973BA"}),a().createElement("path",{opacity:"0.5",d:"M293.47 191V181.197H296.553C297.255 181.197 297.922 181.329 298.556 181.594C299.189 181.854 299.731 182.204 300.183 182.646C300.638 183.089 300.998 183.61 301.263 184.212C301.527 184.813 301.659 185.442 301.659 186.099C301.659 186.755 301.527 187.384 301.263 187.985C300.998 188.587 300.638 189.109 300.183 189.551C299.731 189.993 299.189 190.346 298.556 190.61C297.922 190.87 297.255 191 296.553 191H293.47ZM294.522 190.022H296.553C297.309 190.022 297.997 189.847 298.617 189.496C299.242 189.145 299.729 188.671 300.08 188.074C300.436 187.473 300.613 186.814 300.613 186.099C300.613 185.383 300.436 184.727 300.08 184.13C299.729 183.533 299.242 183.059 298.617 182.708C297.997 182.357 297.309 182.182 296.553 182.182H294.522V190.022ZM303.553 188.197V184.28H304.53V188.197C304.53 188.785 304.71 189.271 305.07 189.653C305.435 190.036 305.884 190.228 306.417 190.228C306.987 190.228 307.467 190.02 307.859 189.605C308.251 189.186 308.447 188.648 308.447 187.992V184.28H309.432V191H308.447V190.091C308.429 190.118 308.402 190.157 308.365 190.207C308.329 190.253 308.242 190.337 308.105 190.46C307.973 190.578 307.83 190.683 307.675 190.774C307.524 190.866 307.322 190.948 307.066 191.021C306.816 191.098 306.554 191.137 306.28 191.137C305.501 191.137 304.852 190.863 304.332 190.316C303.812 189.77 303.553 189.063 303.553 188.197ZM311.742 193.939V184.28H312.72V185.333C312.743 185.301 312.774 185.258 312.815 185.203C312.861 185.148 312.959 185.053 313.109 184.916C313.264 184.779 313.426 184.659 313.595 184.554C313.768 184.449 313.989 184.353 314.258 184.267C314.531 184.18 314.812 184.137 315.099 184.137C315.655 184.137 316.179 184.292 316.671 184.602C317.168 184.907 317.566 185.331 317.867 185.873C318.168 186.411 318.318 186.999 318.318 187.637C318.318 188.275 318.168 188.865 317.867 189.407C317.566 189.945 317.168 190.369 316.671 190.679C316.179 190.984 315.655 191.137 315.099 191.137C314.812 191.137 314.534 191.096 314.265 191.014C313.996 190.932 313.77 190.834 313.588 190.72C313.41 190.601 313.253 190.485 313.116 190.371C312.979 190.253 312.879 190.152 312.815 190.07L312.72 189.947V193.939H311.742ZM313.451 185.832C312.964 186.347 312.72 186.949 312.72 187.637C312.72 188.325 312.964 188.929 313.451 189.448C313.943 189.968 314.493 190.228 315.099 190.228C315.677 190.228 316.195 189.975 316.65 189.469C317.111 188.963 317.341 188.352 317.341 187.637C317.341 186.921 317.111 186.313 316.65 185.812C316.195 185.306 315.677 185.053 315.099 185.053C314.493 185.053 313.943 185.312 313.451 185.832ZM320.137 191V181.197H321.114V191H320.137ZM323.473 182.482C323.35 182.359 323.288 182.211 323.288 182.038C323.288 181.865 323.35 181.717 323.473 181.594C323.596 181.471 323.744 181.409 323.917 181.409C324.09 181.409 324.238 181.471 324.361 181.594C324.484 181.717 324.546 181.865 324.546 182.038C324.546 182.211 324.484 182.359 324.361 182.482C324.238 182.605 324.09 182.667 323.917 182.667C323.744 182.667 323.596 182.605 323.473 182.482ZM323.432 191V184.28H324.409V191H323.432ZM326.624 189.407C326.319 188.869 326.166 188.279 326.166 187.637C326.166 186.994 326.319 186.404 326.624 185.866C326.929 185.328 327.34 184.907 327.854 184.602C328.369 184.292 328.925 184.137 329.522 184.137C329.851 184.137 330.167 184.182 330.473 184.273C330.783 184.365 331.04 184.476 331.245 184.608C331.45 184.741 331.632 184.873 331.792 185.005C331.951 185.132 332.068 185.242 332.141 185.333L332.257 185.47L331.553 186.167C331.535 186.135 331.507 186.094 331.471 186.044C331.434 185.994 331.352 185.905 331.225 185.777C331.097 185.65 330.96 185.538 330.814 185.442C330.669 185.342 330.479 185.253 330.247 185.176C330.015 185.094 329.773 185.053 329.522 185.053C328.884 185.053 328.328 185.303 327.854 185.805C327.381 186.301 327.144 186.912 327.144 187.637C327.144 188.361 327.381 188.974 327.854 189.476C328.328 189.977 328.884 190.228 329.522 190.228C329.773 190.228 330.015 190.189 330.247 190.111C330.484 190.034 330.682 189.943 330.842 189.838C331.001 189.729 331.143 189.619 331.266 189.51C331.389 189.4 331.48 189.307 331.539 189.229L331.628 189.113L332.325 189.742C332.298 189.779 332.257 189.829 332.202 189.893C332.147 189.956 332.027 190.068 331.84 190.228C331.658 190.387 331.464 190.528 331.259 190.651C331.058 190.774 330.801 190.886 330.486 190.986C330.172 191.087 329.851 191.137 329.522 191.137C328.925 191.137 328.369 190.984 327.854 190.679C327.34 190.369 326.929 189.945 326.624 189.407ZM333.371 189.182C333.371 188.626 333.54 188.174 333.877 187.828C334.214 187.482 334.7 187.256 335.333 187.151L337.924 186.728C337.924 186.24 337.764 185.839 337.445 185.524C337.131 185.21 336.73 185.053 336.242 185.053C336.019 185.053 335.8 185.087 335.586 185.155C335.376 185.219 335.199 185.301 335.053 185.401C334.911 185.497 334.784 185.593 334.67 185.688C334.561 185.784 334.479 185.864 334.424 185.928L334.349 186.03L333.72 185.401C333.743 185.365 333.777 185.319 333.822 185.265C333.872 185.21 333.979 185.11 334.144 184.964C334.308 184.818 334.479 184.69 334.656 184.581C334.839 184.467 335.073 184.365 335.36 184.273C335.647 184.182 335.941 184.137 336.242 184.137C337.008 184.137 337.641 184.385 338.143 184.882C338.648 185.374 338.901 185.989 338.901 186.728V191H337.924V190.091C337.906 190.118 337.876 190.157 337.835 190.207C337.799 190.253 337.714 190.337 337.582 190.46C337.45 190.578 337.306 190.683 337.151 190.774C336.996 190.866 336.791 190.948 336.536 191.021C336.285 191.098 336.023 191.137 335.75 191.137C335.071 191.137 334.504 190.938 334.048 190.542C333.597 190.146 333.371 189.692 333.371 189.182ZM334.349 189.182C334.349 189.478 334.472 189.726 334.718 189.927C334.968 190.127 335.312 190.228 335.75 190.228C336.383 190.228 336.903 190.02 337.309 189.605C337.719 189.191 337.924 188.653 337.924 187.992V187.568L335.613 187.992C334.77 188.152 334.349 188.548 334.349 189.182ZM340.433 185.189V184.28H341.205C341.579 184.28 341.766 184.048 341.766 183.583V182.038H342.675V184.28H344.145V185.189H342.675V189.182C342.675 189.523 342.755 189.783 342.914 189.961C343.074 190.139 343.297 190.228 343.584 190.228C343.73 190.228 343.878 190.212 344.028 190.18C344.179 190.143 344.295 190.107 344.377 190.07L344.493 190.022V190.932C344.215 191.068 343.898 191.137 343.543 191.137C342.964 191.137 342.511 190.968 342.183 190.631C341.859 190.289 341.697 189.806 341.697 189.182V185.189H340.433ZM345.402 187.637C345.402 186.999 345.553 186.411 345.854 185.873C346.159 185.331 346.562 184.907 347.063 184.602C347.569 184.292 348.112 184.137 348.69 184.137C349.606 184.137 350.372 184.453 350.987 185.087C351.603 185.72 351.91 186.525 351.91 187.5C351.91 187.582 351.903 187.666 351.89 187.753C351.881 187.835 351.869 187.896 351.855 187.938L351.842 188.006L346.38 187.992C346.416 188.594 346.667 189.118 347.132 189.564C347.597 190.007 348.139 190.228 348.759 190.228C349.023 190.228 349.278 190.189 349.524 190.111C349.771 190.034 349.976 189.943 350.14 189.838C350.304 189.729 350.447 189.619 350.57 189.51C350.698 189.4 350.789 189.307 350.844 189.229L350.933 189.113L351.562 189.742C351.534 189.779 351.495 189.829 351.445 189.893C351.395 189.956 351.279 190.068 351.097 190.228C350.919 190.387 350.73 190.528 350.529 190.651C350.329 190.774 350.067 190.886 349.743 190.986C349.424 191.087 349.096 191.137 348.759 191.137C348.162 191.137 347.606 190.984 347.091 190.679C346.576 190.369 346.166 189.945 345.86 189.407C345.555 188.869 345.402 188.279 345.402 187.637ZM346.38 187.151H350.933C350.864 186.55 350.62 186.051 350.201 185.654C349.782 185.253 349.278 185.053 348.69 185.053C348.107 185.053 347.592 185.26 347.146 185.675C346.703 186.09 346.448 186.582 346.38 187.151Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M298.16 216.34C298.16 217.39 297.39 218.16 295.92 218.16C294.1 218.16 293.274 216.956 293.274 216.956L292.63 217.67C292.63 217.67 293.68 219.14 295.92 219.14C298.02 219.14 299.21 217.95 299.21 216.34C299.21 212.84 293.89 214.24 293.89 211.72C293.89 210.838 294.646 210.04 295.99 210.04C297.446 210.04 298.16 211.02 298.16 211.02L298.86 210.32C298.86 210.32 297.866 209.06 295.99 209.06C294.044 209.06 292.84 210.292 292.84 211.72C292.84 215.22 298.16 213.82 298.16 216.34ZM306.916 216.004C306.916 216.004 306.986 215.78 306.986 215.5C306.986 213.54 305.586 212.14 303.766 212.14C302.016 212.14 300.476 213.68 300.476 215.64C300.476 217.6 302.016 219.14 303.836 219.14C305.656 219.14 306.636 217.74 306.636 217.74L306.006 217.11C306.006 217.11 305.25 218.23 303.836 218.23C302.576 218.23 301.526 217.18 301.456 215.99L306.916 216.004ZM303.766 213.05C304.956 213.05 305.866 213.96 306.006 215.15H301.456C301.596 214.03 302.576 213.05 303.766 213.05ZM309.362 211.58C309.362 212.07 309.152 212.28 308.802 212.28H308.032V213.19H309.292V217.18C309.292 218.44 309.992 219.14 311.14 219.14C311.672 219.14 312.092 218.93 312.092 218.93V218.02C312.092 218.02 311.672 218.23 311.182 218.23C310.622 218.23 310.272 217.88 310.272 217.18V213.19H311.742V212.28H310.272V210.04H309.362V211.58ZM317.913 215.15C316.653 215.36 315.953 216.06 315.953 217.18C315.953 218.16 316.933 219.14 318.333 219.14C319.803 219.14 320.503 218.09 320.503 218.09V219H321.483V214.73C321.483 213.26 320.363 212.14 318.823 212.14C317.213 212.14 316.303 213.4 316.303 213.4L316.933 214.03C316.933 214.03 317.633 213.05 318.823 213.05C319.803 213.05 320.503 213.75 320.503 214.73L317.913 215.15ZM318.333 218.23C317.423 218.23 316.933 217.74 316.933 217.18C316.933 216.55 317.353 216.144 318.193 215.99L320.503 215.57V215.99C320.503 217.32 319.593 218.23 318.333 218.23ZM327.776 213.05C327.776 213.05 327.006 212.14 325.606 212.14C324.276 212.14 323.366 213.05 323.366 214.03C323.366 216.34 327.006 215.57 327.006 217.11C327.006 217.74 326.516 218.23 325.536 218.23C324.416 218.23 323.786 217.25 323.786 217.25L323.086 217.95C323.086 217.95 323.856 219.14 325.536 219.14C327.076 219.14 327.986 218.23 327.986 217.11C327.986 214.73 324.346 215.5 324.346 214.03C324.346 213.54 324.836 213.05 325.606 213.05C326.586 213.05 327.076 213.75 327.076 213.75L327.776 213.05ZM332.818 209.2V219H335.898C338.768 219 341.008 216.76 341.008 214.1C341.008 211.44 338.768 209.2 335.898 209.2H332.818ZM335.898 210.18C338.208 210.18 339.958 211.93 339.958 214.1C339.958 216.27 338.208 218.02 335.898 218.02H333.868V210.18H335.898ZM348.848 216.004C348.848 216.004 348.918 215.78 348.918 215.5C348.918 213.54 347.518 212.14 345.698 212.14C343.948 212.14 342.408 213.68 342.408 215.64C342.408 217.6 343.948 219.14 345.768 219.14C347.588 219.14 348.568 217.74 348.568 217.74L347.938 217.11C347.938 217.11 347.182 218.23 345.768 218.23C344.508 218.23 343.458 217.18 343.388 215.99L348.848 216.004ZM345.698 213.05C346.888 213.05 347.798 213.96 347.938 215.15H343.388C343.528 214.03 344.508 213.05 345.698 213.05ZM353.603 212.28H351.993V211.02C351.993 210.32 352.343 209.97 352.903 209.97C353.393 209.97 353.813 210.18 353.813 210.18V209.27C353.813 209.27 353.393 209.06 352.833 209.06C351.713 209.06 351.013 209.76 351.013 211.02V212.28H349.963V213.19H351.013V219H351.993V213.19H353.603V212.28ZM356.618 215.15C355.358 215.36 354.658 216.06 354.658 217.18C354.658 218.16 355.638 219.14 357.038 219.14C358.508 219.14 359.208 218.09 359.208 218.09V219H360.188V214.73C360.188 213.26 359.068 212.14 357.528 212.14C355.918 212.14 355.008 213.4 355.008 213.4L355.638 214.03C355.638 214.03 356.338 213.05 357.528 213.05C358.508 213.05 359.208 213.75 359.208 214.73L356.618 215.15ZM357.038 218.23C356.128 218.23 355.638 217.74 355.638 217.18C355.638 216.55 356.058 216.144 356.898 215.99L359.208 215.57V215.99C359.208 217.32 358.298 218.23 357.038 218.23ZM367.321 219H368.301V212.28H367.321V215.99C367.321 217.32 366.411 218.23 365.291 218.23C364.241 218.23 363.401 217.39 363.401 216.2V212.28H362.421V216.2C362.421 217.95 363.611 219.14 365.151 219.14C366.621 219.14 367.321 218.09 367.321 218.09V219ZM371.661 209.2H370.681V219H371.661V209.2ZM374.604 211.58C374.604 212.07 374.394 212.28 374.044 212.28H373.274V213.19H374.534V217.18C374.534 218.44 375.234 219.14 376.382 219.14C376.914 219.14 377.334 218.93 377.334 218.93V218.02C377.334 218.02 376.914 218.23 376.424 218.23C375.864 218.23 375.514 217.88 375.514 217.18V213.19H376.984V212.28H375.514V210.04H374.604V211.58ZM387.495 213.75C387.495 213.75 388.615 213.26 388.615 211.72C388.615 210.32 387.495 209.2 385.885 209.2H382.105V219H386.095C387.915 219 389.105 217.81 389.105 216.2C389.105 214.38 387.495 213.75 387.495 213.75ZM383.155 218.02V214.24H386.095C387.285 214.24 388.055 215.15 388.055 216.2C388.055 217.25 387.285 218.02 386.095 218.02H383.155ZM385.885 210.18C386.935 210.18 387.565 210.81 387.565 211.72C387.565 212.7 386.935 213.316 385.885 213.316H383.155V210.18H385.885ZM392.534 215.15C391.274 215.36 390.574 216.06 390.574 217.18C390.574 218.16 391.554 219.14 392.954 219.14C394.424 219.14 395.124 218.09 395.124 218.09V219H396.104V214.73C396.104 213.26 394.984 212.14 393.444 212.14C391.834 212.14 390.924 213.4 390.924 213.4L391.554 214.03C391.554 214.03 392.254 213.05 393.444 213.05C394.424 213.05 395.124 213.75 395.124 214.73L392.534 215.15ZM392.954 218.23C392.044 218.23 391.554 217.74 391.554 217.18C391.554 216.55 391.974 216.144 392.814 215.99L395.124 215.57V215.99C395.124 217.32 394.214 218.23 392.954 218.23ZM401.837 212.14H401.557C400.017 212.14 399.317 213.19 399.317 213.19V212.28H398.337V219H399.317V215.29C399.317 213.96 400.297 213.12 401.417 213.12H401.837V212.14ZM410.939 216.34C410.939 217.39 410.169 218.16 408.699 218.16C406.879 218.16 406.053 216.956 406.053 216.956L405.409 217.67C405.409 217.67 406.459 219.14 408.699 219.14C410.799 219.14 411.989 217.95 411.989 216.34C411.989 212.84 406.669 214.24 406.669 211.72C406.669 210.838 407.425 210.04 408.769 210.04C410.225 210.04 410.939 211.02 410.939 211.02L411.639 210.32C411.639 210.32 410.645 209.06 408.769 209.06C406.823 209.06 405.619 210.292 405.619 211.72C405.619 215.22 410.939 213.82 410.939 216.34ZM414.375 211.58C414.375 212.07 414.165 212.28 413.815 212.28H413.045V213.19H414.305V217.18C414.305 218.44 415.005 219.14 416.153 219.14C416.685 219.14 417.105 218.93 417.105 218.93V218.02C417.105 218.02 416.685 218.23 416.195 218.23C415.635 218.23 415.285 217.88 415.285 217.18V213.19H416.755V212.28H415.285V210.04H414.375V211.58ZM420.26 219.98C420.008 220.68 419.63 221.03 419 221.03C418.65 221.03 418.3 220.89 418.3 220.89V221.8C418.3 221.8 418.65 221.94 419.14 221.94C420.12 221.94 420.68 221.38 421.24 219.98L424.32 212.28H423.27L421.1 217.74L418.93 212.28H417.88L420.61 219L420.26 219.98ZM426.704 209.2H425.724V219H426.704V209.2ZM434.967 216.004C434.967 216.004 435.037 215.78 435.037 215.5C435.037 213.54 433.637 212.14 431.817 212.14C430.067 212.14 428.527 213.68 428.527 215.64C428.527 217.6 430.067 219.14 431.887 219.14C433.707 219.14 434.687 217.74 434.687 217.74L434.057 217.11C434.057 217.11 433.301 218.23 431.887 218.23C430.627 218.23 429.577 217.18 429.507 215.99L434.967 216.004ZM431.817 213.05C433.007 213.05 433.917 213.96 434.057 215.15H429.507C429.647 214.03 430.627 213.05 431.817 213.05Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M293.237 244.067C292.973 243.443 292.841 242.787 292.841 242.099C292.841 241.41 292.973 240.757 293.237 240.137C293.502 239.512 293.857 238.977 294.304 238.53C294.755 238.079 295.29 237.721 295.91 237.457C296.535 237.193 297.191 237.061 297.879 237.061C298.376 237.061 298.852 237.131 299.308 237.272C299.763 237.409 300.139 237.578 300.436 237.778C300.736 237.974 300.998 238.173 301.222 238.373C301.45 238.574 301.616 238.742 301.721 238.879L301.871 239.091L301.167 239.72C301.14 239.674 301.096 239.615 301.037 239.542C300.982 239.465 300.855 239.33 300.654 239.139C300.454 238.943 300.237 238.772 300.005 238.626C299.772 238.476 299.465 238.341 299.082 238.223C298.699 238.1 298.298 238.038 297.879 238.038C297.141 238.038 296.466 238.216 295.855 238.571C295.245 238.922 294.764 239.41 294.413 240.034C294.062 240.654 293.887 241.342 293.887 242.099C293.887 242.855 294.062 243.546 294.413 244.17C294.764 244.79 295.245 245.277 295.855 245.633C296.466 245.984 297.141 246.159 297.879 246.159C298.298 246.159 298.699 246.102 299.082 245.988C299.469 245.87 299.788 245.729 300.039 245.564C300.29 245.4 300.508 245.236 300.695 245.072C300.887 244.908 301.026 244.767 301.112 244.648L301.242 244.478L301.939 245.113C301.921 245.141 301.892 245.179 301.851 245.229C301.814 245.275 301.73 245.368 301.598 245.51C301.465 245.651 301.324 245.785 301.174 245.913C301.028 246.041 300.834 246.182 300.593 246.337C300.351 246.492 300.101 246.626 299.841 246.74C299.586 246.85 299.285 246.943 298.938 247.021C298.592 247.098 298.239 247.137 297.879 247.137C297.191 247.137 296.535 247.005 295.91 246.74C295.29 246.476 294.755 246.12 294.304 245.674C293.857 245.223 293.502 244.687 293.237 244.067ZM303.519 245.407C303.213 244.869 303.061 244.279 303.061 243.637C303.061 242.994 303.213 242.404 303.519 241.866C303.828 241.328 304.245 240.907 304.77 240.602C305.298 240.292 305.872 240.137 306.492 240.137C307.112 240.137 307.684 240.292 308.208 240.602C308.732 240.907 309.147 241.328 309.452 241.866C309.762 242.404 309.917 242.994 309.917 243.637C309.917 244.279 309.762 244.869 309.452 245.407C309.147 245.945 308.732 246.369 308.208 246.679C307.684 246.984 307.112 247.137 306.492 247.137C305.872 247.137 305.298 246.984 304.77 246.679C304.245 246.369 303.828 245.945 303.519 245.407ZM304.038 243.637C304.038 244.361 304.28 244.974 304.763 245.476C305.246 245.977 305.822 246.228 306.492 246.228C307.167 246.228 307.743 245.979 308.222 245.482C308.7 244.981 308.939 244.366 308.939 243.637C308.939 242.908 308.7 242.295 308.222 241.798C307.743 241.301 307.167 241.053 306.492 241.053C305.818 241.053 305.239 241.301 304.756 241.798C304.277 242.295 304.038 242.908 304.038 243.637ZM311.674 247V240.28H312.651V241.258C312.67 241.226 312.697 241.185 312.733 241.135C312.77 241.085 312.854 240.996 312.986 240.868C313.123 240.741 313.267 240.627 313.417 240.526C313.572 240.426 313.775 240.337 314.025 240.26C314.281 240.178 314.545 240.137 314.818 240.137C315.63 240.137 316.288 240.399 316.794 240.923C317.3 241.442 317.553 242.137 317.553 243.008V247H316.568V243.008C316.568 242.42 316.397 241.948 316.056 241.593C315.718 241.233 315.283 241.053 314.75 241.053C314.148 241.053 313.647 241.26 313.246 241.675C312.85 242.09 312.651 242.627 312.651 243.288V247H311.674ZM318.879 240.28H319.932L322.105 245.667L324.272 240.28H325.325L322.591 247H321.613L318.879 240.28ZM326.166 243.637C326.166 242.999 326.316 242.411 326.617 241.873C326.923 241.331 327.326 240.907 327.827 240.602C328.333 240.292 328.875 240.137 329.454 240.137C330.37 240.137 331.136 240.453 331.751 241.087C332.366 241.72 332.674 242.525 332.674 243.5C332.674 243.582 332.667 243.666 332.653 243.753C332.644 243.835 332.633 243.896 332.619 243.938L332.605 244.006L327.144 243.992C327.18 244.594 327.431 245.118 327.896 245.564C328.36 246.007 328.903 246.228 329.522 246.228C329.787 246.228 330.042 246.189 330.288 246.111C330.534 246.034 330.739 245.943 330.903 245.838C331.067 245.729 331.211 245.619 331.334 245.51C331.462 245.4 331.553 245.307 331.607 245.229L331.696 245.113L332.325 245.742C332.298 245.779 332.259 245.829 332.209 245.893C332.159 245.956 332.043 246.068 331.86 246.228C331.683 246.387 331.493 246.528 331.293 246.651C331.092 246.774 330.83 246.886 330.507 246.986C330.188 247.087 329.86 247.137 329.522 247.137C328.925 247.137 328.369 246.984 327.854 246.679C327.34 246.369 326.929 245.945 326.624 245.407C326.319 244.869 326.166 244.279 326.166 243.637ZM327.144 243.151H331.696C331.628 242.55 331.384 242.051 330.965 241.654C330.546 241.253 330.042 241.053 329.454 241.053C328.871 241.053 328.356 241.26 327.909 241.675C327.467 242.09 327.212 242.582 327.144 243.151ZM334.424 247V240.28H335.401V241.189C335.42 241.162 335.447 241.126 335.483 241.08C335.524 241.03 335.613 240.946 335.75 240.827C335.887 240.704 336.033 240.597 336.188 240.506C336.347 240.41 336.557 240.326 336.816 240.253C337.081 240.175 337.356 240.137 337.644 240.137H337.924V241.121H337.5C336.921 241.121 336.427 241.322 336.017 241.723C335.606 242.119 335.401 242.641 335.401 243.288V247H334.424ZM338.546 241.189V240.28H339.318C339.692 240.28 339.879 240.048 339.879 239.583V238.038H340.788V240.28H342.258V241.189H340.788V245.182C340.788 245.523 340.868 245.783 341.027 245.961C341.187 246.139 341.41 246.228 341.697 246.228C341.843 246.228 341.991 246.212 342.142 246.18C342.292 246.143 342.408 246.107 342.49 246.07L342.606 246.022V246.932C342.328 247.068 342.012 247.137 341.656 247.137C341.077 247.137 340.624 246.968 340.296 246.631C339.972 246.289 339.811 245.806 339.811 245.182V241.189H338.546ZM346.257 241.189V240.28H347.029C347.403 240.28 347.59 240.048 347.59 239.583V238.038H348.499V240.28H349.969V241.189H348.499V245.182C348.499 245.523 348.579 245.783 348.738 245.961C348.898 246.139 349.121 246.228 349.408 246.228C349.554 246.228 349.702 246.212 349.853 246.18C350.003 246.143 350.119 246.107 350.201 246.07L350.317 246.022V246.932C350.039 247.068 349.723 247.137 349.367 247.137C348.788 247.137 348.335 246.968 348.007 246.631C347.683 246.289 347.521 245.806 347.521 245.182V241.189H346.257ZM351.685 245.407C351.379 244.869 351.227 244.279 351.227 243.637C351.227 242.994 351.379 242.404 351.685 241.866C351.994 241.328 352.411 240.907 352.936 240.602C353.464 240.292 354.038 240.137 354.658 240.137C355.278 240.137 355.85 240.292 356.374 240.602C356.898 240.907 357.313 241.328 357.618 241.866C357.928 242.404 358.083 242.994 358.083 243.637C358.083 244.279 357.928 244.869 357.618 245.407C357.313 245.945 356.898 246.369 356.374 246.679C355.85 246.984 355.278 247.137 354.658 247.137C354.038 247.137 353.464 246.984 352.936 246.679C352.411 246.369 351.994 245.945 351.685 245.407ZM352.204 243.637C352.204 244.361 352.446 244.974 352.929 245.476C353.412 245.977 353.988 246.228 354.658 246.228C355.333 246.228 355.909 245.979 356.388 245.482C356.866 244.981 357.105 244.366 357.105 243.637C357.105 242.908 356.866 242.295 356.388 241.798C355.909 241.301 355.333 241.053 354.658 241.053C353.984 241.053 353.405 241.301 352.922 241.798C352.443 242.295 352.204 242.908 352.204 243.637ZM362.69 244.067C362.426 243.443 362.294 242.787 362.294 242.099C362.294 241.41 362.426 240.757 362.69 240.137C362.955 239.512 363.31 238.977 363.757 238.53C364.208 238.079 364.743 237.721 365.363 237.457C365.988 237.193 366.644 237.061 367.332 237.061C367.829 237.061 368.305 237.131 368.761 237.272C369.216 237.409 369.592 237.578 369.889 237.778C370.189 237.974 370.451 238.173 370.675 238.373C370.903 238.574 371.069 238.742 371.174 238.879L371.324 239.091L370.62 239.72C370.593 239.674 370.549 239.615 370.49 239.542C370.436 239.465 370.308 239.33 370.107 239.139C369.907 238.943 369.69 238.772 369.458 238.626C369.226 238.476 368.918 238.341 368.535 238.223C368.152 238.1 367.751 238.038 367.332 238.038C366.594 238.038 365.919 238.216 365.309 238.571C364.698 238.922 364.217 239.41 363.866 240.034C363.515 240.654 363.34 241.342 363.34 242.099C363.34 242.855 363.515 243.546 363.866 244.17C364.217 244.79 364.698 245.277 365.309 245.633C365.919 245.984 366.594 246.159 367.332 246.159C367.751 246.159 368.152 246.102 368.535 245.988C368.923 245.87 369.242 245.729 369.492 245.564C369.743 245.4 369.962 245.236 370.148 245.072C370.34 244.908 370.479 244.767 370.565 244.648L370.695 244.478L371.393 245.113C371.374 245.141 371.345 245.179 371.304 245.229C371.267 245.275 371.183 245.368 371.051 245.51C370.919 245.651 370.777 245.785 370.627 245.913C370.481 246.041 370.287 246.182 370.046 246.337C369.804 246.492 369.554 246.626 369.294 246.74C369.039 246.85 368.738 246.943 368.392 247.021C368.045 247.098 367.692 247.137 367.332 247.137C366.644 247.137 365.988 247.005 365.363 246.74C364.743 246.476 364.208 246.12 363.757 245.674C363.31 245.223 362.955 244.687 362.69 244.067ZM372.972 245.407C372.666 244.869 372.514 244.279 372.514 243.637C372.514 242.994 372.666 242.404 372.972 241.866C373.282 241.328 373.699 240.907 374.223 240.602C374.751 240.292 375.326 240.137 375.945 240.137C376.565 240.137 377.137 240.292 377.661 240.602C378.185 240.907 378.6 241.328 378.905 241.866C379.215 242.404 379.37 242.994 379.37 243.637C379.37 244.279 379.215 244.869 378.905 245.407C378.6 245.945 378.185 246.369 377.661 246.679C377.137 246.984 376.565 247.137 375.945 247.137C375.326 247.137 374.751 246.984 374.223 246.679C373.699 246.369 373.282 245.945 372.972 245.407ZM373.491 243.637C373.491 244.361 373.733 244.974 374.216 245.476C374.699 245.977 375.275 246.228 375.945 246.228C376.62 246.228 377.196 245.979 377.675 245.482C378.153 244.981 378.393 244.366 378.393 243.637C378.393 242.908 378.153 242.295 377.675 241.798C377.196 241.301 376.62 241.053 375.945 241.053C375.271 241.053 374.692 241.301 374.209 241.798C373.73 242.295 373.491 242.908 373.491 243.637ZM381.127 247V240.28H382.104V241.258C382.123 241.226 382.15 241.185 382.187 241.135C382.223 241.085 382.307 240.996 382.439 240.868C382.576 240.741 382.72 240.627 382.87 240.526C383.025 240.426 383.228 240.337 383.479 240.26C383.734 240.178 383.998 240.137 384.271 240.137C385.083 240.137 385.741 240.399 386.247 240.923C386.753 241.442 387.006 242.137 387.006 243.008V247H386.021V243.008C386.021 242.42 385.851 241.948 385.509 241.593C385.172 241.233 384.736 241.053 384.203 241.053C383.602 241.053 383.1 241.26 382.699 241.675C382.303 242.09 382.104 242.627 382.104 243.288V247H381.127ZM388.544 241.189V240.28H389.316C389.69 240.28 389.877 240.048 389.877 239.583V238.038H390.786V240.28H392.256V241.189H390.786V245.182C390.786 245.523 390.866 245.783 391.025 245.961C391.185 246.139 391.408 246.228 391.695 246.228C391.841 246.228 391.989 246.212 392.14 246.18C392.29 246.143 392.406 246.107 392.488 246.07L392.604 246.022V246.932C392.326 247.068 392.01 247.137 391.654 247.137C391.076 247.137 390.622 246.968 390.294 246.631C389.97 246.289 389.809 245.806 389.809 245.182V241.189H388.544ZM393.514 245.182C393.514 244.626 393.682 244.174 394.02 243.828C394.357 243.482 394.842 243.256 395.476 243.151L398.066 242.728C398.066 242.24 397.907 241.839 397.588 241.524C397.273 241.21 396.872 241.053 396.385 241.053C396.161 241.053 395.943 241.087 395.729 241.155C395.519 241.219 395.341 241.301 395.195 241.401C395.054 241.497 394.926 241.593 394.812 241.688C394.703 241.784 394.621 241.864 394.566 241.928L394.491 242.03L393.862 241.401C393.885 241.365 393.919 241.319 393.965 241.265C394.015 241.21 394.122 241.11 394.286 240.964C394.45 240.818 394.621 240.69 394.799 240.581C394.981 240.467 395.216 240.365 395.503 240.273C395.79 240.182 396.084 240.137 396.385 240.137C397.15 240.137 397.784 240.385 398.285 240.882C398.791 241.374 399.044 241.989 399.044 242.728V247H398.066V246.091C398.048 246.118 398.019 246.157 397.978 246.207C397.941 246.253 397.857 246.337 397.725 246.46C397.592 246.578 397.449 246.683 397.294 246.774C397.139 246.866 396.934 246.948 396.679 247.021C396.428 247.098 396.166 247.137 395.893 247.137C395.214 247.137 394.646 246.938 394.19 246.542C393.739 246.146 393.514 245.692 393.514 245.182ZM394.491 245.182C394.491 245.478 394.614 245.726 394.86 245.927C395.111 246.127 395.455 246.228 395.893 246.228C396.526 246.228 397.046 246.02 397.451 245.605C397.861 245.191 398.066 244.653 398.066 243.992V243.568L395.756 243.992C394.913 244.152 394.491 244.548 394.491 245.182ZM401.32 238.482C401.197 238.359 401.136 238.211 401.136 238.038C401.136 237.865 401.197 237.717 401.32 237.594C401.443 237.471 401.591 237.409 401.765 237.409C401.938 237.409 402.086 237.471 402.209 237.594C402.332 237.717 402.394 237.865 402.394 238.038C402.394 238.211 402.332 238.359 402.209 238.482C402.086 238.605 401.938 238.667 401.765 238.667C401.591 238.667 401.443 238.605 401.32 238.482ZM401.279 247V240.28H402.257V247H401.279ZM404.506 247V240.28H405.483V241.258C405.502 241.226 405.529 241.185 405.565 241.135C405.602 241.085 405.686 240.996 405.818 240.868C405.955 240.741 406.099 240.627 406.249 240.526C406.404 240.426 406.607 240.337 406.857 240.26C407.113 240.178 407.377 240.137 407.65 240.137C408.462 240.137 409.12 240.399 409.626 240.923C410.132 241.442 410.385 242.137 410.385 243.008V247H409.4V243.008C409.4 242.42 409.229 241.948 408.888 241.593C408.55 241.233 408.115 241.053 407.582 241.053C406.98 241.053 406.479 241.26 406.078 241.675C405.682 242.09 405.483 242.627 405.483 243.288V247H404.506ZM412.135 243.637C412.135 242.999 412.285 242.411 412.586 241.873C412.891 241.331 413.295 240.907 413.796 240.602C414.302 240.292 414.844 240.137 415.423 240.137C416.339 240.137 417.104 240.453 417.72 241.087C418.335 241.72 418.643 242.525 418.643 243.5C418.643 243.582 418.636 243.666 418.622 243.753C418.613 243.835 418.602 243.896 418.588 243.938L418.574 244.006L413.112 243.992C413.149 244.594 413.399 245.118 413.864 245.564C414.329 246.007 414.871 246.228 415.491 246.228C415.756 246.228 416.011 246.189 416.257 246.111C416.503 246.034 416.708 245.943 416.872 245.838C417.036 245.729 417.18 245.619 417.303 245.51C417.43 245.4 417.521 245.307 417.576 245.229L417.665 245.113L418.294 245.742C418.267 245.779 418.228 245.829 418.178 245.893C418.128 245.956 418.011 246.068 417.829 246.228C417.651 246.387 417.462 246.528 417.262 246.651C417.061 246.774 416.799 246.886 416.476 246.986C416.157 247.087 415.828 247.137 415.491 247.137C414.894 247.137 414.338 246.984 413.823 246.679C413.308 246.369 412.898 245.945 412.593 245.407C412.287 244.869 412.135 244.279 412.135 243.637ZM413.112 243.151H417.665C417.597 242.55 417.353 242.051 416.934 241.654C416.514 241.253 416.011 241.053 415.423 241.053C414.84 241.053 414.325 241.26 413.878 241.675C413.436 242.09 413.181 242.582 413.112 243.151ZM420.393 247V240.28H421.37V241.189C421.388 241.162 421.416 241.126 421.452 241.08C421.493 241.03 421.582 240.946 421.719 240.827C421.855 240.704 422.001 240.597 422.156 240.506C422.316 240.41 422.525 240.326 422.785 240.253C423.049 240.175 423.325 240.137 423.612 240.137H423.893V241.121H423.469C422.89 241.121 422.396 241.322 421.985 241.723C421.575 242.119 421.37 242.641 421.37 243.288V247H420.393Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M293.47 284V274.197H296.553C297.255 274.197 297.922 274.329 298.556 274.594C299.189 274.854 299.731 275.204 300.183 275.646C300.638 276.089 300.998 276.61 301.263 277.212C301.527 277.813 301.659 278.442 301.659 279.099C301.659 279.755 301.527 280.384 301.263 280.985C300.998 281.587 300.638 282.109 300.183 282.551C299.731 282.993 299.189 283.346 298.556 283.61C297.922 283.87 297.255 284 296.553 284H293.47ZM294.522 283.022H296.553C297.309 283.022 297.997 282.847 298.617 282.496C299.242 282.145 299.729 281.671 300.08 281.074C300.436 280.473 300.613 279.814 300.613 279.099C300.613 278.383 300.436 277.727 300.08 277.13C299.729 276.533 299.242 276.059 298.617 275.708C297.997 275.357 297.309 275.182 296.553 275.182H294.522V283.022ZM303.061 280.637C303.061 279.999 303.211 279.411 303.512 278.873C303.817 278.331 304.22 277.907 304.722 277.602C305.228 277.292 305.77 277.137 306.349 277.137C307.265 277.137 308.03 277.453 308.646 278.087C309.261 278.72 309.568 279.525 309.568 280.5C309.568 280.582 309.562 280.666 309.548 280.753C309.539 280.835 309.527 280.896 309.514 280.938L309.5 281.006L304.038 280.992C304.075 281.594 304.325 282.118 304.79 282.564C305.255 283.007 305.797 283.228 306.417 283.228C306.681 283.228 306.937 283.189 307.183 283.111C307.429 283.034 307.634 282.943 307.798 282.838C307.962 282.729 308.105 282.619 308.229 282.51C308.356 282.4 308.447 282.307 308.502 282.229L308.591 282.113L309.22 282.742C309.192 282.779 309.154 282.829 309.104 282.893C309.053 282.956 308.937 283.068 308.755 283.228C308.577 283.387 308.388 283.528 308.188 283.651C307.987 283.774 307.725 283.886 307.401 283.986C307.082 284.087 306.754 284.137 306.417 284.137C305.82 284.137 305.264 283.984 304.749 283.679C304.234 283.369 303.824 282.945 303.519 282.407C303.213 281.869 303.061 281.279 303.061 280.637ZM304.038 280.151H308.591C308.522 279.55 308.279 279.051 307.859 278.654C307.44 278.253 306.937 278.053 306.349 278.053C305.765 278.053 305.25 278.26 304.804 278.675C304.362 279.09 304.106 279.582 304.038 280.151ZM311.387 284V274.197H312.364V284H311.387ZM314.189 280.637C314.189 279.999 314.34 279.411 314.641 278.873C314.946 278.331 315.349 277.907 315.851 277.602C316.356 277.292 316.899 277.137 317.478 277.137C318.394 277.137 319.159 277.453 319.774 278.087C320.39 278.72 320.697 279.525 320.697 280.5C320.697 280.582 320.69 280.666 320.677 280.753C320.668 280.835 320.656 280.896 320.643 280.938L320.629 281.006L315.167 280.992C315.203 281.594 315.454 282.118 315.919 282.564C316.384 283.007 316.926 283.228 317.546 283.228C317.81 283.228 318.065 283.189 318.312 283.111C318.558 283.034 318.763 282.943 318.927 282.838C319.091 282.729 319.234 282.619 319.357 282.51C319.485 282.4 319.576 282.307 319.631 282.229L319.72 282.113L320.349 282.742C320.321 282.779 320.283 282.829 320.232 282.893C320.182 282.956 320.066 283.068 319.884 283.228C319.706 283.387 319.517 283.528 319.316 283.651C319.116 283.774 318.854 283.886 318.53 283.986C318.211 284.087 317.883 284.137 317.546 284.137C316.949 284.137 316.393 283.984 315.878 283.679C315.363 283.369 314.953 282.945 314.647 282.407C314.342 281.869 314.189 281.279 314.189 280.637ZM315.167 280.151H319.72C319.651 279.55 319.408 279.051 318.988 278.654C318.569 278.253 318.065 278.053 317.478 278.053C316.894 278.053 316.379 278.26 315.933 278.675C315.491 279.09 315.235 279.582 315.167 280.151ZM321.743 278.189V277.28H322.516C322.889 277.28 323.076 277.048 323.076 276.583V275.038H323.985V277.28H325.455V278.189H323.985V282.182C323.985 282.523 324.065 282.783 324.225 282.961C324.384 283.139 324.607 283.228 324.895 283.228C325.04 283.228 325.188 283.212 325.339 283.18C325.489 283.143 325.605 283.107 325.688 283.07L325.804 283.022V283.932C325.526 284.068 325.209 284.137 324.854 284.137C324.275 284.137 323.821 283.968 323.493 283.631C323.17 283.289 323.008 282.806 323.008 282.182V278.189H321.743ZM326.713 280.637C326.713 279.999 326.863 279.411 327.164 278.873C327.469 278.331 327.873 277.907 328.374 277.602C328.88 277.292 329.422 277.137 330.001 277.137C330.917 277.137 331.683 277.453 332.298 278.087C332.913 278.72 333.221 279.525 333.221 280.5C333.221 280.582 333.214 280.666 333.2 280.753C333.191 280.835 333.18 280.896 333.166 280.938L333.152 281.006L327.69 280.992C327.727 281.594 327.978 282.118 328.442 282.564C328.907 283.007 329.45 283.228 330.069 283.228C330.334 283.228 330.589 283.189 330.835 283.111C331.081 283.034 331.286 282.943 331.45 282.838C331.614 282.729 331.758 282.619 331.881 282.51C332.008 282.4 332.1 282.307 332.154 282.229L332.243 282.113L332.872 282.742C332.845 282.779 332.806 282.829 332.756 282.893C332.706 282.956 332.59 283.068 332.407 283.228C332.229 283.387 332.04 283.528 331.84 283.651C331.639 283.774 331.377 283.886 331.054 283.986C330.735 284.087 330.407 284.137 330.069 284.137C329.472 284.137 328.916 283.984 328.401 283.679C327.886 283.369 327.476 282.945 327.171 282.407C326.866 281.869 326.713 281.279 326.713 280.637ZM327.69 280.151H332.243C332.175 279.55 331.931 279.051 331.512 278.654C331.092 278.253 330.589 278.053 330.001 278.053C329.418 278.053 328.903 278.26 328.456 278.675C328.014 279.09 327.759 279.582 327.69 280.151Z",fill:"#6A6E72"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTimeLine-filter1_d)"},a().createElement("path",{d:"M384.27 168.28C383.99 167.92 383.64 167.19 383.03 166.28C382.68 165.78 381.82 164.83 381.56 164.34C381.372 164.042 381.318 163.68 381.41 163.34C381.567 162.694 382.179 162.266 382.84 162.34C383.351 162.443 383.82 162.693 384.19 163.06C384.448 163.303 384.686 163.567 384.9 163.85C385.06 164.05 385.1 164.13 385.28 164.36C385.46 164.59 385.58 164.82 385.49 164.48C385.42 163.98 385.3 163.14 385.13 162.39C385 161.82 384.97 161.73 384.85 161.3C384.73 160.87 384.66 160.51 384.53 160.02C384.411 159.539 384.318 159.051 384.25 158.56C384.124 157.932 384.216 157.279 384.51 156.71C384.859 156.381 385.372 156.295 385.81 156.49C386.25 156.815 386.579 157.27 386.75 157.79C387.012 158.43 387.187 159.103 387.27 159.79C387.43 160.79 387.74 162.25 387.75 162.55C387.75 162.18 387.68 161.4 387.75 161.05C387.819 160.685 388.073 160.382 388.42 160.25C388.718 160.159 389.033 160.138 389.34 160.19C389.65 160.255 389.925 160.433 390.11 160.69C390.342 161.273 390.47 161.893 390.49 162.52C390.517 161.971 390.611 161.427 390.77 160.9C390.937 160.665 391.181 160.495 391.46 160.42C391.79 160.36 392.129 160.36 392.46 160.42C392.731 160.511 392.968 160.682 393.14 160.91C393.352 161.44 393.48 162 393.52 162.57C393.52 162.71 393.59 162.18 393.81 161.83C393.924 161.491 394.211 161.238 394.562 161.167C394.913 161.097 395.275 161.219 395.512 161.487C395.749 161.756 395.824 162.131 395.71 162.47C395.71 163.12 395.71 163.09 395.71 163.53C395.71 163.97 395.71 164.36 395.71 164.73C395.673 165.315 395.593 165.897 395.47 166.47C395.296 166.977 395.054 167.458 394.75 167.9C394.264 168.44 393.863 169.05 393.56 169.71C393.485 170.038 393.451 170.374 393.46 170.71C393.459 171.021 393.499 171.33 393.58 171.63C393.171 171.673 392.759 171.673 392.35 171.63C391.96 171.57 391.48 170.79 391.35 170.55C391.286 170.421 391.154 170.34 391.01 170.34C390.866 170.34 390.734 170.421 390.67 170.55C390.45 170.93 389.96 171.62 389.62 171.66C388.95 171.74 387.57 171.66 386.48 171.66C386.48 171.66 386.66 170.66 386.25 170.3C385.84 169.94 385.42 169.52 385.11 169.24L384.27 168.28Z",fill:"white"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M384.27 168.28C383.99 167.92 383.64 167.19 383.03 166.28C382.68 165.78 381.82 164.83 381.56 164.34C381.372 164.042 381.318 163.68 381.41 163.34C381.567 162.694 382.179 162.266 382.84 162.34C383.351 162.443 383.82 162.693 384.19 163.06C384.448 163.303 384.686 163.567 384.9 163.85C385.06 164.05 385.1 164.13 385.28 164.36C385.46 164.59 385.58 164.82 385.49 164.48C385.42 163.98 385.3 163.14 385.13 162.39C385 161.82 384.97 161.73 384.85 161.3C384.73 160.87 384.66 160.51 384.53 160.02C384.411 159.539 384.318 159.051 384.25 158.56C384.124 157.932 384.216 157.279 384.51 156.71C384.859 156.381 385.372 156.295 385.81 156.49C386.25 156.815 386.579 157.27 386.75 157.79C387.012 158.43 387.187 159.103 387.27 159.79C387.43 160.79 387.74 162.25 387.75 162.55C387.75 162.18 387.68 161.4 387.75 161.05C387.819 160.685 388.073 160.382 388.42 160.25C388.718 160.159 389.033 160.138 389.34 160.19C389.65 160.255 389.925 160.433 390.11 160.69C390.342 161.273 390.47 161.893 390.49 162.52C390.517 161.971 390.611 161.427 390.77 160.9C390.937 160.665 391.181 160.495 391.46 160.42C391.79 160.36 392.129 160.36 392.46 160.42C392.731 160.511 392.968 160.682 393.14 160.91C393.352 161.44 393.48 162 393.52 162.57C393.52 162.71 393.59 162.18 393.81 161.83C393.924 161.491 394.211 161.238 394.562 161.167C394.913 161.097 395.275 161.219 395.512 161.487C395.749 161.756 395.824 162.131 395.71 162.47C395.71 163.12 395.71 163.09 395.71 163.53C395.71 163.97 395.71 164.36 395.71 164.73C395.673 165.315 395.593 165.897 395.47 166.47C395.296 166.977 395.054 167.458 394.75 167.9C394.264 168.44 393.863 169.05 393.56 169.71C393.485 170.038 393.451 170.374 393.46 170.71C393.459 171.021 393.499 171.33 393.58 171.63C393.171 171.673 392.759 171.673 392.35 171.63C391.96 171.57 391.48 170.79 391.35 170.55C391.286 170.421 391.154 170.34 391.01 170.34C390.866 170.34 390.734 170.421 390.67 170.55C390.45 170.93 389.96 171.62 389.62 171.66C388.95 171.74 387.57 171.66 386.48 171.66C386.48 171.66 386.66 170.66 386.25 170.3C385.84 169.94 385.42 169.52 385.11 169.24L384.27 168.28Z",stroke:"black",strokeWidth:"0.75",strokeLinecap:"round",strokeLinejoin:"round"}),a().createElement("path",{d:"M392.75 168.826V165.374C392.75 165.167 392.582 165 392.375 165C392.168 165 392 165.167 392 165.374V168.826C392 169.033 392.168 169.2 392.375 169.2C392.582 169.2 392.75 169.033 392.75 168.826Z",fill:"black"}),a().createElement("path",{d:"M390.77 168.825L390.75 165.371C390.749 165.165 390.58 164.999 390.373 165C390.166 165.001 389.999 165.169 390 165.375L390.02 168.829C390.021 169.035 390.19 169.201 390.397 169.2C390.604 169.199 390.771 169.031 390.77 168.825Z",fill:"black"}),a().createElement("path",{d:"M388 165.379L388.02 168.825C388.021 169.033 388.19 169.201 388.397 169.2C388.604 169.199 388.771 169.029 388.77 168.821L388.75 165.375C388.749 165.167 388.58 164.999 388.373 165C388.166 165.001 387.999 165.171 388 165.379Z",fill:"black"})),a().createElement("defs",null,a().createElement("filter",{id:"ScoreDrawerEmptyTimeLine-filter0_d",x:"272",y:"78",width:"192",height:"233",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a().createElement("feOffset",{dy:"2"}),a().createElement("feGaussianBlur",{stdDeviation:"6"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.156863 0 0 0 0 0.160784 0 0 0 0 0.160784 0 0 0 0.2 0"}),a().createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),a().createElement("filter",{id:"ScoreDrawerEmptyTimeLine-filter1_d",x:"380.191",y:"156.012",width:"16.7461",height:"17.8588",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"0.4"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),a().createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function k(){return a().createElement("svg",{width:"240",height:"357",viewBox:"0 0 240 357",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"ScoreDrawerEmptyList-image"},a().createElement("rect",{y:"92",width:"240",height:"38",rx:"4",fill:"#1973BA"}),a().createElement("rect",{x:"0.5",y:"92.5",width:"239",height:"37",rx:"3.5",stroke:"#282929",strokeOpacity:"0.2"}),a().createElement("path",{d:"M17.4141 113.648C17.112 112.935 16.9609 112.185 16.9609 111.398C16.9609 110.612 17.112 109.865 17.4141 109.156C17.7161 108.443 18.1224 107.831 18.6328 107.32C19.1484 106.805 19.7604 106.396 20.4688 106.094C21.1823 105.792 21.9323 105.641 22.7188 105.641C23.2865 105.641 23.8307 105.721 24.3516 105.883C24.8724 106.039 25.3021 106.232 25.6406 106.461C25.9844 106.685 26.2839 106.911 26.5391 107.141C26.7995 107.37 26.9896 107.562 27.1094 107.719L27.2812 107.961L26.4766 108.68C26.4453 108.628 26.3958 108.56 26.3281 108.477C26.2656 108.388 26.1198 108.234 25.8906 108.016C25.6615 107.792 25.4141 107.596 25.1484 107.43C24.8828 107.258 24.5312 107.104 24.0938 106.969C23.6562 106.828 23.1979 106.758 22.7188 106.758C21.875 106.758 21.1042 106.961 20.4062 107.367C19.7083 107.768 19.1589 108.326 18.7578 109.039C18.3568 109.747 18.1562 110.534 18.1562 111.398C18.1562 112.263 18.3568 113.052 18.7578 113.766C19.1589 114.474 19.7083 115.031 20.4062 115.438C21.1042 115.839 21.875 116.039 22.7188 116.039C23.1979 116.039 23.6562 115.974 24.0938 115.844C24.5365 115.708 24.901 115.547 25.1875 115.359C25.474 115.172 25.724 114.984 25.9375 114.797C26.1562 114.609 26.3151 114.448 26.4141 114.312L26.5625 114.117L27.3594 114.844C27.3385 114.875 27.3047 114.919 27.2578 114.977C27.2161 115.029 27.1198 115.135 26.9688 115.297C26.8177 115.458 26.6562 115.612 26.4844 115.758C26.3177 115.904 26.0964 116.065 25.8203 116.242C25.5443 116.419 25.2578 116.573 24.9609 116.703C24.6693 116.828 24.3255 116.935 23.9297 117.023C23.5339 117.112 23.1302 117.156 22.7188 117.156C21.9323 117.156 21.1823 117.005 20.4688 116.703C19.7604 116.401 19.1484 115.995 18.6328 115.484C18.1224 114.969 17.7161 114.357 17.4141 113.648ZM29.2031 113.797V109.32H30.3203V113.797C30.3203 114.469 30.526 115.023 30.9375 115.461C31.3542 115.898 31.8672 116.117 32.4766 116.117C33.1276 116.117 33.6771 115.88 34.125 115.406C34.5729 114.927 34.7969 114.312 34.7969 113.562V109.32H35.9219V117H34.7969V115.961C34.776 115.992 34.7448 116.036 34.7031 116.094C34.6615 116.146 34.5625 116.242 34.4062 116.383C34.2552 116.518 34.0911 116.638 33.9141 116.742C33.7422 116.846 33.5104 116.94 33.2188 117.023C32.9323 117.112 32.6328 117.156 32.3203 117.156C31.4297 117.156 30.6875 116.844 30.0938 116.219C29.5 115.594 29.2031 114.786 29.2031 113.797ZM37.8359 115.797L38.6406 115C38.6615 115.031 38.6901 115.073 38.7266 115.125C38.763 115.172 38.8464 115.26 38.9766 115.391C39.1068 115.516 39.2422 115.628 39.3828 115.727C39.5286 115.826 39.7135 115.917 39.9375 116C40.1667 116.078 40.401 116.117 40.6406 116.117C41.1771 116.117 41.5911 116 41.8828 115.766C42.1745 115.526 42.3203 115.219 42.3203 114.844C42.3203 114.609 42.2422 114.409 42.0859 114.242C41.9349 114.07 41.737 113.935 41.4922 113.836C41.2474 113.737 40.9766 113.643 40.6797 113.555C40.3828 113.466 40.0859 113.367 39.7891 113.258C39.4974 113.148 39.2292 113.021 38.9844 112.875C38.7396 112.724 38.5391 112.518 38.3828 112.258C38.2318 111.992 38.1562 111.68 38.1562 111.32C38.1562 110.742 38.3984 110.237 38.8828 109.805C39.3672 109.372 39.9792 109.156 40.7188 109.156C41.0156 109.156 41.3047 109.193 41.5859 109.266C41.8672 109.339 42.1016 109.427 42.2891 109.531C42.4766 109.63 42.6406 109.732 42.7812 109.836C42.9271 109.935 43.0339 110.021 43.1016 110.094L43.2031 110.203L42.3984 111C42.3828 110.979 42.3594 110.951 42.3281 110.914C42.3021 110.878 42.2344 110.815 42.125 110.727C42.0208 110.633 41.9089 110.552 41.7891 110.484C41.6745 110.411 41.5182 110.346 41.3203 110.289C41.1276 110.232 40.9271 110.203 40.7188 110.203C40.2969 110.203 39.9505 110.315 39.6797 110.539C39.4141 110.763 39.2812 111.023 39.2812 111.32C39.2812 111.544 39.3568 111.737 39.5078 111.898C39.6641 112.06 39.8646 112.188 40.1094 112.281C40.3542 112.375 40.6224 112.466 40.9141 112.555C41.2109 112.638 41.5052 112.737 41.7969 112.852C42.0938 112.961 42.3646 113.094 42.6094 113.25C42.8542 113.401 43.0521 113.612 43.2031 113.883C43.3594 114.154 43.4375 114.474 43.4375 114.844C43.4375 115.505 43.1849 116.057 42.6797 116.5C42.1745 116.938 41.4948 117.156 40.6406 117.156C40.2812 117.156 39.9375 117.109 39.6094 117.016C39.2865 116.922 39.0208 116.81 38.8125 116.68C38.6094 116.544 38.4297 116.411 38.2734 116.281C38.1172 116.146 38.0052 116.031 37.9375 115.938L37.8359 115.797ZM44.6328 110.359V109.32H45.5156C45.9427 109.32 46.1562 109.055 46.1562 108.523V106.758H47.1953V109.32H48.875V110.359H47.1953V114.922C47.1953 115.312 47.2865 115.609 47.4688 115.812C47.651 116.016 47.9062 116.117 48.2344 116.117C48.401 116.117 48.5703 116.099 48.7422 116.062C48.9141 116.021 49.0469 115.979 49.1406 115.938L49.2734 115.883V116.922C48.9557 117.078 48.5938 117.156 48.1875 117.156C47.526 117.156 47.0078 116.964 46.6328 116.578C46.263 116.188 46.0781 115.635 46.0781 114.922V110.359H44.6328ZM50.8359 115.18C50.487 114.565 50.3125 113.891 50.3125 113.156C50.3125 112.422 50.487 111.747 50.8359 111.133C51.1901 110.518 51.6667 110.036 52.2656 109.688C52.8698 109.333 53.526 109.156 54.2344 109.156C54.9427 109.156 55.5964 109.333 56.1953 109.688C56.7943 110.036 57.2682 110.518 57.6172 111.133C57.9714 111.747 58.1484 112.422 58.1484 113.156C58.1484 113.891 57.9714 114.565 57.6172 115.18C57.2682 115.794 56.7943 116.279 56.1953 116.633C55.5964 116.982 54.9427 117.156 54.2344 117.156C53.526 117.156 52.8698 116.982 52.2656 116.633C51.6667 116.279 51.1901 115.794 50.8359 115.18ZM51.4297 113.156C51.4297 113.984 51.7057 114.685 52.2578 115.258C52.8099 115.831 53.4688 116.117 54.2344 116.117C55.0052 116.117 55.6641 115.833 56.2109 115.266C56.7578 114.693 57.0312 113.99 57.0312 113.156C57.0312 112.323 56.7578 111.622 56.2109 111.055C55.6641 110.487 55.0052 110.203 54.2344 110.203C53.4635 110.203 52.8021 110.487 52.25 111.055C51.7031 111.622 51.4297 112.323 51.4297 113.156ZM60.1562 117V109.32H61.2734V110.281C61.2891 110.25 61.3151 110.211 61.3516 110.164C61.388 110.112 61.4688 110.021 61.5938 109.891C61.724 109.76 61.8646 109.646 62.0156 109.547C62.1667 109.448 62.3672 109.359 62.6172 109.281C62.8724 109.198 63.1432 109.156 63.4297 109.156C63.7734 109.156 64.0938 109.203 64.3906 109.297C64.6875 109.391 64.9245 109.505 65.1016 109.641C65.2839 109.776 65.4375 109.911 65.5625 110.047C65.6927 110.177 65.7839 110.289 65.8359 110.383L65.9141 110.523C65.9349 110.487 65.9635 110.438 66 110.375C66.0417 110.312 66.138 110.203 66.2891 110.047C66.4401 109.891 66.6068 109.753 66.7891 109.633C66.9766 109.513 67.2266 109.404 67.5391 109.305C67.8568 109.206 68.1953 109.156 68.5547 109.156C69.4245 109.156 70.1354 109.445 70.6875 110.023C71.2396 110.596 71.5156 111.401 71.5156 112.438V117H70.3906V112.438C70.3906 111.729 70.2135 111.18 69.8594 110.789C69.5104 110.398 69.0495 110.203 68.4766 110.203C67.8932 110.203 67.3984 110.435 66.9922 110.898C66.5911 111.362 66.3906 111.982 66.3906 112.758V117H65.2734V112.438C65.2734 111.734 65.0964 111.188 64.7422 110.797C64.388 110.401 63.9245 110.203 63.3516 110.203C62.7682 110.203 62.276 110.435 61.875 110.898C61.474 111.362 61.2734 111.982 61.2734 112.758V117H60.1562ZM73.5156 113.156C73.5156 112.427 73.6875 111.755 74.0312 111.141C74.3802 110.521 74.8411 110.036 75.4141 109.688C75.9922 109.333 76.612 109.156 77.2734 109.156C78.3203 109.156 79.1953 109.518 79.8984 110.242C80.6016 110.966 80.9531 111.885 80.9531 113C80.9531 113.094 80.9453 113.19 80.9297 113.289C80.9193 113.383 80.9062 113.453 80.8906 113.5L80.875 113.578L74.6328 113.562C74.6745 114.25 74.9609 114.849 75.4922 115.359C76.0234 115.865 76.6432 116.117 77.3516 116.117C77.6536 116.117 77.9453 116.073 78.2266 115.984C78.5078 115.896 78.7422 115.792 78.9297 115.672C79.1172 115.547 79.2812 115.422 79.4219 115.297C79.5677 115.172 79.6719 115.065 79.7344 114.977L79.8359 114.844L80.5547 115.562C80.5234 115.604 80.4792 115.661 80.4219 115.734C80.3646 115.807 80.2318 115.935 80.0234 116.117C79.8203 116.299 79.6042 116.461 79.375 116.602C79.1458 116.742 78.8464 116.87 78.4766 116.984C78.112 117.099 77.737 117.156 77.3516 117.156C76.6693 117.156 76.0339 116.982 75.4453 116.633C74.8568 116.279 74.388 115.794 74.0391 115.18C73.6901 114.565 73.5156 113.891 73.5156 113.156ZM74.6328 112.602H79.8359C79.7578 111.914 79.4792 111.344 79 110.891C78.5208 110.432 77.9453 110.203 77.2734 110.203C76.6068 110.203 76.0182 110.44 75.5078 110.914C75.0026 111.388 74.7109 111.951 74.6328 112.602ZM82.9531 117V109.32H84.0703V110.359C84.0911 110.328 84.1224 110.286 84.1641 110.234C84.2109 110.177 84.3125 110.081 84.4688 109.945C84.625 109.805 84.7917 109.682 84.9688 109.578C85.151 109.469 85.3906 109.372 85.6875 109.289C85.9896 109.201 86.3047 109.156 86.6328 109.156H86.9531V110.281H86.4688C85.8073 110.281 85.2422 110.51 84.7734 110.969C84.3047 111.422 84.0703 112.018 84.0703 112.758V117H82.9531ZM91.9922 117V105.797H93.1953V117H91.9922ZM96.0781 117V109.32H97.1953V110.438C97.2161 110.401 97.2474 110.354 97.2891 110.297C97.3307 110.24 97.4271 110.138 97.5781 109.992C97.7344 109.846 97.8984 109.716 98.0703 109.602C98.2474 109.487 98.4792 109.385 98.7656 109.297C99.0573 109.203 99.3594 109.156 99.6719 109.156C100.599 109.156 101.352 109.456 101.93 110.055C102.508 110.648 102.797 111.443 102.797 112.438V117H101.672V112.438C101.672 111.766 101.477 111.227 101.086 110.82C100.701 110.409 100.203 110.203 99.5938 110.203C98.9062 110.203 98.3333 110.44 97.875 110.914C97.4219 111.388 97.1953 112.003 97.1953 112.758V117H96.0781ZM104.555 110.359V109.32H105.438C105.865 109.32 106.078 109.055 106.078 108.523V106.758H107.117V109.32H108.797V110.359H107.117V114.922C107.117 115.312 107.208 115.609 107.391 115.812C107.573 116.016 107.828 116.117 108.156 116.117C108.323 116.117 108.492 116.099 108.664 116.062C108.836 116.021 108.969 115.979 109.062 115.938L109.195 115.883V116.922C108.878 117.078 108.516 117.156 108.109 117.156C107.448 117.156 106.93 116.964 106.555 116.578C106.185 116.188 106 115.635 106 114.922V110.359H104.555ZM110.234 113.156C110.234 112.427 110.406 111.755 110.75 111.141C111.099 110.521 111.56 110.036 112.133 109.688C112.711 109.333 113.331 109.156 113.992 109.156C115.039 109.156 115.914 109.518 116.617 110.242C117.32 110.966 117.672 111.885 117.672 113C117.672 113.094 117.664 113.19 117.648 113.289C117.638 113.383 117.625 113.453 117.609 113.5L117.594 113.578L111.352 113.562C111.393 114.25 111.68 114.849 112.211 115.359C112.742 115.865 113.362 116.117 114.07 116.117C114.372 116.117 114.664 116.073 114.945 115.984C115.227 115.896 115.461 115.792 115.648 115.672C115.836 115.547 116 115.422 116.141 115.297C116.286 115.172 116.391 115.065 116.453 114.977L116.555 114.844L117.273 115.562C117.242 115.604 117.198 115.661 117.141 115.734C117.083 115.807 116.951 115.935 116.742 116.117C116.539 116.299 116.323 116.461 116.094 116.602C115.865 116.742 115.565 116.87 115.195 116.984C114.831 117.099 114.456 117.156 114.07 117.156C113.388 117.156 112.753 116.982 112.164 116.633C111.576 116.279 111.107 115.794 110.758 115.18C110.409 114.565 110.234 113.891 110.234 113.156ZM111.352 112.602H116.555C116.477 111.914 116.198 111.344 115.719 110.891C115.24 110.432 114.664 110.203 113.992 110.203C113.326 110.203 112.737 110.44 112.227 110.914C111.721 111.388 111.43 111.951 111.352 112.602ZM119.672 117V109.32H120.789V110.359C120.81 110.328 120.841 110.286 120.883 110.234C120.93 110.177 121.031 110.081 121.188 109.945C121.344 109.805 121.51 109.682 121.688 109.578C121.87 109.469 122.109 109.372 122.406 109.289C122.708 109.201 123.023 109.156 123.352 109.156H123.672V110.281H123.188C122.526 110.281 121.961 110.51 121.492 110.969C121.023 111.422 120.789 112.018 120.789 112.758V117H119.672ZM124.625 109.32H125.828L128.312 115.477L130.789 109.32H131.992L128.867 117H127.75L124.625 109.32ZM133.562 107.266C133.422 107.125 133.352 106.956 133.352 106.758C133.352 106.56 133.422 106.391 133.562 106.25C133.703 106.109 133.872 106.039 134.07 106.039C134.268 106.039 134.438 106.109 134.578 106.25C134.719 106.391 134.789 106.56 134.789 106.758C134.789 106.956 134.719 107.125 134.578 107.266C134.438 107.406 134.268 107.477 134.07 107.477C133.872 107.477 133.703 107.406 133.562 107.266ZM133.516 117V109.32H134.633V117H133.516ZM136.641 113.156C136.641 112.427 136.812 111.755 137.156 111.141C137.505 110.521 137.966 110.036 138.539 109.688C139.117 109.333 139.737 109.156 140.398 109.156C141.445 109.156 142.32 109.518 143.023 110.242C143.727 110.966 144.078 111.885 144.078 113C144.078 113.094 144.07 113.19 144.055 113.289C144.044 113.383 144.031 113.453 144.016 113.5L144 113.578L137.758 113.562C137.799 114.25 138.086 114.849 138.617 115.359C139.148 115.865 139.768 116.117 140.477 116.117C140.779 116.117 141.07 116.073 141.352 115.984C141.633 115.896 141.867 115.792 142.055 115.672C142.242 115.547 142.406 115.422 142.547 115.297C142.693 115.172 142.797 115.065 142.859 114.977L142.961 114.844L143.68 115.562C143.648 115.604 143.604 115.661 143.547 115.734C143.49 115.807 143.357 115.935 143.148 116.117C142.945 116.299 142.729 116.461 142.5 116.602C142.271 116.742 141.971 116.87 141.602 116.984C141.237 117.099 140.862 117.156 140.477 117.156C139.794 117.156 139.159 116.982 138.57 116.633C137.982 116.279 137.513 115.794 137.164 115.18C136.815 114.565 136.641 113.891 136.641 113.156ZM137.758 112.602H142.961C142.883 111.914 142.604 111.344 142.125 110.891C141.646 110.432 141.07 110.203 140.398 110.203C139.732 110.203 139.143 110.44 138.633 110.914C138.128 111.388 137.836 111.951 137.758 112.602ZM145.031 109.32H146.234L148.234 115.242L150.156 109.32H151.117L153.031 115.242L155.031 109.32H156.234L153.594 117H152.555L150.633 111.156L148.719 117H147.672L145.031 109.32ZM157.039 115.797L157.844 115C157.865 115.031 157.893 115.073 157.93 115.125C157.966 115.172 158.049 115.26 158.18 115.391C158.31 115.516 158.445 115.628 158.586 115.727C158.732 115.826 158.917 115.917 159.141 116C159.37 116.078 159.604 116.117 159.844 116.117C160.38 116.117 160.794 116 161.086 115.766C161.378 115.526 161.523 115.219 161.523 114.844C161.523 114.609 161.445 114.409 161.289 114.242C161.138 114.07 160.94 113.935 160.695 113.836C160.451 113.737 160.18 113.643 159.883 113.555C159.586 113.466 159.289 113.367 158.992 113.258C158.701 113.148 158.432 113.021 158.188 112.875C157.943 112.724 157.742 112.518 157.586 112.258C157.435 111.992 157.359 111.68 157.359 111.32C157.359 110.742 157.602 110.237 158.086 109.805C158.57 109.372 159.182 109.156 159.922 109.156C160.219 109.156 160.508 109.193 160.789 109.266C161.07 109.339 161.305 109.427 161.492 109.531C161.68 109.63 161.844 109.732 161.984 109.836C162.13 109.935 162.237 110.021 162.305 110.094L162.406 110.203L161.602 111C161.586 110.979 161.562 110.951 161.531 110.914C161.505 110.878 161.438 110.815 161.328 110.727C161.224 110.633 161.112 110.552 160.992 110.484C160.878 110.411 160.721 110.346 160.523 110.289C160.331 110.232 160.13 110.203 159.922 110.203C159.5 110.203 159.154 110.315 158.883 110.539C158.617 110.763 158.484 111.023 158.484 111.32C158.484 111.544 158.56 111.737 158.711 111.898C158.867 112.06 159.068 112.188 159.312 112.281C159.557 112.375 159.826 112.466 160.117 112.555C160.414 112.638 160.708 112.737 161 112.852C161.297 112.961 161.568 113.094 161.812 113.25C162.057 113.401 162.255 113.612 162.406 113.883C162.562 114.154 162.641 114.474 162.641 114.844C162.641 115.505 162.388 116.057 161.883 116.5C161.378 116.938 160.698 117.156 159.844 117.156C159.484 117.156 159.141 117.109 158.812 117.016C158.49 116.922 158.224 116.81 158.016 116.68C157.812 116.544 157.633 116.411 157.477 116.281C157.32 116.146 157.208 116.031 157.141 115.938L157.039 115.797Z",fill:"white"}),a().createElement("rect",{y:"46",width:"240",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M16 65C16 62.7909 17.7909 61 20 61H98C100.209 61 102 62.7909 102 65C102 67.2091 100.209 69 98 69H20C17.7909 69 16 67.2091 16 65Z",fill:"#D1D5D9"}),a().createElement("rect",{y:"138",width:"240",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M16 157C16 154.791 17.7909 153 20 153H122C124.209 153 126 154.791 126 157C126 159.209 124.209 161 122 161H20C17.7909 161 16 159.209 16 157Z",fill:"#D1D5D9"}),a().createElement("rect",{y:"184",width:"240",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M16 203C16 200.791 17.7909 199 20 199H122C124.209 199 126 200.791 126 203C126 205.209 124.209 207 122 207H20C17.7909 207 16 205.209 16 203Z",fill:"#D1D5D9"}),a().createElement("rect",{width:"240",height:"38",rx:"4",fill:"#E8ECEE"}),a().createElement("path",{d:"M16 19C16 16.7909 17.7909 15 20 15H122C124.209 15 126 16.7909 126 19C126 21.2091 124.209 23 122 23H20C17.7909 23 16 21.2091 16 19Z",fill:"#D1D5D9"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyList-filter0_d)"},a().createElement("rect",{x:"36",y:"134",width:"168",height:"209",rx:"4",fill:"white"})),a().createElement("rect",{x:"36",y:"306",width:"168",height:"1",fill:"#D1D5D9"}),a().createElement("path",{opacity:"0.5",d:"M44.6289 155.667L45.2715 154.956C45.2943 154.988 45.3262 155.031 45.3672 155.086C45.4128 155.141 45.5153 155.239 45.6748 155.38C45.8389 155.517 46.0143 155.637 46.2012 155.742C46.388 155.847 46.6364 155.943 46.9463 156.029C47.2562 156.116 47.5798 156.159 47.917 156.159C48.6325 156.159 49.1839 155.993 49.5713 155.66C49.9632 155.323 50.1592 154.883 50.1592 154.341C50.1592 154.072 50.0977 153.837 49.9746 153.637C49.8561 153.432 49.6943 153.268 49.4893 153.145C49.2842 153.017 49.0472 152.903 48.7783 152.803C48.514 152.702 48.2337 152.611 47.9375 152.529C47.6458 152.443 47.3519 152.354 47.0557 152.263C46.764 152.167 46.4837 152.051 46.2148 151.914C45.9505 151.773 45.7158 151.611 45.5107 151.429C45.3057 151.242 45.1416 151.005 45.0186 150.718C44.9001 150.426 44.8408 150.093 44.8408 149.72C44.8408 148.981 45.1302 148.355 45.709 147.84C46.2878 147.32 47.0488 147.061 47.9922 147.061C48.3431 147.061 48.6803 147.104 49.0039 147.19C49.332 147.277 49.6032 147.382 49.8174 147.505C50.0316 147.628 50.2207 147.751 50.3848 147.874C50.5534 147.997 50.6764 148.102 50.7539 148.188L50.8633 148.318L50.1592 149.022C50.141 148.995 50.1113 148.961 50.0703 148.92C50.0339 148.874 49.9473 148.795 49.8105 148.681C49.6784 148.567 49.5348 148.466 49.3799 148.38C49.2295 148.293 49.029 148.216 48.7783 148.147C48.5277 148.075 48.2656 148.038 47.9922 148.038C47.3451 148.038 46.8324 148.202 46.4541 148.53C46.0758 148.858 45.8867 149.255 45.8867 149.72C45.8867 149.961 45.9368 150.178 46.0371 150.369C46.1374 150.556 46.2718 150.711 46.4404 150.834C46.609 150.952 46.8073 151.064 47.0352 151.169C47.263 151.274 47.5046 151.36 47.7598 151.429C48.015 151.497 48.277 151.577 48.5459 151.668C48.8193 151.755 49.0837 151.841 49.3389 151.928C49.5941 152.014 49.8356 152.131 50.0635 152.276C50.2913 152.422 50.4896 152.584 50.6582 152.762C50.8268 152.935 50.9613 153.158 51.0615 153.432C51.1618 153.701 51.2119 154.004 51.2119 154.341C51.2119 155.166 50.918 155.838 50.3301 156.357C49.7467 156.877 48.9424 157.137 47.917 157.137C47.4977 157.137 47.099 157.087 46.7207 156.986C46.3424 156.886 46.0303 156.765 45.7842 156.624C45.5426 156.478 45.3285 156.332 45.1416 156.187C44.9593 156.041 44.8294 155.918 44.752 155.817L44.6289 155.667ZM52.4766 153.637C52.4766 152.999 52.627 152.411 52.9277 151.873C53.2331 151.331 53.6364 150.907 54.1377 150.602C54.6436 150.292 55.1859 150.137 55.7646 150.137C56.6807 150.137 57.4463 150.453 58.0615 151.087C58.6768 151.72 58.9844 152.525 58.9844 153.5C58.9844 153.582 58.9775 153.666 58.9639 153.753C58.9548 153.835 58.9434 153.896 58.9297 153.938L58.916 154.006L53.4541 153.992C53.4906 154.594 53.7412 155.118 54.2061 155.564C54.6709 156.007 55.2132 156.228 55.833 156.228C56.0973 156.228 56.3525 156.189 56.5986 156.111C56.8447 156.034 57.0498 155.943 57.2139 155.838C57.3779 155.729 57.5215 155.619 57.6445 155.51C57.7721 155.4 57.8633 155.307 57.918 155.229L58.0068 155.113L58.6357 155.742C58.6084 155.779 58.5697 155.829 58.5195 155.893C58.4694 155.956 58.3532 156.068 58.1709 156.228C57.9932 156.387 57.804 156.528 57.6035 156.651C57.403 156.774 57.141 156.886 56.8174 156.986C56.4984 157.087 56.1702 157.137 55.833 157.137C55.236 157.137 54.68 156.984 54.165 156.679C53.6501 156.369 53.2399 155.945 52.9346 155.407C52.6292 154.869 52.4766 154.279 52.4766 153.637ZM53.4541 153.151H58.0068C57.9385 152.55 57.6947 152.051 57.2754 151.654C56.8561 151.253 56.3525 151.053 55.7646 151.053C55.1813 151.053 54.6663 151.26 54.2197 151.675C53.7777 152.09 53.5225 152.582 53.4541 153.151ZM60.8027 157V147.197H61.7803V157H60.8027ZM63.6055 153.637C63.6055 152.999 63.7559 152.411 64.0566 151.873C64.362 151.331 64.7653 150.907 65.2666 150.602C65.7725 150.292 66.3148 150.137 66.8936 150.137C67.8096 150.137 68.5752 150.453 69.1904 151.087C69.8057 151.72 70.1133 152.525 70.1133 153.5C70.1133 153.582 70.1064 153.666 70.0928 153.753C70.0837 153.835 70.0723 153.896 70.0586 153.938L70.0449 154.006L64.583 153.992C64.6195 154.594 64.8701 155.118 65.335 155.564C65.7998 156.007 66.3421 156.228 66.9619 156.228C67.2262 156.228 67.4814 156.189 67.7275 156.111C67.9736 156.034 68.1787 155.943 68.3428 155.838C68.5068 155.729 68.6504 155.619 68.7734 155.51C68.901 155.4 68.9922 155.307 69.0469 155.229L69.1357 155.113L69.7646 155.742C69.7373 155.779 69.6986 155.829 69.6484 155.893C69.5983 155.956 69.4821 156.068 69.2998 156.228C69.1221 156.387 68.9329 156.528 68.7324 156.651C68.5319 156.774 68.2699 156.886 67.9463 156.986C67.6273 157.087 67.2992 157.137 66.9619 157.137C66.3649 157.137 65.8089 156.984 65.2939 156.679C64.779 156.369 64.3688 155.945 64.0635 155.407C63.7581 154.869 63.6055 154.279 63.6055 153.637ZM64.583 153.151H69.1357C69.0674 152.55 68.8236 152.051 68.4043 151.654C67.985 151.253 67.4814 151.053 66.8936 151.053C66.3102 151.053 65.7952 151.26 65.3486 151.675C64.9066 152.09 64.6514 152.582 64.583 153.151ZM71.8291 155.407C71.5238 154.869 71.3711 154.279 71.3711 153.637C71.3711 152.994 71.5238 152.404 71.8291 151.866C72.1344 151.328 72.5446 150.907 73.0596 150.602C73.5745 150.292 74.1305 150.137 74.7275 150.137C75.0557 150.137 75.3724 150.182 75.6777 150.273C75.9876 150.365 76.2451 150.476 76.4502 150.608C76.6553 150.741 76.8376 150.873 76.9971 151.005C77.1566 151.132 77.2728 151.242 77.3457 151.333L77.4619 151.47L76.7578 152.167C76.7396 152.135 76.7122 152.094 76.6758 152.044C76.6393 151.994 76.5573 151.905 76.4297 151.777C76.3021 151.65 76.1654 151.538 76.0195 151.442C75.8737 151.342 75.6846 151.253 75.4521 151.176C75.2197 151.094 74.9782 151.053 74.7275 151.053C74.0895 151.053 73.5335 151.303 73.0596 151.805C72.5856 152.301 72.3486 152.912 72.3486 153.637C72.3486 154.361 72.5856 154.974 73.0596 155.476C73.5335 155.977 74.0895 156.228 74.7275 156.228C74.9782 156.228 75.2197 156.189 75.4521 156.111C75.6891 156.034 75.8874 155.943 76.0469 155.838C76.2064 155.729 76.3477 155.619 76.4707 155.51C76.5938 155.4 76.6849 155.307 76.7441 155.229L76.833 155.113L77.5303 155.742C77.5029 155.779 77.4619 155.829 77.4072 155.893C77.3525 155.956 77.2318 156.068 77.0449 156.228C76.8626 156.387 76.6689 156.528 76.4639 156.651C76.2633 156.774 76.0059 156.886 75.6914 156.986C75.377 157.087 75.0557 157.137 74.7275 157.137C74.1305 157.137 73.5745 156.984 73.0596 156.679C72.5446 156.369 72.1344 155.945 71.8291 155.407ZM78.3643 151.189V150.28H79.1367C79.5104 150.28 79.6973 150.048 79.6973 149.583V148.038H80.6064V150.28H82.0762V151.189H80.6064V155.182C80.6064 155.523 80.6862 155.783 80.8457 155.961C81.0052 156.139 81.2285 156.228 81.5156 156.228C81.6615 156.228 81.8096 156.212 81.96 156.18C82.1104 156.143 82.2266 156.107 82.3086 156.07L82.4248 156.022V156.932C82.1468 157.068 81.8301 157.137 81.4746 157.137C80.8958 157.137 80.4424 156.968 80.1143 156.631C79.7907 156.289 79.6289 155.806 79.6289 155.182V151.189H78.3643Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M45.4697 181V171.197H49.1816C50.0885 171.197 50.8405 171.491 51.4375 172.079C52.0345 172.667 52.333 173.401 52.333 174.28C52.333 175.16 52.0345 175.894 51.4375 176.481C50.8405 177.069 50.0885 177.363 49.1816 177.363H46.5225V181H45.4697ZM46.5225 176.379H49.1816C49.8105 176.379 50.3164 176.188 50.6992 175.805C51.0866 175.417 51.2803 174.909 51.2803 174.28C51.2803 173.651 51.0866 173.146 50.6992 172.763C50.3164 172.375 49.8105 172.182 49.1816 172.182H46.5225V176.379ZM53.3789 179.182C53.3789 178.626 53.5475 178.174 53.8848 177.828C54.222 177.482 54.7074 177.256 55.3408 177.151L57.9316 176.728C57.9316 176.24 57.7721 175.839 57.4531 175.524C57.1387 175.21 56.7376 175.053 56.25 175.053C56.0267 175.053 55.8079 175.087 55.5938 175.155C55.3841 175.219 55.2064 175.301 55.0605 175.401C54.9193 175.497 54.7917 175.593 54.6777 175.688C54.5684 175.784 54.4863 175.864 54.4316 175.928L54.3564 176.03L53.7275 175.401C53.7503 175.365 53.7845 175.319 53.8301 175.265C53.8802 175.21 53.9873 175.11 54.1514 174.964C54.3154 174.818 54.4863 174.69 54.6641 174.581C54.8464 174.467 55.0811 174.365 55.3682 174.273C55.6553 174.182 55.9492 174.137 56.25 174.137C57.0156 174.137 57.6491 174.385 58.1504 174.882C58.6562 175.374 58.9092 175.989 58.9092 176.728V181H57.9316V180.091C57.9134 180.118 57.8838 180.157 57.8428 180.207C57.8063 180.253 57.722 180.337 57.5898 180.46C57.4577 180.578 57.3141 180.683 57.1592 180.774C57.0042 180.866 56.7992 180.948 56.5439 181.021C56.2933 181.098 56.0312 181.137 55.7578 181.137C55.0788 181.137 54.5114 180.938 54.0557 180.542C53.6045 180.146 53.3789 179.692 53.3789 179.182ZM54.3564 179.182C54.3564 179.478 54.4795 179.726 54.7256 179.927C54.9762 180.127 55.3203 180.228 55.7578 180.228C56.3913 180.228 56.9108 180.02 57.3164 179.605C57.7266 179.191 57.9316 178.653 57.9316 177.992V177.568L55.6211 177.992C54.778 178.152 54.3564 178.548 54.3564 179.182ZM61.1445 181V174.28H62.1221V175.189C62.1403 175.162 62.1676 175.126 62.2041 175.08C62.2451 175.03 62.334 174.946 62.4707 174.827C62.6074 174.704 62.7533 174.597 62.9082 174.506C63.0677 174.41 63.2773 174.326 63.5371 174.253C63.8014 174.175 64.0771 174.137 64.3643 174.137H64.6445V175.121H64.2207C63.6419 175.121 63.1475 175.322 62.7373 175.723C62.3271 176.119 62.1221 176.641 62.1221 177.288V181H61.1445ZM66.0391 181V171.197H67.0166V177.849L70.3799 174.28H71.5693L68.9785 177.008L71.8496 181H70.7285L68.3496 177.712L67.0166 179.113V181H66.0391Z",fill:"#6A6E72"}),a().createElement("rect",{x:"40",y:"190",width:"160",height:"28",rx:"4",fill:"#EFF5FA"}),a().createElement("path",{d:"M49.32 199.2C49.796 199.2 50.2347 199.284 50.636 199.452C51.0373 199.611 51.3827 199.835 51.672 200.124C51.9707 200.404 52.1993 200.735 52.358 201.118C52.526 201.501 52.61 201.911 52.61 202.35C52.61 202.789 52.526 203.199 52.358 203.582C52.1993 203.965 51.9707 204.301 51.672 204.59C51.3827 204.87 51.0373 205.094 50.636 205.262C50.2347 205.421 49.796 205.5 49.32 205.5H46.94V209H45.4V199.2H49.32ZM46.94 200.6V204.1H49.32C49.5627 204.1 49.7913 204.058 50.006 203.974C50.2207 203.881 50.4073 203.755 50.566 203.596C50.7247 203.437 50.846 203.251 50.93 203.036C51.0233 202.821 51.07 202.593 51.07 202.35C51.07 202.107 51.0233 201.879 50.93 201.664C50.846 201.449 50.7247 201.263 50.566 201.104C50.4073 200.945 50.2207 200.824 50.006 200.74C49.7913 200.647 49.5627 200.6 49.32 200.6H46.94ZM58.1373 203.47C58.0813 203.461 58.0206 203.451 57.9553 203.442C57.8993 203.433 57.8293 203.423 57.7453 203.414C57.6706 203.405 57.5913 203.4 57.5073 203.4C56.9753 203.4 56.5506 203.568 56.2333 203.904C55.9159 204.24 55.7573 204.725 55.7573 205.36V209H54.3573V202.28H55.7573V202.98C55.9159 202.821 56.0979 202.681 56.3033 202.56C56.4806 202.457 56.6906 202.364 56.9333 202.28C57.1853 202.187 57.4699 202.14 57.7873 202.14H58.1373V203.47ZM60.7218 209H59.3218V202.28H60.7218V209ZM60.8618 200.18C60.8618 200.423 60.7825 200.623 60.6238 200.782C60.4651 200.941 60.2645 201.02 60.0218 201.02C59.7791 201.02 59.5785 200.941 59.4198 200.782C59.2611 200.623 59.1818 200.423 59.1818 200.18C59.1818 199.937 59.2611 199.737 59.4198 199.578C59.5785 199.419 59.7791 199.34 60.0218 199.34C60.2645 199.34 60.4651 199.419 60.6238 199.578C60.7825 199.737 60.8618 199.937 60.8618 200.18ZM67.9318 205.64C67.9318 205.323 67.8758 205.029 67.7638 204.758C67.6518 204.487 67.4978 204.254 67.3018 204.058C67.1058 203.853 66.8818 203.694 66.6298 203.582C66.3778 203.461 66.1118 203.4 65.8318 203.4C65.5518 203.4 65.2858 203.461 65.0338 203.582C64.7818 203.694 64.5578 203.853 64.3618 204.058C64.1658 204.254 64.0118 204.487 63.8998 204.758C63.7878 205.029 63.7318 205.323 63.7318 205.64C63.7318 205.957 63.7878 206.251 63.8998 206.522C64.0118 206.793 64.1658 207.031 64.3618 207.236C64.5578 207.432 64.7818 207.591 65.0338 207.712C65.2858 207.824 65.5518 207.88 65.8318 207.88C66.1118 207.88 66.3778 207.824 66.6298 207.712C66.8818 207.591 67.1058 207.432 67.3018 207.236C67.4978 207.031 67.6518 206.793 67.7638 206.522C67.8758 206.251 67.9318 205.957 67.9318 205.64ZM62.3318 205.64C62.3318 205.164 62.4251 204.716 62.6118 204.296C62.7985 203.876 63.0505 203.507 63.3678 203.19C63.6945 202.863 64.0678 202.607 64.4878 202.42C64.9078 202.233 65.3558 202.14 65.8318 202.14C66.3078 202.14 66.7558 202.233 67.1758 202.42C67.5958 202.607 67.9645 202.863 68.2818 203.19C68.6085 203.507 68.8651 203.876 69.0518 204.296C69.2385 204.716 69.3318 205.164 69.3318 205.64C69.3318 206.116 69.2385 206.564 69.0518 206.984C68.8651 207.404 68.6085 207.777 68.2818 208.104C67.9645 208.421 67.5958 208.673 67.1758 208.86C66.7558 209.047 66.3078 209.14 65.8318 209.14C65.3558 209.14 64.9078 209.047 64.4878 208.86C64.0678 208.673 63.6945 208.421 63.3678 208.104C63.0505 207.777 62.7985 207.404 62.6118 206.984C62.4251 206.564 62.3318 206.116 62.3318 205.64ZM74.6529 203.47C74.5969 203.461 74.5362 203.451 74.4709 203.442C74.4149 203.433 74.3449 203.423 74.2609 203.414C74.1862 203.405 74.1069 203.4 74.0229 203.4C73.4909 203.4 73.0662 203.568 72.7489 203.904C72.4316 204.24 72.2729 204.725 72.2729 205.36V209H70.8729V202.28H72.2729V202.98C72.4316 202.821 72.6136 202.681 72.8189 202.56C72.9962 202.457 73.2062 202.364 73.4489 202.28C73.7009 202.187 73.9856 202.14 74.3029 202.14H74.6529V203.47ZM77.2374 209H75.8374V202.28H77.2374V209ZM77.3774 200.18C77.3774 200.423 77.2981 200.623 77.1394 200.782C76.9808 200.941 76.7801 201.02 76.5374 201.02C76.2948 201.02 76.0941 200.941 75.9354 200.782C75.7768 200.623 75.6974 200.423 75.6974 200.18C75.6974 199.937 75.7768 199.737 75.9354 199.578C76.0941 199.419 76.2948 199.34 76.5374 199.34C76.7801 199.34 76.9808 199.419 77.1394 199.578C77.2981 199.737 77.3774 199.937 77.3774 200.18ZM80.1074 200.04H81.3674V202.28H82.7674V203.54H81.3674V207.026C81.3674 207.278 81.4468 207.483 81.6054 207.642C81.7641 207.801 81.9648 207.88 82.2074 207.88C82.3848 207.88 82.5434 207.857 82.6834 207.81C82.7581 207.791 82.8328 207.768 82.9074 207.74V209C82.8234 209.028 82.7301 209.051 82.6274 209.07C82.4221 209.117 82.1888 209.14 81.9274 209.14C81.2928 209.14 80.8074 208.967 80.4714 208.622C80.1354 208.267 79.9674 207.74 79.9674 207.04V203.54H78.7074V202.28H79.4074C79.6221 202.28 79.7901 202.21 79.9114 202.07C80.0421 201.93 80.1074 201.72 80.1074 201.44V200.04ZM86.0558 209H84.6558V202.28H86.0558V209ZM86.1958 200.18C86.1958 200.423 86.1164 200.623 85.9578 200.782C85.7991 200.941 85.5984 201.02 85.3558 201.02C85.1131 201.02 84.9124 200.941 84.7538 200.782C84.5951 200.623 84.5158 200.423 84.5158 200.18C84.5158 199.937 84.5951 199.737 84.7538 199.578C84.9124 199.419 85.1131 199.34 85.3558 199.34C85.5984 199.34 85.7991 199.419 85.9578 199.578C86.1164 199.737 86.1958 199.937 86.1958 200.18ZM93.1258 203.54L89.4158 207.74H93.2658V209H87.6658V207.74L91.3758 203.54H87.8058V202.28H93.1258V203.54ZM95.7923 206.13C95.8297 206.354 95.9043 206.573 96.0163 206.788C96.1377 207.003 96.287 207.189 96.4643 207.348C96.651 207.507 96.8657 207.637 97.1083 207.74C97.351 207.833 97.6123 207.88 97.8923 207.88C98.219 207.88 98.5083 207.829 98.7603 207.726C99.0217 207.614 99.2363 207.493 99.4043 207.362C99.6003 207.203 99.773 207.026 99.9223 206.83L100.832 207.74C100.627 208.001 100.375 208.235 100.076 208.44C99.8243 208.617 99.5163 208.781 99.1523 208.93C98.7883 209.07 98.3683 209.14 97.8923 209.14C97.4163 209.14 96.9683 209.047 96.5483 208.86C96.1283 208.673 95.755 208.417 95.4283 208.09C95.111 207.763 94.859 207.385 94.6723 206.956C94.4857 206.527 94.3923 206.065 94.3923 205.57C94.3923 205.094 94.481 204.651 94.6583 204.24C94.845 203.82 95.0923 203.456 95.4003 203.148C95.7083 202.84 96.0677 202.597 96.4783 202.42C96.8983 202.233 97.3463 202.14 97.8223 202.14C98.2983 202.14 98.737 202.224 99.1383 202.392C99.5397 202.551 99.885 202.779 100.174 203.078C100.473 203.367 100.702 203.713 100.86 204.114C101.028 204.515 101.112 204.954 101.112 205.43C101.112 205.533 101.108 205.626 101.098 205.71C101.089 205.794 101.08 205.869 101.07 205.934C101.061 206.009 101.052 206.074 101.042 206.13H95.7923ZM97.8223 203.33C97.2903 203.33 96.8563 203.484 96.5203 203.792C96.1843 204.1 95.9603 204.483 95.8483 204.94H99.7403C99.6563 204.483 99.4463 204.1 99.1103 203.792C98.7837 203.484 98.3543 203.33 97.8223 203.33Z",fill:"#1973BA"}),a().createElement("path",{opacity:"0.5",d:"M45.4697 237V227.197H48.5527C49.2546 227.197 49.9222 227.329 50.5557 227.594C51.1891 227.854 51.7314 228.204 52.1826 228.646C52.6383 229.089 52.9984 229.61 53.2627 230.212C53.527 230.813 53.6592 231.442 53.6592 232.099C53.6592 232.755 53.527 233.384 53.2627 233.985C52.9984 234.587 52.6383 235.109 52.1826 235.551C51.7314 235.993 51.1891 236.346 50.5557 236.61C49.9222 236.87 49.2546 237 48.5527 237H45.4697ZM46.5225 236.022H48.5527C49.3092 236.022 49.9974 235.847 50.6172 235.496C51.2415 235.145 51.7292 234.671 52.0801 234.074C52.4355 233.473 52.6133 232.814 52.6133 232.099C52.6133 231.383 52.4355 230.727 52.0801 230.13C51.7292 229.533 51.2415 229.059 50.6172 228.708C49.9974 228.357 49.3092 228.182 48.5527 228.182H46.5225V236.022ZM55.5527 234.197V230.28H56.5303V234.197C56.5303 234.785 56.7103 235.271 57.0703 235.653C57.4349 236.036 57.8838 236.228 58.417 236.228C58.9867 236.228 59.4674 236.02 59.8594 235.605C60.2513 235.186 60.4473 234.648 60.4473 233.992V230.28H61.4316V237H60.4473V236.091C60.429 236.118 60.4017 236.157 60.3652 236.207C60.3288 236.253 60.2422 236.337 60.1055 236.46C59.9733 236.578 59.8298 236.683 59.6748 236.774C59.5244 236.866 59.3216 236.948 59.0664 237.021C58.8158 237.098 58.5537 237.137 58.2803 237.137C57.501 237.137 56.8516 236.863 56.332 236.316C55.8125 235.77 55.5527 235.063 55.5527 234.197ZM63.7422 239.939V230.28H64.7197V231.333C64.7425 231.301 64.7744 231.258 64.8154 231.203C64.861 231.148 64.959 231.053 65.1094 230.916C65.2643 230.779 65.4261 230.659 65.5947 230.554C65.7679 230.449 65.9889 230.353 66.2578 230.267C66.5312 230.18 66.8115 230.137 67.0986 230.137C67.6546 230.137 68.1787 230.292 68.6709 230.602C69.1676 230.907 69.5664 231.331 69.8672 231.873C70.168 232.411 70.3184 232.999 70.3184 233.637C70.3184 234.275 70.168 234.865 69.8672 235.407C69.5664 235.945 69.1676 236.369 68.6709 236.679C68.1787 236.984 67.6546 237.137 67.0986 237.137C66.8115 237.137 66.5335 237.096 66.2646 237.014C65.9958 236.932 65.7702 236.834 65.5879 236.72C65.4102 236.601 65.2529 236.485 65.1162 236.371C64.9795 236.253 64.8792 236.152 64.8154 236.07L64.7197 235.947V239.939H63.7422ZM65.4512 231.832C64.9635 232.347 64.7197 232.949 64.7197 233.637C64.7197 234.325 64.9635 234.929 65.4512 235.448C65.9434 235.968 66.4925 236.228 67.0986 236.228C67.6774 236.228 68.1947 235.975 68.6504 235.469C69.1107 234.963 69.3408 234.352 69.3408 233.637C69.3408 232.921 69.1107 232.313 68.6504 231.812C68.1947 231.306 67.6774 231.053 67.0986 231.053C66.4925 231.053 65.9434 231.312 65.4512 231.832ZM72.1367 237V227.197H73.1143V237H72.1367ZM75.4727 228.482C75.3496 228.359 75.2881 228.211 75.2881 228.038C75.2881 227.865 75.3496 227.717 75.4727 227.594C75.5957 227.471 75.7438 227.409 75.917 227.409C76.0902 227.409 76.2383 227.471 76.3613 227.594C76.4844 227.717 76.5459 227.865 76.5459 228.038C76.5459 228.211 76.4844 228.359 76.3613 228.482C76.2383 228.605 76.0902 228.667 75.917 228.667C75.7438 228.667 75.5957 228.605 75.4727 228.482ZM75.4316 237V230.28H76.4092V237H75.4316ZM78.624 235.407C78.3187 234.869 78.166 234.279 78.166 233.637C78.166 232.994 78.3187 232.404 78.624 231.866C78.9294 231.328 79.3395 230.907 79.8545 230.602C80.3695 230.292 80.9255 230.137 81.5225 230.137C81.8506 230.137 82.1673 230.182 82.4727 230.273C82.7826 230.365 83.04 230.476 83.2451 230.608C83.4502 230.741 83.6325 230.873 83.792 231.005C83.9515 231.132 84.0677 231.242 84.1406 231.333L84.2568 231.47L83.5527 232.167C83.5345 232.135 83.5072 232.094 83.4707 232.044C83.4342 231.994 83.3522 231.905 83.2246 231.777C83.097 231.65 82.9603 231.538 82.8145 231.442C82.6686 231.342 82.4795 231.253 82.2471 231.176C82.0146 231.094 81.7731 231.053 81.5225 231.053C80.8844 231.053 80.3285 231.303 79.8545 231.805C79.3805 232.301 79.1436 232.912 79.1436 233.637C79.1436 234.361 79.3805 234.974 79.8545 235.476C80.3285 235.977 80.8844 236.228 81.5225 236.228C81.7731 236.228 82.0146 236.189 82.2471 236.111C82.484 236.034 82.6823 235.943 82.8418 235.838C83.0013 235.729 83.1426 235.619 83.2656 235.51C83.3887 235.4 83.4798 235.307 83.5391 235.229L83.6279 235.113L84.3252 235.742C84.2979 235.779 84.2568 235.829 84.2021 235.893C84.1475 235.956 84.0267 236.068 83.8398 236.228C83.6576 236.387 83.4639 236.528 83.2588 236.651C83.0583 236.774 82.8008 236.886 82.4863 236.986C82.1719 237.087 81.8506 237.137 81.5225 237.137C80.9255 237.137 80.3695 236.984 79.8545 236.679C79.3395 236.369 78.9294 235.945 78.624 235.407ZM85.3711 235.182C85.3711 234.626 85.5397 234.174 85.877 233.828C86.2142 233.482 86.6995 233.256 87.333 233.151L89.9238 232.728C89.9238 232.24 89.7643 231.839 89.4453 231.524C89.1309 231.21 88.7298 231.053 88.2422 231.053C88.0189 231.053 87.8001 231.087 87.5859 231.155C87.3763 231.219 87.1986 231.301 87.0527 231.401C86.9115 231.497 86.7839 231.593 86.6699 231.688C86.5605 231.784 86.4785 231.864 86.4238 231.928L86.3486 232.03L85.7197 231.401C85.7425 231.365 85.7767 231.319 85.8223 231.265C85.8724 231.21 85.9795 231.11 86.1436 230.964C86.3076 230.818 86.4785 230.69 86.6562 230.581C86.8385 230.467 87.0732 230.365 87.3604 230.273C87.6475 230.182 87.9414 230.137 88.2422 230.137C89.0078 230.137 89.6413 230.385 90.1426 230.882C90.6484 231.374 90.9014 231.989 90.9014 232.728V237H89.9238V236.091C89.9056 236.118 89.876 236.157 89.835 236.207C89.7985 236.253 89.7142 236.337 89.582 236.46C89.4499 236.578 89.3063 236.683 89.1514 236.774C88.9964 236.866 88.7913 236.948 88.5361 237.021C88.2855 237.098 88.0234 237.137 87.75 237.137C87.071 237.137 86.5036 236.938 86.0479 236.542C85.5967 236.146 85.3711 235.692 85.3711 235.182ZM86.3486 235.182C86.3486 235.478 86.4717 235.726 86.7178 235.927C86.9684 236.127 87.3125 236.228 87.75 236.228C88.3835 236.228 88.903 236.02 89.3086 235.605C89.7188 235.191 89.9238 234.653 89.9238 233.992V233.568L87.6133 233.992C86.7702 234.152 86.3486 234.548 86.3486 235.182ZM92.4326 231.189V230.28H93.2051C93.5788 230.28 93.7656 230.048 93.7656 229.583V228.038H94.6748V230.28H96.1445V231.189H94.6748V235.182C94.6748 235.523 94.7546 235.783 94.9141 235.961C95.0736 236.139 95.2969 236.228 95.584 236.228C95.7298 236.228 95.8779 236.212 96.0283 236.18C96.1787 236.143 96.2949 236.107 96.377 236.07L96.4932 236.022V236.932C96.2152 237.068 95.8984 237.137 95.543 237.137C94.9642 237.137 94.5107 236.968 94.1826 236.631C93.859 236.289 93.6973 235.806 93.6973 235.182V231.189H92.4326ZM97.4023 233.637C97.4023 232.999 97.5527 232.411 97.8535 231.873C98.1589 231.331 98.5622 230.907 99.0635 230.602C99.5693 230.292 100.112 230.137 100.69 230.137C101.606 230.137 102.372 230.453 102.987 231.087C103.603 231.72 103.91 232.525 103.91 233.5C103.91 233.582 103.903 233.666 103.89 233.753C103.881 233.835 103.869 233.896 103.855 233.938L103.842 234.006L98.3799 233.992C98.4163 234.594 98.667 235.118 99.1318 235.564C99.5967 236.007 100.139 236.228 100.759 236.228C101.023 236.228 101.278 236.189 101.524 236.111C101.771 236.034 101.976 235.943 102.14 235.838C102.304 235.729 102.447 235.619 102.57 235.51C102.698 235.4 102.789 235.307 102.844 235.229L102.933 235.113L103.562 235.742C103.534 235.779 103.495 235.829 103.445 235.893C103.395 235.956 103.279 236.068 103.097 236.228C102.919 236.387 102.73 236.528 102.529 236.651C102.329 236.774 102.067 236.886 101.743 236.986C101.424 237.087 101.096 237.137 100.759 237.137C100.162 237.137 99.6058 236.984 99.0908 236.679C98.5758 236.369 98.1657 235.945 97.8604 235.407C97.555 234.869 97.4023 234.279 97.4023 233.637ZM98.3799 233.151H102.933C102.864 232.55 102.62 232.051 102.201 231.654C101.782 231.253 101.278 231.053 100.69 231.053C100.107 231.053 99.5921 231.26 99.1455 231.675C98.7035 232.09 98.4482 232.582 98.3799 233.151Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M50.16 262.34C50.16 263.39 49.39 264.16 47.92 264.16C46.1 264.16 45.274 262.956 45.274 262.956L44.63 263.67C44.63 263.67 45.68 265.14 47.92 265.14C50.02 265.14 51.21 263.95 51.21 262.34C51.21 258.84 45.89 260.24 45.89 257.72C45.89 256.838 46.646 256.04 47.99 256.04C49.446 256.04 50.16 257.02 50.16 257.02L50.86 256.32C50.86 256.32 49.866 255.06 47.99 255.06C46.044 255.06 44.84 256.292 44.84 257.72C44.84 261.22 50.16 259.82 50.16 262.34ZM58.916 262.004C58.916 262.004 58.986 261.78 58.986 261.5C58.986 259.54 57.586 258.14 55.766 258.14C54.016 258.14 52.476 259.68 52.476 261.64C52.476 263.6 54.016 265.14 55.836 265.14C57.656 265.14 58.636 263.74 58.636 263.74L58.006 263.11C58.006 263.11 57.25 264.23 55.836 264.23C54.576 264.23 53.526 263.18 53.456 261.99L58.916 262.004ZM55.766 259.05C56.956 259.05 57.866 259.96 58.006 261.15H53.456C53.596 260.03 54.576 259.05 55.766 259.05ZM61.3616 257.58C61.3616 258.07 61.1516 258.28 60.8016 258.28H60.0316V259.19H61.2916V263.18C61.2916 264.44 61.9916 265.14 63.1396 265.14C63.6716 265.14 64.0916 264.93 64.0916 264.93V264.02C64.0916 264.02 63.6716 264.23 63.1816 264.23C62.6216 264.23 62.2716 263.88 62.2716 263.18V259.19H63.7416V258.28H62.2716V256.04H61.3616V257.58ZM69.9126 261.15C68.6526 261.36 67.9526 262.06 67.9526 263.18C67.9526 264.16 68.9326 265.14 70.3326 265.14C71.8026 265.14 72.5026 264.09 72.5026 264.09V265H73.4826V260.73C73.4826 259.26 72.3626 258.14 70.8226 258.14C69.2126 258.14 68.3026 259.4 68.3026 259.4L68.9326 260.03C68.9326 260.03 69.6326 259.05 70.8226 259.05C71.8026 259.05 72.5026 259.75 72.5026 260.73L69.9126 261.15ZM70.3326 264.23C69.4226 264.23 68.9326 263.74 68.9326 263.18C68.9326 262.55 69.3526 262.144 70.1926 261.99L72.5026 261.57V261.99C72.5026 263.32 71.5926 264.23 70.3326 264.23ZM79.776 259.05C79.776 259.05 79.006 258.14 77.606 258.14C76.276 258.14 75.366 259.05 75.366 260.03C75.366 262.34 79.006 261.57 79.006 263.11C79.006 263.74 78.516 264.23 77.536 264.23C76.416 264.23 75.786 263.25 75.786 263.25L75.086 263.95C75.086 263.95 75.856 265.14 77.536 265.14C79.076 265.14 79.986 264.23 79.986 263.11C79.986 260.73 76.346 261.5 76.346 260.03C76.346 259.54 76.836 259.05 77.606 259.05C78.586 259.05 79.076 259.75 79.076 259.75L79.776 259.05ZM84.8177 255.2V265H87.8977C90.7677 265 93.0077 262.76 93.0077 260.1C93.0077 257.44 90.7677 255.2 87.8977 255.2H84.8177ZM87.8977 256.18C90.2077 256.18 91.9577 257.93 91.9577 260.1C91.9577 262.27 90.2077 264.02 87.8977 264.02H85.8677V256.18H87.8977ZM100.848 262.004C100.848 262.004 100.918 261.78 100.918 261.5C100.918 259.54 99.5177 258.14 97.6977 258.14C95.9477 258.14 94.4077 259.68 94.4077 261.64C94.4077 263.6 95.9477 265.14 97.7677 265.14C99.5877 265.14 100.568 263.74 100.568 263.74L99.9377 263.11C99.9377 263.11 99.1817 264.23 97.7677 264.23C96.5077 264.23 95.4577 263.18 95.3877 261.99L100.848 262.004ZM97.6977 259.05C98.8877 259.05 99.7977 259.96 99.9377 261.15H95.3877C95.5277 260.03 96.5077 259.05 97.6977 259.05ZM105.603 258.28H103.993V257.02C103.993 256.32 104.343 255.97 104.903 255.97C105.393 255.97 105.813 256.18 105.813 256.18V255.27C105.813 255.27 105.393 255.06 104.833 255.06C103.713 255.06 103.013 255.76 103.013 257.02V258.28H101.963V259.19H103.013V265H103.993V259.19H105.603V258.28ZM108.618 261.15C107.358 261.36 106.658 262.06 106.658 263.18C106.658 264.16 107.638 265.14 109.038 265.14C110.508 265.14 111.208 264.09 111.208 264.09V265H112.188V260.73C112.188 259.26 111.068 258.14 109.528 258.14C107.918 258.14 107.008 259.4 107.008 259.4L107.638 260.03C107.638 260.03 108.338 259.05 109.528 259.05C110.508 259.05 111.208 259.75 111.208 260.73L108.618 261.15ZM109.038 264.23C108.128 264.23 107.638 263.74 107.638 263.18C107.638 262.55 108.058 262.144 108.898 261.99L111.208 261.57V261.99C111.208 263.32 110.298 264.23 109.038 264.23ZM119.321 265H120.301V258.28H119.321V261.99C119.321 263.32 118.411 264.23 117.291 264.23C116.241 264.23 115.401 263.39 115.401 262.2V258.28H114.421V262.2C114.421 263.95 115.611 265.14 117.151 265.14C118.621 265.14 119.321 264.09 119.321 264.09V265ZM123.661 255.2H122.681V265H123.661V255.2ZM126.604 257.58C126.604 258.07 126.394 258.28 126.044 258.28H125.274V259.19H126.534V263.18C126.534 264.44 127.234 265.14 128.382 265.14C128.914 265.14 129.334 264.93 129.334 264.93V264.02C129.334 264.02 128.914 264.23 128.424 264.23C127.864 264.23 127.514 263.88 127.514 263.18V259.19H128.984V258.28H127.514V256.04H126.604V257.58ZM139.495 259.75C139.495 259.75 140.615 259.26 140.615 257.72C140.615 256.32 139.495 255.2 137.885 255.2H134.105V265H138.095C139.915 265 141.105 263.81 141.105 262.2C141.105 260.38 139.495 259.75 139.495 259.75ZM135.155 264.02V260.24H138.095C139.285 260.24 140.055 261.15 140.055 262.2C140.055 263.25 139.285 264.02 138.095 264.02H135.155ZM137.885 256.18C138.935 256.18 139.565 256.81 139.565 257.72C139.565 258.7 138.935 259.316 137.885 259.316H135.155V256.18H137.885ZM144.534 261.15C143.274 261.36 142.574 262.06 142.574 263.18C142.574 264.16 143.554 265.14 144.954 265.14C146.424 265.14 147.124 264.09 147.124 264.09V265H148.104V260.73C148.104 259.26 146.984 258.14 145.444 258.14C143.834 258.14 142.924 259.4 142.924 259.4L143.554 260.03C143.554 260.03 144.254 259.05 145.444 259.05C146.424 259.05 147.124 259.75 147.124 260.73L144.534 261.15ZM144.954 264.23C144.044 264.23 143.554 263.74 143.554 263.18C143.554 262.55 143.974 262.144 144.814 261.99L147.124 261.57V261.99C147.124 263.32 146.214 264.23 144.954 264.23ZM153.837 258.14H153.557C152.017 258.14 151.317 259.19 151.317 259.19V258.28H150.337V265H151.317V261.29C151.317 259.96 152.297 259.12 153.417 259.12H153.837V258.14ZM162.939 262.34C162.939 263.39 162.169 264.16 160.699 264.16C158.879 264.16 158.053 262.956 158.053 262.956L157.409 263.67C157.409 263.67 158.459 265.14 160.699 265.14C162.799 265.14 163.989 263.95 163.989 262.34C163.989 258.84 158.669 260.24 158.669 257.72C158.669 256.838 159.425 256.04 160.769 256.04C162.225 256.04 162.939 257.02 162.939 257.02L163.639 256.32C163.639 256.32 162.645 255.06 160.769 255.06C158.823 255.06 157.619 256.292 157.619 257.72C157.619 261.22 162.939 259.82 162.939 262.34ZM166.375 257.58C166.375 258.07 166.165 258.28 165.815 258.28H165.045V259.19H166.305V263.18C166.305 264.44 167.005 265.14 168.153 265.14C168.685 265.14 169.105 264.93 169.105 264.93V264.02C169.105 264.02 168.685 264.23 168.195 264.23C167.635 264.23 167.285 263.88 167.285 263.18V259.19H168.755V258.28H167.285V256.04H166.375V257.58ZM172.26 265.98C172.008 266.68 171.63 267.03 171 267.03C170.65 267.03 170.3 266.89 170.3 266.89V267.8C170.3 267.8 170.65 267.94 171.14 267.94C172.12 267.94 172.68 267.38 173.24 265.98L176.32 258.28H175.27L173.1 263.74L170.93 258.28H169.88L172.61 265L172.26 265.98ZM178.704 255.2H177.724V265H178.704V255.2ZM186.967 262.004C186.967 262.004 187.037 261.78 187.037 261.5C187.037 259.54 185.637 258.14 183.817 258.14C182.067 258.14 180.527 259.68 180.527 261.64C180.527 263.6 182.067 265.14 183.887 265.14C185.707 265.14 186.687 263.74 186.687 263.74L186.057 263.11C186.057 263.11 185.301 264.23 183.887 264.23C182.627 264.23 181.577 263.18 181.507 261.99L186.967 262.004ZM183.817 259.05C185.007 259.05 185.917 259.96 186.057 261.15H181.507C181.647 260.03 182.627 259.05 183.817 259.05Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M45.2373 290.067C44.973 289.443 44.8408 288.787 44.8408 288.099C44.8408 287.41 44.973 286.757 45.2373 286.137C45.5016 285.512 45.8571 284.977 46.3037 284.53C46.7549 284.079 47.2904 283.721 47.9102 283.457C48.5345 283.193 49.1908 283.061 49.8789 283.061C50.3757 283.061 50.8519 283.131 51.3076 283.272C51.7633 283.409 52.1393 283.578 52.4355 283.778C52.7363 283.974 52.9984 284.173 53.2217 284.373C53.4495 284.574 53.6159 284.742 53.7207 284.879L53.8711 285.091L53.167 285.72C53.1396 285.674 53.0964 285.615 53.0371 285.542C52.9824 285.465 52.8548 285.33 52.6543 285.139C52.4538 284.943 52.2373 284.772 52.0049 284.626C51.7725 284.476 51.4648 284.341 51.082 284.223C50.6992 284.1 50.2982 284.038 49.8789 284.038C49.1406 284.038 48.4661 284.216 47.8555 284.571C47.2448 284.922 46.764 285.41 46.4131 286.034C46.0622 286.654 45.8867 287.342 45.8867 288.099C45.8867 288.855 46.0622 289.546 46.4131 290.17C46.764 290.79 47.2448 291.277 47.8555 291.633C48.4661 291.984 49.1406 292.159 49.8789 292.159C50.2982 292.159 50.6992 292.102 51.082 291.988C51.4694 291.87 51.7884 291.729 52.0391 291.564C52.2897 291.4 52.5085 291.236 52.6953 291.072C52.8867 290.908 53.0257 290.767 53.1123 290.648L53.2422 290.478L53.9395 291.113C53.9212 291.141 53.8916 291.179 53.8506 291.229C53.8141 291.275 53.7298 291.368 53.5977 291.51C53.4655 291.651 53.3242 291.785 53.1738 291.913C53.028 292.041 52.8343 292.182 52.5928 292.337C52.3512 292.492 52.1006 292.626 51.8408 292.74C51.5856 292.85 51.2848 292.943 50.9385 293.021C50.5921 293.098 50.2389 293.137 49.8789 293.137C49.1908 293.137 48.5345 293.005 47.9102 292.74C47.2904 292.476 46.7549 292.12 46.3037 291.674C45.8571 291.223 45.5016 290.687 45.2373 290.067ZM55.5186 291.407C55.2132 290.869 55.0605 290.279 55.0605 289.637C55.0605 288.994 55.2132 288.404 55.5186 287.866C55.8285 287.328 56.2454 286.907 56.7695 286.602C57.2982 286.292 57.8724 286.137 58.4922 286.137C59.112 286.137 59.6839 286.292 60.208 286.602C60.7321 286.907 61.1468 287.328 61.4521 287.866C61.762 288.404 61.917 288.994 61.917 289.637C61.917 290.279 61.762 290.869 61.4521 291.407C61.1468 291.945 60.7321 292.369 60.208 292.679C59.6839 292.984 59.112 293.137 58.4922 293.137C57.8724 293.137 57.2982 292.984 56.7695 292.679C56.2454 292.369 55.8285 291.945 55.5186 291.407ZM56.0381 289.637C56.0381 290.361 56.2796 290.974 56.7627 291.476C57.2458 291.977 57.8223 292.228 58.4922 292.228C59.1667 292.228 59.7432 291.979 60.2217 291.482C60.7002 290.981 60.9395 290.366 60.9395 289.637C60.9395 288.908 60.7002 288.295 60.2217 287.798C59.7432 287.301 59.1667 287.053 58.4922 287.053C57.8177 287.053 57.2389 287.301 56.7559 287.798C56.2773 288.295 56.0381 288.908 56.0381 289.637ZM63.6738 293V286.28H64.6514V287.258C64.6696 287.226 64.6969 287.185 64.7334 287.135C64.7699 287.085 64.8542 286.996 64.9863 286.868C65.123 286.741 65.2666 286.627 65.417 286.526C65.5719 286.426 65.7747 286.337 66.0254 286.26C66.2806 286.178 66.5449 286.137 66.8184 286.137C67.6296 286.137 68.2881 286.399 68.7939 286.923C69.2998 287.442 69.5527 288.137 69.5527 289.008V293H68.5684V289.008C68.5684 288.42 68.3975 287.948 68.0557 287.593C67.7184 287.233 67.2832 287.053 66.75 287.053C66.1484 287.053 65.6471 287.26 65.2461 287.675C64.8496 288.09 64.6514 288.627 64.6514 289.288V293H63.6738ZM70.8789 286.28H71.9316L74.1055 291.667L76.2725 286.28H77.3252L74.5908 293H73.6133L70.8789 286.28ZM78.166 289.637C78.166 288.999 78.3164 288.411 78.6172 287.873C78.9225 287.331 79.3258 286.907 79.8271 286.602C80.333 286.292 80.8753 286.137 81.4541 286.137C82.3701 286.137 83.1357 286.453 83.751 287.087C84.3662 287.72 84.6738 288.525 84.6738 289.5C84.6738 289.582 84.667 289.666 84.6533 289.753C84.6442 289.835 84.6328 289.896 84.6191 289.938L84.6055 290.006L79.1436 289.992C79.18 290.594 79.4307 291.118 79.8955 291.564C80.3604 292.007 80.9027 292.228 81.5225 292.228C81.7868 292.228 82.042 292.189 82.2881 292.111C82.5342 292.034 82.7393 291.943 82.9033 291.838C83.0674 291.729 83.2109 291.619 83.334 291.51C83.4616 291.4 83.5527 291.307 83.6074 291.229L83.6963 291.113L84.3252 291.742C84.2979 291.779 84.2591 291.829 84.209 291.893C84.1589 291.956 84.0426 292.068 83.8604 292.228C83.6826 292.387 83.4935 292.528 83.293 292.651C83.0924 292.774 82.8304 292.886 82.5068 292.986C82.1878 293.087 81.8597 293.137 81.5225 293.137C80.9255 293.137 80.3695 292.984 79.8545 292.679C79.3395 292.369 78.9294 291.945 78.624 291.407C78.3187 290.869 78.166 290.279 78.166 289.637ZM79.1436 289.151H83.6963C83.6279 288.55 83.3841 288.051 82.9648 287.654C82.5456 287.253 82.042 287.053 81.4541 287.053C80.8708 287.053 80.3558 287.26 79.9092 287.675C79.4671 288.09 79.2119 288.582 79.1436 289.151ZM86.4238 293V286.28H87.4014V287.189C87.4196 287.162 87.4469 287.126 87.4834 287.08C87.5244 287.03 87.6133 286.946 87.75 286.827C87.8867 286.704 88.0326 286.597 88.1875 286.506C88.347 286.41 88.5566 286.326 88.8164 286.253C89.0807 286.175 89.3564 286.137 89.6436 286.137H89.9238V287.121H89.5C88.9212 287.121 88.4268 287.322 88.0166 287.723C87.6064 288.119 87.4014 288.641 87.4014 289.288V293H86.4238ZM90.5459 287.189V286.28H91.3184C91.6921 286.28 91.8789 286.048 91.8789 285.583V284.038H92.7881V286.28H94.2578V287.189H92.7881V291.182C92.7881 291.523 92.8678 291.783 93.0273 291.961C93.1868 292.139 93.4102 292.228 93.6973 292.228C93.8431 292.228 93.9912 292.212 94.1416 292.18C94.292 292.143 94.4082 292.107 94.4902 292.07L94.6064 292.022V292.932C94.3285 293.068 94.0117 293.137 93.6562 293.137C93.0775 293.137 92.624 292.968 92.2959 292.631C91.9723 292.289 91.8105 291.806 91.8105 291.182V287.189H90.5459ZM98.2568 287.189V286.28H99.0293C99.403 286.28 99.5898 286.048 99.5898 285.583V284.038H100.499V286.28H101.969V287.189H100.499V291.182C100.499 291.523 100.579 291.783 100.738 291.961C100.898 292.139 101.121 292.228 101.408 292.228C101.554 292.228 101.702 292.212 101.853 292.18C102.003 292.143 102.119 292.107 102.201 292.07L102.317 292.022V292.932C102.039 293.068 101.723 293.137 101.367 293.137C100.788 293.137 100.335 292.968 100.007 292.631C99.6833 292.289 99.5215 291.806 99.5215 291.182V287.189H98.2568ZM103.685 291.407C103.379 290.869 103.227 290.279 103.227 289.637C103.227 288.994 103.379 288.404 103.685 287.866C103.994 287.328 104.411 286.907 104.936 286.602C105.464 286.292 106.038 286.137 106.658 286.137C107.278 286.137 107.85 286.292 108.374 286.602C108.898 286.907 109.313 287.328 109.618 287.866C109.928 288.404 110.083 288.994 110.083 289.637C110.083 290.279 109.928 290.869 109.618 291.407C109.313 291.945 108.898 292.369 108.374 292.679C107.85 292.984 107.278 293.137 106.658 293.137C106.038 293.137 105.464 292.984 104.936 292.679C104.411 292.369 103.994 291.945 103.685 291.407ZM104.204 289.637C104.204 290.361 104.446 290.974 104.929 291.476C105.412 291.977 105.988 292.228 106.658 292.228C107.333 292.228 107.909 291.979 108.388 291.482C108.866 290.981 109.105 290.366 109.105 289.637C109.105 288.908 108.866 288.295 108.388 287.798C107.909 287.301 107.333 287.053 106.658 287.053C105.984 287.053 105.405 287.301 104.922 287.798C104.443 288.295 104.204 288.908 104.204 289.637ZM114.69 290.067C114.426 289.443 114.294 288.787 114.294 288.099C114.294 287.41 114.426 286.757 114.69 286.137C114.955 285.512 115.31 284.977 115.757 284.53C116.208 284.079 116.743 283.721 117.363 283.457C117.988 283.193 118.644 283.061 119.332 283.061C119.829 283.061 120.305 283.131 120.761 283.272C121.216 283.409 121.592 283.578 121.889 283.778C122.189 283.974 122.451 284.173 122.675 284.373C122.903 284.574 123.069 284.742 123.174 284.879L123.324 285.091L122.62 285.72C122.593 285.674 122.549 285.615 122.49 285.542C122.436 285.465 122.308 285.33 122.107 285.139C121.907 284.943 121.69 284.772 121.458 284.626C121.226 284.476 120.918 284.341 120.535 284.223C120.152 284.1 119.751 284.038 119.332 284.038C118.594 284.038 117.919 284.216 117.309 284.571C116.698 284.922 116.217 285.41 115.866 286.034C115.515 286.654 115.34 287.342 115.34 288.099C115.34 288.855 115.515 289.546 115.866 290.17C116.217 290.79 116.698 291.277 117.309 291.633C117.919 291.984 118.594 292.159 119.332 292.159C119.751 292.159 120.152 292.102 120.535 291.988C120.923 291.87 121.242 291.729 121.492 291.564C121.743 291.4 121.962 291.236 122.148 291.072C122.34 290.908 122.479 290.767 122.565 290.648L122.695 290.478L123.393 291.113C123.374 291.141 123.345 291.179 123.304 291.229C123.267 291.275 123.183 291.368 123.051 291.51C122.919 291.651 122.777 291.785 122.627 291.913C122.481 292.041 122.287 292.182 122.046 292.337C121.804 292.492 121.554 292.626 121.294 292.74C121.039 292.85 120.738 292.943 120.392 293.021C120.045 293.098 119.692 293.137 119.332 293.137C118.644 293.137 117.988 293.005 117.363 292.74C116.743 292.476 116.208 292.12 115.757 291.674C115.31 291.223 114.955 290.687 114.69 290.067ZM124.972 291.407C124.666 290.869 124.514 290.279 124.514 289.637C124.514 288.994 124.666 288.404 124.972 287.866C125.282 287.328 125.699 286.907 126.223 286.602C126.751 286.292 127.326 286.137 127.945 286.137C128.565 286.137 129.137 286.292 129.661 286.602C130.185 286.907 130.6 287.328 130.905 287.866C131.215 288.404 131.37 288.994 131.37 289.637C131.37 290.279 131.215 290.869 130.905 291.407C130.6 291.945 130.185 292.369 129.661 292.679C129.137 292.984 128.565 293.137 127.945 293.137C127.326 293.137 126.751 292.984 126.223 292.679C125.699 292.369 125.282 291.945 124.972 291.407ZM125.491 289.637C125.491 290.361 125.733 290.974 126.216 291.476C126.699 291.977 127.275 292.228 127.945 292.228C128.62 292.228 129.196 291.979 129.675 291.482C130.153 290.981 130.393 290.366 130.393 289.637C130.393 288.908 130.153 288.295 129.675 287.798C129.196 287.301 128.62 287.053 127.945 287.053C127.271 287.053 126.692 287.301 126.209 287.798C125.73 288.295 125.491 288.908 125.491 289.637ZM133.127 293V286.28H134.104V287.258C134.123 287.226 134.15 287.185 134.187 287.135C134.223 287.085 134.307 286.996 134.439 286.868C134.576 286.741 134.72 286.627 134.87 286.526C135.025 286.426 135.228 286.337 135.479 286.26C135.734 286.178 135.998 286.137 136.271 286.137C137.083 286.137 137.741 286.399 138.247 286.923C138.753 287.442 139.006 288.137 139.006 289.008V293H138.021V289.008C138.021 288.42 137.851 287.948 137.509 287.593C137.172 287.233 136.736 287.053 136.203 287.053C135.602 287.053 135.1 287.26 134.699 287.675C134.303 288.09 134.104 288.627 134.104 289.288V293H133.127ZM140.544 287.189V286.28H141.316C141.69 286.28 141.877 286.048 141.877 285.583V284.038H142.786V286.28H144.256V287.189H142.786V291.182C142.786 291.523 142.866 291.783 143.025 291.961C143.185 292.139 143.408 292.228 143.695 292.228C143.841 292.228 143.989 292.212 144.14 292.18C144.29 292.143 144.406 292.107 144.488 292.07L144.604 292.022V292.932C144.326 293.068 144.01 293.137 143.654 293.137C143.076 293.137 142.622 292.968 142.294 292.631C141.97 292.289 141.809 291.806 141.809 291.182V287.189H140.544ZM145.514 291.182C145.514 290.626 145.682 290.174 146.02 289.828C146.357 289.482 146.842 289.256 147.476 289.151L150.066 288.728C150.066 288.24 149.907 287.839 149.588 287.524C149.273 287.21 148.872 287.053 148.385 287.053C148.161 287.053 147.943 287.087 147.729 287.155C147.519 287.219 147.341 287.301 147.195 287.401C147.054 287.497 146.926 287.593 146.812 287.688C146.703 287.784 146.621 287.864 146.566 287.928L146.491 288.03L145.862 287.401C145.885 287.365 145.919 287.319 145.965 287.265C146.015 287.21 146.122 287.11 146.286 286.964C146.45 286.818 146.621 286.69 146.799 286.581C146.981 286.467 147.216 286.365 147.503 286.273C147.79 286.182 148.084 286.137 148.385 286.137C149.15 286.137 149.784 286.385 150.285 286.882C150.791 287.374 151.044 287.989 151.044 288.728V293H150.066V292.091C150.048 292.118 150.019 292.157 149.978 292.207C149.941 292.253 149.857 292.337 149.725 292.46C149.592 292.578 149.449 292.683 149.294 292.774C149.139 292.866 148.934 292.948 148.679 293.021C148.428 293.098 148.166 293.137 147.893 293.137C147.214 293.137 146.646 292.938 146.19 292.542C145.739 292.146 145.514 291.692 145.514 291.182ZM146.491 291.182C146.491 291.478 146.614 291.726 146.86 291.927C147.111 292.127 147.455 292.228 147.893 292.228C148.526 292.228 149.046 292.02 149.451 291.605C149.861 291.191 150.066 290.653 150.066 289.992V289.568L147.756 289.992C146.913 290.152 146.491 290.548 146.491 291.182ZM153.32 284.482C153.197 284.359 153.136 284.211 153.136 284.038C153.136 283.865 153.197 283.717 153.32 283.594C153.443 283.471 153.591 283.409 153.765 283.409C153.938 283.409 154.086 283.471 154.209 283.594C154.332 283.717 154.394 283.865 154.394 284.038C154.394 284.211 154.332 284.359 154.209 284.482C154.086 284.605 153.938 284.667 153.765 284.667C153.591 284.667 153.443 284.605 153.32 284.482ZM153.279 293V286.28H154.257V293H153.279ZM156.506 293V286.28H157.483V287.258C157.502 287.226 157.529 287.185 157.565 287.135C157.602 287.085 157.686 286.996 157.818 286.868C157.955 286.741 158.099 286.627 158.249 286.526C158.404 286.426 158.607 286.337 158.857 286.26C159.113 286.178 159.377 286.137 159.65 286.137C160.462 286.137 161.12 286.399 161.626 286.923C162.132 287.442 162.385 288.137 162.385 289.008V293H161.4V289.008C161.4 288.42 161.229 287.948 160.888 287.593C160.55 287.233 160.115 287.053 159.582 287.053C158.98 287.053 158.479 287.26 158.078 287.675C157.682 288.09 157.483 288.627 157.483 289.288V293H156.506ZM164.135 289.637C164.135 288.999 164.285 288.411 164.586 287.873C164.891 287.331 165.295 286.907 165.796 286.602C166.302 286.292 166.844 286.137 167.423 286.137C168.339 286.137 169.104 286.453 169.72 287.087C170.335 287.72 170.643 288.525 170.643 289.5C170.643 289.582 170.636 289.666 170.622 289.753C170.613 289.835 170.602 289.896 170.588 289.938L170.574 290.006L165.112 289.992C165.149 290.594 165.399 291.118 165.864 291.564C166.329 292.007 166.871 292.228 167.491 292.228C167.756 292.228 168.011 292.189 168.257 292.111C168.503 292.034 168.708 291.943 168.872 291.838C169.036 291.729 169.18 291.619 169.303 291.51C169.43 291.4 169.521 291.307 169.576 291.229L169.665 291.113L170.294 291.742C170.267 291.779 170.228 291.829 170.178 291.893C170.128 291.956 170.011 292.068 169.829 292.228C169.651 292.387 169.462 292.528 169.262 292.651C169.061 292.774 168.799 292.886 168.476 292.986C168.157 293.087 167.828 293.137 167.491 293.137C166.894 293.137 166.338 292.984 165.823 292.679C165.308 292.369 164.898 291.945 164.593 291.407C164.287 290.869 164.135 290.279 164.135 289.637ZM165.112 289.151H169.665C169.597 288.55 169.353 288.051 168.934 287.654C168.514 287.253 168.011 287.053 167.423 287.053C166.84 287.053 166.325 287.26 165.878 287.675C165.436 288.09 165.181 288.582 165.112 289.151ZM172.393 293V286.28H173.37V287.189C173.388 287.162 173.416 287.126 173.452 287.08C173.493 287.03 173.582 286.946 173.719 286.827C173.855 286.704 174.001 286.597 174.156 286.506C174.316 286.41 174.525 286.326 174.785 286.253C175.049 286.175 175.325 286.137 175.612 286.137H175.893V287.121H175.469C174.89 287.121 174.396 287.322 173.985 287.723C173.575 288.119 173.37 288.641 173.37 289.288V293H172.393Z",fill:"#6A6E72"}),a().createElement("path",{opacity:"0.5",d:"M45.4697 330V320.197H48.5527C49.2546 320.197 49.9222 320.329 50.5557 320.594C51.1891 320.854 51.7314 321.204 52.1826 321.646C52.6383 322.089 52.9984 322.61 53.2627 323.212C53.527 323.813 53.6592 324.442 53.6592 325.099C53.6592 325.755 53.527 326.384 53.2627 326.985C52.9984 327.587 52.6383 328.109 52.1826 328.551C51.7314 328.993 51.1891 329.346 50.5557 329.61C49.9222 329.87 49.2546 330 48.5527 330H45.4697ZM46.5225 329.022H48.5527C49.3092 329.022 49.9974 328.847 50.6172 328.496C51.2415 328.145 51.7292 327.671 52.0801 327.074C52.4355 326.473 52.6133 325.814 52.6133 325.099C52.6133 324.383 52.4355 323.727 52.0801 323.13C51.7292 322.533 51.2415 322.059 50.6172 321.708C49.9974 321.357 49.3092 321.182 48.5527 321.182H46.5225V329.022ZM55.0605 326.637C55.0605 325.999 55.2109 325.411 55.5117 324.873C55.8171 324.331 56.2204 323.907 56.7217 323.602C57.2275 323.292 57.7699 323.137 58.3486 323.137C59.2646 323.137 60.0303 323.453 60.6455 324.087C61.2607 324.72 61.5684 325.525 61.5684 326.5C61.5684 326.582 61.5615 326.666 61.5479 326.753C61.5387 326.835 61.5273 326.896 61.5137 326.938L61.5 327.006L56.0381 326.992C56.0745 327.594 56.3252 328.118 56.79 328.564C57.2549 329.007 57.7972 329.228 58.417 329.228C58.6813 329.228 58.9365 329.189 59.1826 329.111C59.4287 329.034 59.6338 328.943 59.7979 328.838C59.9619 328.729 60.1055 328.619 60.2285 328.51C60.3561 328.4 60.4473 328.307 60.502 328.229L60.5908 328.113L61.2197 328.742C61.1924 328.779 61.1536 328.829 61.1035 328.893C61.0534 328.956 60.9372 329.068 60.7549 329.228C60.5771 329.387 60.388 329.528 60.1875 329.651C59.987 329.774 59.7249 329.886 59.4014 329.986C59.0824 330.087 58.7542 330.137 58.417 330.137C57.82 330.137 57.264 329.984 56.749 329.679C56.234 329.369 55.8239 328.945 55.5186 328.407C55.2132 327.869 55.0605 327.279 55.0605 326.637ZM56.0381 326.151H60.5908C60.5225 325.55 60.2786 325.051 59.8594 324.654C59.4401 324.253 58.9365 324.053 58.3486 324.053C57.7653 324.053 57.2503 324.26 56.8037 324.675C56.3617 325.09 56.1064 325.582 56.0381 326.151ZM63.3867 330V320.197H64.3643V330H63.3867ZM66.1895 326.637C66.1895 325.999 66.3398 325.411 66.6406 324.873C66.946 324.331 67.3493 323.907 67.8506 323.602C68.3564 323.292 68.8988 323.137 69.4775 323.137C70.3936 323.137 71.1592 323.453 71.7744 324.087C72.3896 324.72 72.6973 325.525 72.6973 326.5C72.6973 326.582 72.6904 326.666 72.6768 326.753C72.6676 326.835 72.6562 326.896 72.6426 326.938L72.6289 327.006L67.167 326.992C67.2035 327.594 67.4541 328.118 67.9189 328.564C68.3838 329.007 68.9261 329.228 69.5459 329.228C69.8102 329.228 70.0654 329.189 70.3115 329.111C70.5576 329.034 70.7627 328.943 70.9268 328.838C71.0908 328.729 71.2344 328.619 71.3574 328.51C71.485 328.4 71.5762 328.307 71.6309 328.229L71.7197 328.113L72.3486 328.742C72.3213 328.779 72.2826 328.829 72.2324 328.893C72.1823 328.956 72.0661 329.068 71.8838 329.228C71.7061 329.387 71.5169 329.528 71.3164 329.651C71.1159 329.774 70.8538 329.886 70.5303 329.986C70.2113 330.087 69.8831 330.137 69.5459 330.137C68.9489 330.137 68.3929 329.984 67.8779 329.679C67.363 329.369 66.9528 328.945 66.6475 328.407C66.3421 327.869 66.1895 327.279 66.1895 326.637ZM67.167 326.151H71.7197C71.6514 325.55 71.4076 325.051 70.9883 324.654C70.569 324.253 70.0654 324.053 69.4775 324.053C68.8942 324.053 68.3792 324.26 67.9326 324.675C67.4906 325.09 67.2354 325.582 67.167 326.151ZM73.7432 324.189V323.28H74.5156C74.8893 323.28 75.0762 323.048 75.0762 322.583V321.038H75.9854V323.28H77.4551V324.189H75.9854V328.182C75.9854 328.523 76.0651 328.783 76.2246 328.961C76.3841 329.139 76.6074 329.228 76.8945 329.228C77.0404 329.228 77.1885 329.212 77.3389 329.18C77.4893 329.143 77.6055 329.107 77.6875 329.07L77.8037 329.022V329.932C77.5257 330.068 77.209 330.137 76.8535 330.137C76.2747 330.137 75.8213 329.968 75.4932 329.631C75.1696 329.289 75.0078 328.806 75.0078 328.182V324.189H73.7432ZM78.7129 326.637C78.7129 325.999 78.8633 325.411 79.1641 324.873C79.4694 324.331 79.8727 323.907 80.374 323.602C80.8799 323.292 81.4222 323.137 82.001 323.137C82.917 323.137 83.6826 323.453 84.2979 324.087C84.9131 324.72 85.2207 325.525 85.2207 326.5C85.2207 326.582 85.2139 326.666 85.2002 326.753C85.1911 326.835 85.1797 326.896 85.166 326.938L85.1523 327.006L79.6904 326.992C79.7269 327.594 79.9775 328.118 80.4424 328.564C80.9072 329.007 81.4495 329.228 82.0693 329.228C82.3337 329.228 82.5889 329.189 82.835 329.111C83.0811 329.034 83.2861 328.943 83.4502 328.838C83.6143 328.729 83.7578 328.619 83.8809 328.51C84.0085 328.4 84.0996 328.307 84.1543 328.229L84.2432 328.113L84.8721 328.742C84.8447 328.779 84.806 328.829 84.7559 328.893C84.7057 328.956 84.5895 329.068 84.4072 329.228C84.2295 329.387 84.0404 329.528 83.8398 329.651C83.6393 329.774 83.3773 329.886 83.0537 329.986C82.7347 330.087 82.4066 330.137 82.0693 330.137C81.4723 330.137 80.9163 329.984 80.4014 329.679C79.8864 329.369 79.4762 328.945 79.1709 328.407C78.8656 327.869 78.7129 327.279 78.7129 326.637ZM79.6904 326.151H84.2432C84.1748 325.55 83.931 325.051 83.5117 324.654C83.0924 324.253 82.5889 324.053 82.001 324.053C81.4176 324.053 80.9027 324.26 80.4561 324.675C80.014 325.09 79.7588 325.582 79.6904 326.151Z",fill:"#6A6E72"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyList-filter1_d)"},a().createElement("path",{d:"M136.27 214.28C135.99 213.92 135.64 213.19 135.03 212.28C134.68 211.78 133.82 210.83 133.56 210.34C133.372 210.042 133.318 209.68 133.41 209.34C133.567 208.694 134.179 208.266 134.84 208.34C135.351 208.443 135.82 208.693 136.19 209.06C136.448 209.303 136.686 209.567 136.9 209.85C137.06 210.05 137.1 210.13 137.28 210.36C137.46 210.59 137.58 210.82 137.49 210.48C137.42 209.98 137.3 209.14 137.13 208.39C137 207.82 136.97 207.73 136.85 207.3C136.73 206.87 136.66 206.51 136.53 206.02C136.411 205.539 136.318 205.051 136.25 204.56C136.124 203.932 136.216 203.279 136.51 202.71C136.859 202.381 137.372 202.295 137.81 202.49C138.25 202.815 138.579 203.27 138.75 203.79C139.012 204.43 139.187 205.103 139.27 205.79C139.43 206.79 139.74 208.25 139.75 208.55C139.75 208.18 139.68 207.4 139.75 207.05C139.819 206.685 140.073 206.382 140.42 206.25C140.718 206.159 141.033 206.138 141.34 206.19C141.65 206.255 141.925 206.433 142.11 206.69C142.342 207.273 142.47 207.893 142.49 208.52C142.517 207.971 142.611 207.427 142.77 206.9C142.937 206.665 143.181 206.495 143.46 206.42C143.79 206.36 144.129 206.36 144.46 206.42C144.731 206.511 144.968 206.682 145.14 206.91C145.352 207.44 145.48 208 145.52 208.57C145.52 208.71 145.59 208.18 145.81 207.83C145.924 207.491 146.211 207.238 146.562 207.167C146.913 207.097 147.275 207.219 147.512 207.487C147.749 207.756 147.824 208.131 147.71 208.47C147.71 209.12 147.71 209.09 147.71 209.53C147.71 209.97 147.71 210.36 147.71 210.73C147.673 211.315 147.593 211.897 147.47 212.47C147.296 212.977 147.054 213.458 146.75 213.9C146.264 214.44 145.863 215.05 145.56 215.71C145.485 216.038 145.451 216.374 145.46 216.71C145.459 217.021 145.499 217.33 145.58 217.63C145.171 217.673 144.759 217.673 144.35 217.63C143.96 217.57 143.48 216.79 143.35 216.55C143.286 216.421 143.154 216.34 143.01 216.34C142.866 216.34 142.734 216.421 142.67 216.55C142.45 216.93 141.96 217.62 141.62 217.66C140.95 217.74 139.57 217.66 138.48 217.66C138.48 217.66 138.66 216.66 138.25 216.3C137.84 215.94 137.42 215.52 137.11 215.24L136.27 214.28Z",fill:"white"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M136.27 214.28C135.99 213.92 135.64 213.19 135.03 212.28C134.68 211.78 133.82 210.83 133.56 210.34C133.372 210.042 133.318 209.68 133.41 209.34C133.567 208.694 134.179 208.266 134.84 208.34C135.351 208.443 135.82 208.693 136.19 209.06C136.448 209.303 136.686 209.567 136.9 209.85C137.06 210.05 137.1 210.13 137.28 210.36C137.46 210.59 137.58 210.82 137.49 210.48C137.42 209.98 137.3 209.14 137.13 208.39C137 207.82 136.97 207.73 136.85 207.3C136.73 206.87 136.66 206.51 136.53 206.02C136.411 205.539 136.318 205.051 136.25 204.56C136.124 203.932 136.216 203.279 136.51 202.71C136.859 202.381 137.372 202.295 137.81 202.49C138.25 202.815 138.579 203.27 138.75 203.79C139.012 204.43 139.187 205.103 139.27 205.79C139.43 206.79 139.74 208.25 139.75 208.55C139.75 208.18 139.68 207.4 139.75 207.05C139.819 206.685 140.073 206.382 140.42 206.25C140.718 206.159 141.033 206.138 141.34 206.19C141.65 206.255 141.925 206.433 142.11 206.69C142.342 207.273 142.47 207.893 142.49 208.52C142.517 207.971 142.611 207.427 142.77 206.9C142.937 206.665 143.181 206.495 143.46 206.42C143.79 206.36 144.129 206.36 144.46 206.42C144.731 206.511 144.968 206.682 145.14 206.91C145.352 207.44 145.48 208 145.52 208.57C145.52 208.71 145.59 208.18 145.81 207.83C145.924 207.491 146.211 207.238 146.562 207.167C146.913 207.097 147.275 207.219 147.512 207.487C147.749 207.756 147.824 208.131 147.71 208.47C147.71 209.12 147.71 209.09 147.71 209.53C147.71 209.97 147.71 210.36 147.71 210.73C147.673 211.315 147.593 211.897 147.47 212.47C147.296 212.977 147.054 213.458 146.75 213.9C146.264 214.44 145.863 215.05 145.56 215.71C145.485 216.038 145.451 216.374 145.46 216.71C145.459 217.021 145.499 217.33 145.58 217.63C145.171 217.673 144.759 217.673 144.35 217.63C143.96 217.57 143.48 216.79 143.35 216.55C143.286 216.421 143.154 216.34 143.01 216.34C142.866 216.34 142.734 216.421 142.67 216.55C142.45 216.93 141.96 217.62 141.62 217.66C140.95 217.74 139.57 217.66 138.48 217.66C138.48 217.66 138.66 216.66 138.25 216.3C137.84 215.94 137.42 215.52 137.11 215.24L136.27 214.28Z",stroke:"black",strokeWidth:"0.75",strokeLinecap:"round",strokeLinejoin:"round"}),a().createElement("path",{d:"M144.75 214.826V211.374C144.75 211.167 144.582 211 144.375 211C144.168 211 144 211.167 144 211.374V214.826C144 215.033 144.168 215.2 144.375 215.2C144.582 215.2 144.75 215.033 144.75 214.826Z",fill:"black"}),a().createElement("path",{d:"M142.77 214.825L142.75 211.371C142.749 211.165 142.58 210.999 142.373 211C142.166 211.001 141.999 211.169 142 211.375L142.02 214.829C142.021 215.035 142.19 215.201 142.397 215.2C142.604 215.199 142.771 215.031 142.77 214.825Z",fill:"black"}),a().createElement("path",{d:"M140 211.379L140.02 214.825C140.021 215.033 140.19 215.201 140.397 215.2C140.604 215.199 140.771 215.029 140.77 214.821L140.75 211.375C140.749 211.167 140.58 210.999 140.373 211C140.166 211.001 139.999 211.171 140 211.379Z",fill:"black"})),a().createElement("defs",null,a().createElement("filter",{id:"ScoreDrawerEmptyList-filter0_d",x:"24",y:"124",width:"192",height:"233",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a().createElement("feOffset",{dy:"2"}),a().createElement("feGaussianBlur",{stdDeviation:"6"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.156863 0 0 0 0 0.160784 0 0 0 0 0.160784 0 0 0 0.2 0"}),a().createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),a().createElement("filter",{id:"ScoreDrawerEmptyList-filter1_d",x:"132.191",y:"202.012",width:"16.7461",height:"17.8588",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"0.4"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),a().createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function T(){return a().createElement("svg",{width:"742",height:"224",viewBox:"0 0 742 224",fill:"none",xmlns:"http://www.w3.org/2000/svg",id:"ScoreDrawerEmptyTable-image"},a().createElement("g",{filter:"url(#ScoreDrawerEmptyTable-filter0_ii)"},a().createElement("rect",{width:"729",height:"50",fill:"white",fillOpacity:"0.01"})),a().createElement("rect",{x:"32",y:"21",width:"87",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"203",y:"21",width:"55",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M359 29C361.209 29 363 27.2091 363 25C363 22.7909 361.209 21 359 21C356.791 21 355 22.7909 355 25C355 27.2091 356.791 29 359 29Z",fill:"#D1D5D9"}),a().createElement("rect",{x:"371",y:"21",width:"47",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"505",y:"21",width:"31",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"601",y:"21",width:"39",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"648",y:"21",width:"63",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTable-filter1_i)"},a().createElement("rect",{y:"100",width:"729",height:"50",fill:"white",fillOpacity:"0.01"})),a().createElement("rect",{x:"32",y:"121",width:"47",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"203",y:"121",width:"87",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M359 129C361.209 129 363 127.209 363 125C363 122.791 361.209 121 359 121C356.791 121 355 122.791 355 125C355 127.209 356.791 129 359 129Z",fill:"#D1D5D9"}),a().createElement("rect",{x:"371",y:"121",width:"31",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"505",y:"121",width:"55",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"601",y:"121",width:"55",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTable-filter2_i)"},a().createElement("rect",{y:"150",width:"729",height:"50",fill:"white",fillOpacity:"0.01"})),a().createElement("rect",{x:"32",y:"171",width:"47",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"203",y:"171",width:"87",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M359 179C361.209 179 363 177.209 363 175C363 172.791 361.209 171 359 171C356.791 171 355 172.791 355 175C355 177.209 356.791 179 359 179Z",fill:"#D1D5D9"}),a().createElement("rect",{x:"371",y:"171",width:"31",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"505",y:"171",width:"55",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{x:"601",y:"171",width:"55",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTable-filter3_i)"},a().createElement("rect",{y:"50",width:"729",height:"50",fill:"white"})),a().createElement("path",{d:"M599 70C599 67.7909 600.791 66 603 66H647C649.209 66 651 67.7909 651 70V80C651 82.2091 649.209 84 647 84H603C600.791 84 599 82.2091 599 80V70Z",fill:"#6A6E72"}),a().createElement("path",{d:"M604.26 79V70.5977H607.441C608.219 70.5977 608.863 70.8496 609.375 71.3535C609.887 71.8574 610.143 72.4863 610.143 73.2402C610.143 73.9941 609.887 74.623 609.375 75.127C608.863 75.6309 608.219 75.8828 607.441 75.8828H605.162V79H604.26ZM605.162 75.0391H607.441C607.98 75.0391 608.414 74.875 608.742 74.5469C609.074 74.2148 609.24 73.7793 609.24 73.2402C609.24 72.7012 609.074 72.2676 608.742 71.9395C608.414 71.6074 607.98 71.4414 607.441 71.4414H605.162V75.0391ZM611.707 79V73.2402H612.545V74.0195C612.561 73.9961 612.584 73.9648 612.615 73.9258C612.65 73.8828 612.727 73.8105 612.844 73.709C612.961 73.6035 613.086 73.5117 613.219 73.4336C613.355 73.3516 613.535 73.2793 613.758 73.2168C613.984 73.1504 614.221 73.1172 614.467 73.1172H614.707V73.9609H614.344C613.848 73.9609 613.424 74.1328 613.072 74.4766C612.721 74.8164 612.545 75.2637 612.545 75.8184V79H611.707ZM615.814 77.6348C615.553 77.1738 615.422 76.668 615.422 76.1172C615.422 75.5664 615.553 75.0605 615.814 74.5996C616.08 74.1387 616.438 73.7773 616.887 73.5156C617.34 73.25 617.832 73.1172 618.363 73.1172C618.895 73.1172 619.385 73.25 619.834 73.5156C620.283 73.7773 620.639 74.1387 620.9 74.5996C621.166 75.0605 621.299 75.5664 621.299 76.1172C621.299 76.668 621.166 77.1738 620.9 77.6348C620.639 78.0957 620.283 78.459 619.834 78.7246C619.385 78.9863 618.895 79.1172 618.363 79.1172C617.832 79.1172 617.34 78.9863 616.887 78.7246C616.438 78.459 616.08 78.0957 615.814 77.6348ZM616.26 76.1172C616.26 76.7383 616.467 77.2637 616.881 77.6934C617.295 78.123 617.789 78.3379 618.363 78.3379C618.941 78.3379 619.436 78.125 619.846 77.6992C620.256 77.2695 620.461 76.7422 620.461 76.1172C620.461 75.4922 620.256 74.9668 619.846 74.541C619.436 74.1152 618.941 73.9023 618.363 73.9023C617.785 73.9023 617.289 74.1152 616.875 74.541C616.465 74.9668 616.26 75.4922 616.26 76.1172ZM622.77 77.6348C622.512 77.1699 622.383 76.6641 622.383 76.1172C622.383 75.5703 622.512 75.0664 622.77 74.6055C623.027 74.1406 623.367 73.7773 623.789 73.5156C624.215 73.25 624.666 73.1172 625.143 73.1172C625.389 73.1172 625.627 73.1523 625.857 73.2227C626.088 73.293 626.279 73.3789 626.432 73.4805C626.584 73.582 626.719 73.6836 626.836 73.7852C626.957 73.8828 627.045 73.9668 627.1 74.0371L627.182 74.1426V70.5977H628.02V79H627.182V78.0977C627.162 78.125 627.133 78.1621 627.094 78.209C627.059 78.2559 626.975 78.3379 626.842 78.4551C626.713 78.5723 626.574 78.6758 626.426 78.7656C626.281 78.8516 626.092 78.9316 625.857 79.0059C625.627 79.0801 625.389 79.1172 625.143 79.1172C624.666 79.1172 624.215 78.9863 623.789 78.7246C623.367 78.459 623.027 78.0957 622.77 77.6348ZM623.807 74.5527C623.416 74.9824 623.221 75.5039 623.221 76.1172C623.221 76.7305 623.416 77.2539 623.807 77.6875C624.201 78.1211 624.646 78.3379 625.143 78.3379C625.662 78.3379 626.131 78.1152 626.549 77.6699C626.971 77.2246 627.182 76.707 627.182 76.1172C627.182 75.5273 626.971 75.0117 626.549 74.5703C626.131 74.125 625.662 73.9023 625.143 73.9023C624.646 73.9023 624.201 74.1191 623.807 74.5527ZM630 76.5977V73.2402H630.838V76.5977C630.838 77.1016 630.992 77.5176 631.301 77.8457C631.613 78.1738 631.998 78.3379 632.455 78.3379C632.943 78.3379 633.355 78.1602 633.691 77.8047C634.027 77.4453 634.195 76.9844 634.195 76.4219V73.2402H635.039V79H634.195V78.2207C634.18 78.2441 634.156 78.2773 634.125 78.3203C634.094 78.3594 634.02 78.4316 633.902 78.5371C633.789 78.6387 633.666 78.7285 633.533 78.8066C633.404 78.8848 633.23 78.9551 633.012 79.0176C632.797 79.084 632.572 79.1172 632.338 79.1172C631.67 79.1172 631.113 78.8828 630.668 78.4141C630.223 77.9453 630 77.3398 630 76.5977ZM636.99 77.6348C636.729 77.1738 636.598 76.668 636.598 76.1172C636.598 75.5664 636.729 75.0605 636.99 74.5996C637.252 74.1387 637.604 73.7773 638.045 73.5156C638.486 73.25 638.963 73.1172 639.475 73.1172C639.756 73.1172 640.027 73.1562 640.289 73.2344C640.555 73.3125 640.775 73.4082 640.951 73.5215C641.127 73.6348 641.283 73.748 641.42 73.8613C641.557 73.9707 641.656 74.0645 641.719 74.1426L641.818 74.2598L641.215 74.8574C641.199 74.8301 641.176 74.7949 641.145 74.752C641.113 74.709 641.043 74.6328 640.934 74.5234C640.824 74.4141 640.707 74.3184 640.582 74.2363C640.457 74.1504 640.295 74.0742 640.096 74.0078C639.896 73.9375 639.689 73.9023 639.475 73.9023C638.928 73.9023 638.451 74.1172 638.045 74.5469C637.639 74.9727 637.436 75.4961 637.436 76.1172C637.436 76.7383 637.639 77.2637 638.045 77.6934C638.451 78.123 638.928 78.3379 639.475 78.3379C639.689 78.3379 639.896 78.3047 640.096 78.2383C640.299 78.1719 640.469 78.0938 640.605 78.0039C640.742 77.9102 640.863 77.8164 640.969 77.7227C641.074 77.6289 641.152 77.5488 641.203 77.4824L641.279 77.3828L641.877 77.9219C641.854 77.9531 641.818 77.9961 641.771 78.0508C641.725 78.1055 641.621 78.2012 641.461 78.3379C641.305 78.4746 641.139 78.5957 640.963 78.7012C640.791 78.8066 640.57 78.9023 640.301 78.9883C640.031 79.0742 639.756 79.1172 639.475 79.1172C638.963 79.1172 638.486 78.9863 638.045 78.7246C637.604 78.459 637.252 78.0957 636.99 77.6348ZM642.592 74.0195V73.2402H643.254C643.574 73.2402 643.734 73.041 643.734 72.6426V71.3184H644.514V73.2402H645.773V74.0195H644.514V77.4414C644.514 77.7344 644.582 77.957 644.719 78.1094C644.855 78.2617 645.047 78.3379 645.293 78.3379C645.418 78.3379 645.545 78.3242 645.674 78.2969C645.803 78.2656 645.902 78.2344 645.973 78.2031L646.072 78.1621V78.9414C645.834 79.0586 645.562 79.1172 645.258 79.1172C644.762 79.1172 644.373 78.9727 644.092 78.6836C643.814 78.3906 643.676 77.9766 643.676 77.4414V74.0195H642.592Z",fill:"white"}),a().createElement("path",{d:"M510.28 76.72C510.28 77.62 509.62 78.28 508.36 78.28C506.8 78.28 506.092 77.248 506.092 77.248L505.54 77.86C505.54 77.86 506.44 79.12 508.36 79.12C510.16 79.12 511.18 78.1 511.18 76.72C511.18 73.72 506.62 74.92 506.62 72.76C506.62 72.004 507.268 71.32 508.42 71.32C509.668 71.32 510.28 72.16 510.28 72.16L510.88 71.56C510.88 71.56 510.028 70.48 508.42 70.48C506.752 70.48 505.72 71.536 505.72 72.76C505.72 75.76 510.28 74.56 510.28 76.72ZM520.365 79H521.205V75.58C521.205 73.972 520.245 73.12 518.985 73.12C517.545 73.12 517.005 74.14 517.005 74.14C517.005 74.14 516.525 73.12 515.145 73.12C514.005 73.12 513.525 73.96 513.525 73.96V73.24H512.685V79H513.525V75.82C513.525 74.62 514.245 73.9 515.085 73.9C515.925 73.9 516.525 74.5 516.525 75.58V79H517.365V75.82C517.365 74.62 518.085 73.9 518.925 73.9C519.765 73.9 520.365 74.488 520.365 75.58V79ZM524.387 75.7C523.307 75.88 522.707 76.48 522.707 77.44C522.707 78.28 523.547 79.12 524.747 79.12C526.007 79.12 526.607 78.22 526.607 78.22V79H527.447V75.34C527.447 74.08 526.487 73.12 525.167 73.12C523.787 73.12 523.007 74.2 523.007 74.2L523.547 74.74C523.547 74.74 524.147 73.9 525.167 73.9C526.007 73.9 526.607 74.5 526.607 75.34L524.387 75.7ZM524.747 78.34C523.967 78.34 523.547 77.92 523.547 77.44C523.547 76.9 523.907 76.552 524.627 76.42L526.607 76.06V76.42C526.607 77.56 525.827 78.34 524.747 78.34ZM530.261 70.6H529.421V79H530.261V70.6ZM533.144 70.6H532.304V79H533.144V70.6Z",fill:"#282929"}),a().createElement("path",{d:"M372.26 79H373.16V75.16H377.84V79H378.74V70.6H377.84V74.32H373.16V70.6H372.26V79ZM380.9 79H381.74V73.24H380.9V79ZM380.78 71.32C380.78 71.62 381.02 71.86 381.32 71.86C381.62 71.86 381.86 71.62 381.86 71.32C381.86 71.02 381.62 70.78 381.32 70.78C381.02 70.78 380.78 71.02 380.78 71.32ZM387.866 78.64C387.866 79.84 386.966 80.74 385.886 80.74C384.686 80.74 384.026 79.78 384.026 79.78L383.486 80.32C383.486 80.32 384.266 81.52 385.886 81.52C387.446 81.52 388.706 80.26 388.706 78.64V73.24H387.866V74.08C387.866 74.08 387.266 73.12 385.946 73.12C384.506 73.12 383.246 74.38 383.246 76C383.246 77.62 384.506 78.88 385.946 78.88C387.266 78.88 387.866 77.92 387.866 77.92V78.64ZM384.086 76C384.086 74.8 384.986 73.9 385.946 73.9C386.966 73.9 387.866 74.8 387.866 76C387.866 77.2 386.966 78.1 385.946 78.1C384.986 78.1 384.086 77.2 384.086 76ZM391.527 70.6H390.687V79H391.527V75.82C391.527 74.68 392.307 73.9 393.327 73.9C394.227 73.9 394.887 74.56 394.887 75.58V79H395.727V75.58C395.727 74.08 394.767 73.12 393.387 73.12C392.127 73.12 391.527 74.08 391.527 74.08V70.6Z",fill:"#282929"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M359 79C361.209 79 363 77.2091 363 75C363 72.7909 361.209 71 359 71C356.791 71 355 72.7909 355 75C355 77.2091 356.791 79 359 79Z",fill:"#D6311A"}),a().createElement("path",{d:"M204.26 70.6V79H205.16V75.88H207.44C209 75.88 210.14 74.74 210.14 73.24C210.14 71.74 209 70.6 207.44 70.6H204.26ZM207.44 71.44C208.52 71.44 209.24 72.16 209.24 73.24C209.24 74.32 208.52 75.04 207.44 75.04H205.16V71.44H207.44ZM214.705 73.12H214.465C213.145 73.12 212.545 74.02 212.545 74.02V73.24H211.705V79H212.545V75.82C212.545 74.68 213.385 73.96 214.345 73.96H214.705V73.12ZM220.461 76.12C220.461 77.38 219.501 78.34 218.361 78.34C217.221 78.34 216.261 77.368 216.261 76.12C216.261 74.86 217.221 73.9 218.361 73.9C219.501 73.9 220.461 74.86 220.461 76.12ZM215.421 76.12C215.421 77.8 216.741 79.12 218.361 79.12C219.981 79.12 221.301 77.8 221.301 76.12C221.301 74.44 219.981 73.12 218.361 73.12C216.741 73.12 215.421 74.44 215.421 76.12ZM227.182 76.12C227.182 77.32 226.162 78.34 225.142 78.34C224.182 78.34 223.222 77.38 223.222 76.12C223.222 74.86 224.182 73.9 225.142 73.9C226.162 73.9 227.182 74.92 227.182 76.12ZM227.182 74.14C227.182 74.14 226.462 73.12 225.142 73.12C223.702 73.12 222.382 74.44 222.382 76.12C222.382 77.8 223.702 79.12 225.142 79.12C226.462 79.12 227.182 78.1 227.182 78.1V79H228.022V70.6H227.182V74.14ZM234.198 79H235.038V73.24H234.198V76.42C234.198 77.56 233.418 78.34 232.458 78.34C231.558 78.34 230.838 77.62 230.838 76.6V73.24H229.998V76.6C229.998 78.1 231.018 79.12 232.338 79.12C233.598 79.12 234.198 78.22 234.198 78.22V79ZM236.597 76.12C236.597 77.8 237.917 79.12 239.477 79.12C240.977 79.12 241.877 77.92 241.877 77.92L241.277 77.38C241.277 77.38 240.617 78.34 239.477 78.34C238.397 78.34 237.437 77.38 237.437 76.12C237.437 74.86 238.397 73.9 239.477 73.9C240.617 73.9 241.217 74.86 241.217 74.86L241.817 74.26C241.817 74.26 240.977 73.12 239.477 73.12C237.917 73.12 236.597 74.44 236.597 76.12ZM243.733 72.64C243.733 73.06 243.553 73.24 243.253 73.24H242.593V74.02H243.673V77.44C243.673 78.52 244.273 79.12 245.257 79.12C245.713 79.12 246.073 78.94 246.073 78.94V78.16C246.073 78.16 245.713 78.34 245.293 78.34C244.813 78.34 244.513 78.04 244.513 77.44V74.02H245.773V73.24H244.513V71.32H243.733V72.64Z",fill:"#282929"}),a().createElement("path",{d:"M33.62 74.8C33.62 72.82 35.12 71.32 37.04 71.32C38.96 71.32 40.46 72.82 40.46 74.8C40.46 76.78 38.96 78.28 37.04 78.28C35.12 78.28 33.62 76.78 33.62 74.8ZM41.36 74.8C41.36 72.4 39.44 70.48 37.04 70.48C34.64 70.48 32.72 72.4 32.72 74.8C32.72 77.2 34.64 79.12 37.04 79.12C39.44 79.12 41.36 77.2 41.36 74.8ZM44.2381 75.34V70.6H43.3381V79H44.2381V76.54L45.9181 74.74L48.9181 79H49.9981L46.5181 74.08L49.6981 70.6H48.5581L44.2381 75.34ZM51.3772 70.6V79H52.2772V75.64H54.6772L56.5372 79H57.5572L55.5772 75.52C55.5772 75.52 57.3172 75.04 57.3172 73.12C57.3172 71.68 56.2372 70.6 54.7372 70.6H51.3772ZM54.7372 71.44C55.7572 71.44 56.4172 72.1 56.4172 73.12C56.4172 74.14 55.7572 74.8 54.7372 74.8H52.2772V71.44H54.7372Z",fill:"#282929"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTable-filter4_i)"},a().createElement("rect",{x:"697",y:"50",width:"32",height:"50",fill:"black",fillOpacity:"0.01"})),a().createElement("path",{d:"M713 75.5625C712.051 75.5625 711.312 76.3359 711.312 77.25C711.312 78.1992 712.051 78.9375 713 78.9375C713.914 78.9375 714.688 78.1992 714.688 77.25C714.688 76.3359 713.914 75.5625 713 75.5625ZM711.312 71.9062C711.312 72.8555 712.051 73.5938 713 73.5938C713.914 73.5938 714.688 72.8555 714.688 71.9062C714.688 70.9922 713.914 70.2188 713 70.2188C712.051 70.2188 711.312 70.9922 711.312 71.9062ZM711.312 82.5938C711.312 83.543 712.051 84.2812 713 84.2812C713.914 84.2812 714.688 83.543 714.688 82.5938C714.688 81.6797 713.914 80.9062 713 80.9062C712.051 80.9062 711.312 81.6797 711.312 82.5938Z",fill:"#6A6E72"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTable-filter5_d)"},a().createElement("rect",{x:"565",y:"100",width:"164",height:"109",rx:"4",fill:"white"}),a().createElement("rect",{x:"564.5",y:"99.5",width:"165",height:"110",rx:"4.5",stroke:"#D1D5D9"})),a().createElement("rect",{x:"565",y:"180",width:"164",height:"1",fill:"#D1D5D9"}),a().createElement("path",{opacity:"0.5",d:"M575.52 122.02V118.38H580.07V117.4H575.52V114.18H581.19V113.2H574.47V123H581.33V122.02H575.52ZM588.115 119.64C588.115 121.04 586.925 122.23 585.735 122.23C584.615 122.23 583.495 121.11 583.495 119.64C583.495 118.17 584.615 117.05 585.735 117.05C586.925 117.05 588.115 118.24 588.115 119.64ZM588.115 117.33C588.115 117.33 587.275 116.14 585.735 116.14C584.055 116.14 582.515 117.68 582.515 119.64C582.515 121.6 584.055 123.14 585.735 123.14C587.275 123.14 588.115 121.95 588.115 121.95V123H589.095V113.2H588.115V117.33ZM591.4 123H592.38V116.28H591.4V123ZM591.26 114.04C591.26 114.39 591.54 114.67 591.89 114.67C592.24 114.67 592.52 114.39 592.52 114.04C592.52 113.69 592.24 113.41 591.89 113.41C591.54 113.41 591.26 113.69 591.26 114.04ZM595.256 115.58C595.256 116.07 595.046 116.28 594.696 116.28H593.926V117.19H595.186V121.18C595.186 122.44 595.886 123.14 597.034 123.14C597.566 123.14 597.986 122.93 597.986 122.93V122.02C597.986 122.02 597.566 122.23 597.076 122.23C596.516 122.23 596.166 121.88 596.166 121.18V117.19H597.636V116.28H596.166V114.04H595.256V115.58Z",fill:"#282929"}),a().createElement("rect",{x:"569",y:"130",width:"156",height:"24",rx:"4",fill:"#EFF5FA"}),a().createElement("path",{d:"M578.32 137.2C578.796 137.2 579.235 137.284 579.636 137.452C580.037 137.611 580.383 137.835 580.672 138.124C580.971 138.404 581.199 138.735 581.358 139.118C581.526 139.501 581.61 139.911 581.61 140.35C581.61 140.789 581.526 141.199 581.358 141.582C581.199 141.965 580.971 142.301 580.672 142.59C580.383 142.87 580.037 143.094 579.636 143.262C579.235 143.421 578.796 143.5 578.32 143.5H575.94V147H574.4V137.2H578.32ZM575.94 138.6V142.1H578.32C578.563 142.1 578.791 142.058 579.006 141.974C579.221 141.881 579.407 141.755 579.566 141.596C579.725 141.437 579.846 141.251 579.93 141.036C580.023 140.821 580.07 140.593 580.07 140.35C580.07 140.107 580.023 139.879 579.93 139.664C579.846 139.449 579.725 139.263 579.566 139.104C579.407 138.945 579.221 138.824 579.006 138.74C578.791 138.647 578.563 138.6 578.32 138.6H575.94ZM587.137 141.47C587.081 141.461 587.021 141.451 586.955 141.442C586.899 141.433 586.829 141.423 586.745 141.414C586.671 141.405 586.591 141.4 586.507 141.4C585.975 141.4 585.551 141.568 585.233 141.904C584.916 142.24 584.757 142.725 584.757 143.36V147H583.357V140.28H584.757V140.98C584.916 140.821 585.098 140.681 585.303 140.56C585.481 140.457 585.691 140.364 585.933 140.28C586.185 140.187 586.47 140.14 586.787 140.14H587.137V141.47ZM589.722 147H588.322V140.28H589.722V147ZM589.862 138.18C589.862 138.423 589.782 138.623 589.624 138.782C589.465 138.941 589.264 139.02 589.022 139.02C588.779 139.02 588.578 138.941 588.42 138.782C588.261 138.623 588.182 138.423 588.182 138.18C588.182 137.937 588.261 137.737 588.42 137.578C588.578 137.419 588.779 137.34 589.022 137.34C589.264 137.34 589.465 137.419 589.624 137.578C589.782 137.737 589.862 137.937 589.862 138.18ZM596.932 143.64C596.932 143.323 596.876 143.029 596.764 142.758C596.652 142.487 596.498 142.254 596.302 142.058C596.106 141.853 595.882 141.694 595.63 141.582C595.378 141.461 595.112 141.4 594.832 141.4C594.552 141.4 594.286 141.461 594.034 141.582C593.782 141.694 593.558 141.853 593.362 142.058C593.166 142.254 593.012 142.487 592.9 142.758C592.788 143.029 592.732 143.323 592.732 143.64C592.732 143.957 592.788 144.251 592.9 144.522C593.012 144.793 593.166 145.031 593.362 145.236C593.558 145.432 593.782 145.591 594.034 145.712C594.286 145.824 594.552 145.88 594.832 145.88C595.112 145.88 595.378 145.824 595.63 145.712C595.882 145.591 596.106 145.432 596.302 145.236C596.498 145.031 596.652 144.793 596.764 144.522C596.876 144.251 596.932 143.957 596.932 143.64ZM591.332 143.64C591.332 143.164 591.425 142.716 591.612 142.296C591.798 141.876 592.05 141.507 592.368 141.19C592.694 140.863 593.068 140.607 593.488 140.42C593.908 140.233 594.356 140.14 594.832 140.14C595.308 140.14 595.756 140.233 596.176 140.42C596.596 140.607 596.964 140.863 597.282 141.19C597.608 141.507 597.865 141.876 598.052 142.296C598.238 142.716 598.332 143.164 598.332 143.64C598.332 144.116 598.238 144.564 598.052 144.984C597.865 145.404 597.608 145.777 597.282 146.104C596.964 146.421 596.596 146.673 596.176 146.86C595.756 147.047 595.308 147.14 594.832 147.14C594.356 147.14 593.908 147.047 593.488 146.86C593.068 146.673 592.694 146.421 592.368 146.104C592.05 145.777 591.798 145.404 591.612 144.984C591.425 144.564 591.332 144.116 591.332 143.64ZM603.653 141.47C603.597 141.461 603.536 141.451 603.471 141.442C603.415 141.433 603.345 141.423 603.261 141.414C603.186 141.405 603.107 141.4 603.023 141.4C602.491 141.4 602.066 141.568 601.749 141.904C601.432 142.24 601.273 142.725 601.273 143.36V147H599.873V140.28H601.273V140.98C601.432 140.821 601.614 140.681 601.819 140.56C601.996 140.457 602.206 140.364 602.449 140.28C602.701 140.187 602.986 140.14 603.303 140.14H603.653V141.47ZM606.237 147H604.837V140.28H606.237V147ZM606.377 138.18C606.377 138.423 606.298 138.623 606.139 138.782C605.981 138.941 605.78 139.02 605.537 139.02C605.295 139.02 605.094 138.941 604.935 138.782C604.777 138.623 604.697 138.423 604.697 138.18C604.697 137.937 604.777 137.737 604.935 137.578C605.094 137.419 605.295 137.34 605.537 137.34C605.78 137.34 605.981 137.419 606.139 137.578C606.298 137.737 606.377 137.937 606.377 138.18ZM609.107 138.04H610.367V140.28H611.767V141.54H610.367V145.026C610.367 145.278 610.447 145.483 610.605 145.642C610.764 145.801 610.965 145.88 611.207 145.88C611.385 145.88 611.543 145.857 611.683 145.81C611.758 145.791 611.833 145.768 611.907 145.74V147C611.823 147.028 611.73 147.051 611.627 147.07C611.422 147.117 611.189 147.14 610.927 147.14C610.293 147.14 609.807 146.967 609.471 146.622C609.135 146.267 608.967 145.74 608.967 145.04V141.54H607.707V140.28H608.407C608.622 140.28 608.79 140.21 608.911 140.07C609.042 139.93 609.107 139.72 609.107 139.44V138.04ZM615.056 147H613.656V140.28H615.056V147ZM615.196 138.18C615.196 138.423 615.116 138.623 614.958 138.782C614.799 138.941 614.598 139.02 614.356 139.02C614.113 139.02 613.912 138.941 613.754 138.782C613.595 138.623 613.516 138.423 613.516 138.18C613.516 137.937 613.595 137.737 613.754 137.578C613.912 137.419 614.113 137.34 614.356 137.34C614.598 137.34 614.799 137.419 614.958 137.578C615.116 137.737 615.196 137.937 615.196 138.18ZM622.126 141.54L618.416 145.74H622.266V147H616.666V145.74L620.376 141.54H616.806V140.28H622.126V141.54ZM624.792 144.13C624.83 144.354 624.904 144.573 625.016 144.788C625.138 145.003 625.287 145.189 625.464 145.348C625.651 145.507 625.866 145.637 626.108 145.74C626.351 145.833 626.612 145.88 626.892 145.88C627.219 145.88 627.508 145.829 627.76 145.726C628.022 145.614 628.236 145.493 628.404 145.362C628.6 145.203 628.773 145.026 628.922 144.83L629.832 145.74C629.627 146.001 629.375 146.235 629.076 146.44C628.824 146.617 628.516 146.781 628.152 146.93C627.788 147.07 627.368 147.14 626.892 147.14C626.416 147.14 625.968 147.047 625.548 146.86C625.128 146.673 624.755 146.417 624.428 146.09C624.111 145.763 623.859 145.385 623.672 144.956C623.486 144.527 623.392 144.065 623.392 143.57C623.392 143.094 623.481 142.651 623.658 142.24C623.845 141.82 624.092 141.456 624.4 141.148C624.708 140.84 625.068 140.597 625.478 140.42C625.898 140.233 626.346 140.14 626.822 140.14C627.298 140.14 627.737 140.224 628.138 140.392C628.54 140.551 628.885 140.779 629.174 141.078C629.473 141.367 629.702 141.713 629.86 142.114C630.028 142.515 630.112 142.954 630.112 143.43C630.112 143.533 630.108 143.626 630.098 143.71C630.089 143.794 630.08 143.869 630.07 143.934C630.061 144.009 630.052 144.074 630.042 144.13H624.792ZM626.822 141.33C626.29 141.33 625.856 141.484 625.52 141.792C625.184 142.1 624.96 142.483 624.848 142.94H628.74C628.656 142.483 628.446 142.1 628.11 141.792C627.784 141.484 627.354 141.33 626.822 141.33Z",fill:"#1973BA"}),a().createElement("path",{opacity:"0.5",d:"M574.237 168.067C573.973 167.443 573.841 166.787 573.841 166.099C573.841 165.41 573.973 164.757 574.237 164.137C574.502 163.512 574.857 162.977 575.304 162.53C575.755 162.079 576.29 161.721 576.91 161.457C577.535 161.193 578.191 161.061 578.879 161.061C579.376 161.061 579.852 161.131 580.308 161.272C580.763 161.409 581.139 161.578 581.436 161.778C581.736 161.974 581.998 162.173 582.222 162.373C582.45 162.574 582.616 162.742 582.721 162.879L582.871 163.091L582.167 163.72C582.14 163.674 582.096 163.615 582.037 163.542C581.982 163.465 581.855 163.33 581.654 163.139C581.454 162.943 581.237 162.772 581.005 162.626C580.772 162.476 580.465 162.341 580.082 162.223C579.699 162.1 579.298 162.038 578.879 162.038C578.141 162.038 577.466 162.216 576.855 162.571C576.245 162.922 575.764 163.41 575.413 164.034C575.062 164.654 574.887 165.342 574.887 166.099C574.887 166.855 575.062 167.546 575.413 168.17C575.764 168.79 576.245 169.277 576.855 169.633C577.466 169.984 578.141 170.159 578.879 170.159C579.298 170.159 579.699 170.102 580.082 169.988C580.469 169.87 580.788 169.729 581.039 169.564C581.29 169.4 581.508 169.236 581.695 169.072C581.887 168.908 582.026 168.767 582.112 168.648L582.242 168.478L582.939 169.113C582.921 169.141 582.892 169.179 582.851 169.229C582.814 169.275 582.73 169.368 582.598 169.51C582.465 169.651 582.324 169.785 582.174 169.913C582.028 170.041 581.834 170.182 581.593 170.337C581.351 170.492 581.101 170.626 580.841 170.74C580.586 170.85 580.285 170.943 579.938 171.021C579.592 171.098 579.239 171.137 578.879 171.137C578.191 171.137 577.535 171.005 576.91 170.74C576.29 170.476 575.755 170.12 575.304 169.674C574.857 169.223 574.502 168.687 574.237 168.067ZM584.519 169.407C584.213 168.869 584.061 168.279 584.061 167.637C584.061 166.994 584.213 166.404 584.519 165.866C584.828 165.328 585.245 164.907 585.77 164.602C586.298 164.292 586.872 164.137 587.492 164.137C588.112 164.137 588.684 164.292 589.208 164.602C589.732 164.907 590.147 165.328 590.452 165.866C590.762 166.404 590.917 166.994 590.917 167.637C590.917 168.279 590.762 168.869 590.452 169.407C590.147 169.945 589.732 170.369 589.208 170.679C588.684 170.984 588.112 171.137 587.492 171.137C586.872 171.137 586.298 170.984 585.77 170.679C585.245 170.369 584.828 169.945 584.519 169.407ZM585.038 167.637C585.038 168.361 585.28 168.974 585.763 169.476C586.246 169.977 586.822 170.228 587.492 170.228C588.167 170.228 588.743 169.979 589.222 169.482C589.7 168.981 589.939 168.366 589.939 167.637C589.939 166.908 589.7 166.295 589.222 165.798C588.743 165.301 588.167 165.053 587.492 165.053C586.818 165.053 586.239 165.301 585.756 165.798C585.277 166.295 585.038 166.908 585.038 167.637ZM592.674 171V164.28H593.651V165.258C593.67 165.226 593.697 165.185 593.733 165.135C593.77 165.085 593.854 164.996 593.986 164.868C594.123 164.741 594.267 164.627 594.417 164.526C594.572 164.426 594.775 164.337 595.025 164.26C595.281 164.178 595.545 164.137 595.818 164.137C596.63 164.137 597.288 164.399 597.794 164.923C598.3 165.442 598.553 166.137 598.553 167.008V171H597.568V167.008C597.568 166.42 597.397 165.948 597.056 165.593C596.718 165.233 596.283 165.053 595.75 165.053C595.148 165.053 594.647 165.26 594.246 165.675C593.85 166.09 593.651 166.627 593.651 167.288V171H592.674ZM599.879 164.28H600.932L603.105 169.667L605.272 164.28H606.325L603.591 171H602.613L599.879 164.28ZM607.166 167.637C607.166 166.999 607.316 166.411 607.617 165.873C607.923 165.331 608.326 164.907 608.827 164.602C609.333 164.292 609.875 164.137 610.454 164.137C611.37 164.137 612.136 164.453 612.751 165.087C613.366 165.72 613.674 166.525 613.674 167.5C613.674 167.582 613.667 167.666 613.653 167.753C613.644 167.835 613.633 167.896 613.619 167.938L613.605 168.006L608.144 167.992C608.18 168.594 608.431 169.118 608.896 169.564C609.36 170.007 609.903 170.228 610.522 170.228C610.787 170.228 611.042 170.189 611.288 170.111C611.534 170.034 611.739 169.943 611.903 169.838C612.067 169.729 612.211 169.619 612.334 169.51C612.462 169.4 612.553 169.307 612.607 169.229L612.696 169.113L613.325 169.742C613.298 169.779 613.259 169.829 613.209 169.893C613.159 169.956 613.043 170.068 612.86 170.228C612.683 170.387 612.493 170.528 612.293 170.651C612.092 170.774 611.83 170.886 611.507 170.986C611.188 171.087 610.86 171.137 610.522 171.137C609.925 171.137 609.369 170.984 608.854 170.679C608.34 170.369 607.929 169.945 607.624 169.407C607.319 168.869 607.166 168.279 607.166 167.637ZM608.144 167.151H612.696C612.628 166.55 612.384 166.051 611.965 165.654C611.546 165.253 611.042 165.053 610.454 165.053C609.871 165.053 609.356 165.26 608.909 165.675C608.467 166.09 608.212 166.582 608.144 167.151ZM615.424 171V164.28H616.401V165.189C616.42 165.162 616.447 165.126 616.483 165.08C616.524 165.03 616.613 164.946 616.75 164.827C616.887 164.704 617.033 164.597 617.188 164.506C617.347 164.41 617.557 164.326 617.816 164.253C618.081 164.175 618.356 164.137 618.644 164.137H618.924V165.121H618.5C617.921 165.121 617.427 165.322 617.017 165.723C616.606 166.119 616.401 166.641 616.401 167.288V171H615.424ZM619.546 165.189V164.28H620.318C620.692 164.28 620.879 164.048 620.879 163.583V162.038H621.788V164.28H623.258V165.189H621.788V169.182C621.788 169.523 621.868 169.783 622.027 169.961C622.187 170.139 622.41 170.228 622.697 170.228C622.843 170.228 622.991 170.212 623.142 170.18C623.292 170.143 623.408 170.107 623.49 170.07L623.606 170.022V170.932C623.328 171.068 623.012 171.137 622.656 171.137C622.077 171.137 621.624 170.968 621.296 170.631C620.972 170.289 620.811 169.806 620.811 169.182V165.189H619.546ZM627.257 165.189V164.28H628.029C628.403 164.28 628.59 164.048 628.59 163.583V162.038H629.499V164.28H630.969V165.189H629.499V169.182C629.499 169.523 629.579 169.783 629.738 169.961C629.898 170.139 630.121 170.228 630.408 170.228C630.554 170.228 630.702 170.212 630.853 170.18C631.003 170.143 631.119 170.107 631.201 170.07L631.317 170.022V170.932C631.039 171.068 630.723 171.137 630.367 171.137C629.788 171.137 629.335 170.968 629.007 170.631C628.683 170.289 628.521 169.806 628.521 169.182V165.189H627.257ZM632.685 169.407C632.379 168.869 632.227 168.279 632.227 167.637C632.227 166.994 632.379 166.404 632.685 165.866C632.994 165.328 633.411 164.907 633.936 164.602C634.464 164.292 635.038 164.137 635.658 164.137C636.278 164.137 636.85 164.292 637.374 164.602C637.898 164.907 638.313 165.328 638.618 165.866C638.928 166.404 639.083 166.994 639.083 167.637C639.083 168.279 638.928 168.869 638.618 169.407C638.313 169.945 637.898 170.369 637.374 170.679C636.85 170.984 636.278 171.137 635.658 171.137C635.038 171.137 634.464 170.984 633.936 170.679C633.411 170.369 632.994 169.945 632.685 169.407ZM633.204 167.637C633.204 168.361 633.446 168.974 633.929 169.476C634.412 169.977 634.988 170.228 635.658 170.228C636.333 170.228 636.909 169.979 637.388 169.482C637.866 168.981 638.105 168.366 638.105 167.637C638.105 166.908 637.866 166.295 637.388 165.798C636.909 165.301 636.333 165.053 635.658 165.053C634.984 165.053 634.405 165.301 633.922 165.798C633.443 166.295 633.204 166.908 633.204 167.637ZM646.356 168.067C646.092 167.443 645.96 166.787 645.96 166.099C645.96 165.41 646.092 164.757 646.356 164.137C646.621 163.512 646.976 162.977 647.423 162.53C647.874 162.079 648.41 161.721 649.029 161.457C649.654 161.193 650.31 161.061 650.998 161.061C651.495 161.061 651.971 161.131 652.427 161.272C652.882 161.409 653.258 161.578 653.555 161.778C653.855 161.974 654.118 162.173 654.341 162.373C654.569 162.574 654.735 162.742 654.84 162.879L654.99 163.091L654.286 163.72C654.259 163.674 654.215 163.615 654.156 163.542C654.102 163.465 653.974 163.33 653.773 163.139C653.573 162.943 653.356 162.772 653.124 162.626C652.892 162.476 652.584 162.341 652.201 162.223C651.818 162.1 651.417 162.038 650.998 162.038C650.26 162.038 649.585 162.216 648.975 162.571C648.364 162.922 647.883 163.41 647.532 164.034C647.181 164.654 647.006 165.342 647.006 166.099C647.006 166.855 647.181 167.546 647.532 168.17C647.883 168.79 648.364 169.277 648.975 169.633C649.585 169.984 650.26 170.159 650.998 170.159C651.417 170.159 651.818 170.102 652.201 169.988C652.589 169.87 652.908 169.729 653.158 169.564C653.409 169.4 653.628 169.236 653.814 169.072C654.006 168.908 654.145 168.767 654.231 168.648L654.361 168.478L655.059 169.113C655.04 169.141 655.011 169.179 654.97 169.229C654.933 169.275 654.849 169.368 654.717 169.51C654.585 169.651 654.443 169.785 654.293 169.913C654.147 170.041 653.953 170.182 653.712 170.337C653.47 170.492 653.22 170.626 652.96 170.74C652.705 170.85 652.404 170.943 652.058 171.021C651.711 171.098 651.358 171.137 650.998 171.137C650.31 171.137 649.654 171.005 649.029 170.74C648.41 170.476 647.874 170.12 647.423 169.674C646.976 169.223 646.621 168.687 646.356 168.067ZM656.638 169.407C656.332 168.869 656.18 168.279 656.18 167.637C656.18 166.994 656.332 166.404 656.638 165.866C656.948 165.328 657.365 164.907 657.889 164.602C658.417 164.292 658.992 164.137 659.611 164.137C660.231 164.137 660.803 164.292 661.327 164.602C661.851 164.907 662.266 165.328 662.571 165.866C662.881 166.404 663.036 166.994 663.036 167.637C663.036 168.279 662.881 168.869 662.571 169.407C662.266 169.945 661.851 170.369 661.327 170.679C660.803 170.984 660.231 171.137 659.611 171.137C658.992 171.137 658.417 170.984 657.889 170.679C657.365 170.369 656.948 169.945 656.638 169.407ZM657.157 167.637C657.157 168.361 657.399 168.974 657.882 169.476C658.365 169.977 658.941 170.228 659.611 170.228C660.286 170.228 660.862 169.979 661.341 169.482C661.819 168.981 662.059 168.366 662.059 167.637C662.059 166.908 661.819 166.295 661.341 165.798C660.862 165.301 660.286 165.053 659.611 165.053C658.937 165.053 658.358 165.301 657.875 165.798C657.396 166.295 657.157 166.908 657.157 167.637ZM664.793 171V164.28H665.771V165.258C665.789 165.226 665.816 165.185 665.853 165.135C665.889 165.085 665.973 164.996 666.105 164.868C666.242 164.741 666.386 164.627 666.536 164.526C666.691 164.426 666.894 164.337 667.145 164.26C667.4 164.178 667.664 164.137 667.938 164.137C668.749 164.137 669.407 164.399 669.913 164.923C670.419 165.442 670.672 166.137 670.672 167.008V171H669.688V167.008C669.688 166.42 669.517 165.948 669.175 165.593C668.838 165.233 668.402 165.053 667.869 165.053C667.268 165.053 666.766 165.26 666.365 165.675C665.969 166.09 665.771 166.627 665.771 167.288V171H664.793ZM672.21 165.189V164.28H672.982C673.356 164.28 673.543 164.048 673.543 163.583V162.038H674.452V164.28H675.922V165.189H674.452V169.182C674.452 169.523 674.532 169.783 674.691 169.961C674.851 170.139 675.074 170.228 675.361 170.228C675.507 170.228 675.655 170.212 675.806 170.18C675.956 170.143 676.072 170.107 676.154 170.07L676.271 170.022V170.932C675.993 171.068 675.676 171.137 675.32 171.137C674.742 171.137 674.288 170.968 673.96 170.631C673.636 170.289 673.475 169.806 673.475 169.182V165.189H672.21ZM677.18 169.182C677.18 168.626 677.348 168.174 677.686 167.828C678.023 167.482 678.508 167.256 679.142 167.151L681.732 166.728C681.732 166.24 681.573 165.839 681.254 165.524C680.939 165.21 680.538 165.053 680.051 165.053C679.827 165.053 679.609 165.087 679.395 165.155C679.185 165.219 679.007 165.301 678.861 165.401C678.72 165.497 678.592 165.593 678.479 165.688C678.369 165.784 678.287 165.864 678.232 165.928L678.157 166.03L677.528 165.401C677.551 165.365 677.585 165.319 677.631 165.265C677.681 165.21 677.788 165.11 677.952 164.964C678.116 164.818 678.287 164.69 678.465 164.581C678.647 164.467 678.882 164.365 679.169 164.273C679.456 164.182 679.75 164.137 680.051 164.137C680.816 164.137 681.45 164.385 681.951 164.882C682.457 165.374 682.71 165.989 682.71 166.728V171H681.732V170.091C681.714 170.118 681.685 170.157 681.644 170.207C681.607 170.253 681.523 170.337 681.391 170.46C681.258 170.578 681.115 170.683 680.96 170.774C680.805 170.866 680.6 170.948 680.345 171.021C680.094 171.098 679.832 171.137 679.559 171.137C678.88 171.137 678.312 170.938 677.856 170.542C677.405 170.146 677.18 169.692 677.18 169.182ZM678.157 169.182C678.157 169.478 678.28 169.726 678.526 169.927C678.777 170.127 679.121 170.228 679.559 170.228C680.192 170.228 680.712 170.02 681.117 169.605C681.527 169.191 681.732 168.653 681.732 167.992V167.568L679.422 167.992C678.579 168.152 678.157 168.548 678.157 169.182ZM684.986 162.482C684.863 162.359 684.802 162.211 684.802 162.038C684.802 161.865 684.863 161.717 684.986 161.594C685.109 161.471 685.257 161.409 685.431 161.409C685.604 161.409 685.752 161.471 685.875 161.594C685.998 161.717 686.06 161.865 686.06 162.038C686.06 162.211 685.998 162.359 685.875 162.482C685.752 162.605 685.604 162.667 685.431 162.667C685.257 162.667 685.109 162.605 684.986 162.482ZM684.945 171V164.28H685.923V171H684.945ZM688.172 171V164.28H689.149V165.258C689.168 165.226 689.195 165.185 689.231 165.135C689.268 165.085 689.352 164.996 689.484 164.868C689.621 164.741 689.765 164.627 689.915 164.526C690.07 164.426 690.273 164.337 690.523 164.26C690.779 164.178 691.043 164.137 691.316 164.137C692.128 164.137 692.786 164.399 693.292 164.923C693.798 165.442 694.051 166.137 694.051 167.008V171H693.066V167.008C693.066 166.42 692.896 165.948 692.554 165.593C692.216 165.233 691.781 165.053 691.248 165.053C690.646 165.053 690.145 165.26 689.744 165.675C689.348 166.09 689.149 166.627 689.149 167.288V171H688.172ZM695.801 167.637C695.801 166.999 695.951 166.411 696.252 165.873C696.557 165.331 696.961 164.907 697.462 164.602C697.968 164.292 698.51 164.137 699.089 164.137C700.005 164.137 700.771 164.453 701.386 165.087C702.001 165.72 702.309 166.525 702.309 167.5C702.309 167.582 702.302 167.666 702.288 167.753C702.279 167.835 702.268 167.896 702.254 167.938L702.24 168.006L696.778 167.992C696.815 168.594 697.065 169.118 697.53 169.564C697.995 170.007 698.537 170.228 699.157 170.228C699.422 170.228 699.677 170.189 699.923 170.111C700.169 170.034 700.374 169.943 700.538 169.838C700.702 169.729 700.846 169.619 700.969 169.51C701.096 169.4 701.188 169.307 701.242 169.229L701.331 169.113L701.96 169.742C701.933 169.779 701.894 169.829 701.844 169.893C701.794 169.956 701.677 170.068 701.495 170.228C701.317 170.387 701.128 170.528 700.928 170.651C700.727 170.774 700.465 170.886 700.142 170.986C699.823 171.087 699.494 171.137 699.157 171.137C698.56 171.137 698.004 170.984 697.489 170.679C696.974 170.369 696.564 169.945 696.259 169.407C695.953 168.869 695.801 168.279 695.801 167.637ZM696.778 167.151H701.331C701.263 166.55 701.019 166.051 700.6 165.654C700.18 165.253 699.677 165.053 699.089 165.053C698.506 165.053 697.991 165.26 697.544 165.675C697.102 166.09 696.847 166.582 696.778 167.151ZM704.059 171V164.28H705.036V165.189C705.054 165.162 705.082 165.126 705.118 165.08C705.159 165.03 705.248 164.946 705.385 164.827C705.521 164.704 705.667 164.597 705.822 164.506C705.982 164.41 706.191 164.326 706.451 164.253C706.715 164.175 706.991 164.137 707.278 164.137H707.559V165.121H707.135C706.556 165.121 706.062 165.322 705.651 165.723C705.241 166.119 705.036 166.641 705.036 167.288V171H704.059Z",fill:"#282929"}),a().createElement("path",{opacity:"0.5",d:"M574.47 190.2V200H577.55C580.42 200 582.66 197.76 582.66 195.1C582.66 192.44 580.42 190.2 577.55 190.2H574.47ZM577.55 191.18C579.86 191.18 581.61 192.93 581.61 195.1C581.61 197.27 579.86 199.02 577.55 199.02H575.52V191.18H577.55ZM590.5 197.004C590.5 197.004 590.57 196.78 590.57 196.5C590.57 194.54 589.17 193.14 587.35 193.14C585.6 193.14 584.06 194.68 584.06 196.64C584.06 198.6 585.6 200.14 587.42 200.14C589.24 200.14 590.22 198.74 590.22 198.74L589.59 198.11C589.59 198.11 588.834 199.23 587.42 199.23C586.16 199.23 585.11 198.18 585.04 196.99L590.5 197.004ZM587.35 194.05C588.54 194.05 589.45 194.96 589.59 196.15H585.04C585.18 195.03 586.16 194.05 587.35 194.05ZM593.366 190.2H592.386V200H593.366V190.2ZM601.629 197.004C601.629 197.004 601.699 196.78 601.699 196.5C601.699 194.54 600.299 193.14 598.479 193.14C596.729 193.14 595.189 194.68 595.189 196.64C595.189 198.6 596.729 200.14 598.549 200.14C600.369 200.14 601.349 198.74 601.349 198.74L600.719 198.11C600.719 198.11 599.963 199.23 598.549 199.23C597.289 199.23 596.239 198.18 596.169 196.99L601.629 197.004ZM598.479 194.05C599.669 194.05 600.579 194.96 600.719 196.15H596.169C596.309 195.03 597.289 194.05 598.479 194.05ZM604.075 192.58C604.075 193.07 603.865 193.28 603.515 193.28H602.745V194.19H604.005V198.18C604.005 199.44 604.705 200.14 605.853 200.14C606.385 200.14 606.805 199.93 606.805 199.93V199.02C606.805 199.02 606.385 199.23 605.895 199.23C605.335 199.23 604.985 198.88 604.985 198.18V194.19H606.455V193.28H604.985V191.04H604.075V192.58ZM614.166 197.004C614.166 197.004 614.236 196.78 614.236 196.5C614.236 194.54 612.836 193.14 611.016 193.14C609.266 193.14 607.726 194.68 607.726 196.64C607.726 198.6 609.266 200.14 611.086 200.14C612.906 200.14 613.886 198.74 613.886 198.74L613.256 198.11C613.256 198.11 612.5 199.23 611.086 199.23C609.826 199.23 608.776 198.18 608.706 196.99L614.166 197.004ZM611.016 194.05C612.206 194.05 613.116 194.96 613.256 196.15H608.706C608.846 195.03 609.826 194.05 611.016 194.05Z",fill:"#282929"}),a().createElement("g",{filter:"url(#ScoreDrawerEmptyTable-filter6_d)"},a().createElement("path",{d:"M701.27 154.28C700.99 153.92 700.64 153.19 700.03 152.28C699.68 151.78 698.82 150.83 698.56 150.34C698.372 150.042 698.318 149.68 698.41 149.34C698.567 148.694 699.179 148.266 699.84 148.34C700.351 148.443 700.82 148.693 701.19 149.06C701.448 149.303 701.686 149.567 701.9 149.85C702.06 150.05 702.1 150.13 702.28 150.36C702.46 150.59 702.58 150.82 702.49 150.48C702.42 149.98 702.3 149.14 702.13 148.39C702 147.82 701.97 147.73 701.85 147.3C701.73 146.87 701.66 146.51 701.53 146.02C701.411 145.538 701.318 145.051 701.25 144.56C701.124 143.932 701.216 143.279 701.51 142.71C701.859 142.381 702.372 142.295 702.81 142.49C703.25 142.815 703.579 143.27 703.75 143.79C704.012 144.43 704.187 145.103 704.27 145.79C704.43 146.79 704.74 148.25 704.75 148.55C704.75 148.18 704.68 147.4 704.75 147.05C704.819 146.685 705.073 146.382 705.42 146.25C705.718 146.159 706.033 146.138 706.34 146.19C706.65 146.255 706.925 146.433 707.11 146.69C707.342 147.273 707.47 147.893 707.49 148.52C707.517 147.971 707.611 147.426 707.77 146.9C707.937 146.664 708.181 146.495 708.46 146.42C708.79 146.359 709.129 146.359 709.46 146.42C709.731 146.511 709.968 146.681 710.14 146.91C710.352 147.44 710.48 148 710.52 148.57C710.52 148.71 710.59 148.18 710.81 147.83C710.924 147.491 711.211 147.238 711.562 147.167C711.913 147.097 712.275 147.218 712.512 147.487C712.749 147.756 712.824 148.131 712.71 148.47C712.71 149.12 712.71 149.09 712.71 149.53C712.71 149.97 712.71 150.36 712.71 150.73C712.673 151.315 712.593 151.897 712.47 152.47C712.296 152.977 712.054 153.458 711.75 153.9C711.264 154.44 710.863 155.05 710.56 155.71C710.485 156.038 710.451 156.374 710.46 156.71C710.459 157.021 710.499 157.33 710.58 157.63C710.171 157.673 709.759 157.673 709.35 157.63C708.96 157.57 708.48 156.79 708.35 156.55C708.286 156.421 708.154 156.34 708.01 156.34C707.866 156.34 707.734 156.421 707.67 156.55C707.45 156.93 706.96 157.62 706.62 157.66C705.95 157.74 704.57 157.66 703.48 157.66C703.48 157.66 703.66 156.66 703.25 156.3C702.84 155.94 702.42 155.52 702.11 155.24L701.27 154.28Z",fill:"white"}),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M701.27 154.28C700.99 153.92 700.64 153.19 700.03 152.28C699.68 151.78 698.82 150.83 698.56 150.34C698.372 150.042 698.318 149.68 698.41 149.34C698.567 148.694 699.179 148.266 699.84 148.34C700.351 148.443 700.82 148.693 701.19 149.06C701.448 149.303 701.686 149.567 701.9 149.85C702.06 150.05 702.1 150.13 702.28 150.36C702.46 150.59 702.58 150.82 702.49 150.48C702.42 149.98 702.3 149.14 702.13 148.39C702 147.82 701.97 147.73 701.85 147.3C701.73 146.87 701.66 146.51 701.53 146.02C701.411 145.538 701.318 145.051 701.25 144.56C701.124 143.932 701.216 143.279 701.51 142.71C701.859 142.381 702.372 142.295 702.81 142.49C703.25 142.815 703.579 143.27 703.75 143.79C704.012 144.43 704.187 145.103 704.27 145.79C704.43 146.79 704.74 148.25 704.75 148.55C704.75 148.18 704.68 147.4 704.75 147.05C704.819 146.685 705.073 146.382 705.42 146.25C705.718 146.159 706.033 146.138 706.34 146.19C706.65 146.255 706.925 146.433 707.11 146.69C707.342 147.273 707.47 147.893 707.49 148.52C707.517 147.971 707.611 147.426 707.77 146.9C707.937 146.664 708.181 146.495 708.46 146.42C708.79 146.359 709.129 146.359 709.46 146.42C709.731 146.511 709.968 146.681 710.14 146.91C710.352 147.44 710.48 148 710.52 148.57C710.52 148.71 710.59 148.18 710.81 147.83C710.924 147.491 711.211 147.238 711.562 147.167C711.913 147.097 712.275 147.218 712.512 147.487C712.749 147.756 712.824 148.131 712.71 148.47C712.71 149.12 712.71 149.09 712.71 149.53C712.71 149.97 712.71 150.36 712.71 150.73C712.673 151.315 712.593 151.897 712.47 152.47C712.296 152.977 712.054 153.458 711.75 153.9C711.264 154.44 710.863 155.05 710.56 155.71C710.485 156.038 710.451 156.374 710.46 156.71C710.459 157.021 710.499 157.33 710.58 157.63C710.171 157.673 709.759 157.673 709.35 157.63C708.96 157.57 708.48 156.79 708.35 156.55C708.286 156.421 708.154 156.34 708.01 156.34C707.866 156.34 707.734 156.421 707.67 156.55C707.45 156.93 706.96 157.62 706.62 157.66C705.95 157.74 704.57 157.66 703.48 157.66C703.48 157.66 703.66 156.66 703.25 156.3C702.84 155.94 702.42 155.52 702.11 155.24L701.27 154.28Z",stroke:"#282929",strokeWidth:"0.75",strokeLinecap:"round",strokeLinejoin:"round"}),a().createElement("path",{d:"M709.75 154.826V151.374C709.75 151.167 709.582 151 709.375 151C709.168 151 709 151.167 709 151.374V154.826C709 155.033 709.168 155.2 709.375 155.2C709.582 155.2 709.75 155.033 709.75 154.826Z",fill:"#282929"}),a().createElement("path",{d:"M707.77 154.825L707.75 151.371C707.749 151.165 707.58 150.999 707.373 151C707.166 151.001 706.999 151.169 707 151.375L707.02 154.829C707.021 155.035 707.19 155.201 707.397 155.2C707.604 155.199 707.771 155.031 707.77 154.825Z",fill:"#282929"}),a().createElement("path",{d:"M705 151.379L705.02 154.825C705.021 155.033 705.19 155.201 705.397 155.2C705.604 155.199 705.771 155.029 705.77 154.821L705.75 151.375C705.749 151.167 705.58 150.999 705.373 151C705.166 151.001 704.999 151.171 705 151.379Z",fill:"#282929"})),a().createElement("defs",null,a().createElement("filter",{id:"ScoreDrawerEmptyTable-filter0_ii",x:"0",y:"0",width:"729",height:"50",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"-1"}),a().createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.819608 0 0 0 0 0.835294 0 0 0 0 0.85098 0 0 0 1 0"}),a().createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.819608 0 0 0 0 0.835294 0 0 0 0 0.85098 0 0 0 1 0"}),a().createElement("feBlend",{mode:"normal",in2:"effect1_innerShadow",result:"effect2_innerShadow"})),a().createElement("filter",{id:"ScoreDrawerEmptyTable-filter1_i",x:"0",y:"100",width:"729",height:"50",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"-1"}),a().createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.819608 0 0 0 0 0.835294 0 0 0 0 0.85098 0 0 0 1 0"}),a().createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"})),a().createElement("filter",{id:"ScoreDrawerEmptyTable-filter2_i",x:"0",y:"150",width:"729",height:"50",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"-1"}),a().createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.819608 0 0 0 0 0.835294 0 0 0 0 0.85098 0 0 0 1 0"}),a().createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"})),a().createElement("filter",{id:"ScoreDrawerEmptyTable-filter3_i",x:"0",y:"50",width:"729",height:"50",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dy:"-1"}),a().createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.819608 0 0 0 0 0.835294 0 0 0 0 0.85098 0 0 0 1 0"}),a().createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"})),a().createElement("filter",{id:"ScoreDrawerEmptyTable-filter4_i",x:"697",y:"50",width:"32",height:"50",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),a().createElement("feOffset",{dx:"1"}),a().createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.820155 0 0 0 0 0.83351 0 0 0 0 0.850543 0 0 0 1 0"}),a().createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow"})),a().createElement("filter",{id:"ScoreDrawerEmptyTable-filter5_d",x:"552",y:"89",width:"190",height:"135",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a().createElement("feOffset",{dy:"2"}),a().createElement("feGaussianBlur",{stdDeviation:"6"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.156863 0 0 0 0 0.160784 0 0 0 0 0.160784 0 0 0 0.2 0"}),a().createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),a().createElement("filter",{id:"ScoreDrawerEmptyTable-filter6_d",x:"697.191",y:"142.012",width:"16.7461",height:"17.8588",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},a().createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),a().createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),a().createElement("feOffset",{dy:"1"}),a().createElement("feGaussianBlur",{stdDeviation:"0.4"}),a().createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0"}),a().createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),a().createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function D(e){var t=e.classNames,r=void 0===t?"":t;return a().createElement("svg",{className:r,id:"google-sheets-icon",width:"20",height:"27",viewBox:"0 0 20 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"27"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"white"})),a().createElement("g",{mask:"url(#mask0)"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L15.2057 4.17699L12.1645 0Z",fill:"#0F9D58"})),a().createElement("mask",{id:"mask1","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"27"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"white"})),a().createElement("g",{mask:"url(#mask1)"},a().createElement("path",{d:"M5 13V21.6523H14.7316V13H5ZM9.25759 20.4589H6.21645V18.9671H9.25759V20.4589ZM9.25759 18.0721H6.21645V16.5803H9.25759V18.0721ZM9.25759 15.6852H6.21645V14.1934H9.25759V15.6852ZM13.5152 20.4589H10.474V18.9671H13.5152V20.4589ZM13.5152 18.0721H10.474V16.5803H13.5152V18.0721ZM13.5152 15.6852H10.474V14.1934H13.5152V15.6852Z",fill:"#F1F1F1"})),a().createElement("mask",{id:"mask2","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"27"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"white"})),a().createElement("g",{mask:"url(#mask2)"},a().createElement("path",{d:"M13 7L19.765 13.6354V7.52362L13 7Z",fill:"url(#paint0_linear)"})),a().createElement("mask",{id:"mask3","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"27"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"white"})),a().createElement("g",{mask:"url(#mask3)"},a().createElement("path",{d:"M12 0V5.37042C12 6.35947 12.8165 7.16055 13.8247 7.16055H19.2987L12 0Z",fill:"#87CEAC"})),a().createElement("mask",{id:"mask4","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"27"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"white"})),a().createElement("g",{mask:"url(#mask4)"},a().createElement("path",{d:"M1.82468 0C0.821106 0 0 0.805562 0 1.79014V1.93932C0 0.954741 0.821106 0.149178 1.82468 0.149178H12.1645V0H1.82468Z",fill:"white",fillOpacity:"0.2"})),a().createElement("mask",{id:"mask5","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"27"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"white"})),a().createElement("g",{mask:"url(#mask5)"},a().createElement("path",{d:"M17.6386 25.7901H1.82468C0.821106 25.7901 0 24.9846 0 24V24.1492C0 25.1338 0.821106 25.9393 1.82468 25.9393H17.6386C18.6421 25.9393 19.4632 25.1338 19.4632 24.1492V24C19.4632 24.9846 18.6421 25.7901 17.6386 25.7901Z",fill:"#263238",fillOpacity:"0.2"})),a().createElement("mask",{id:"mask6","mask-type":"alpha",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"27"},a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"white"})),a().createElement("g",{mask:"url(#mask6)"},a().createElement("path",{d:"M13.8247 6.79014C12.8165 6.79014 12 5.98905 12 5V5.14918C12 6.13823 12.8165 6.93932 13.8247 6.93932H19.2987V6.79014H13.8247Z",fill:"#263238",fillOpacity:"0.1"})),a().createElement("path",{d:"M12.1645 0H1.82468C0.821106 0 0 0.805562 0 1.79014V24.4652C0 25.4498 0.821106 26.2554 1.82468 26.2554H17.6386C18.6421 26.2554 19.4632 25.4498 19.4632 24.4652V7.16055L12.1645 0Z",fill:"url(#paint1_radial)"}),a().createElement("defs",null,a().createElement("linearGradient",{id:"paint0_linear",x1:"16.3829",y1:"7.56973",x2:"16.3829",y2:"13.6364",gradientUnits:"userSpaceOnUse"},a().createElement("stop",{stopColor:"#263238",stopOpacity:"0.2"}),a().createElement("stop",{offset:"1",stopColor:"#263238",stopOpacity:"0.02"})),a().createElement("radialGradient",{id:"paint1_radial",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(0.616605 0.52188) scale(31.3842 30.7901)"},a().createElement("stop",{stopColor:"white",stopOpacity:"0.1"}),a().createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function I(){return a().createElement("svg",{width:"240",height:"152",viewBox:"0 0 240 152",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("g",{id:"Simple Table View"},a().createElement("g",{id:"Row"},a().createElement("rect",{id:"Rectangle",x:"0.5",y:"0.5",width:"239",height:"31",rx:"3.5",fill:"#F0F3F5",stroke:"#D1D5D9"}),a().createElement("path",{id:"Roadmap 1",d:"M154.532 12.1H158.072C158.464 12.1 158.824 12.168 159.152 12.304C159.48 12.432 159.764 12.616 160.004 12.856C160.244 13.088 160.432 13.36 160.568 13.672C160.704 13.984 160.772 14.32 160.772 14.68C160.772 15.152 160.684 15.544 160.508 15.856C160.332 16.168 160.14 16.42 159.932 16.612C159.684 16.836 159.404 17.012 159.092 17.14L161.012 20.5H159.572L157.772 17.26H155.852V20.5H154.532V12.1ZM159.452 14.68C159.452 14.488 159.416 14.308 159.344 14.14C159.272 13.972 159.172 13.828 159.044 13.708C158.924 13.58 158.78 13.48 158.612 13.408C158.444 13.336 158.264 13.3 158.072 13.3H155.852V16.06H158.072C158.264 16.06 158.444 16.024 158.612 15.952C158.78 15.88 158.924 15.784 159.044 15.664C159.172 15.536 159.272 15.388 159.344 15.22C159.416 15.052 159.452 14.872 159.452 14.68ZM166.954 17.62C166.954 17.348 166.906 17.096 166.81 16.864C166.714 16.632 166.582 16.432 166.414 16.264C166.246 16.088 166.054 15.952 165.838 15.856C165.622 15.752 165.394 15.7 165.154 15.7C164.914 15.7 164.686 15.752 164.47 15.856C164.254 15.952 164.062 16.088 163.894 16.264C163.726 16.432 163.594 16.632 163.498 16.864C163.402 17.096 163.354 17.348 163.354 17.62C163.354 17.892 163.402 18.144 163.498 18.376C163.594 18.608 163.726 18.812 163.894 18.988C164.062 19.156 164.254 19.292 164.47 19.396C164.686 19.492 164.914 19.54 165.154 19.54C165.394 19.54 165.622 19.492 165.838 19.396C166.054 19.292 166.246 19.156 166.414 18.988C166.582 18.812 166.714 18.608 166.81 18.376C166.906 18.144 166.954 17.892 166.954 17.62ZM162.154 17.62C162.154 17.212 162.234 16.828 162.394 16.468C162.554 16.108 162.77 15.792 163.042 15.52C163.322 15.24 163.642 15.02 164.002 14.86C164.362 14.7 164.746 14.62 165.154 14.62C165.562 14.62 165.946 14.7 166.306 14.86C166.666 15.02 166.982 15.24 167.254 15.52C167.534 15.792 167.754 16.108 167.914 16.468C168.074 16.828 168.154 17.212 168.154 17.62C168.154 18.028 168.074 18.412 167.914 18.772C167.754 19.132 167.534 19.452 167.254 19.732C166.982 20.004 166.666 20.22 166.306 20.38C165.946 20.54 165.562 20.62 165.154 20.62C164.746 20.62 164.362 20.54 164.002 20.38C163.642 20.22 163.322 20.004 163.042 19.732C162.77 19.452 162.554 19.132 162.394 18.772C162.234 18.412 162.154 18.028 162.154 17.62ZM172.895 20.5V19.9C172.759 20.036 172.603 20.156 172.427 20.26C172.275 20.348 172.091 20.428 171.875 20.5C171.667 20.58 171.427 20.62 171.155 20.62C170.851 20.62 170.575 20.572 170.327 20.476C170.079 20.38 169.863 20.256 169.679 20.104C169.503 19.944 169.363 19.764 169.259 19.564C169.163 19.356 169.115 19.148 169.115 18.94C169.115 18.46 169.267 18.064 169.571 17.752C169.875 17.432 170.283 17.228 170.795 17.14L172.895 16.78C172.895 16.476 172.783 16.22 172.559 16.012C172.343 15.804 172.055 15.7 171.695 15.7C171.439 15.7 171.219 15.744 171.035 15.832C170.851 15.912 170.695 16 170.567 16.096C170.423 16.208 170.299 16.336 170.195 16.48L169.415 15.7C169.575 15.5 169.767 15.32 169.991 15.16C170.183 15.024 170.419 14.9 170.699 14.788C170.979 14.676 171.311 14.62 171.695 14.62C172.055 14.62 172.383 14.676 172.679 14.788C172.975 14.9 173.227 15.056 173.435 15.256C173.643 15.448 173.803 15.676 173.915 15.94C174.035 16.204 174.095 16.484 174.095 16.78V20.5H172.895ZM171.335 19.54C171.815 19.54 172.195 19.396 172.475 19.108C172.755 18.82 172.895 18.404 172.895 17.86V17.74L171.035 18.04C170.827 18.08 170.655 18.168 170.519 18.304C170.383 18.44 170.315 18.612 170.315 18.82C170.315 19.004 170.399 19.172 170.567 19.324C170.743 19.468 170.999 19.54 171.335 19.54ZM178.24 14.62C178.52 14.62 178.776 14.664 179.008 14.752C179.24 14.832 179.436 14.92 179.596 15.016C179.788 15.128 179.956 15.256 180.1 15.4V12.1H181.3V20.5H180.1V19.84C179.956 19.992 179.788 20.124 179.596 20.236C179.436 20.332 179.24 20.42 179.008 20.5C178.776 20.58 178.52 20.62 178.24 20.62C177.864 20.62 177.504 20.544 177.16 20.392C176.824 20.232 176.524 20.02 176.26 19.756C176.004 19.484 175.8 19.168 175.648 18.808C175.496 18.44 175.42 18.044 175.42 17.62C175.42 17.204 175.496 16.812 175.648 16.444C175.8 16.076 176.004 15.76 176.26 15.496C176.524 15.224 176.824 15.012 177.16 14.86C177.504 14.7 177.864 14.62 178.24 14.62ZM178.36 19.54C178.584 19.54 178.8 19.492 179.008 19.396C179.216 19.292 179.4 19.156 179.56 18.988C179.728 18.812 179.86 18.608 179.956 18.376C180.052 18.144 180.1 17.892 180.1 17.62C180.1 17.348 180.052 17.096 179.956 16.864C179.86 16.632 179.728 16.432 179.56 16.264C179.4 16.088 179.216 15.952 179.008 15.856C178.8 15.752 178.584 15.7 178.36 15.7C178.136 15.7 177.92 15.752 177.712 15.856C177.504 15.952 177.316 16.088 177.148 16.264C176.988 16.432 176.86 16.632 176.764 16.864C176.668 17.096 176.62 17.348 176.62 17.62C176.62 17.892 176.668 18.144 176.764 18.376C176.86 18.608 176.988 18.812 177.148 18.988C177.316 19.156 177.504 19.292 177.712 19.396C177.92 19.492 178.136 19.54 178.36 19.54ZM190.544 17.14C190.544 16.66 190.432 16.3 190.208 16.06C189.992 15.82 189.704 15.7 189.344 15.7C188.984 15.7 188.672 15.844 188.408 16.132C188.152 16.42 188.024 16.836 188.024 17.38V20.5H186.824V17.14C186.824 16.66 186.712 16.3 186.488 16.06C186.272 15.82 185.984 15.7 185.624 15.7C185.264 15.7 184.952 15.844 184.688 16.132C184.432 16.42 184.304 16.836 184.304 17.38V20.5H183.104V14.74H184.304V15.34C184.424 15.204 184.564 15.084 184.724 14.98C184.86 14.892 185.024 14.812 185.216 14.74C185.408 14.66 185.624 14.62 185.864 14.62C186.176 14.62 186.444 14.672 186.668 14.776C186.892 14.872 187.072 14.98 187.208 15.1C187.368 15.244 187.5 15.404 187.604 15.58C187.732 15.404 187.896 15.244 188.096 15.1C188.256 14.98 188.46 14.872 188.708 14.776C188.956 14.672 189.248 14.62 189.584 14.62C190.248 14.62 190.772 14.828 191.156 15.244C191.548 15.66 191.744 16.292 191.744 17.14V20.5H190.544V17.14ZM196.848 20.5V19.9C196.712 20.036 196.556 20.156 196.38 20.26C196.228 20.348 196.044 20.428 195.828 20.5C195.62 20.58 195.38 20.62 195.108 20.62C194.804 20.62 194.528 20.572 194.28 20.476C194.032 20.38 193.816 20.256 193.632 20.104C193.456 19.944 193.316 19.764 193.212 19.564C193.116 19.356 193.068 19.148 193.068 18.94C193.068 18.46 193.22 18.064 193.524 17.752C193.828 17.432 194.236 17.228 194.748 17.14L196.848 16.78C196.848 16.476 196.736 16.22 196.512 16.012C196.296 15.804 196.008 15.7 195.648 15.7C195.392 15.7 195.172 15.744 194.988 15.832C194.804 15.912 194.648 16 194.52 16.096C194.376 16.208 194.252 16.336 194.148 16.48L193.368 15.7C193.528 15.5 193.72 15.32 193.944 15.16C194.136 15.024 194.372 14.9 194.652 14.788C194.932 14.676 195.264 14.62 195.648 14.62C196.008 14.62 196.336 14.676 196.632 14.788C196.928 14.9 197.18 15.056 197.388 15.256C197.596 15.448 197.756 15.676 197.868 15.94C197.988 16.204 198.048 16.484 198.048 16.78V20.5H196.848ZM195.288 19.54C195.768 19.54 196.148 19.396 196.428 19.108C196.708 18.82 196.848 18.404 196.848 17.86V17.74L194.988 18.04C194.78 18.08 194.608 18.168 194.472 18.304C194.336 18.44 194.268 18.612 194.268 18.82C194.268 19.004 194.352 19.172 194.52 19.324C194.696 19.468 194.952 19.54 195.288 19.54ZM202.793 20.62C202.505 20.62 202.245 20.58 202.013 20.5C201.789 20.42 201.597 20.332 201.437 20.236C201.245 20.124 201.077 19.992 200.933 19.84V23.02H199.733V14.74H200.933V15.4C201.077 15.256 201.245 15.128 201.437 15.016C201.597 14.92 201.789 14.832 202.013 14.752C202.245 14.664 202.505 14.62 202.793 14.62C203.169 14.62 203.525 14.7 203.861 14.86C204.205 15.012 204.505 15.224 204.761 15.496C205.025 15.76 205.233 16.076 205.385 16.444C205.537 16.812 205.613 17.204 205.613 17.62C205.613 18.044 205.537 18.44 205.385 18.808C205.233 19.168 205.025 19.484 204.761 19.756C204.505 20.02 204.205 20.232 203.861 20.392C203.525 20.544 203.169 20.62 202.793 20.62ZM202.673 15.7C202.449 15.7 202.233 15.752 202.025 15.856C201.817 15.952 201.629 16.088 201.461 16.264C201.301 16.432 201.173 16.632 201.077 16.864C200.981 17.096 200.933 17.348 200.933 17.62C200.933 17.892 200.981 18.144 201.077 18.376C201.173 18.608 201.301 18.812 201.461 18.988C201.629 19.156 201.817 19.292 202.025 19.396C202.233 19.492 202.449 19.54 202.673 19.54C202.897 19.54 203.113 19.492 203.321 19.396C203.529 19.292 203.713 19.156 203.873 18.988C204.041 18.812 204.173 18.608 204.269 18.376C204.365 18.144 204.413 17.892 204.413 17.62C204.413 17.348 204.365 17.096 204.269 16.864C204.173 16.632 204.041 16.432 203.873 16.264C203.713 16.088 203.529 15.952 203.321 15.856C203.113 15.752 202.897 15.7 202.673 15.7ZM211.851 12.1V20.5H210.531V14.14H209.031V13.24C209.303 13.208 209.535 13.16 209.727 13.096C209.919 13.032 210.083 12.952 210.219 12.856C210.363 12.752 210.483 12.64 210.579 12.52C210.675 12.392 210.759 12.252 210.831 12.1H211.851Z",fill:"#282929"}),a().createElement("rect",{id:"Rectangle_2",x:"16",y:"12",width:"82",height:"8",rx:"4",fill:"#D1D5D9"})),a().createElement("g",{id:"Row - Ordering"},a().createElement("rect",{id:"Rectangle Copy 5",x:"0.5",y:"40.5",width:"239",height:"31",rx:"2.5",fill:"white",stroke:"#D1D5D9"}),a().createElement("path",{id:"Roadmap 1_2",d:"M154.032 52.1H157.572C157.964 52.1 158.324 52.168 158.652 52.304C158.98 52.432 159.264 52.616 159.504 52.856C159.744 53.088 159.932 53.36 160.068 53.672C160.204 53.984 160.272 54.32 160.272 54.68C160.272 55.152 160.184 55.544 160.008 55.856C159.832 56.168 159.64 56.42 159.432 56.612C159.184 56.836 158.904 57.012 158.592 57.14L160.512 60.5H159.072L157.272 57.26H155.352V60.5H154.032V52.1ZM158.952 54.68C158.952 54.488 158.916 54.308 158.844 54.14C158.772 53.972 158.672 53.828 158.544 53.708C158.424 53.58 158.28 53.48 158.112 53.408C157.944 53.336 157.764 53.3 157.572 53.3H155.352V56.06H157.572C157.764 56.06 157.944 56.024 158.112 55.952C158.28 55.88 158.424 55.784 158.544 55.664C158.672 55.536 158.772 55.388 158.844 55.22C158.916 55.052 158.952 54.872 158.952 54.68ZM166.454 57.62C166.454 57.348 166.406 57.096 166.31 56.864C166.214 56.632 166.082 56.432 165.914 56.264C165.746 56.088 165.554 55.952 165.338 55.856C165.122 55.752 164.894 55.7 164.654 55.7C164.414 55.7 164.186 55.752 163.97 55.856C163.754 55.952 163.562 56.088 163.394 56.264C163.226 56.432 163.094 56.632 162.998 56.864C162.902 57.096 162.854 57.348 162.854 57.62C162.854 57.892 162.902 58.144 162.998 58.376C163.094 58.608 163.226 58.812 163.394 58.988C163.562 59.156 163.754 59.292 163.97 59.396C164.186 59.492 164.414 59.54 164.654 59.54C164.894 59.54 165.122 59.492 165.338 59.396C165.554 59.292 165.746 59.156 165.914 58.988C166.082 58.812 166.214 58.608 166.31 58.376C166.406 58.144 166.454 57.892 166.454 57.62ZM161.654 57.62C161.654 57.212 161.734 56.828 161.894 56.468C162.054 56.108 162.27 55.792 162.542 55.52C162.822 55.24 163.142 55.02 163.502 54.86C163.862 54.7 164.246 54.62 164.654 54.62C165.062 54.62 165.446 54.7 165.806 54.86C166.166 55.02 166.482 55.24 166.754 55.52C167.034 55.792 167.254 56.108 167.414 56.468C167.574 56.828 167.654 57.212 167.654 57.62C167.654 58.028 167.574 58.412 167.414 58.772C167.254 59.132 167.034 59.452 166.754 59.732C166.482 60.004 166.166 60.22 165.806 60.38C165.446 60.54 165.062 60.62 164.654 60.62C164.246 60.62 163.862 60.54 163.502 60.38C163.142 60.22 162.822 60.004 162.542 59.732C162.27 59.452 162.054 59.132 161.894 58.772C161.734 58.412 161.654 58.028 161.654 57.62ZM172.395 60.5V59.9C172.259 60.036 172.103 60.156 171.927 60.26C171.775 60.348 171.591 60.428 171.375 60.5C171.167 60.58 170.927 60.62 170.655 60.62C170.351 60.62 170.075 60.572 169.827 60.476C169.579 60.38 169.363 60.256 169.179 60.104C169.003 59.944 168.863 59.764 168.759 59.564C168.663 59.356 168.615 59.148 168.615 58.94C168.615 58.46 168.767 58.064 169.071 57.752C169.375 57.432 169.783 57.228 170.295 57.14L172.395 56.78C172.395 56.476 172.283 56.22 172.059 56.012C171.843 55.804 171.555 55.7 171.195 55.7C170.939 55.7 170.719 55.744 170.535 55.832C170.351 55.912 170.195 56 170.067 56.096C169.923 56.208 169.799 56.336 169.695 56.48L168.915 55.7C169.075 55.5 169.267 55.32 169.491 55.16C169.683 55.024 169.919 54.9 170.199 54.788C170.479 54.676 170.811 54.62 171.195 54.62C171.555 54.62 171.883 54.676 172.179 54.788C172.475 54.9 172.727 55.056 172.935 55.256C173.143 55.448 173.303 55.676 173.415 55.94C173.535 56.204 173.595 56.484 173.595 56.78V60.5H172.395ZM170.835 59.54C171.315 59.54 171.695 59.396 171.975 59.108C172.255 58.82 172.395 58.404 172.395 57.86V57.74L170.535 58.04C170.327 58.08 170.155 58.168 170.019 58.304C169.883 58.44 169.815 58.612 169.815 58.82C169.815 59.004 169.899 59.172 170.067 59.324C170.243 59.468 170.499 59.54 170.835 59.54ZM177.74 54.62C178.02 54.62 178.276 54.664 178.508 54.752C178.74 54.832 178.936 54.92 179.096 55.016C179.288 55.128 179.456 55.256 179.6 55.4V52.1H180.8V60.5H179.6V59.84C179.456 59.992 179.288 60.124 179.096 60.236C178.936 60.332 178.74 60.42 178.508 60.5C178.276 60.58 178.02 60.62 177.74 60.62C177.364 60.62 177.004 60.544 176.66 60.392C176.324 60.232 176.024 60.02 175.76 59.756C175.504 59.484 175.3 59.168 175.148 58.808C174.996 58.44 174.92 58.044 174.92 57.62C174.92 57.204 174.996 56.812 175.148 56.444C175.3 56.076 175.504 55.76 175.76 55.496C176.024 55.224 176.324 55.012 176.66 54.86C177.004 54.7 177.364 54.62 177.74 54.62ZM177.86 59.54C178.084 59.54 178.3 59.492 178.508 59.396C178.716 59.292 178.9 59.156 179.06 58.988C179.228 58.812 179.36 58.608 179.456 58.376C179.552 58.144 179.6 57.892 179.6 57.62C179.6 57.348 179.552 57.096 179.456 56.864C179.36 56.632 179.228 56.432 179.06 56.264C178.9 56.088 178.716 55.952 178.508 55.856C178.3 55.752 178.084 55.7 177.86 55.7C177.636 55.7 177.42 55.752 177.212 55.856C177.004 55.952 176.816 56.088 176.648 56.264C176.488 56.432 176.36 56.632 176.264 56.864C176.168 57.096 176.12 57.348 176.12 57.62C176.12 57.892 176.168 58.144 176.264 58.376C176.36 58.608 176.488 58.812 176.648 58.988C176.816 59.156 177.004 59.292 177.212 59.396C177.42 59.492 177.636 59.54 177.86 59.54ZM190.044 57.14C190.044 56.66 189.932 56.3 189.708 56.06C189.492 55.82 189.204 55.7 188.844 55.7C188.484 55.7 188.172 55.844 187.908 56.132C187.652 56.42 187.524 56.836 187.524 57.38V60.5H186.324V57.14C186.324 56.66 186.212 56.3 185.988 56.06C185.772 55.82 185.484 55.7 185.124 55.7C184.764 55.7 184.452 55.844 184.188 56.132C183.932 56.42 183.804 56.836 183.804 57.38V60.5H182.604V54.74H183.804V55.34C183.924 55.204 184.064 55.084 184.224 54.98C184.36 54.892 184.524 54.812 184.716 54.74C184.908 54.66 185.124 54.62 185.364 54.62C185.676 54.62 185.944 54.672 186.168 54.776C186.392 54.872 186.572 54.98 186.708 55.1C186.868 55.244 187 55.404 187.104 55.58C187.232 55.404 187.396 55.244 187.596 55.1C187.756 54.98 187.96 54.872 188.208 54.776C188.456 54.672 188.748 54.62 189.084 54.62C189.748 54.62 190.272 54.828 190.656 55.244C191.048 55.66 191.244 56.292 191.244 57.14V60.5H190.044V57.14ZM196.348 60.5V59.9C196.212 60.036 196.056 60.156 195.88 60.26C195.728 60.348 195.544 60.428 195.328 60.5C195.12 60.58 194.88 60.62 194.608 60.62C194.304 60.62 194.028 60.572 193.78 60.476C193.532 60.38 193.316 60.256 193.132 60.104C192.956 59.944 192.816 59.764 192.712 59.564C192.616 59.356 192.568 59.148 192.568 58.94C192.568 58.46 192.72 58.064 193.024 57.752C193.328 57.432 193.736 57.228 194.248 57.14L196.348 56.78C196.348 56.476 196.236 56.22 196.012 56.012C195.796 55.804 195.508 55.7 195.148 55.7C194.892 55.7 194.672 55.744 194.488 55.832C194.304 55.912 194.148 56 194.02 56.096C193.876 56.208 193.752 56.336 193.648 56.48L192.868 55.7C193.028 55.5 193.22 55.32 193.444 55.16C193.636 55.024 193.872 54.9 194.152 54.788C194.432 54.676 194.764 54.62 195.148 54.62C195.508 54.62 195.836 54.676 196.132 54.788C196.428 54.9 196.68 55.056 196.888 55.256C197.096 55.448 197.256 55.676 197.368 55.94C197.488 56.204 197.548 56.484 197.548 56.78V60.5H196.348ZM194.788 59.54C195.268 59.54 195.648 59.396 195.928 59.108C196.208 58.82 196.348 58.404 196.348 57.86V57.74L194.488 58.04C194.28 58.08 194.108 58.168 193.972 58.304C193.836 58.44 193.768 58.612 193.768 58.82C193.768 59.004 193.852 59.172 194.02 59.324C194.196 59.468 194.452 59.54 194.788 59.54ZM202.293 60.62C202.005 60.62 201.745 60.58 201.513 60.5C201.289 60.42 201.097 60.332 200.937 60.236C200.745 60.124 200.577 59.992 200.433 59.84V63.02H199.233V54.74H200.433V55.4C200.577 55.256 200.745 55.128 200.937 55.016C201.097 54.92 201.289 54.832 201.513 54.752C201.745 54.664 202.005 54.62 202.293 54.62C202.669 54.62 203.025 54.7 203.361 54.86C203.705 55.012 204.005 55.224 204.261 55.496C204.525 55.76 204.733 56.076 204.885 56.444C205.037 56.812 205.113 57.204 205.113 57.62C205.113 58.044 205.037 58.44 204.885 58.808C204.733 59.168 204.525 59.484 204.261 59.756C204.005 60.02 203.705 60.232 203.361 60.392C203.025 60.544 202.669 60.62 202.293 60.62ZM202.173 55.7C201.949 55.7 201.733 55.752 201.525 55.856C201.317 55.952 201.129 56.088 200.961 56.264C200.801 56.432 200.673 56.632 200.577 56.864C200.481 57.096 200.433 57.348 200.433 57.62C200.433 57.892 200.481 58.144 200.577 58.376C200.673 58.608 200.801 58.812 200.961 58.988C201.129 59.156 201.317 59.292 201.525 59.396C201.733 59.492 201.949 59.54 202.173 59.54C202.397 59.54 202.613 59.492 202.821 59.396C203.029 59.292 203.213 59.156 203.373 58.988C203.541 58.812 203.673 58.608 203.769 58.376C203.865 58.144 203.913 57.892 203.913 57.62C203.913 57.348 203.865 57.096 203.769 56.864C203.673 56.632 203.541 56.432 203.373 56.264C203.213 56.088 203.029 55.952 202.821 55.856C202.613 55.752 202.397 55.7 202.173 55.7ZM211.351 52.1V60.5H210.031V54.14H208.531V53.24C208.803 53.208 209.035 53.16 209.227 53.096C209.419 53.032 209.583 52.952 209.719 52.856C209.863 52.752 209.983 52.64 210.079 52.52C210.175 52.392 210.259 52.252 210.331 52.1H211.351Z",fill:"#282929"}),a().createElement("rect",{id:"Rectangle_3",x:"16",y:"52",width:"114",height:"8",rx:"4",fill:"#D1D5D9"})),a().createElement("g",{id:"Row_2"},a().createElement("rect",{id:"Rectangle Copy 2",x:"0.5",y:"80.5",width:"239",height:"31",rx:"3.5",fill:"#F0F3F5",stroke:"#D1D5D9"}),a().createElement("path",{id:"Roadmap 2",d:"M155.948 92.1H159.488C159.88 92.1 160.24 92.168 160.568 92.304C160.896 92.432 161.18 92.616 161.42 92.856C161.66 93.088 161.848 93.36 161.984 93.672C162.12 93.984 162.188 94.32 162.188 94.68C162.188 95.152 162.1 95.544 161.924 95.856C161.748 96.168 161.556 96.42 161.348 96.612C161.1 96.836 160.82 97.012 160.508 97.14L162.428 100.5H160.988L159.188 97.26H157.268V100.5H155.948V92.1ZM160.868 94.68C160.868 94.488 160.832 94.308 160.76 94.14C160.688 93.972 160.588 93.828 160.46 93.708C160.34 93.58 160.196 93.48 160.028 93.408C159.86 93.336 159.68 93.3 159.488 93.3H157.268V96.06H159.488C159.68 96.06 159.86 96.024 160.028 95.952C160.196 95.88 160.34 95.784 160.46 95.664C160.588 95.536 160.688 95.388 160.76 95.22C160.832 95.052 160.868 94.872 160.868 94.68ZM168.37 97.62C168.37 97.348 168.322 97.096 168.226 96.864C168.13 96.632 167.998 96.432 167.83 96.264C167.662 96.088 167.47 95.952 167.254 95.856C167.038 95.752 166.81 95.7 166.57 95.7C166.33 95.7 166.102 95.752 165.886 95.856C165.67 95.952 165.478 96.088 165.31 96.264C165.142 96.432 165.01 96.632 164.914 96.864C164.818 97.096 164.77 97.348 164.77 97.62C164.77 97.892 164.818 98.144 164.914 98.376C165.01 98.608 165.142 98.812 165.31 98.988C165.478 99.156 165.67 99.292 165.886 99.396C166.102 99.492 166.33 99.54 166.57 99.54C166.81 99.54 167.038 99.492 167.254 99.396C167.47 99.292 167.662 99.156 167.83 98.988C167.998 98.812 168.13 98.608 168.226 98.376C168.322 98.144 168.37 97.892 168.37 97.62ZM163.57 97.62C163.57 97.212 163.65 96.828 163.81 96.468C163.97 96.108 164.186 95.792 164.458 95.52C164.738 95.24 165.058 95.02 165.418 94.86C165.778 94.7 166.162 94.62 166.57 94.62C166.978 94.62 167.362 94.7 167.722 94.86C168.082 95.02 168.398 95.24 168.67 95.52C168.95 95.792 169.17 96.108 169.33 96.468C169.49 96.828 169.57 97.212 169.57 97.62C169.57 98.028 169.49 98.412 169.33 98.772C169.17 99.132 168.95 99.452 168.67 99.732C168.398 100.004 168.082 100.22 167.722 100.38C167.362 100.54 166.978 100.62 166.57 100.62C166.162 100.62 165.778 100.54 165.418 100.38C165.058 100.22 164.738 100.004 164.458 99.732C164.186 99.452 163.97 99.132 163.81 98.772C163.65 98.412 163.57 98.028 163.57 97.62ZM174.311 100.5V99.9C174.175 100.036 174.019 100.156 173.843 100.26C173.691 100.348 173.507 100.428 173.291 100.5C173.083 100.58 172.843 100.62 172.571 100.62C172.267 100.62 171.991 100.572 171.743 100.476C171.495 100.38 171.279 100.256 171.095 100.104C170.919 99.944 170.779 99.764 170.675 99.564C170.579 99.356 170.531 99.148 170.531 98.94C170.531 98.46 170.683 98.064 170.987 97.752C171.291 97.432 171.699 97.228 172.211 97.14L174.311 96.78C174.311 96.476 174.199 96.22 173.975 96.012C173.759 95.804 173.471 95.7 173.111 95.7C172.855 95.7 172.635 95.744 172.451 95.832C172.267 95.912 172.111 96 171.983 96.096C171.839 96.208 171.715 96.336 171.611 96.48L170.831 95.7C170.991 95.5 171.183 95.32 171.407 95.16C171.599 95.024 171.835 94.9 172.115 94.788C172.395 94.676 172.727 94.62 173.111 94.62C173.471 94.62 173.799 94.676 174.095 94.788C174.391 94.9 174.643 95.056 174.851 95.256C175.059 95.448 175.219 95.676 175.331 95.94C175.451 96.204 175.511 96.484 175.511 96.78V100.5H174.311ZM172.751 99.54C173.231 99.54 173.611 99.396 173.891 99.108C174.171 98.82 174.311 98.404 174.311 97.86V97.74L172.451 98.04C172.243 98.08 172.071 98.168 171.935 98.304C171.799 98.44 171.731 98.612 171.731 98.82C171.731 99.004 171.815 99.172 171.983 99.324C172.159 99.468 172.415 99.54 172.751 99.54ZM179.656 94.62C179.936 94.62 180.192 94.664 180.424 94.752C180.656 94.832 180.852 94.92 181.012 95.016C181.204 95.128 181.372 95.256 181.516 95.4V92.1H182.716V100.5H181.516V99.84C181.372 99.992 181.204 100.124 181.012 100.236C180.852 100.332 180.656 100.42 180.424 100.5C180.192 100.58 179.936 100.62 179.656 100.62C179.28 100.62 178.92 100.544 178.576 100.392C178.24 100.232 177.94 100.02 177.676 99.756C177.42 99.484 177.216 99.168 177.064 98.808C176.912 98.44 176.836 98.044 176.836 97.62C176.836 97.204 176.912 96.812 177.064 96.444C177.216 96.076 177.42 95.76 177.676 95.496C177.94 95.224 178.24 95.012 178.576 94.86C178.92 94.7 179.28 94.62 179.656 94.62ZM179.776 99.54C180 99.54 180.216 99.492 180.424 99.396C180.632 99.292 180.816 99.156 180.976 98.988C181.144 98.812 181.276 98.608 181.372 98.376C181.468 98.144 181.516 97.892 181.516 97.62C181.516 97.348 181.468 97.096 181.372 96.864C181.276 96.632 181.144 96.432 180.976 96.264C180.816 96.088 180.632 95.952 180.424 95.856C180.216 95.752 180 95.7 179.776 95.7C179.552 95.7 179.336 95.752 179.128 95.856C178.92 95.952 178.732 96.088 178.564 96.264C178.404 96.432 178.276 96.632 178.18 96.864C178.084 97.096 178.036 97.348 178.036 97.62C178.036 97.892 178.084 98.144 178.18 98.376C178.276 98.608 178.404 98.812 178.564 98.988C178.732 99.156 178.92 99.292 179.128 99.396C179.336 99.492 179.552 99.54 179.776 99.54ZM191.96 97.14C191.96 96.66 191.848 96.3 191.624 96.06C191.408 95.82 191.12 95.7 190.76 95.7C190.4 95.7 190.088 95.844 189.824 96.132C189.568 96.42 189.44 96.836 189.44 97.38V100.5H188.24V97.14C188.24 96.66 188.128 96.3 187.904 96.06C187.688 95.82 187.4 95.7 187.04 95.7C186.68 95.7 186.368 95.844 186.104 96.132C185.848 96.42 185.72 96.836 185.72 97.38V100.5H184.52V94.74H185.72V95.34C185.84 95.204 185.98 95.084 186.14 94.98C186.276 94.892 186.44 94.812 186.632 94.74C186.824 94.66 187.04 94.62 187.28 94.62C187.592 94.62 187.86 94.672 188.084 94.776C188.308 94.872 188.488 94.98 188.624 95.1C188.784 95.244 188.916 95.404 189.02 95.58C189.148 95.404 189.312 95.244 189.512 95.1C189.672 94.98 189.876 94.872 190.124 94.776C190.372 94.672 190.664 94.62 191 94.62C191.664 94.62 192.188 94.828 192.572 95.244C192.964 95.66 193.16 96.292 193.16 97.14V100.5H191.96V97.14ZM198.264 100.5V99.9C198.128 100.036 197.972 100.156 197.796 100.26C197.644 100.348 197.46 100.428 197.244 100.5C197.036 100.58 196.796 100.62 196.524 100.62C196.22 100.62 195.944 100.572 195.696 100.476C195.448 100.38 195.232 100.256 195.048 100.104C194.872 99.944 194.732 99.764 194.628 99.564C194.532 99.356 194.484 99.148 194.484 98.94C194.484 98.46 194.636 98.064 194.94 97.752C195.244 97.432 195.652 97.228 196.164 97.14L198.264 96.78C198.264 96.476 198.152 96.22 197.928 96.012C197.712 95.804 197.424 95.7 197.064 95.7C196.808 95.7 196.588 95.744 196.404 95.832C196.22 95.912 196.064 96 195.936 96.096C195.792 96.208 195.668 96.336 195.564 96.48L194.784 95.7C194.944 95.5 195.136 95.32 195.36 95.16C195.552 95.024 195.788 94.9 196.068 94.788C196.348 94.676 196.68 94.62 197.064 94.62C197.424 94.62 197.752 94.676 198.048 94.788C198.344 94.9 198.596 95.056 198.804 95.256C199.012 95.448 199.172 95.676 199.284 95.94C199.404 96.204 199.464 96.484 199.464 96.78V100.5H198.264ZM196.704 99.54C197.184 99.54 197.564 99.396 197.844 99.108C198.124 98.82 198.264 98.404 198.264 97.86V97.74L196.404 98.04C196.196 98.08 196.024 98.168 195.888 98.304C195.752 98.44 195.684 98.612 195.684 98.82C195.684 99.004 195.768 99.172 195.936 99.324C196.112 99.468 196.368 99.54 196.704 99.54ZM204.209 100.62C203.921 100.62 203.661 100.58 203.429 100.5C203.205 100.42 203.013 100.332 202.853 100.236C202.661 100.124 202.493 99.992 202.349 99.84V103.02H201.149V94.74H202.349V95.4C202.493 95.256 202.661 95.128 202.853 95.016C203.013 94.92 203.205 94.832 203.429 94.752C203.661 94.664 203.921 94.62 204.209 94.62C204.585 94.62 204.941 94.7 205.277 94.86C205.621 95.012 205.921 95.224 206.177 95.496C206.441 95.76 206.649 96.076 206.801 96.444C206.953 96.812 207.029 97.204 207.029 97.62C207.029 98.044 206.953 98.44 206.801 98.808C206.649 99.168 206.441 99.484 206.177 99.756C205.921 100.02 205.621 100.232 205.277 100.392C204.941 100.544 204.585 100.62 204.209 100.62ZM204.089 95.7C203.865 95.7 203.649 95.752 203.441 95.856C203.233 95.952 203.045 96.088 202.877 96.264C202.717 96.432 202.589 96.632 202.493 96.864C202.397 97.096 202.349 97.348 202.349 97.62C202.349 97.892 202.397 98.144 202.493 98.376C202.589 98.608 202.717 98.812 202.877 98.988C203.045 99.156 203.233 99.292 203.441 99.396C203.649 99.492 203.865 99.54 204.089 99.54C204.313 99.54 204.529 99.492 204.737 99.396C204.945 99.292 205.129 99.156 205.289 98.988C205.457 98.812 205.589 98.608 205.685 98.376C205.781 98.144 205.829 97.892 205.829 97.62C205.829 97.348 205.781 97.096 205.685 96.864C205.589 96.632 205.457 96.432 205.289 96.264C205.129 96.088 204.945 95.952 204.737 95.856C204.529 95.752 204.313 95.7 204.089 95.7ZM210.447 100.5C210.447 99.86 210.551 99.32 210.759 98.88C210.975 98.44 211.239 98.064 211.551 97.752C211.863 97.432 212.203 97.156 212.571 96.924C212.947 96.692 213.291 96.464 213.603 96.24C213.915 96.008 214.175 95.764 214.383 95.508C214.599 95.244 214.707 94.928 214.707 94.56C214.707 94.136 214.575 93.8 214.311 93.552C214.055 93.304 213.687 93.18 213.207 93.18C212.887 93.18 212.623 93.244 212.415 93.372C212.215 93.492 212.051 93.628 211.923 93.78C211.779 93.956 211.667 94.156 211.587 94.38L210.507 93.9C210.619 93.54 210.791 93.22 211.023 92.94C211.223 92.7 211.495 92.48 211.839 92.28C212.191 92.08 212.647 91.98 213.207 91.98C213.623 91.98 214.003 92.048 214.347 92.184C214.699 92.312 214.999 92.496 215.247 92.736C215.495 92.968 215.687 93.24 215.823 93.552C215.959 93.864 216.027 94.2 216.027 94.56C216.027 94.968 215.947 95.324 215.787 95.628C215.635 95.932 215.435 96.208 215.187 96.456C214.947 96.704 214.675 96.932 214.371 97.14C214.067 97.34 213.763 97.548 213.459 97.764C213.155 97.98 212.867 98.212 212.595 98.46C212.331 98.7 212.115 98.98 211.947 99.3H216.027V100.5H210.447Z",fill:"#282929"}),a().createElement("rect",{id:"Rectangle_4",x:"16",y:"92",width:"82",height:"8",rx:"4",fill:"#D1D5D9"})),a().createElement("g",{id:"Row_3"},a().createElement("rect",{id:"Rectangle Copy 3",x:"0.5",y:"120.5",width:"239",height:"31",rx:"3.5",fill:"white",stroke:"#D1D5D9"}),a().createElement("path",{id:"Roadmap 2_2",d:"M155.948 132.1H159.488C159.88 132.1 160.24 132.168 160.568 132.304C160.896 132.432 161.18 132.616 161.42 132.856C161.66 133.088 161.848 133.36 161.984 133.672C162.12 133.984 162.188 134.32 162.188 134.68C162.188 135.152 162.1 135.544 161.924 135.856C161.748 136.168 161.556 136.42 161.348 136.612C161.1 136.836 160.82 137.012 160.508 137.14L162.428 140.5H160.988L159.188 137.26H157.268V140.5H155.948V132.1ZM160.868 134.68C160.868 134.488 160.832 134.308 160.76 134.14C160.688 133.972 160.588 133.828 160.46 133.708C160.34 133.58 160.196 133.48 160.028 133.408C159.86 133.336 159.68 133.3 159.488 133.3H157.268V136.06H159.488C159.68 136.06 159.86 136.024 160.028 135.952C160.196 135.88 160.34 135.784 160.46 135.664C160.588 135.536 160.688 135.388 160.76 135.22C160.832 135.052 160.868 134.872 160.868 134.68ZM168.37 137.62C168.37 137.348 168.322 137.096 168.226 136.864C168.13 136.632 167.998 136.432 167.83 136.264C167.662 136.088 167.47 135.952 167.254 135.856C167.038 135.752 166.81 135.7 166.57 135.7C166.33 135.7 166.102 135.752 165.886 135.856C165.67 135.952 165.478 136.088 165.31 136.264C165.142 136.432 165.01 136.632 164.914 136.864C164.818 137.096 164.77 137.348 164.77 137.62C164.77 137.892 164.818 138.144 164.914 138.376C165.01 138.608 165.142 138.812 165.31 138.988C165.478 139.156 165.67 139.292 165.886 139.396C166.102 139.492 166.33 139.54 166.57 139.54C166.81 139.54 167.038 139.492 167.254 139.396C167.47 139.292 167.662 139.156 167.83 138.988C167.998 138.812 168.13 138.608 168.226 138.376C168.322 138.144 168.37 137.892 168.37 137.62ZM163.57 137.62C163.57 137.212 163.65 136.828 163.81 136.468C163.97 136.108 164.186 135.792 164.458 135.52C164.738 135.24 165.058 135.02 165.418 134.86C165.778 134.7 166.162 134.62 166.57 134.62C166.978 134.62 167.362 134.7 167.722 134.86C168.082 135.02 168.398 135.24 168.67 135.52C168.95 135.792 169.17 136.108 169.33 136.468C169.49 136.828 169.57 137.212 169.57 137.62C169.57 138.028 169.49 138.412 169.33 138.772C169.17 139.132 168.95 139.452 168.67 139.732C168.398 140.004 168.082 140.22 167.722 140.38C167.362 140.54 166.978 140.62 166.57 140.62C166.162 140.62 165.778 140.54 165.418 140.38C165.058 140.22 164.738 140.004 164.458 139.732C164.186 139.452 163.97 139.132 163.81 138.772C163.65 138.412 163.57 138.028 163.57 137.62ZM174.311 140.5V139.9C174.175 140.036 174.019 140.156 173.843 140.26C173.691 140.348 173.507 140.428 173.291 140.5C173.083 140.58 172.843 140.62 172.571 140.62C172.267 140.62 171.991 140.572 171.743 140.476C171.495 140.38 171.279 140.256 171.095 140.104C170.919 139.944 170.779 139.764 170.675 139.564C170.579 139.356 170.531 139.148 170.531 138.94C170.531 138.46 170.683 138.064 170.987 137.752C171.291 137.432 171.699 137.228 172.211 137.14L174.311 136.78C174.311 136.476 174.199 136.22 173.975 136.012C173.759 135.804 173.471 135.7 173.111 135.7C172.855 135.7 172.635 135.744 172.451 135.832C172.267 135.912 172.111 136 171.983 136.096C171.839 136.208 171.715 136.336 171.611 136.48L170.831 135.7C170.991 135.5 171.183 135.32 171.407 135.16C171.599 135.024 171.835 134.9 172.115 134.788C172.395 134.676 172.727 134.62 173.111 134.62C173.471 134.62 173.799 134.676 174.095 134.788C174.391 134.9 174.643 135.056 174.851 135.256C175.059 135.448 175.219 135.676 175.331 135.94C175.451 136.204 175.511 136.484 175.511 136.78V140.5H174.311ZM172.751 139.54C173.231 139.54 173.611 139.396 173.891 139.108C174.171 138.82 174.311 138.404 174.311 137.86V137.74L172.451 138.04C172.243 138.08 172.071 138.168 171.935 138.304C171.799 138.44 171.731 138.612 171.731 138.82C171.731 139.004 171.815 139.172 171.983 139.324C172.159 139.468 172.415 139.54 172.751 139.54ZM179.656 134.62C179.936 134.62 180.192 134.664 180.424 134.752C180.656 134.832 180.852 134.92 181.012 135.016C181.204 135.128 181.372 135.256 181.516 135.4V132.1H182.716V140.5H181.516V139.84C181.372 139.992 181.204 140.124 181.012 140.236C180.852 140.332 180.656 140.42 180.424 140.5C180.192 140.58 179.936 140.62 179.656 140.62C179.28 140.62 178.92 140.544 178.576 140.392C178.24 140.232 177.94 140.02 177.676 139.756C177.42 139.484 177.216 139.168 177.064 138.808C176.912 138.44 176.836 138.044 176.836 137.62C176.836 137.204 176.912 136.812 177.064 136.444C177.216 136.076 177.42 135.76 177.676 135.496C177.94 135.224 178.24 135.012 178.576 134.86C178.92 134.7 179.28 134.62 179.656 134.62ZM179.776 139.54C180 139.54 180.216 139.492 180.424 139.396C180.632 139.292 180.816 139.156 180.976 138.988C181.144 138.812 181.276 138.608 181.372 138.376C181.468 138.144 181.516 137.892 181.516 137.62C181.516 137.348 181.468 137.096 181.372 136.864C181.276 136.632 181.144 136.432 180.976 136.264C180.816 136.088 180.632 135.952 180.424 135.856C180.216 135.752 180 135.7 179.776 135.7C179.552 135.7 179.336 135.752 179.128 135.856C178.92 135.952 178.732 136.088 178.564 136.264C178.404 136.432 178.276 136.632 178.18 136.864C178.084 137.096 178.036 137.348 178.036 137.62C178.036 137.892 178.084 138.144 178.18 138.376C178.276 138.608 178.404 138.812 178.564 138.988C178.732 139.156 178.92 139.292 179.128 139.396C179.336 139.492 179.552 139.54 179.776 139.54ZM191.96 137.14C191.96 136.66 191.848 136.3 191.624 136.06C191.408 135.82 191.12 135.7 190.76 135.7C190.4 135.7 190.088 135.844 189.824 136.132C189.568 136.42 189.44 136.836 189.44 137.38V140.5H188.24V137.14C188.24 136.66 188.128 136.3 187.904 136.06C187.688 135.82 187.4 135.7 187.04 135.7C186.68 135.7 186.368 135.844 186.104 136.132C185.848 136.42 185.72 136.836 185.72 137.38V140.5H184.52V134.74H185.72V135.34C185.84 135.204 185.98 135.084 186.14 134.98C186.276 134.892 186.44 134.812 186.632 134.74C186.824 134.66 187.04 134.62 187.28 134.62C187.592 134.62 187.86 134.672 188.084 134.776C188.308 134.872 188.488 134.98 188.624 135.1C188.784 135.244 188.916 135.404 189.02 135.58C189.148 135.404 189.312 135.244 189.512 135.1C189.672 134.98 189.876 134.872 190.124 134.776C190.372 134.672 190.664 134.62 191 134.62C191.664 134.62 192.188 134.828 192.572 135.244C192.964 135.66 193.16 136.292 193.16 137.14V140.5H191.96V137.14ZM198.264 140.5V139.9C198.128 140.036 197.972 140.156 197.796 140.26C197.644 140.348 197.46 140.428 197.244 140.5C197.036 140.58 196.796 140.62 196.524 140.62C196.22 140.62 195.944 140.572 195.696 140.476C195.448 140.38 195.232 140.256 195.048 140.104C194.872 139.944 194.732 139.764 194.628 139.564C194.532 139.356 194.484 139.148 194.484 138.94C194.484 138.46 194.636 138.064 194.94 137.752C195.244 137.432 195.652 137.228 196.164 137.14L198.264 136.78C198.264 136.476 198.152 136.22 197.928 136.012C197.712 135.804 197.424 135.7 197.064 135.7C196.808 135.7 196.588 135.744 196.404 135.832C196.22 135.912 196.064 136 195.936 136.096C195.792 136.208 195.668 136.336 195.564 136.48L194.784 135.7C194.944 135.5 195.136 135.32 195.36 135.16C195.552 135.024 195.788 134.9 196.068 134.788C196.348 134.676 196.68 134.62 197.064 134.62C197.424 134.62 197.752 134.676 198.048 134.788C198.344 134.9 198.596 135.056 198.804 135.256C199.012 135.448 199.172 135.676 199.284 135.94C199.404 136.204 199.464 136.484 199.464 136.78V140.5H198.264ZM196.704 139.54C197.184 139.54 197.564 139.396 197.844 139.108C198.124 138.82 198.264 138.404 198.264 137.86V137.74L196.404 138.04C196.196 138.08 196.024 138.168 195.888 138.304C195.752 138.44 195.684 138.612 195.684 138.82C195.684 139.004 195.768 139.172 195.936 139.324C196.112 139.468 196.368 139.54 196.704 139.54ZM204.209 140.62C203.921 140.62 203.661 140.58 203.429 140.5C203.205 140.42 203.013 140.332 202.853 140.236C202.661 140.124 202.493 139.992 202.349 139.84V143.02H201.149V134.74H202.349V135.4C202.493 135.256 202.661 135.128 202.853 135.016C203.013 134.92 203.205 134.832 203.429 134.752C203.661 134.664 203.921 134.62 204.209 134.62C204.585 134.62 204.941 134.7 205.277 134.86C205.621 135.012 205.921 135.224 206.177 135.496C206.441 135.76 206.649 136.076 206.801 136.444C206.953 136.812 207.029 137.204 207.029 137.62C207.029 138.044 206.953 138.44 206.801 138.808C206.649 139.168 206.441 139.484 206.177 139.756C205.921 140.02 205.621 140.232 205.277 140.392C204.941 140.544 204.585 140.62 204.209 140.62ZM204.089 135.7C203.865 135.7 203.649 135.752 203.441 135.856C203.233 135.952 203.045 136.088 202.877 136.264C202.717 136.432 202.589 136.632 202.493 136.864C202.397 137.096 202.349 137.348 202.349 137.62C202.349 137.892 202.397 138.144 202.493 138.376C202.589 138.608 202.717 138.812 202.877 138.988C203.045 139.156 203.233 139.292 203.441 139.396C203.649 139.492 203.865 139.54 204.089 139.54C204.313 139.54 204.529 139.492 204.737 139.396C204.945 139.292 205.129 139.156 205.289 138.988C205.457 138.812 205.589 138.608 205.685 138.376C205.781 138.144 205.829 137.892 205.829 137.62C205.829 137.348 205.781 137.096 205.685 136.864C205.589 136.632 205.457 136.432 205.289 136.264C205.129 136.088 204.945 135.952 204.737 135.856C204.529 135.752 204.313 135.7 204.089 135.7ZM210.447 140.5C210.447 139.86 210.551 139.32 210.759 138.88C210.975 138.44 211.239 138.064 211.551 137.752C211.863 137.432 212.203 137.156 212.571 136.924C212.947 136.692 213.291 136.464 213.603 136.24C213.915 136.008 214.175 135.764 214.383 135.508C214.599 135.244 214.707 134.928 214.707 134.56C214.707 134.136 214.575 133.8 214.311 133.552C214.055 133.304 213.687 133.18 213.207 133.18C212.887 133.18 212.623 133.244 212.415 133.372C212.215 133.492 212.051 133.628 211.923 133.78C211.779 133.956 211.667 134.156 211.587 134.38L210.507 133.9C210.619 133.54 210.791 133.22 211.023 132.94C211.223 132.7 211.495 132.48 211.839 132.28C212.191 132.08 212.647 131.98 213.207 131.98C213.623 131.98 214.003 132.048 214.347 132.184C214.699 132.312 214.999 132.496 215.247 132.736C215.495 132.968 215.687 133.24 215.823 133.552C215.959 133.864 216.027 134.2 216.027 134.56C216.027 134.968 215.947 135.324 215.787 135.628C215.635 135.932 215.435 136.208 215.187 136.456C214.947 136.704 214.675 136.932 214.371 137.14C214.067 137.34 213.763 137.548 213.459 137.764C213.155 137.98 212.867 138.212 212.595 138.46C212.331 138.7 212.115 138.98 211.947 139.3H216.027V140.5H210.447Z",fill:"#282929"}),a().createElement("rect",{id:"Rectangle_5",x:"16",y:"132",width:"106",height:"8",rx:"4",fill:"#D1D5D9"}))))}function R(){return a().createElement("svg",{width:"242",height:"154",viewBox:"0 0 242 154",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("g",{id:"Simple Table View"},a().createElement("g",{id:"Row"},a().createElement("rect",{id:"Rectangle",x:"1",y:"1",width:"240",height:"32",rx:"4",fill:"#F0F3F5",stroke:"#D1D5D9",strokeLinecap:"round",strokeDasharray:"4 6"}),a().createElement("rect",{id:"Rectangle_2",x:"17",y:"13",width:"82",height:"8",rx:"4",fill:"#D1D5D9",stroke:"#D1D5D9"})),a().createElement("g",{id:"Row - Ordering"},a().createElement("rect",{id:"Rectangle Copy 5",x:"1",y:"41",width:"240",height:"32",rx:"3",fill:"white",stroke:"#D1D5D9",strokeLinecap:"round",strokeDasharray:"4 6"}),a().createElement("rect",{id:"Rectangle_3",x:"17",y:"53",width:"194",height:"8",rx:"4",fill:"#D1D5D9",stroke:"#D1D5D9"})),a().createElement("g",{id:"Row_2"},a().createElement("rect",{id:"Rectangle Copy 2",x:"1",y:"81",width:"240",height:"32",rx:"4",fill:"#F0F3F5",stroke:"#D1D5D9",strokeLinecap:"round",strokeDasharray:"4 6"}),a().createElement("rect",{id:"Rectangle_4",x:"17",y:"93",width:"114",height:"8",rx:"4",fill:"#D1D5D9",stroke:"#D1D5D9"})),a().createElement("g",{id:"Row_3"},a().createElement("rect",{id:"Rectangle Copy 3",x:"1",y:"121",width:"240",height:"32",rx:"4",fill:"white",stroke:"#D1D5D9",strokeLinecap:"round",strokeDasharray:"4 6"}),a().createElement("rect",{id:"Rectangle_5",x:"17",y:"133",width:"154",height:"8",rx:"4",fill:"#D1D5D9",stroke:"#D1D5D9"}))))}function A(){return a().createElement("svg",{width:"240",height:"153",viewBox:"0 0 240 153",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a().createElement("g",{id:"Simple Table View Image"},a().createElement("g",{id:"Rows"},a().createElement("g",{id:"row illustration"},a().createElement("rect",{id:"Rectangle",x:"0.5",y:"1",width:"239",height:"31",rx:"3.5",fill:"#F0F3F5",stroke:"#D1D5D9"}),a().createElement("g",{id:"14pt /  fa-eye-slash"},a().createElement("path",{id:"icon",d:"M19 20.1875C16.9219 20.1875 15.2266 18.6016 15.0898 16.5508L12.2188 14.3359C11.8359 14.8281 11.4805 15.3203 11.207 15.8672C11.1523 15.9766 11.125 16.1133 11.125 16.25C11.125 16.4141 11.1523 16.5508 11.207 16.6602C12.6836 19.5586 15.6367 21.5 19 21.5C19.7109 21.5 20.4219 21.3906 21.1055 21.2266L19.7109 20.1328C19.4648 20.1875 19.2188 20.1875 19 20.1875ZM27.5586 21.8008L24.5508 19.4492C25.4531 18.6836 26.2188 17.7266 26.7656 16.6602C26.8203 16.5508 26.8477 16.4141 26.8477 16.2773C26.8477 16.1133 26.8203 15.9766 26.7656 15.8672C25.2891 12.9688 22.3359 11 19 11C17.5234 11.0273 16.1562 11.3828 14.9531 12.0391L11.4805 9.35938C11.3984 9.30469 11.3164 9.27734 11.207 9.27734C11.0703 9.27734 10.9336 9.33203 10.8789 9.44141L10.332 10.125C10.2773 10.207 10.25 10.2891 10.25 10.3984C10.25 10.5352 10.3047 10.6445 10.4141 10.7266L26.4922 23.168C26.5742 23.2227 26.6562 23.25 26.7656 23.25C26.9023 23.25 27.0391 23.1953 27.1211 23.0859L27.6406 22.4023C27.6953 22.3203 27.7227 22.2383 27.7227 22.1289C27.7227 21.9922 27.668 21.8828 27.5586 21.8008ZM22.5547 17.918L21.4609 17.0703C21.5703 16.8242 21.5977 16.5508 21.625 16.25C21.625 16.25 21.625 16.25 21.625 16.2227C21.625 14.8008 20.4492 13.625 19.0273 13.625C18.7812 13.625 18.5352 13.6797 18.2891 13.7344C18.4531 13.9531 18.5352 14.2266 18.5625 14.5C18.5352 14.6094 18.5352 14.6914 18.5078 14.7734L16.4844 13.2422C17.168 12.668 18.043 12.3398 19 12.3125C21.1602 12.3125 22.9375 14.0898 22.9375 16.25C22.9375 16.8516 22.7734 17.3984 22.5547 17.918Z",fill:"#919497"})),a().createElement("rect",{id:"Rectangle_2",x:"55",y:"12.5",width:"124",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{id:"Rectangle_3",x:"38",y:"0.5",width:"1",height:"32",fill:"#D1D5D9"})),a().createElement("g",{id:"row illustration_2"},a().createElement("rect",{id:"Rectangle_4",x:"0.5",y:"41",width:"239",height:"31",rx:"3.5",fill:"white",stroke:"#D1D5D9"}),a().createElement("g",{id:"14pt /  fa-eye-slash_2"},a().createElement("path",{id:"icon_2",d:"M19 60.1875C16.9219 60.1875 15.2266 58.6016 15.0898 56.5508L12.2188 54.3359C11.8359 54.8281 11.4805 55.3203 11.207 55.8672C11.1523 55.9766 11.125 56.1133 11.125 56.25C11.125 56.4141 11.1523 56.5508 11.207 56.6602C12.6836 59.5586 15.6367 61.5 19 61.5C19.7109 61.5 20.4219 61.3906 21.1055 61.2266L19.7109 60.1328C19.4648 60.1875 19.2188 60.1875 19 60.1875ZM27.5586 61.8008L24.5508 59.4492C25.4531 58.6836 26.2188 57.7266 26.7656 56.6602C26.8203 56.5508 26.8477 56.4141 26.8477 56.2773C26.8477 56.1133 26.8203 55.9766 26.7656 55.8672C25.2891 52.9688 22.3359 51 19 51C17.5234 51.0273 16.1562 51.3828 14.9531 52.0391L11.4805 49.3594C11.3984 49.3047 11.3164 49.2773 11.207 49.2773C11.0703 49.2773 10.9336 49.332 10.8789 49.4414L10.332 50.125C10.2773 50.207 10.25 50.2891 10.25 50.3984C10.25 50.5352 10.3047 50.6445 10.4141 50.7266L26.4922 63.168C26.5742 63.2227 26.6562 63.25 26.7656 63.25C26.9023 63.25 27.0391 63.1953 27.1211 63.0859L27.6406 62.4023C27.6953 62.3203 27.7227 62.2383 27.7227 62.1289C27.7227 61.9922 27.668 61.8828 27.5586 61.8008ZM22.5547 57.918L21.4609 57.0703C21.5703 56.8242 21.5977 56.5508 21.625 56.25C21.625 56.25 21.625 56.25 21.625 56.2227C21.625 54.8008 20.4492 53.625 19.0273 53.625C18.7812 53.625 18.5352 53.6797 18.2891 53.7344C18.4531 53.9531 18.5352 54.2266 18.5625 54.5C18.5352 54.6094 18.5352 54.6914 18.5078 54.7734L16.4844 53.2422C17.168 52.668 18.043 52.3398 19 52.3125C21.1602 52.3125 22.9375 54.0898 22.9375 56.25C22.9375 56.8516 22.7734 57.3984 22.5547 57.918Z",fill:"#919497"})),a().createElement("rect",{id:"Rectangle_5",x:"55",y:"52.5",width:"164",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{id:"Rectangle_6",x:"38",y:"40.5",width:"1",height:"32",fill:"#D1D5D9"})),a().createElement("g",{id:"row illustration_3"},a().createElement("rect",{id:"Rectangle_7",x:"0.5",y:"81",width:"239",height:"31",rx:"3.5",fill:"#F0F3F5",stroke:"#D1D5D9"}),a().createElement("g",{id:"14pt /  fa-eye-slash_3"},a().createElement("path",{id:"icon_3",d:"M19 100.188C16.9219 100.188 15.2266 98.6016 15.0898 96.5508L12.2188 94.3359C11.8359 94.8281 11.4805 95.3203 11.207 95.8672C11.1523 95.9766 11.125 96.1133 11.125 96.25C11.125 96.4141 11.1523 96.5508 11.207 96.6602C12.6836 99.5586 15.6367 101.5 19 101.5C19.7109 101.5 20.4219 101.391 21.1055 101.227L19.7109 100.133C19.4648 100.188 19.2188 100.188 19 100.188ZM27.5586 101.801L24.5508 99.4492C25.4531 98.6836 26.2188 97.7266 26.7656 96.6602C26.8203 96.5508 26.8477 96.4141 26.8477 96.2773C26.8477 96.1133 26.8203 95.9766 26.7656 95.8672C25.2891 92.9688 22.3359 91 19 91C17.5234 91.0273 16.1562 91.3828 14.9531 92.0391L11.4805 89.3594C11.3984 89.3047 11.3164 89.2773 11.207 89.2773C11.0703 89.2773 10.9336 89.332 10.8789 89.4414L10.332 90.125C10.2773 90.207 10.25 90.2891 10.25 90.3984C10.25 90.5352 10.3047 90.6445 10.4141 90.7266L26.4922 103.168C26.5742 103.223 26.6562 103.25 26.7656 103.25C26.9023 103.25 27.0391 103.195 27.1211 103.086L27.6406 102.402C27.6953 102.32 27.7227 102.238 27.7227 102.129C27.7227 101.992 27.668 101.883 27.5586 101.801ZM22.5547 97.918L21.4609 97.0703C21.5703 96.8242 21.5977 96.5508 21.625 96.25C21.625 96.25 21.625 96.25 21.625 96.2227C21.625 94.8008 20.4492 93.625 19.0273 93.625C18.7812 93.625 18.5352 93.6797 18.2891 93.7344C18.4531 93.9531 18.5352 94.2266 18.5625 94.5C18.5352 94.6094 18.5352 94.6914 18.5078 94.7734L16.4844 93.2422C17.168 92.668 18.043 92.3398 19 92.3125C21.1602 92.3125 22.9375 94.0898 22.9375 96.25C22.9375 96.8516 22.7734 97.3984 22.5547 97.918Z",fill:"#919497"})),a().createElement("rect",{id:"Rectangle_8",x:"55",y:"92.5",width:"80",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{id:"Rectangle_9",x:"38",y:"80.5",width:"1",height:"32",fill:"#D1D5D9"})),a().createElement("g",{id:"row illustration_4"},a().createElement("rect",{id:"Rectangle_10",x:"0.5",y:"121",width:"239",height:"31",rx:"3.5",fill:"white",stroke:"#D1D5D9"}),a().createElement("g",{id:"14pt /  fa-eye-slash_4"},a().createElement("path",{id:"icon_4",d:"M19 140.188C16.9219 140.188 15.2266 138.602 15.0898 136.551L12.2188 134.336C11.8359 134.828 11.4805 135.32 11.207 135.867C11.1523 135.977 11.125 136.113 11.125 136.25C11.125 136.414 11.1523 136.551 11.207 136.66C12.6836 139.559 15.6367 141.5 19 141.5C19.7109 141.5 20.4219 141.391 21.1055 141.227L19.7109 140.133C19.4648 140.188 19.2188 140.188 19 140.188ZM27.5586 141.801L24.5508 139.449C25.4531 138.684 26.2188 137.727 26.7656 136.66C26.8203 136.551 26.8477 136.414 26.8477 136.277C26.8477 136.113 26.8203 135.977 26.7656 135.867C25.2891 132.969 22.3359 131 19 131C17.5234 131.027 16.1562 131.383 14.9531 132.039L11.4805 129.359C11.3984 129.305 11.3164 129.277 11.207 129.277C11.0703 129.277 10.9336 129.332 10.8789 129.441L10.332 130.125C10.2773 130.207 10.25 130.289 10.25 130.398C10.25 130.535 10.3047 130.645 10.4141 130.727L26.4922 143.168C26.5742 143.223 26.6562 143.25 26.7656 143.25C26.9023 143.25 27.0391 143.195 27.1211 143.086L27.6406 142.402C27.6953 142.32 27.7227 142.238 27.7227 142.129C27.7227 141.992 27.668 141.883 27.5586 141.801ZM22.5547 137.918L21.4609 137.07C21.5703 136.824 21.5977 136.551 21.625 136.25C21.625 136.25 21.625 136.25 21.625 136.223C21.625 134.801 20.4492 133.625 19.0273 133.625C18.7812 133.625 18.5352 133.68 18.2891 133.734C18.4531 133.953 18.5352 134.227 18.5625 134.5C18.5352 134.609 18.5352 134.691 18.5078 134.773L16.4844 133.242C17.168 132.668 18.043 132.34 19 132.312C21.1602 132.312 22.9375 134.09 22.9375 136.25C22.9375 136.852 22.7734 137.398 22.5547 137.918Z",fill:"#919497"})),a().createElement("rect",{id:"Rectangle_11",x:"55",y:"132.5",width:"113",height:"8",rx:"4",fill:"#D1D5D9"}),a().createElement("rect",{id:"Rectangle_12",x:"38",y:"120.5",width:"1",height:"32",fill:"#D1D5D9"})))))}b.propTypes={active:i().bool},w.propTypes={active:i().bool},C.propTypes={active:i().bool},E.propTypes={disabled:i().bool,tooltipText:i().string},_.propTypes={active:i().bool,disabled:i().bool,icon:i().object,name:i().string,onClick:i().func},x.propTypes={onClick:i().func,classNames:i().string,fill:i().string},O.propTypes={classNames:i().string},D.propTypes={classNames:i().string}},78695:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o);function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,i,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}function c(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,s,"next",e)}function s(e){c(o,n,a,i,s,"throw",e)}i(void 0)}))}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e){var t=e.value,r=e.onTab,o=e.handleValueUpdate,i=e.classes,c=e.id,h=e.active,p=e.onClick,f=e.rows,m=e.useTextInput,v=e.inputRequired,g=e.placeholder,y=d((0,n.useState)(t.toString()),2),b=y[0],w=y[1],C=d((0,n.useState)(h),2),E=C[0],_=C[1],x=(0,n.useRef)(null),L=(0,n.useRef)();function P(){return O.apply(this,arguments)}function O(){return(O=u(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!1),v&&0===b.trim().length&&w(t),e.next=4,o(b);case 4:""===e.sent&&w(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,n.useEffect)((()=>{E&&x.current&&(x.current.focus(),x.current.select())}),[E]);var S=e=>({autoComplete:"off",className:i,id:c,ref:x,type:"text",value:b,onClick:p,onChange:e=>w(e.target.value),onBlur:P,onKeyDown:n=>function(e,t,r,n,a,o,i){switch(e.keyCode){case 9:t&&t(e);break;case 13:i&&e.shiftKey||n();break;case 27:a(r),o(!1)}}(n,r,t,P,w,_,e)}),k=m?a().createElement("input",S(!1)):a().createElement("textarea",l({rows:f},S(!0)));return a().createElement("div",{className:"inline-edit-outer",ref:L},E?k:a().createElement("div",{className:"inline-edit-view ".concat(i),onClick:e=>function(e,t,r,n){n(e),t||r(!t)}(e,E,_,p)},b||g))}p.propTypes={value:i().any.isRequired,id:i().string,active:i().bool,onTab:i().func,classes:i().string,handleValueUpdate:i().func,useTextInput:i().bool,onClick:i().func,inputRequired:i().bool,rows:i().number,placeholder:i().string},p.defaultProps={id:null,active:!1,onTab:null,classes:"",rows:null,useTextInput:!0,inputRequired:!1,onClick:()=>{},handleValueUpdate:()=>{},placeholder:""};const f=a().memo(p)},76368:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(94184),l=r.n(s),c=r(39012);function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends a().Component{constructor(){super(...arguments),u(this,"renderLockIcon",(()=>{var e=l()({"locked-icon":!0,"is-child-locked":this.isChildLocked()});return this.showContainer(),a().createElement("div",{className:e},a().createElement(c.Z,{name:this.getLockIconImage(),style:{lineHeight:"4px",marginRight:"5px"}}))})),u(this,"isChildLocked",(()=>{var e=this.props.bar;return e.isSelfOrChildrenPendingRemoteSync()?!e.hasRemoteChangesPendingToSync():!e.isDateRangeSyncEnabled()&&e.hasChildDateRangeSyncEnabled()})),u(this,"getLockIconImage",(()=>this.props.bar.isSelfOrChildrenPendingRemoteSync()?c.c.lockOpen:c.c.lock)),u(this,"showContainer",(()=>{var e=this.props.container;e&&$(e).show()})),u(this,"hideContainer",(()=>{var e=this.props.container;e&&$(e).hide()})),u(this,"displayLockIcon",(()=>{var e=this.props.bar;return!e.isDateRangeSyncEnabled()&&!e.hasChildDateRangeSyncEnabled()?(this.hideContainer(),null):this.renderLockIcon()})),u(this,"displayDeadLinkIcon",(()=>{var e=l()({"locked-icon":!0});return this.showContainer(),a().createElement("div",{className:e},a().createElement(c.Z,{name:c.c.warningSquare,style:{lineHeight:"4px",marginRight:"5px"}}))}))}render(){return this.props.bar.hasDeadLinks()?this.displayDeadLinkIcon():this.displayLockIcon()}}u(d,"propTypes",{bar:i().object.isRequired,container:i().any})},70186:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(7654),a=r.n(n),o=r(97398),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(94184),h=r.n(d);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends l().Component{componentDidMount(){this.props.isContained&&($(".modal-body").height(this.props.loaderHeight+30),$(".modal-footer").hide())}componentDidUpdate(){!this.isVisible()&&this.props.isContained&&this.resetModal()}componentWillUnmount(){this.resetModal()}resetModal(){$(".modal-body").css("height",""),$(".modal-footer").show()}isVisible(){return this.props.totalValue>this.props.minBoundaryValue&&this.props.isLoading}computePercentLoaded(e){return i()(e/this.props.totalValue)?a()(e/this.props.totalValue)?0:e>this.props.totalValue?this.props.totalValue:Math.abs(e/this.props.totalValue):0}setProgressStyle(){return{width:"".concat(100*this.computePercentLoaded(this.props.currentValue),"%"),backgroundPositionX:"".concat(100*this.computePercentLoaded(this.props.currentValue),"%")}}cardClasses(){return h()({"show-card":this.isVisible()})}containedClasses(){return{overlay:h()({"hide-card":this.props.isContained}),contained:h()({contained:this.props.isContained})}}renderTotal(){if(!(this.props.totalValue<1))return l().createElement("span",null," of ".concat(this.props.totalValue))}render(){var e=this.containedClasses();return l().createElement("div",{className:"progress-loader ".concat(this.cardClasses()," ").concat(e.contained)},l().createElement("div",{className:"card ".concat(this.cardClasses())},l().createElement("div",{className:"loading-bar"},l().createElement("div",{className:"progress loading",style:this.setProgressStyle()})),l().createElement("div",{className:"card-content"},l().createElement("div",{className:"top-content"},l().createElement("h1",null,"Loading ".concat(this.props.loadingText)),l().createElement("p",null,"This will only take a moment")),l().createElement("div",{className:"footer-content counter"},l().createElement("span",{className:"count"},this.props.currentValue),this.renderTotal()))),l().createElement("div",{className:"overlay ".concat(this.cardClasses()," ").concat(e.overlay)}))}}p(f,"propTypes",{totalValue:u().number.isRequired,currentValue:u().number.isRequired,minBoundaryValue:u().number,isLoading:u().bool.isRequired,loadingText:u().string.isRequired,isContained:u().bool,loaderHeight:u().number}),p(f,"defaultProps",{loadingText:"",totalValue:0,currentValue:0,minBoundaryValue:0,isLoading:!1,isContained:!1,loaderHeight:270});const m=f},57299:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(82723),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class d extends i().Component{render(){var e=a()(this.props,["classes"]);return i().createElement("svg",c({},e,{className:this.props.classes}),i().createElement("use",{xlinkHref:"#".concat(this.props.id,"-symbol")}))}}u(d,"propTypes",{classes:l().string,id:l().string.isRequired,width:l().number,height:l().number}),u(d,"defaultProps",{classes:""});const h=d},83424:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n,a,o,i=r(82723),s=r.n(i),l=r(67294),c=r.n(l),u=r(45697),d=r.n(u),h=r(57299);class p extends c().Component{constructor(e){super(e)}classes(){return"pp-icon ".concat(this.props.classes||"").trim()}render(){var e=s()(this.props,["classes"]);return e.classes=this.classes(),c().createElement(h.Z,e)}}n=p,a="propTypes",o={classes:d().string,id:d().string.isRequired},a in n?Object.defineProperty(n,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[a]=o;const f=p},89090:(e,t,r)=>{"use strict";r.d(t,{T:()=>d,U:()=>u});var n=r(23279),a=r.n(n),o=r(67294),i=r.n(o),s=r(7440);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function u(){var e=l(i().useState(!1),2),t=e[0],r=e[1],n=i().useCallback(a()((()=>r(!1)),250),[]);i().useEffect((()=>()=>n.cancel()),[n]);var o=()=>{n(),t||r(!0)};return(0,s.useEventsChannel)("JS_MAIN_CONTAINER_SCROLL",o),(0,s.useEventsChannel)("JS_MAIN_CONTAINER_WHEEL",o),(0,s.useEventsChannel)("WINDOW_RESIZE",o),(0,s.useEventsChannel)("BEGIN_TOGGLE_CONTAINER",(()=>r(!0))),(0,s.useEventsChannel)("END_TOGGLE_CONTAINER",(()=>r(!1))),(0,s.useEventsChannel)("BEGIN_TOGGLE_LANE",(()=>r(!0))),(0,s.useEventsChannel)("END_TOGGLE_LANE",(()=>r(!1))),t}function d(){var e=l(i().useState(0),2),t=e[0],r=e[1],n=i().useCallback(a()((()=>r((e=>e+1))),2),[]),o=()=>{n(),n.flush()};return i().useEffect((()=>()=>n.cancel()),[n]),(0,s.useEventsChannel)("ON_BAR_DRAG_START_ACTION",n),(0,s.useEventsChannel)("ON_BAR_DRAG_STOP_ACTION",n),(0,s.useEventsChannel)("ON_MILESTONE_DRAG_STOP_ACTION",n),(0,s.useEventsChannel)("CREATED_MILESTONE",n),(0,s.useEventsChannel)("ROADMAP_STYLE_UPDATED",o),(0,s.useEventsChannel)("CHANGED_ZOOM_LEVEL",o),(0,s.useEventsChannel)("ON_LANE_DROP_OVER",o),(0,s.useEventsChannel)("ON_LANE_DROP_OUT",o),(0,s.useEventsChannel)("ON_CONTAINER_DROP_OVER",o),(0,s.useEventsChannel)("ON_CONTAINER_DROP_OUT",o),(0,s.useEventsChannel)("ON_SUBLANE_DROP_OVER",o),(0,s.useEventsChannel)("ON_SUBLANE_DROP_OUT",o),(0,s.useEventsChannel)("ON_BAR_RESIZE_ACTION",o),(0,s.useEventsChannel)("DUPLICATED_BAR",o),(0,s.useEventsChannel)("UPDATED_BAR",n),(0,s.useEventsChannel)("SILENTLY_UPDATED_BAR",n),(0,s.useEventsChannel)("DELETING_MILESTONE",o),(0,s.useEventsChannel)("REDRAW_BARS_EVENT",n),(0,s.useEventsChannel)("DELETED_LANE",n),(0,s.useEventsChannel)("UNDO_BAR_EVENT",n),(0,s.useEventsChannel)("BULK_UPDATE_BARS",n),(0,s.useEventsChannel)("UPDATED_FILTERS",o),(0,s.useEventsChannel)("UPDATED_LANES",o),(0,s.useEventsChannel)("DRAW_TIMELINE",n),(0,s.useEventsChannel)("BARS_SHIFTED",n),t}},52423:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(67294),a=r.n(n),o=a().lazy((()=>Promise.all([r.e(989),r.e(681)]).then(r.bind(r,25681))));function i(e){return a().createElement(n.Suspense,{fallback:a().createElement("div",null,"Loading table...")},a().createElement(o,e))}},53775:(e,t,r)=>{"use strict";r.d(t,{d:()=>u,L:()=>c});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(69518),l=r(97414);var c={top:"top",right:"right",bottom:"bottom",left:"left"},u=e=>{var t=e.children,r=e.position,n=e.useDefaultZindex,o=void 0===n||n;return a().createElement(s.Z,{appear:!0},t&&a().createElement(l.Z,{classNames:"drawer-".concat(r,"-slide"),timeout:256},a().createElement("div",{className:"drawer-wrapper drawer-wrapper-".concat(r," ").concat(o?"drawer-wrapper-default-z":"")},a().createElement("div",{className:"drawer-".concat(r)},t))))};u.propTypes={children:i().any,position:i().string.isRequired,useDefaultZindex:i().bool}},11579:(e,t,r)=>{"use strict";r.d(t,{Dm:()=>b,Hw:()=>_});var n=r(67294),a=r.n(n),o=r(39012);var i=r(45697),s=r.n(i),l=r(94184),c=r.n(l),u=r(55652),d=r(12902),h=["id","included"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=e.columns;return a().createElement("div",{className:"filters-ui"},a().createElement("div",{className:"column-wrapper"},t.map((e=>{var t=e.id,r=e.name,n=e.filters,o=e.onCheckColumn,i=e.onUncheckColumn;return a().createElement(w,{key:t,name:r,filters:n,onCheckColumn:o,onUncheckColumn:i})}))))}function w(e){var t=e.name,r=e.filters,n=e.onCheckColumn,o=e.onUncheckColumn,i=g(a().useState(""),2),s=i[0],l=i[1],u=function(e,t){return a().useMemo((()=>{if(""===t)return e;var r=t.toLowerCase();return e.filter((e=>e.name.toLowerCase().includes(r)))}),[e,t])}(r,s),d=function(e){return a().useMemo((()=>{var t=e.filter((e=>e.included)).length;return 0===t?"unchecked":t===e.length?"checked":"partial"}),[e])}(u),h=n&&o;var p=c()("filters-ui-filter-column",{"editable-filter":h}),f="filter-column-heading-".concat(t);return a().createElement("div",{className:p,"data-column-name":t},a().createElement("div",{id:f,className:"filters-ui-column-heading",onClick:function(){if(h){var e=u.map((e=>e.id));"unchecked"===d?n(e):o(e)}}},a().createElement(E,{state:d,ariaLabelledBy:f}),t),a().createElement("input",{type:"text",className:"filters-ui-column-matcher",value:s,onChange:e=>l(e.target.value),placeholder:"Type to filter the list","aria-label":"Type to filter ".concat(t)}),a().createElement("div",{className:"filters-ui-filters-list"},u.map((e=>{var t=e.id,r=e.name,n=e.included,o=e.color,i=e.onClick;return a().createElement(C,{key:t,id:t,name:r,included:n,color:o,onClick:i})}))))}function C(e){var t=e.id,r=e.name,n=e.included,o=e.onClick,i=e.color,s=n?void 0===i?"#ffffff":i:"#ffffff",l=c()("filters-ui-filter-item",{unchecked:!n},u.ProductPlan.getContrastClasses(s),{"editable-filter":!!o});return a().createElement("div",{id:t,className:l,style:{background:s},onClick:()=>{o&&o()}},a().createElement(E,{state:n?"checked":"unchecked",ariaLabelledBy:t}),r)}function E(e){var t=e.state,r=e.ariaLabelledBy;switch(t){case"unchecked":return a().createElement(o.Z,{classes:"filter-checkbox-icon",role:"checkbox","aria-checked":"false","aria-labelledby":r,name:o.c.squareOutline});case"partial":return a().createElement(o.Z,{classes:"filter-checkbox-icon",role:"checkbox","aria-checked":"mixed","aria-labelledby":r,name:o.c.minusSquareOutline});case"checked":return a().createElement(o.Z,{classes:"filter-checkbox-icon",role:"checkbox","aria-checked":"true","aria-labelledby":r,name:o.c.checkSquare})}}function _(e){var t=g(a().useState(e),2),r=t[0],n=t[1],o=r.map((e=>{function t(t){n((0,d.ZP)((r=>t(r.find((t=>t.id===e.id))))))}function r(e){return r=>t((t=>{t.filters.filter((e=>r.includes(e.id))).forEach((t=>{t.included=e}))}))}var a=e.filters.map((e=>{var r=e.id,n=e.included,a=v(e,h);return f({id:r,included:n,onClick:function(){t((e=>{var t=e.filters.find((e=>e.id===r));t.included=!t.included}))}},a)}));return f(f({},e),{},{filters:a,onCheckColumn:r(!0),onUncheckColumn:r(!1)})}));function i(e){return e.flatMap((e=>e.filters))}function s(e){return()=>n((0,d.ZP)((t=>{i(t).forEach((t=>{t.included=e}))})))}function l(e){return i(r).every((t=>t.included===e))}return{columns:r,editableColumns:o,includeAll:s(!0),excludeAll:s(!1),allIncluded:l(!0),allExcluded:l(!1),setColumns:n}}b.propTypes={columns:s().array},w.propTypes={name:s().string,filters:s().array,onUncheckColumn:s().func,onCheckColumn:s().func},C.propTypes={id:s().string,name:s().string,included:s().bool,onClick:s().func,color:s().string},E.propTypes={state:s().string.isRequired,ariaLabelledBy:s().string}},96069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(16689),a=r.n(n),o=r(66073),i=r.n(o),s=r(35161),l=r.n(s),c=r(13311),u=r.n(c),d=r(91966),h=r.n(d),p=r(50308),f=r.n(p),m=r(67294),v=r.n(m),g=r(45697),y=r.n(g),b=r(38958),w=r(55652);r(18553);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function _(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}var x={allowClear:y().bool,dataAttribs:y().object,disabled:y().bool,displayLabel:y().bool,errors:y().object,formAligment:y().string,formatResult:y().func,formatSelection:y().func,helperText:y().string,inputId:y().string,inputName:y().string.isRequired,isRequired:y().bool,label:y().string.isRequired,loadAsync:y().func.isRequired,maxLength:y().number,minimumResultsForSearch:y().string,options:y().array,placeholder:y().string,requiredField:y().bool,selectionClass:y().string.isRequired,showLabel:y().bool,size:y().number,value:y().string,width:y().string,onChange:y().func.isRequired,onLabelChange:y().func,onFinishedLoading:y().func.isRequired,onError:y().func,onItemSelect:y().func},L={allowClear:!0,dataAttribs:{},disabled:!1,displayLabel:!0,formAligment:"horizontal",formatResult:w.ProductPlan.formatOption,formatSelection:w.ProductPlan.formatSelection,formInline:!1,label:"",loadAsync:f(),minimumResultsForSearch:"-1",options:[],width:"resolve",onChange:f(),onFinishedLoading:f(),onError:f(),onItemSelect:f()};class P extends v().Component{static destroySelect2(e){e.select2("destroy")}constructor(e){var t,r,n;super(e),n=e=>{if(this.props.onLabelChange){var t=u()(this.state.options,(t=>t.id==e));this.props.onLabelChange(t.name)}},(r="handleSelectedLabelChanged")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.state={options:this.props.options,value:this.props.value,isLoading:!0},this.handleItemSelect=this.handleItemSelect.bind(this),this.handleFinishedLoading=this.handleFinishedLoading.bind(this)}componentDidMount(){this.initialLoad();var e=$(this.controlRef);this.initializeSelect2(e),e.on("select2-open",(function(){$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01)})).on("change",this.handleItemSelect)}initialLoad(){var e,t=this;return(e=E().mark((function e(){var r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.props.loadAsync();case 3:r=e.sent,t.handleFinishedLoading(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.props.onError(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_(o,n,a,i,s,"next",e)}function s(e){_(o,n,a,i,s,"throw",e)}i(void 0)}))})()}shouldComponentUpdate(e,t){return this.state.value!==e.value||this.state.value!==t.value||0!==h()(this.state.options,t.options).length}componentDidUpdate(){var e=$(this.controlRef);P.destroySelect2(e),this.initializeSelect2(e)}componentWillUnmount(){P.destroySelect2($(this.controlRef))}initializeSelect2(e){e.select2({minimumResultsForSearch:this.props.minimumResultsForSearch,formatResult:this.props.formatResult,formatSelection:this.props.formatSelection,escapeMarkup:e=>e,formatSelectionCssClass:()=>this.props.selectionClass,width:this.props.width,allowClear:this.props.allowClear})}handleFinishedLoading(e){var t=this.props.onFinishedLoading(e);this.setState({options:t.sortedOptions,value:t.selectedOption,isLoading:!1}),this.props.onChange(t.selectedOption),this.handleSelectedLabelChanged(t.selectedOption)}handleItemSelect(e){var t=e.target.value;this.props.onItemSelect(t),this.setState({value:t}),this.props.onChange(t),this.handleSelectedLabelChanged(t)}renderOptions(e){var t=l()(e,(e=>{var t=e.name,r={};return i()(a()(e),(t=>{"id"===t?(r[t]=e[t],r.key=e[t],r.value=e[t]):r["data-"+t]=e[t]})),v().createElement("option",r,t)}));return void 0!==this.props.placeholder?(t.unshift(v().createElement("option",{key:"placeholder",value:""})),t):t}render(){return v().createElement(b.Z,C({errors:this.props.errors,inputId:this.props.inputId,isRequired:this.props.isRequired,label:this.props.label,showLabel:this.props.showLabel},this.props.formAligment),v().createElement("select",C({className:"form-control","data-placeholder":this.props.placeholder,"data-loading":this.state.isLoading,disabled:this.props.disabled,id:this.props.inputId,name:this.props.inputName,ref:e=>{this.controlRef=e},value:this.state.value,onChange:()=>{}},this.props.dataAttribs),this.renderOptions(this.state.options)))}}P.propTypes=x,P.defaultProps=L;const O=P},79654:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(91966),a=r.n(n),o=r(50308),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(38958),h=(r(18553),r(55652)),p={allowClear:u().bool,convertData:u().func.isRequired,errors:u().object,formAligment:u().string,formatResult:u().func,formatSelection:u().func,formatTemplate:u().func,formatSelectionTemplate:u().func,helperText:u().string,inputId:u().string,inputName:u().string.isRequired,isRequired:u().bool,label:u().string.isRequired,loadAsync:u().func.isRequired,minimumInputLength:u().string,minimumResultsForSearch:u().string,options:u().array,placeholder:u().string,searchInputPlaceholder:u().string,quietMillis:u().number,showLabel:u().bool,truncateSelectedText:u().bool,value:u().string,width:u().string,onChange:u().func.isRequired,onError:u().func},f={allowClear:!0,errors:{},formAligment:"horizontal",formatResult:h.ProductPlan.formatOption,formatSelection:h.ProductPlan.formatSelection,formatTemplate:i(),helperText:"",inputId:"generic-async-textbox-id",isRequired:!1,formInline:!1,minimumInputLength:"3",minimumResultsForSearch:"-1",options:[],placeholder:"",showLabel:!0,truncateSelectedText:!1,quietMillis:1e3,width:"resolve",onError:i()};class m extends l().Component{static destroySelect2(e){e.select2("destroy")}static lineItemMarkup(e){var t;return t=e.key,t+='<br/><span style="font-size: 12px">',e.text&&(t+=e.text),t+="</span>"}constructor(e){super(e),this.state={options:this.props.options,value:this.props.value,isLoading:!0}}destroy(){var e=$(this.controlRef);m.destroySelect2(e)}componentDidMount(){var e=$(this.controlRef);this.initializeSelect2(e);var t=this.props.searchInputPlaceholder;e.on("select2-open",(function(){$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01),t&&$(".select2-input").attr("placeholder",t)})).on("change",(e=>{this.props.onChange(e)}))}shouldComponentUpdate(e,t){return this.state.value!==e.value||0!==a()(this.state.options,t.options).length}componentDidUpdate(){var e=$(this.controlRef);m.destroySelect2(e),this.initializeSelect2(e)}componentWillUnmount(){m.destroySelect2($(this.controlRef))}initializeSelect2(e){e.select2({allowClear:this.props.allowClear,width:this.props.width,minimumResultsForSearch:this.props.minimumResultsForSearch,minimumInputLength:this.props.minimumInputLength,formatInputTooShort:e=>e.length>=this.props.minimumInputLength?null:"Enter "+(this.props.minimumInputLength-e.length)+" or more characters",ajax:{transport:e=>{this.props.loadAsync(e).catch((e=>{this.props.onError(e)}))},dataType:"json",quietMillis:this.props.quietMillis,data:e=>({term:e}),results:e=>({results:this.props.convertData(e)})},formatResult:e=>this.props.formatTemplate?this.props.formatTemplate(e):m.lineItemMarkup(e),formatSelection:e=>{var t=!this.props.truncateSelectedText||e.text.length<=25?e.text:e.text.substring(0,24)+"...";return this.props.formatSelectionTemplate?this.props.formatSelectionTemplate(t,e):t},initSelection:(e,t)=>t({id:e.val(),text:e.data("summary")}),escapeMarkup:e=>e})}render(){return l().createElement(d.Z,{errors:this.props.errors,formAligment:this.props.formAligment,helperText:this.props.helperText,inputId:this.props.inputId,isRequired:this.props.isRequired,label:this.props.label,showLabel:this.props.showLabel},l().createElement("input",{className:"string optional",name:this.props.inputName,placeholder:this.props.placeholder,ref:e=>{this.controlRef=e}}))}}m.propTypes=p,m.defaultProps=f;const v=m},41293:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(41609),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(94184),u=r.n(c),d=r(99411),h=r(39012);class p extends i().Component{constructor(e){super(e),this.handleToggleCheck=this.handleToggleCheck.bind(this),this.handleLabelClick=this.handleLabelClick.bind(this),this.handleTextClick=this.handleTextClick.bind(this)}renderCheckIcon(){var e=this.props,t=e.indeterminate,r=e.value,n=e.id,a=h.c.squareOutline,o=!1;return t?a=h.c.minusSquare:r&&(o=!0,a=h.c.checkSquare),i().createElement(h.Z,{id:n,name:a,onClick:this.handleToggleCheck,"aria-labelledby":"".concat(this.props.id,"-label"),role:"checkbox","aria-checked":o})}classes(){var e;return u()({checkbox:!0,"js-checkbox-disable":this.props.disabled},null===(e=this.props)||void 0===e?void 0:e.customLabelClasses)}handleToggleCheck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.props.enableLabelToggle&&null!=e||this.props.disabled)return!1;this.props.onChange({attribute:this.props.id,value:!this.props.value})}handleLabelClick(e){e.stopPropagation(),this.props.enableLabelToggle&&this.handleToggleCheck(),this.props.onLabelClick()}handleTextClick(e){var t=this.props.text;a()(t)&&this.handleLabelClick(e)}checkboxTextStyle(){return u()({"checkbox-text":!0,"respect-newlines":!this.props.enableLabelToggle})}render(){return i().createElement("label",{className:this.classes(),onClick:this.handleTextClick},this.renderCheckIcon(),a()(this.props.text)?null:i().createElement("span",{className:this.checkboxTextStyle(),onClick:this.handleLabelClick,id:"".concat(this.props.id,"-label")},this.props.text),a()(this.props.hint)?null:i().createElement("span",{className:"checkbox-tip"},this.props.hint),d.Z.displayErrors(this.props.errors))}}p.propTypes={disabled:l().bool,value:l().bool,id:l().string.isRequired,text:l().string,hint:l().string,errors:l().string,onChange:l().func.isRequired,onLabelClick:l().func,enableLabelToggle:l().bool,customLabelClasses:l().string,indeterminate:l().bool},p.defaultProps={disabled:!1,enableLabelToggle:!1,value:!1,indeterminate:!1,text:"",hint:"",onChange:()=>{},onLabelClick:()=>{}};const f=p},75562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends a().Component{constructor(){super(...arguments),s(this,"handleChange",(e=>this.props.onChange(e)))}render(){return a().createElement("div",{className:"hidden",id:"".concat(this.props.honeypotId,"_wrapper")},a().createElement("label",{htmlFor:this.props.honeypotId},"If you are a human, ignore this field"),a().createElement("input",{id:this.props.honeypotId,name:this.props.honeypotId,type:"text",onChange:this.handleChange}))}}s(l,"propTypes",{honeypotId:i().string.isRequired,onChange:i().func.isRequired});const c=l;var u=r(98642),d=r(94184),h=r.n(d);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends n.Component{constructor(){super(...arguments),p(this,"displayTransform",((e,t)=>"@".concat(t," "))),p(this,"renderSuggestion",((e,t,r,n)=>a().createElement("span",null,0===n&&a().createElement("span",{className:"mentions__suggestions__header"},"Name's matching \"@".concat(t,'"')),r)))}render(){var e="top"==this.props.placement?"comment-box-container--top":"comment-box-container--bottom",t=h()(e,{"comment-box-container":!this.props.classes,[this.props.classes]:this.props.classes});return a().createElement("div",{className:t},a().createElement(c,{honeypotId:this.props.honeypotId,onChange:this.props.onHoneypotChange}),a().createElement(u.r,{className:"mentions",id:this.props.htmlId,placeholder:this.props.placeholder,value:this.props.value,onChange:this.props.onChange,onKeyDown:this.props.onKeyDown,autoFocus:this.props.autoFocus,onFocus:this.props.onFocus,onBlur:this.props.onBlur},a().createElement(u.p,{appendSpaceOnAdd:!0,data:this.props.users,displayTransform:this.displayTransform,renderSuggestion:this.renderSuggestion,style:{backgroundColor:"#e8f0f5"},trigger:"@"})),this.props.elements)}}p(f,"propTypes",{honeypotId:i().string.isRequired,htmlId:i().string.isRequired,placeholder:i().string.isRequired,value:i().string.isRequired,onChange:i().func.isRequired,onKeyDown:i().func.isRequired,users:i().func.isRequired,onHoneypotChange:i().func.isRequired,elements:i().any,classes:i().string,placement:i().oneOf(["top","bottom"]).isRequired,onFocus:i().func,onBlur:i().func,autoFocus:i().bool}),p(f,"defaultProps",{placement:"top"})},21707:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(24167);const a=(0,r(66923).Z)(n.Z)},38958:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(41609),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(94184),u=r.n(c);class d extends i().Component{classes(){return u()({"control-label":"horizontal"===this.props.formAligment})}renderLabel(){return this.props.isRequired?i().createElement("span",{className:"form-label"},this.props.text,i().createElement("i",{className:"required-dot"},"*")):i().createElement("span",{className:"form-label"},this.props.text)}render(){return i().createElement("label",{className:this.classes(),htmlFor:this.props.inputId},this.renderLabel())}}d.propTypes={text:l().string.isRequired,isRequired:l().bool,inputId:l().string,formAligment:l().string},d.defaultProps={formAligment:"horizontal"};const h=d;var p=r(15847),f=r(1469),m=r.n(f);class v extends i().Component{renderHelperTextLine(e,t){return i().createElement(p.Z,{key:t,text:e})}renderErrors(){return a()(this.props.errors)?null:m()(this.props.errors)?this.props.errors.map((e=>this.renderHelperTextLine(e.message,e.attribute))):this.renderHelperTextLine(this.props.errors.message)}render(){return i().createElement("div",{className:"control-errors"},this.renderErrors())}}v.propTypes={errors:l().oneOfType([l().object,l().array])};const g=v;class y extends i().Component{classes(){return u()({"form-group":!0,horizontal:"horizontal"===this.props.formAligment,required:this.props.isRequired},this.props.customClasses)}renderControlText(){return a()(this.props.errors)?this.props.helperText?i().createElement(p.Z,{text:this.props.helperText}):void 0:i().createElement(g,{errors:this.props.errors})}showLabel(){return this.props.showLabel&&this.props.label?i().createElement(h,{formAligment:this.props.formAligment,inputId:this.props.inputId,isRequired:this.props.isRequired,text:this.props.label}):null}render(){return i().createElement("div",{className:this.classes()},this.showLabel(),i().createElement("div",{className:"pp-input-wrapper"},this.props.children,this.renderControlText()))}}y.propTypes={label:l().oneOfType([l().string,l().bool]),children:l().node,isRequired:l().bool,inputId:l().string,formAligment:l().string,errors:l().oneOfType([l().object,l().array]),helperText:l().oneOfType([l().string,l().object]),customClasses:l().object,showLabel:l().bool},y.defaultProps={label:!1,formAligment:"horizontal",showLabel:!0};const b=y},15847:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(24614);class l extends a().Component{render(){return this.props.text?a().createElement(s.Z,null,this.props.text):null}}l.propTypes={text:i().oneOfType([i().string,i().object])};const c=l},65701:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(50308),a=r.n(n),o=r(14293),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(61125),h=r(38958);class p extends l().Component{customClasses(){return{"has-error":!i()(this.props.errors)}}textInputReference(){return this.textInput.inputReference()}textInputAsJquery(){return $(this.textInputReference())}render(){return l().createElement(h.Z,{customClasses:this.customClasses(),errors:this.props.errors,formAligment:this.props.formAligment,helperText:this.props.helperText,inputId:this.props.inputId,isRequired:this.props.isRequired,label:this.props.label,showLabel:this.props.showLabel},l().createElement(d.Z,{dataAttribs:this.props.dataAttribs,inputId:this.props.inputId,inputName:this.props.inputName,inputType:"text",maxLength:this.props.maxLength,placeholder:this.props.placeholder,ref:e=>{this.textInput=e},size:this.props.size,value:this.props.value,onChange:this.props.onChange,onKeyPress:this.props.onKeyDown}))}}p.propTypes={label:u().oneOfType([u().string,u().bool]),inputName:u().string.isRequired,inputId:u().string,value:u().string,maxLength:u().number,size:u().number,isRequired:u().bool,placeholder:u().string,helperText:u().string,formAligment:u().string,errors:u().object,dataAttribs:u().object,showLabel:u().bool,onChange:u().func,onKeyDown:u().func},p.defaultProps={value:"",maxLength:524288,size:20,formAligment:"horizontal",dataAttribs:{},showLabel:!0,onKeyDown:a()(),label:!1};const f=p},97846:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(94184),l=r.n(s);r(16246);class c extends a().Component{constructor(){var e,t,r;super(...arguments),r=e=>{this.props.isEventTargetEnabled?this.props.onChange(e):this.props.onChange(this.control.value)},(t="handleOnChange")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}label(){var e=this.props,t=e.requiredField,r=e.optional,n=e.label;return t?a().createElement("span",null,n," ",a().createElement("i",{className:"required-dot"},"*")):r?a().createElement("span",null,n," ",a().createElement("span",{className:"optional"},"(optional)")):a().createElement("span",null,n)}onShown(){var e=$(this.control);e.expanding("active")||e.expanding()}helperText(){var e=this.props.isAtlas?"a-textarea__hint":"help-block";if(this.props.helperText)return a().createElement("div",{className:e},this.props.helperText)}componentWillUnmount(){var e=$(this.control);e.parent(".expanding-wrapper").length&&e.expanding("destroy")}classes(){var e=this.props.isAtlas;return l()({"form-group":!e,horizontal:"horizontal"===this.props.formAligment&&!e,"a-textarea":e})}render(){var e=this.props.isAtlas,t="form-control"+" ".concat(this.props.textareaClasses),r=e?"a-textarea__field":t,n=e?"a-textarea__label":"control-label";return a().createElement("div",{className:this.classes()},this.props.label&&a().createElement("label",{className:n,htmlFor:this.props.inputId},this.label()),a().createElement("div",{className:"pp-input-wrapper"},a().createElement("textarea",{className:r,cols:this.props.cols,id:this.props.inputId,name:this.props.inputName,placeholder:this.props.placeholder,ref:e=>{this.control=e},rows:this.props.rows,value:this.props.value,onChange:this.handleOnChange,onKeyDown:this.props.onKeyDown,onBlur:this.props.onBlur}),this.helperText()))}}c.propTypes={textareaClasses:i().string,label:i().oneOfType([i().string,i().bool]),inputName:i().string.isRequired,inputId:i().string,value:i().string,requiredField:i().bool,placeholder:i().string,helperText:i().string,cols:i().number,rows:i().number,formAligment:i().string,onChange:i().func,onKeyDown:i().func,isAtlas:i().bool,optional:i().bool,isEventTargetEnabled:i().bool,onBlur:i().func},c.defaultProps={textareaClasses:"",cols:20,rows:1,formAligment:"horizontal",onChange:()=>{},onKeyDown:()=>{},label:!1,isEventTargetEnabled:!1};const u=c},71441:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n=r(98066),a=r.n(n),o=r(63105),i=r.n(o),s=r(75472),l=r.n(s),c=r(67294),u=r.n(c),d=r(45697),h=r.n(d),p=r(58732),f=r(82886),m=r(33685),v=r(41609),g=r.n(v),y=r(41293),b=r(39012);class w extends u().Component{renderGroupLabel(){return g()(this.props.groupLabel)?null:u().createElement(p.Z,{header:!0,key:"bar-field-info"},this.props.groupLabel)}renderFieldVisibilityItem(e){return u().createElement("li",{className:"menu-control",key:e.id,role:"presentation"},u().createElement("a",null,u().createElement(y.Z,{enableLabelToggle:!0,id:e.id,text:e.text,value:e.selected,onChange:e.handleChange})))}renderMenuItems(){return this.props.options.map((e=>this.renderFieldVisibilityItem(e)))}renderOptions(){if(this.props.isEmbedded){var e=this.renderGroupLabel(),t=this.renderMenuItems();return[e].concat(t)}return this.renderDropdownComponents()}renderDropdownComponents(){return u().createElement(f.Z,{noCaret:!0,bsStyle:"default",className:"actions-dropdown-item",id:"dropdown-no-caret",title:u().createElement(b.Z,{name:b.c.ellipsisVertical}),onToggle:this.handleToggle},this.renderGroupLabel(),this.renderMenuItems())}render(){return this.renderOptions()}}w.propTypes={options:h().array.isRequired,isEmbedded:h().bool,groupLabel:h().string},w.defaultProps={isEmbedded:!1};const C=w;var E=r(74855);function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x="Display on all bars:",L="Park",P="Prioritize",O="History",S="Add to Jira",k="Add to Azure DevOps",T="Delete",D="Copied to clipboard",I="Copy link for this Bar",R="Effort",A="Percent Complete",j="Strategic Importance",M="Dates",N="Connections";class B extends u().Component{constructor(){super(...arguments),_(this,"state",{open:!1}),_(this,"keepMenuOpen",(()=>{this.forceOpen=!0})),_(this,"handleCopyLink",(()=>{this.setState({open:!0})})),_(this,"handleToggleDropdown",(e=>{if(this.forceOpen){this.setState({open:!0,copied:!0},(()=>{a()((()=>{this.setState({open:!1,copied:!1})}),1e3)})),this.forceOpen=!1}else this.setState({open:e})}))}getActionSettings(){var e=[{text:L,class:"park",show:this.props.showParkingLotAction,callback:this.props.onParkOnClick},{text:O,class:"history",show:this.props.showHistoryAction,callback:this.props.onHistoryOnClick},{text:S,class:"send-to",show:this.props.canAttachJiraIssue,callback:()=>this.props.onSendBarToOnClick("jira")},{text:k,class:"send-to",show:this.props.canAttachVstsIssue,callback:()=>this.props.onSendBarToOnClick("ado")},{text:T,class:"delete",show:this.props.showDeleteAction,callback:this.props.onDeleteOnClick},{text:this.state.copied?D:I,class:"copy-link",show:this.props.showCopyLink,callback:this.keepMenuOpen},{text:P,class:"prioritize",show:this.props.showPrioritizeAction,callback:this.props.onPrioritizeOnClick}];return e=l()(e,(e=>e.text),["asc"]),i()(e,(e=>e.show))}copyLinkWrapper(e){return e.map((e=>{var t=e.props;return"copy-link"===t.className?u().createElement(E.CopyToClipboard,{key:e.key,text:this.props.bar.url,onCopy:this.handleCopyLink},u().cloneElement(e,{className:this.state.copied?"".concat(t.className," copied"):t.className})):e}))}getFieldVisibilitySettings(){var e=[{id:"bar_effort",show:this.props.showEffortEditOption,text:R,selected:this.props.barFieldSettings.effortVisible,handleChange:this.props.onFieldVisibilityChange},{id:"bar_percent_complete",show:this.props.showPercentEditOption,text:A,selected:this.props.barFieldSettings.percentCompleteVisible,handleChange:this.props.onFieldVisibilityChange},{id:"bar_strategic_importance",show:this.props.showStrategicImportantOption,text:j,selected:this.props.barFieldSettings.strategicImportanceVisible,handleChange:this.props.onFieldVisibilityChange},{id:"bar_dates",show:this.props.showDatesEditOption,text:M,selected:this.props.barFieldSettings.datesVisible,handleChange:this.props.onFieldVisibilityChange},{id:"bar_connections",show:this.props.showConnectionsOption,text:N,selected:this.props.barFieldSettings.connectionsVisible,handleChange:this.props.onFieldVisibilityChange}];return e=l()(e,(e=>e.text),["asc"]),i()(e,(e=>e.show))}renderActions(){var e={actionable:this.props.bar,actions:this.getActionSettings(),isEmbedded:!0},t=new m.Z(e);return this.copyLinkWrapper(t.renderActions())}renderFieldVisibilityOptions(){var e={options:this.getFieldVisibilitySettings(),groupLabel:this.props.fieldVisibilityGroupLabel,isEmbedded:!0};return new C(e).renderOptions()}renderVisibilitySeparator(){return this.props.showFieldVisibilityGroup&&this.props.showActionGroup?u().createElement(p.Z,{divider:!0}):null}render(){return u().createElement(f.Z,{noCaret:!0,bsStyle:"default",className:"actions-dropdown-item",defaultOpen:this.state.open,id:"dropdown-no-caret",open:this.state.open,title:u().createElement(b.Z,{name:b.c.ellipsisVertical}),onToggle:this.handleToggleDropdown},this.props.showActionGroup?this.renderActions():null,this.renderVisibilitySeparator(),this.props.showFieldVisibilityGroup?this.renderFieldVisibilityOptions():null)}}_(B,"propTypes",{bar:h().object,barFieldSettings:h().object,canAttachJiraIssue:h().bool.isRequired,canAttachVstsIssue:h().bool.isRequired,fieldVisibilityGroupLabel:h().string,showCopyLink:h().bool,showActionGroup:h().bool.isRequired,showConnectionsOption:h().bool,showDeleteAction:h().bool,showFieldVisibilityGroup:h().bool.isRequired,showHistoryAction:h().bool,showParkingLotAction:h().bool,showPrioritizeAction:h().bool,showEffortEditOption:h().bool,showPercentEditOption:h().bool,showStrategicImportantOption:h().bool,showDatesEditOption:h().bool,onDeleteOnClick:h().func,onParkOnClick:h().func,onPrioritizeOnClick:h().func,onHistoryOnClick:h().func,onSendBarToOnClick:h().func,onFieldVisibilityChange:h().func}),_(B,"defaultProps",{fieldVisibilityGroupLabel:x,showCopyLink:!1});const F=B},33685:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(35161),a=r.n(n),o=r(63105),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(58732),h=r(82886),p=r(39012);class f extends l().Component{constructor(e){super(e),this.handleItemClicked=this.handleItemClicked.bind(this)}selected(e){return e.selected?l().createElement(p.Z,{name:p.c.check}):null}handleItemClicked(e){i()(this.props.actions,(t=>t.text===e.target.text))[0].callback(this.props.actionable)}renderMenuItem(e){return l().createElement(d.Z,{className:e.class,id:e.id,key:e.text,onClick:this.handleItemClicked},e.text,this.selected(e))}renderMenuItems(){return a()(this.props.actions,(e=>this.renderMenuItem(e)))}renderActions(){return this.props.busy?l().createElement(p.Z,{classes:p.c.spin,name:p.c.spinner}):this.props.isEmbedded?this.renderMenuItems():this.renderDropdownComponents()}renderDropdownComponents(){return l().createElement(h.Z,{noCaret:!0,bsStyle:"default",className:"actions-dropdown-item",id:"dropdown-no-caret",title:l().createElement(p.Z,{name:p.c.ellipsisVertical})},this.renderMenuItems())}render(){return this.renderActions()}}f.propTypes={actionable:u().object,actions:u().array.isRequired,busy:u().bool.isRequired,isEmbedded:u().bool},f.defaultProps={isEmbedded:!1};const m=f},87850:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});var n=r(41609),a=r.n(n),o=r(91966),i=r.n(o),s=r(18446),l=r.n(s),c=r(16689),u=r.n(c),d=r(66073),h=r.n(d),p=r(35161),f=r.n(p),m=r(67294),v=r.n(m),g=r(45697),y=r.n(g),b=r(94184),w=r.n(b),C=(r(18553),r(55652)),E=r(99411);function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(this,arguments)}class x extends v().Component{value(){return this.control.value}label(){return this.props.requiredField?v().createElement("span",null,this.props.label," ",v().createElement("i",{className:"required-dot"},"*")):v().createElement("span",null,this.props.label)}helperText(){if(this.props.helperText)return v().createElement("div",{className:"help-block"},this.props.helperText)}labelComponent(){if(this.props.displayLabel)return v().createElement("label",{className:"control-label",htmlFor:this.props.inputId},this.label())}options(){var e=f()(this.props.options,(e=>{var t=e.name,r={};return h()(u()(e),(t=>{"id"===t?(r[t]=e[t],r.key=e[t],r.value=e[t]):r["data-"+t]=e[t]})),v().createElement("option",_({key:t},r),t)}));return void 0!==this.props.placeholder?(e.unshift(v().createElement("option",{key:"placeholder",value:""})),e):e}componentDidMount(){var e=$(this.control);this.initializeSelect2(e)}initializeSelect2(e){var t=this.props.allowClear;e.select2({minimumResultsForSearch:this.props.minimumResultsForSearch,formatResult:this.props.formatResult,formatSelection:this.props.formatSelection,escapeMarkup:e=>e,formatSelectionCssClass:()=>this.props.selectionClass,width:this.props.width,allowClear:t}).on("select2-open",(()=>{$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01)})).on("change",this.props.onChange)}shouldComponentUpdate(e){return this.props.disabled!==e.disabled||this.props.value!==e.value||!l()(this.props.errors,e.errors)||0!==i()(this.props.options,e.options).length}componentDidUpdate(e){if(!l()(e.options,this.props.options)){var t=this.props.options.reduce((function(e,t){return e.push(t.id||t.key),e}),[]),r=$(this.control);if(!t.includes(r.val())){var n=this.props.options[0];r.val(n.id||n.key).trigger("change")}}}componentWillUnmount(){var e=$(this.control);E.Z.destroySelect2(e)}classes(){return w()({"pp-select2":!0,"form-group":!0,"form-inline":"form-inline"==this.props.formAligment,horizontal:"horizontal"==this.props.formAligment,"has-error":!a()(this.props.errors)})}render(){return v().createElement("div",{className:this.classes()},this.labelComponent(),v().createElement("div",{className:"pp-input-wrapper"},v().createElement("select",_({className:"form-control","data-placeholder":this.props.placeholder,defaultValue:this.props.value,disabled:this.props.disabled,id:this.props.inputId,name:this.props.inputName,ref:e=>{this.control=e},onChange:this.props.onChange},this.props.dataAttribs),this.options()),this.helperText()))}}x.propTypes={allowClear:y().bool,disabled:y().bool,label:y().string.isRequired,inputName:y().string.isRequired,selectionClass:y().string.isRequired,inputId:y().string,options:y().array,requiredField:y().bool,displayLabel:y().bool,helperText:y().string,placeholder:y().string,formAligment:y().string,value:y().string,minimumResultsForSearch:y().string,width:y().string,formatResult:y().func,formatSelection:y().func,onChange:y().func.isRequired,dataAttribs:y().object,errors:y().object},x.defaultProps={allowClear:!0,disabled:!1,formInline:!1,label:"",formatResult:C.ProductPlan.formatOption,formatSelection:C.ProductPlan.formatSelection,minimumResultsForSearch:"-1",formAligment:"horizontal",displayLabel:!0,onChange:()=>{},dataAttribs:{},width:"resolve"};const L=x},61125:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(18446),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(94184),u=r.n(c);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}class h extends i().Component{constructor(e){super(e),this.state={inputValue:this.props.value}}classes(){return u()({"form-control":!0})}componentDidUpdate(e,t){a()(t.inputValue,this.state.inputValue)||this.props.onChange(this.state.inputValue),e.value!==this.props.value&&this.props.value!==this.state.inputValue&&this.setState({inputValue:this.props.value})}updateInputValue(e){this.setState({inputValue:e.target.value})}getInputValue(){return this.state.inputValue}setFocus(){this.textInput.focus()}inputReference(){return this.textInput}render(){return i().createElement("input",d({className:this.classes(),id:this.props.inputId,maxLength:this.props.maxLength,name:this.props.inputName,placeholder:this.props.placeholder,readOnly:this.props.readOnly,ref:e=>{this.textInput=e},size:this.props.size,type:this.props.inputType,value:this.state.inputValue,onBlur:this.props.onBlur,onChange:this.updateInputValue.bind(this),onKeyDown:this.props.onKeyPress},this.props.dataAttribs))}}h.propTypes={inputType:l().string.isRequired,inputName:l().string.isRequired,inputId:l().string,value:l().string,maxLength:l().number,size:l().number,placeholder:l().string,onKeyPress:l().func,onChange:l().func,onBlur:l().func,dataAttribs:l().object,readOnly:l().bool},h.defaultProps={dataAttribs:{},onKeyPress:()=>{},onChange:()=>{},onBlur:()=>{},value:""};const p=h},66923:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(24614),l=r(43557),c=r(51206),u=["field","onChange"],d=["field"],h=["editMode"],p=["editMode"],f=["help","id","label","pendoId","validationState"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&r.call(g,a)&&(f=g);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function g(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=i().shape({errors:i().array,id:i().string.isRequired,value:i().any,onChange:i().func.isRequired});function C(e){var t;return t=class extends a().Component{render(){var t=this.props,r=t.field,n=t.onChange,o=y(t,u);return r?(r.errors&&0!==r.errors.length&&(o.help=r.errors,o.validationState="error"),o.id=r.id,o.value=r.value,o.onChange=function(){var e,t=(e=v().mark((function e(t){var a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!==typeof n){e.next=6;break}return e.next=3,n(t);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=!0;case 7:!(a=e.t0)&&void 0!==a||"function"!==typeof r.onChange||r.onChange(t);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){g(o,n,a,i,s,"next",e)}function s(e){g(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()):o.onChange=n,a().createElement(e,o)}},b(t,"propTypes",{field:w,onChange:i().func}),t}var E=(e,t)=>{class r extends a().Component{renderEditMode(){var e=this.props,t=(e.editMode,y(e,h));return a().createElement(r.Edit,t)}renderViewMode(){var e=this.props,t=(e.editMode,y(e,p));return a().createElement(r.View,t)}render(){return this.props.editMode?this.renderEditMode():this.renderViewMode()}}b(r,"propTypes",{editMode:i().bool.isRequired});class n extends a().Component{renderHelp(e){return a().createElement(s.Z,null,e.join(". "))}render(){var t=this.props,r=t.help,n=t.id,o=t.label,i=t.pendoId,s=t.validationState,u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:n},y(t,f));return a().createElement(l.Z,{controlId:n,validationState:s},o&&a().createElement(c.Z,{"data-pendo-label-cta":i},o),a().createElement(e,u),r&&this.renderHelp(r))}}b(n,"propTypes",{help:i().array,id:i().string.isRequired,label:i().oneOfType([i().string,i().bool]),pendoId:i().string,validationState:i().string}),r.Edit=C(n);class o extends a().Component{render(){var e=this.props,t=e.id,r=e.label,n=e.value;return a().createElement(l.Z,{id:t},r&&a().createElement(c.Z,null,r),a().createElement("p",{className:"respect-newlines"},n),a().createElement("hr",{className:"paragraph-separator"}))}}var u,v;return b(o,"propTypes",{id:i().string.isRequired,label:i().oneOfType([i().string,i().bool]),value:i().string.isRequired}),r.View=(u=t||o,b(v=class extends a().Component{render(){var e=this.props,t=e.field,r=y(e,d);if(t){if(""===t.value)return null;r.id=t.id,r.value=t.value}return a().createElement(u,r)}},"propTypes",{field:w}),v),r.withView=t=>E(e,t),r};const _=E},83379:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(59704),a=r.n(n),o=r(75472),i=r.n(o),s=r(50308),l=r.n(s),c=r(67294),u=r.n(c),d=r(45697),h=r.n(d),p=r(55652),f=r(96069),m=r(74527);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function y(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}var b={allowClear:h().bool,dataAttribs:h().object,disabled:h().bool,displayLabel:h().bool,errors:h().object,formAligment:h().string,formatResult:h().func,formatSelection:h().func,helperText:h().string,inputId:h().string,inputName:h().string.isRequired,isRequired:h().bool,label:h().string.isRequired,maxLength:h().number,minimumResultsForSearch:h().string,options:h().array,placeholder:h().string,requiredField:h().bool,selectionClass:h().string.isRequired,showLabel:h().bool,size:h().number,value:h().string,width:h().string,onAuthChange:h().func.isRequired,onChange:h().func.isRequired,onError:h().func},w={allowClear:!0,dataAttribs:{},disabled:!1,displayLabel:!0,formAligment:"horizontal",formatResult:p.ProductPlan.formatOption,formatSelection:p.ProductPlan.formatSelection,formInline:!1,label:"",minimumResultsForSearch:"-1",width:"resolve",onAuthChange:l(),onChange:l(),onError:l()};class C extends u().Component{static loadRepositories(){return(e=g().mark((function e(){var t,r,n,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.current_user.github_authentication_enabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,m.default.github.getRepositories();case 5:return t=e.sent,e.abrupt("return",t.repositories);case 9:throw e.prev=9,e.t0=e.catch(2),{message:null!==(r=null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)&&void 0!==r?r:"There was a problem fetching your GitHub repositories.",status:null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status};case 12:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){y(o,n,a,i,s,"next",e)}function s(e){y(o,n,a,i,s,"throw",e)}i(void 0)}))})();var e}static handleRepositorySelected(e){var t=window.current_user.github_recent_repository=parseInt(e);m.default.github.updateIntegration({recent_repository:t})}handleRepositoriesLoaded(e){var t=i()(e,[e=>e.name.toLowerCase()],["asc"]);return t.length>0?{sortedOptions:t,selectedOption:a()(t,(e=>e.id===window.current_user.github_recent_repository))?window.current_user.github_recent_repository:t[0].id}:{}}render(){return u().createElement(f.Z,v({},this.props,{loadAsync:C.loadRepositories,placeholder:"Loading Repositories...",onFinishedLoading:this.handleRepositoriesLoaded,onItemSelect:C.handleRepositorySelected}))}}C.propTypes=b,C.defaultProps=w;const E=C},99411:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(67191),a=r.n(n),o=r(67294),i=r.n(o),s=r(73935),l=r.n(s),c=r(65943);const u=class{static destroySelect2(e){e.select2("destroy")}static onShown(e){Object.values(e.compRefs).forEach((e=>{e&&"function"===typeof e.onShown&&e.onShown()}))}static getFormData(e){return e.serializeArray().reduce(((e,t)=>((0,c.xb)(t.name)||(e[t.name]=t.value),e)),{})}static elementKey(e,t){return e+"_"+t}static renderComponent(e,t,r){var n,o=a()(r)?r:r[0],s=i().createElement(e,t);return l().render(s,o,(function(){n=this})),n}static conditionalWrapper(e){var t=e.condition,r=e.wrapper,n=e.children;return t?r(n):n}static getElementStyle(e){return e.currentStyle||window.getComputedStyle(e)}static displayErrors(e){if(e)return i().createElement("div",{className:"alert alert-danger error"},e)}static renderBadge(e){if(e)return i().createElement("span",{className:"badge"},e)}}},12266:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=class{static loadTemplateGTMEvent(e){var t="".concat(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?"roadmap_template_loaded_":"roadmap_template_loaded_no_data_").concat(e);window.dataLayer.push({event:t})}}},87195:(e,t,r)=>{"use strict";r.d(t,{EW:()=>l,uY:()=>u});var n=r(67294),a=r.n(n),o=r(9125),i=r(83424),s=r(90075);function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.map(((e,r)=>c(e,r,t)))}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=o.Zh[e.short_name]?o.Zh[e.short_name]:e.short_name,l=o.GR[e.short_name]?o.GR[e.short_name]:e.short_name;return a().createElement("a",{href:"/integrations/".concat(l),key:t,onClick:r},a().createElement(s.Z,null,a().createElement(i.Z,{id:"".concat(n,"-color-icon")})))}function u(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return a().createElement("p",null,e?"Start syncing with Jira, Azure DevOps, Zapier, and more on the ":"Add additional tools on the ",a().createElement("a",{href:"/integrations",onClick:t},"Integrations")," page.")}},98533:(e,t,r)=>{"use strict";function n(e){return e.replace(/Link/,"").toLowerCase()}r.d(t,{c:()=>n})},49381:(e,t,r)=>{"use strict";r.d(t,{p:()=>C,r:()=>w});var n=r(67294),a=r.n(n),o=r(98533),i=r(45697),s=r.n(i),l=r(83424),c=r(34428),u=r(39012),d=r(62761),h=r(94184),p=r.n(h),f=r(55652),m=r(90075),v=r(84256);function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function y(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function b(e){var t=function(){var t,r=(t=g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onVisibilityChange(),t.next=3,c.Z.showAsync({title:"Delete Link",message:"Are you sure you want to delete the link ".concat(e.link.name,"?"),confirmButtonVariation:"danger"});case 3:if(!t.sent){t.next=10;break}return window.showAJAXLoaderModal(),t.next=8,f.ProductPlan.roadmapManager.deleteLinkFromBar(e.link.id,e.barId);case 8:"function"===typeof e.onDeleted&&e.onDeleted(),window.hideAJAXLoaderModal();case 10:e.onVisibilityChange(e.link.type===v.Un.WEBLINK?"links":"integrations");case 11:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){y(o,n,a,i,s,"next",e)}function s(e){y(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),r=p()({link:!0,"dead-link":e.link.is_dead});return a().createElement("div",{className:r},a().createElement("div",{className:"link--section"},a().createElement("a",{href:e.link.url,target:"_blank",title:e.link.name},e.link.is_dead&&e.editMode?a().createElement(m.Z,null,a().createElement(u.Z,{classes:"links-dead-icon",name:u.c.warningSquare})):null,(()=>{var t=e.link,r=(0,d.e)(t);if(r)return r;if(t.type===v.Un.WEBLINK)return a().createElement(m.Z,null,a().createElement(u.Z,{name:u.c.globe}));var n=(0,o.c)(t.type);return"pivotal"===n&&(n="tracker"),a().createElement(m.Z,null,a().createElement(l.Z,{id:"".concat(n,"-icon")}))})(),a().createElement("span",{className:"link--name"},e.link.name),a().createElement(m.Z,null,a().createElement(u.Z,{name:u.c.externalLinkSquare})))),a().createElement("div",{className:"link--remove"},e.editMode?a().createElement(m.Z,null,a().createElement(u.Z,{classes:"links-delete-icon",name:u.c.trash,onClick:t})):null))}b.propTypes={barId:s().number.isRequired,editMode:s().bool.isRequired,link:s().object.isRequired,onVisibilityChange:s().func.isRequired,onDeleted:s().func},b.defaultProps={onDeleted:null};var w={ado:{iconKey:"vsts",importKey:"vsts-links",key:"vsts",keyAzure:"azureDevOps",name:"Azure DevOps"},excel:{iconKey:"excel",key:"excel",name:"CSV or XLS"},github:{iconKey:"github",importKey:"github-links",key:"github",name:"GitHub"},import:{name:"Import"},jira:{iconKey:"jira",importKey:"jira-links",key:"jira",name:"Jira"},pivotal:{key:"pivotal"},tracker:{iconKey:"tracker",importKey:"tracker-links",key:"tracker",name:"Tracker"},trello:{iconKey:"trello",importKey:"trello-links",key:"trello",name:"Trello"},web:{importKey:"links",iconKey:"weblink"}};function C(e,t,r,n,i){return e.map((e=>{var s=Object.assign({},e);return s.icon=(0,o.c)(s.type),"pivotal"===s.icon&&(s.icon="tracker"),a().createElement(b,{barId:t,editMode:r,key:s.id,link:s,onVisibilityChange:n,onDeleted:i})}))}},56546:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(59704),a=r.n(n),o=r(58909),i=r(55652);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l{static roadmapRemoteSyncCompletedNotification(e){l.isRemoteBarSyncFeatureEnabled()&&o.default.publish(l.roadmapRemoteSyncCompletedEvent,{integrationId:e})}static singleBarUpdate(e,t){l.processBarAndChildbars(e,t),l.notifyRoadmapBarPendingStatusChange()}static handleBarsDeleted(e){a()(e,(e=>e.isDateRangeSyncEnabled()))&&l.notifyRoadmapBarPendingStatusChange()}static handledParkedBar(e){e.isDateRangeSyncEnabled()&&l.notifyRoadmapBarPendingStatusChange()}static processBarAndChildbars(e,t){l.setBarRemoteSyncStatus(e,t),e.hasChildBars()&&e.bars().forEach((e=>{l.setBarRemoteSyncStatus(e,t)}))}}s(l,"barsRemoteSyncStatusChange","BARS_REMOTE_SYNC_STATUS_CHANGE"),s(l,"roadmapRemotePendingBarsCountUpdate","UPDATED_REMOTE_SYNC_BARS_COUNT"),s(l,"roadmapRemoteSyncCompletedEvent","ROADMAP_REMOTE_SYNC_COMPLETED"),s(l,"isRemoteBarSyncFeatureEnabled",(()=>i.ProductPlan.isFeatureEnabled("push_integration_link_dates"))),s(l,"roadmapIntegrationsPendingCountUpdated",(e=>{l.isRemoteBarSyncFeatureEnabled()&&o.default.publish(l.roadmapRemotePendingBarsCountUpdate,e)})),s(l,"notifyRoadmapBarPendingStatusChange",(()=>{l.isRemoteBarSyncFeatureEnabled()&&o.default.publish(l.barsRemoteSyncStatusChange)})),s(l,"setBarRemoteSyncStatus",((e,t)=>{null!==t&&void 0!==t?l.isRemoteBarSyncFeatureEnabled()&&null!=e.barFieldSyncLinkType()&&(e.isPendingRemoteSync=t):console.error("pendingRemoteSyncStatus is null or undefined")}));const c=l},79881:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var n=r(67294),a=r.n(n),o={buildProperties:(e,t)=>{var r=null,n=null;return t&&(r=t.filter((e=>!0===e.isRoadmapIntegration&&e.syncAvailable)),n=t.filter((e=>!0===e.isCurrentUserIntegration&&e.syncAvailable))),{roadmapId:e,ownerIntegrations:r,currentUserIntegrations:n}}},i=e=>{var t=r(96486).capitalize;switch(e){case"vsts":case"ado":return"Azure DevOps";case"pivotal":return"Tracker";default:return t(e)}},s=()=>{var e=r(56264),t=r(96486).difference,n=window.currentRoadmapable.roadmapableId(),a=window.currentRoadmapable.thirdPartyIntegrationsToolbar(),i=o.buildProperties(n,e.camelizeKeys(a)),s=i.ownerIntegrations.map((e=>e.type)),l=i.currentUserIntegrations.map((e=>e.type));return{ownerIntegrations:s,currentUserIntegrations:l,integrationDifference:t(l,s)}},l={roadmapIntegrationToolbar:o,getIntegrationName:i,renderLinksWontSyncMessage:e=>{var t=r(91425).LinkWontSyncMessage;if(-1===s().integrationDifference.indexOf(e))return null;var n="Links on this bar will not sync until the Roadmap Owner has configured ".concat(i(e));return a().createElement("div",{className:"link-wont-sync-warning"},a().createElement(t,{message:n}))},getOwnerAndUserIntegrations:s}},24082:(e,t,r)=>{"use strict";function n(e,t,r,n,a){var o;e.response?[401,403].includes(e.response.status)?(t(!1),null===n||void 0===n||null===(o=n.select2)||void 0===o||o.call(n,"destroy")):r({message:e.response.data.error,type:"danger"}):r({message:"There was an error communicating with ".concat(a,". Please try again later."),type:"danger"})}r.d(t,{i:()=>n})},32148:(e,t,r)=>{"use strict";r.d(t,{Z:()=>he});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(74527),l=r(93128);var c=r(95234),u=r(10188),d=r(94184),h=r.n(d),p=r(39012),f=r(19728),m=r(54228),v=r(99411);function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends a().Component{tooltip(){return a().createElement(f.Z,{id:"roadmap-integration-add"},"Add an integration")}helperText(){var e=this.props,t=e.displayTextMessage,r=e.textMessage;return t?r:null}classes(){var e=this.props.displayTextMessage;return h()({"roadmap-integration-icon":!0,"no-integration":e})}render(){return a().createElement(v.Z.conditionalWrapper,{condition:this.props.displayHelpTooltip,wrapper:e=>a().createElement(m.Z,{overlay:this.tooltip(),placement:"top"},e)},a().createElement("span",{className:this.classes()},a().createElement("a",{href:"/integrations",onClick:this.props.onHandleShowMenu},a().createElement(p.Z,{name:p.c.plusCircle}),this.helperText())))}}g(y,"propTypes",{displayTextMessage:i().bool.isRequired,displayHelpTooltip:i().bool,textMessage:i().string,onHandleShowMenu:i().func}),g(y,"defaultProps",{textMessage:"Link an integration",displayHelpTooltip:!0,onHandleShowMenu:()=>{}});const b=y;var w=r(55652);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class _ extends a().PureComponent{constructor(){var e;super(...arguments),e=this,E(this,"state",{showPopover:!1,showMenu:!1}),E(this,"handleShowPopover",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.state.showPopover;e.t&&(clearTimeout(e.t),t&&r||!t&&!r)||(e.t=setTimeout((()=>{e.setState({showPopover:t})}),500))})),E(this,"handleShowMenu",(()=>{var e=!this.state.showMenu;this.setState({showMenu:e}),$(document).one("mouseup",(()=>{e&&(this.integrationTitleRef.contains(w.ProductPlan.clickedTarget)||this.setState({showMenu:!1}))}))})),E(this,"handleCloseMenu",(()=>{this.setState({showMenu:!1})})),E(this,"renderEditMenu",(()=>{var e=h()({show:this.state.showMenu},"dropdown-menu");return a().createElement("ul",{"aria-labelledby":"dropdownMenu",className:e,role:"menu"},a().createElement("li",null,a().createElement(b,{displayTextMessage:!0,displayHelpTooltip:!1,textMessage:"Add an Integration",onHandleShowMenu:this.handleCloseMenu})))})),E(this,"renderTitle",(()=>{var e=this.props.name;return a().createElement("div",C({},this.defaultTitleProps(),{ref:e=>{this.popoverTargetRef=e}}),a().createElement("div",{className:"roadmap-integration-title-dropdown"},a().createElement("div",{className:"dropdown-toggle",onClick:this.handleShowMenu,ref:e=>{this.integrationTitleRef=e}},a().createElement("span",{className:"integration-title"},e),a().createElement("span",{className:"toggle-icon"},a().createElement(p.Z,{name:p.c.ellipsisVertical}))),this.renderEditMenu()))}))}renderPopover(){var e=this.props,t=e.name,r=e.description,n=e.className,o="".concat(n,"-popover");return a().createElement(c.Z,{id:o,title:t},a().createElement("div",{className:"break-word respect-newlines"},r))}defaultTitleProps(){var e=this.props;return{className:e.className,"data-content":e.description,onMouseEnter:()=>{this.handleShowPopover(!0)},onMouseLeave:()=>{this.handleShowPopover()}}}render(){var e=this.state.showPopover;return a().createElement("div",null,this.renderTitle(),a().createElement(u.Z,{placement:"top",show:e,target:this.popoverTargetRef},this.renderPopover()))}}E(_,"propTypes",{name:i().string.isRequired,description:i().string.isRequired,className:i().string.isRequired});const x=_;var L=r(75472),P=r.n(L),O=r(63105),S=r.n(O),k=r(35161),T=r.n(k);var D=r(83424),I=r(76364);function R(){R=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function A(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){A(o,n,a,i,s,"next",e)}function s(e){A(o,n,a,i,s,"throw",e)}i(void 0)}))}}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class N extends a().Component{constructor(){var e;super(...arguments),e=this,M(this,"availableActions",(()=>{var e=window.current_user.features.includes("vimeo_record"),t={text:"Create a new screen recording",class:"record",selected:!1,callback:this.startScreenRecord},r={text:"Go to Vimeo overview page",class:"overview",selected:!1,callback:()=>{w.ProductPlan.openLink({url:"/integrations/vimeo"})}};return I.Z.isVimeoRecordSupported()&&e?[t,r]:[r]})),M(this,"startScreenRecord",j(R().mark((function t(){return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.recordInstance){t.next=8;break}return e.recordInstance=new window.VimeoRecordWidget,e.props.onVimeoRecording(!0),t.next=5,e.recordInstance.initialize({accessToken:e.props.vimeoToken,partnerTitle:"ProductPlan",connectAccountURL:"".concat(window.location.origin,"/integrations/vimeo/from_recording_widget"),partnerLogoURL:"https://s3.us-west-2.amazonaws.com/assets.productplan.com/logos/2020/Logo_Mark_Transparent.png",language:"en",defaultVideoTitle:window.currentRoadmapable.title(),defaultVideoDescription:window.currentRoadmapable.description});case 5:e.recordInstance.on("sdkstatechange",e.onSdkStateChange),e.recordInstance.on("videostatechange",e.onVideoStateChange),e.recordInstance.on("analytics",e.onAnalytics);case 8:return t.next=10,e.recordInstance.activate();case 10:window.dataLayer.push({event:"vimeo_recording_widget_launched"});case 11:case"end":return t.stop()}}),t)})))),M(this,"onSdkStateChange",(e=>{this.props.onVimeoRecording(e.isRecording||e.isUIShown)})),M(this,"onVideoStateChange",((e,t)=>{switch(e){case"videoUploaded":break;case"videoDiscard":l.Z.unsuccessful("The recorded video has been deleted."),window.dataLayer.push({event:"vimeo_recording_deleted"});break;case"videoReady":case"videoAdd":t.videoReady&&t.videoAdd&&(this.copyTextToClipboard(t.url),l.Z.success("The recorded video has been saved in vimeo cloud.","It has been copied to your clipboard"),window.dataLayer.push({event:"vimeo_recording_uploaded"}))}})),M(this,"onAnalytics",(e=>{if("recordingStartClicked"===e)window.dataLayer.push({event:"vimeo_recording_started"})})),M(this,"copyTextToClipboard",(e=>{var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{var r=document.execCommand("copy")?"successful":"unsuccessful";console.log("Copying text command was "+r)}catch(n){throw console.error("Oops, unable to copy"),n}document.body.removeChild(t)})),M(this,"buildMenuItems",(()=>this.availableActions().map((e=>a().createElement("li",{key:e.text,className:"".concat(e.class," menu-item")},a().createElement("button",{className:"menu-item__btn",onClick:()=>e.callback()},a().createElement("span",{className:"menu-item__text"},e.text)))))))}render(){return a().createElement("div",{className:"menu"},a().createElement("ul",{className:"menu__list"},this.buildMenuItems()))}}M(N,"propTypes",{onVimeoRecording:i().func.isRequired,vimeoToken:i().string});function B(){B=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function F(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function V(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){F(o,n,a,i,s,"next",e)}function s(e){F(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class U extends a().Component{constructor(){var e;super(...arguments),e=this,Z(this,"availableActions",(()=>{var t,r,n=this.props,a=n.integrationId,o=n.integrationName,i=n.handleIntegrationSync,s=n.handleRemoteSync,l=n.hasPendingChanges,c={text:"Sync from "+o,class:"sync",selected:!1,callback:()=>{i(a)}},u={text:"Push changes to "+o,class:"push",selected:!1,callback:()=>{s(a)}},d={text:"Import",class:"sync",selected:!1,callback:(t=V(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleImport(o);case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})};return r=window.currentRoadmapable.isPrimaryView()?[c,d]:[c],l&&r.unshift(u),r})),Z(this,"handleImport",function(){var t=V(B().mark((function t(r){var n,a,o;return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="Azure DevOps"===r?"vsts":r,t.prev=1,t.next=4,s.default.roadmaps.integrationImport(e.props.roadmapId,n.toLowerCase());case 4:a=t.sent,o=a.data,w.ProductPlan.openLink({url:o.redirect_url}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),w.ProductPlan.requireRefresh(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()),Z(this,"buildMenuItems",(()=>this.availableActions().map((e=>a().createElement("li",{key:e.text,className:"".concat(e.class," menu-item")},a().createElement("button",{className:"menu-item__btn",onClick:()=>e.callback()},a().createElement("span",{className:"menu-item__text"},e.text)))))))}render(){return a().createElement("div",{className:"menu"},a().createElement("ul",{className:"menu__list"},this.buildMenuItems()))}}function G(){G=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function H(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function q(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){H(o,n,a,i,s,"next",e)}function s(e){H(o,n,a,i,s,"throw",e)}i(void 0)}))}}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Z(U,"propTypes",{integrationId:i().number.isRequired,integrationName:i().string.isRequired,integrationType:i().string.isRequired,handleIntegrationSync:i().func.isRequired,handleRemoteSync:i().func.isRequired,roadmapId:i().number.isRequired,hasPendingChanges:i().bool,isSyncing:i().bool.isRequired}),Z(U,"defaultProps",{hasPendingChanges:!1});var z,K,Y,J=v.Z.conditionalWrapper;class Q extends a().Component{constructor(){var e;super(...arguments),e=this,W(this,"state",{pendingBarsToUpdateCount:this.props.pendingBarsToUpdateCount,showContextMenu:!1,isVimeoRecording:!1,vimeoToken:null}),W(this,"getVimeoToken",q(G().mark((function t(){var r,n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.default.vimeo.getToken();case 3:r=t.sent,n=r.data,e.setState({vimeoToken:n.token}),t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),w.ProductPlan.requireRefresh(),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))),W(this,"preloadVimeo",q(G().mark((function e(){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q.vimeoLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise((e=>{var t=document.createElement("script"),r=()=>{Q.vimeoLoaded=!0,e()};t.onload=r,t.onreadystatechange=r,t.src="https://recordwidget.vimeocdn.com/recordwidget/v1/widget.js",document.head.appendChild(t)}));case 4:case"end":return e.stop()}}),e)})))),W(this,"handleUnAuthorizedIntegrationClick",(()=>{var e=this.props.type;return w.ProductPlan.openLink({url:"/integrations/".concat(e)})})),W(this,"handleVimeoRecording",(e=>{this.setState({isVimeoRecording:e})})),W(this,"renderContextMenu",(()=>{var e=this.props,t=e.integrationId,r=e.isSyncing,n=e.handleIntegrationSync,o=e.handleRemoteSync,i=e.typeTooltipName,s=e.type,l=e.roadmapId,c={hasPendingChanges:this.state.pendingBarsToUpdateCount>0,integrationId:t,isSyncing:r,handleIntegrationSync:n,handleRemoteSync:o,integrationType:s,integrationName:i,roadmapId:l};return"vimeo"!==s||this.state.isVimeoRecording?"vimeo"!==s?a().createElement(U,c):void 0:a().createElement(N,{isVimeoRecordind:this.state.isVimeoRecording,onVimeoRecording:this.handleVimeoRecording,vimeoToken:this.state.vimeoToken})})),W(this,"renderOptionsIcon",(()=>a().createElement("span",{className:"toggle-icon"},a().createElement(p.Z,{name:p.c.ellipsisVertical})))),W(this,"renderPendingChangesCount",(()=>{var e=this.state.pendingBarsToUpdateCount;if(e&&e>0){var t=e>9?"9+":e;return a().createElement("span",{className:"badge"},t)}return null})),W(this,"handleShowMenu",(()=>{var e=this.props,t=e.isDisabled,r=e.isAuthenticated,n=e.isSyncing,a=e.type;if(!t&&!n||"vimeo"===a)if(r||!t){var o=!this.state.showContextMenu;this.setState({showContextMenu:o}),$(document).one("mouseup",(()=>{o&&(this.integrationItemRef.contains(w.ProductPlan.clickedTarget)||this.setState({showContextMenu:!1}))}))}else this.setState({showContextMenu:!1});else this.setState({showContextMenu:!1})})),W(this,"renderTrailingIcons",(()=>{var e=this.props,t=e.isDisabled,r=e.isAuthenticated,n=e.isSyncing;if(n||this.state.isVimeoRecording)return a().createElement(p.Z,{classes:p.c.spin,name:p.c.spinner});var o=r&&!t&&!n;return a().createElement("div",{className:"list-roadmap-icons"},a().createElement("div",{className:"list-roadmap-badge"},o&&this.renderPendingChangesCount()),a().createElement("div",{className:"list-roadmap-menu"},a().createElement("span",{className:"toggle-icon"},a().createElement(p.Z,{name:p.c.ellipsisVertical}))))})),W(this,"shouldDisplayTooltip",(()=>{var e=this.props,t=e.isAuthenticated,r=e.type;return!t||"vimeo"===r&&!I.Z.isVimeoRecordSupported()}))}componentDidMount(){"vimeo"===this.props.type&&(this.preloadVimeo(),this.getVimeoToken())}componentDidUpdate(e){var t=this.props.pendingBarsToUpdateCount;e.pendingBarsToUpdateCount!==t&&this.setState({pendingBarsToUpdateCount:this.props.pendingBarsToUpdateCount})}renderTooltip(){var e,t=this.props,r=t.type,n=t.isAuthenticated,o=t.isCurrentUserIntegration,i=t.isSyncing,s=t.typeTooltipName;if(!n)return e="This integration has expired. ".concat(o?"Please reauthenticate.":"Please contact your Roadmap Owner."),a().createElement(f.Z,{id:"roadmap-integration-group-title-tooltip-".concat(r)},e);if("vimeo"===r&&!I.Z.isVimeoRecordSupported())return e="Browser not supported",a().createElement(f.Z,{id:"roadmap-integration-group-title-tooltip-".concat(r)},e);if(i)return e="Syncing ".concat(s," ..."),a().createElement(f.Z,{id:"roadmap-integration-group-title-tooltip-".concat(r)},e);if(this.state.isVimeoRecording){return a().createElement(f.Z,{id:"roadmap-integration-group-title-tooltip-vimeo"},"Recording in progress ...")}}integrationName(){return a().createElement("span",{className:"integration-name"},this.props.typeTooltipName)}renderIntegrationIcon(){var e=this.props,t=e.type,r=e.isAuthenticated,n=e.isDisabled,o=h()({"half-opacity":!r||n});return a().createElement(D.Z,{id:"".concat(t,"-color-icon"),classes:o})}render(){var e=this.props,t=e.type,r=e.isSyncing,n=this.shouldDisplayTooltip();return a().createElement(J,{condition:n||r||this.state.isVimeoRecording,wrapper:e=>a().createElement(m.Z,{overlay:this.renderTooltip(),placement:"top"},e)},a().createElement("li",{className:"list-group-item roadmap-integration-".concat(t),onClick:this.handleShowMenu,ref:e=>{this.integrationItemRef=e}},a().createElement("div",{className:"list-roadmap-name"},a().createElement("div",null,this.renderIntegrationIcon(),this.integrationName())),this.renderTrailingIcons(),this.state.showContextMenu&&this.renderContextMenu()))}}W(Q,"propTypes",{type:i().string.isRequired,integrationId:i().number.isRequired,isSyncing:i().bool.isRequired,isDisabled:i().bool.isRequired,isAuthenticated:i().bool.isRequired,isCurrentUserIntegration:i().bool.isRequired,isOwnerIntegration:i().bool.isRequired,handleIntegrationSync:i().func.isRequired,handleRemoteSync:i().func.isRequired,typeTooltipName:i().string.isRequired,roadmapId:i().number,pendingBarsToUpdateCount:i().number,vimeoToken:i().string}),W(Q,"defaultProps",{pendingBarsToUpdateCount:0}),W(Q,"vimeoLoaded",!1);class X extends a().Component{renderTooltip(){var e=this.props,t=e.typeTooltipName,r=e.type,n="".concat(t," cannot sync until the owner configures its mappings");return a().createElement(f.Z,{id:"roadmap-integration-group-title-tooltip-".concat(r)},n)}integrationName(){return a().createElement("span",{className:"integration-name"},this.props.typeTooltipName)}renderIntegrationIcon(){var e=this.props.type;return a().createElement(D.Z,{id:"".concat(e,"-color-icon"),classes:"half-opacity"})}render(){return a().createElement(m.Z,{overlay:this.renderTooltip(),placement:"top"},a().createElement("li",{className:"list-group-item"},a().createElement("div",{className:"list-roadmap-name"},a().createElement("div",null,this.renderIntegrationIcon(),this.integrationName()))))}}z=X,K="propTypes",Y={type:i().string.isRequired,integrationId:i().number.isRequired,typeTooltipName:i().string.isRequired},K in z?Object.defineProperty(z,K,{value:Y,enumerable:!0,configurable:!0,writable:!0}):z[K]=Y;var ee=r(79881);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ne extends a().Component{constructor(){super(...arguments),re(this,"renderIntegrationItems",(()=>{var e=this.props,t=e.ownerIntegrations,r=e.currentUserIntegrations,n=e.activeSyncIntegrationId,o=e.handleRemoteSync,i=e.handleIntegrationSync,s=e.roadmapId,l=(e,t)=>{var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return"pivotal"===r.type&&(r.type="tracker"),r.displayName=ee.$.getIntegrationName(r.type),r.isOwnerIntegration=t,r},c=T()(t,(e=>l(e,!0))),u=T()(r,(e=>l(e,!1))),d=T()(c,(e=>e.type)),h=S()(u,(e=>!d.includes(e.type))),p=P()([...c,...h],["displayName"],["asc"]);return T()(p,(e=>{var t=n&&n!==e.id,r=n===e.id;return e.isOwnerIntegration?a().createElement(Q,{handleIntegrationSync:i,handleRemoteSync:o,integrationId:e.id,isAuthenticated:e.isAuthenticated,isOwnerIntegration:e.isOwnerIntegration,isCurrentUserIntegration:e.isCurrentUserIntegration,isDisabled:t||!e.isOwnerIntegration,isSyncing:r,pendingBarsToUpdateCount:e.pendingBarsToUpdateCount,key:e.id,type:e.type,typeTooltipName:e.displayName,roadmapId:s}):a().createElement(X,{integrationId:e.id,key:e.id,type:e.type,typeTooltipName:e.displayName})}))})),re(this,"renderAddMoreIcon",(()=>a().createElement(b,{displayTextMessage:!0,displayHelpTooltip:!1,textMessage:"Add an Integration"})))}render(){var e=this.renderIntegrationItems();return a().createElement("ul",{className:"list-group roadmap-integration-list"},0===e.length?a().createElement("li",{className:"list-group-item"},this.renderAddMoreIcon()):e)}}re(ne,"propTypes",{activeSyncIntegrationId:i().number,ownerIntegrations:i().array.isRequired,currentUserIntegrations:i().array.isRequired,handleIntegrationSync:i().func.isRequired,handleRemoteSync:i().func.isRequired,roadmapId:i().number});const ae=ne;var oe=r(56546),ie=r(58909);function se(){se=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function le(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function ce(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){le(o,n,a,i,s,"next",e)}function s(e){le(o,n,a,i,s,"throw",e)}i(void 0)}))}}function ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class de extends a().Component{constructor(){var e;super(...arguments),e=this,ue(this,"state",{activeSyncIntegrationId:null,ownerIntegrations:this.props.ownerIntegrations,currentUserIntegrations:this.props.currentUserIntegrations}),ue(this,"handleIntegrationsUpdate",(e=>{var t=this.props.roadmapId,r=ee.$.roadmapIntegrationToolbar.buildProperties(t,e),n=r.ownerIntegrations,a=r.currentUserIntegrations;this.setState({ownerIntegrations:n,currentUserIntegrations:a})})),ue(this,"onHandleRemoteSync",function(){var t=ce(se().mark((function t(r){var n,a;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.roadmapId,e.setState({activeSyncIntegrationId:r}),t.prev=2,t.next=5,s.default.roadmaps.remotePush(n,r);case 5:oe.Z.roadmapRemoteSyncCompletedNotification(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),null!==(a=t.t0.response.data)&&void 0!==a&&a.error.toLowerCase().includes("please reauthorize")||l.Z.unsuccessful("Roadmap Sync","Error while trying to update remote resources. Please try again.");case 11:return t.prev=11,e.resetActiveIntegration(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[2,8,11,14]])})));return function(e){return t.apply(this,arguments)}}()),ue(this,"onHandleIntegrationSync",function(){var t=ce(se().mark((function t(r){var n;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.roadmapId,e.setState({activeSyncIntegrationId:r}),t.prev=2,t.next=5,s.default.syncRoadmap(n,r);case 5:"No bars have been synced"===t.sent.message?l.Z.success("The integration successfully synced. No updates were found."):oe.Z.roadmapRemoteSyncCompletedNotification(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),l.Z.unsuccessful("Roadmap Sync","Error while trying to sync roadmap. Please try again.");case 12:return t.prev=12,e.resetActiveIntegration(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()),ue(this,"resetActiveIntegration",(()=>{this.setState({activeSyncIntegrationId:null})})),ue(this,"renderRoadmapIntegrationList",(()=>{var e=this.props.roadmapId,t=this.state,r=t.ownerIntegrations,n=t.currentUserIntegrations;return a().createElement(ae,{activeSyncIntegrationId:this.state.activeSyncIntegrationId,handleIntegrationSync:this.onHandleIntegrationSync,handleRemoteSync:this.onHandleRemoteSync,ownerIntegrations:r,currentUserIntegrations:n,roadmapId:e})}))}componentDidMount(){ie.default.subscribe(oe.Z.roadmapRemotePendingBarsCountUpdate,this.handleIntegrationsUpdate)}componentWillUnmount(){ie.default.unsubscribe(oe.Z.roadmapRemotePendingBarsCountUpdate,this.handleIntegrationsUpdate)}renderBody(){return this.renderRoadmapIntegrationList()}renderTitle(){return a().createElement(x,{description:"Integrations configured by the Roadmap Owner will sync daily. Manual sync is also available.",name:"Integrations",className:"roadmap-integration-title"})}render(){var e=this.state,t=e.ownerIntegrations,r=e.currentUserIntegrations;return t&&r?a().createElement("div",{id:"roadmap-integrations"},this.renderTitle(),this.renderBody()):null}}ue(de,"propTypes",{roadmapId:i().number.isRequired,ownerIntegrations:i().array,currentUserIntegrations:i().array});const he=de},59111:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(55652),a=r(74527);function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,l,"next",e)}function l(e){i(o,n,a,s,l,"throw",e)}s(void 0)}))}}const l=class{static fetchDependencyConnections(e){return e.dependencies().map((t=>{var r=t.incoming_connections.find((t=>t.connects_from_id===e.id));return{connects_from_id:r.connects_from_id,connects_to_id:r.connects_to_id,id:r.incoming_connection_id,icon:"bar_connects_from",name:" "+t.name,title:"Requires",type:"connection",roadmap_id:t.roadmap_id,url:t.bar_url}}))}static fetchDependentConnections(e){return e.dependents().map((e=>{var t=e.outgoing_connections.find((t=>t.connects_from_id===e.id));return{connects_from_id:t.connects_from_id,connects_to_id:t.connects_to_id,id:t.outgoing_connection_id,icon:"bar_connects_to",name:" "+e.name,title:"Required By",type:"connection",roadmap_id:e.roadmap_id,url:e.bar_url}}))}static deleteConnection(e,t){return s(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.default.connectionActions.deleteConnection(e,t);case 2:n.ProductPlan.roadmapManager.removeConnection(t),window.dataLayer.push({event:"connection_deleted_from_bar"});case 4:case"end":return r.stop()}}),r)})))()}static createConnection(e,t){return s(o().mark((function r(){var i,s;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.default.connectionActions.createConnection(e,t);case 2:i=r.sent,s=i.data,n.ProductPlan.roadmapManager.addConnection(s);case 5:case"end":return r.stop()}}),r)})))()}}},60431:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(55652),l=r(59111),c=r(21069),u=r(74527);function d(){d=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function h(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function h(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function p(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){h(o,n,a,i,s,"next",e)}function s(e){h(o,n,a,i,s,"throw",e)}i(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e){var t=s.ProductPlan.roadmapManager?s.ProductPlan.roadmapManager.roadmap:{},r=f(a().useState(),2),n=r[0],o=r[1],i=t=>e.bar?t.filter((t=>(t=>Number(t.id)!==e.bar.id)(t)&&(t=>{var r=window.currentRoadmapable.findActiveBar(e.bar.id);return[...r.dependencies(),...r.dependents()].every((e=>e.id!==Number(t.id)))})(t))):t,h=function(){var e=p(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.searchActions.connectionsSearch(t);case 2:return(r=e.sent).data.all_roadmaps.bars=i(r.data.all_roadmaps.bars),r.data.current_roadmap.bars=i(r.data.current_roadmap.bars),r.data.all_roadmaps.is_empty=0===r.data.all_roadmaps.bars.length,r.data.current_roadmap.is_empty=0===r.data.current_roadmap.bars.length,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var t=p(d().mark((function t(r){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.Z.createConnection(e.bar.id,r);case 2:e.onUpdate(),o(!1),e.onClose();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a().createElement("div",{className:"connections-search-component"},a().createElement("div",{className:"search-container"},a().createElement("label",null,e.title),a().createElement("i",{className:"fas fa-spinner fa-spin saving ".concat(n?"":"invisible")})),a().createElement(c.Z,{currentRoadmap:t,isGlobalSearch:!1,resultClickCallback:t=>{if(n)return null;var r;o(t),r=parseInt(t.id),-1!==window.currentRoadmapable.findActiveBar(e.bar.id).dependencies().map((e=>e.id)).indexOf(r)?e.onClose():m(t.id)},searchCallback:h,searchPlaceholder:"Search for a bar or container"}))}v.propTypes={title:i().string,bar:i().object.isRequired,onUpdate:i().func,onVisibilityChange:i().func,onClose:i().func},v.defaultProps={title:"Requires",onClose:()=>{},onUpdate:()=>{}}},87651:(e,t,r)=>{"use strict";r.d(t,{Z:()=>M});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(65029),l=r(50308),c=r.n(l),u=r(38958),d=r(55652),h=r(24082),p=r(74527);r(18553);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function m(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}var v={repositoryId:i().number,label:i().string.isRequired,inputName:i().string.isRequired,inputId:i().string,value:i().string,maxLength:i().number,size:i().number,isRequired:i().bool,placeholder:i().string,helperText:i().string,formAligment:i().string,errors:i().object,dataAttribs:i().object,showLabel:i().bool,disabled:i().bool,selectionClass:i().string.isRequired,options:i().array,requiredField:i().bool,displayLabel:i().bool,minimumResultsForSearch:i().string,width:i().string,formatResult:i().func,formatSelection:i().func,onChange:i().func,onAuthChange:i().func.isRequired,onError:i().func},g={dataAttribs:{},disabled:!1,displayLabel:!0,formInline:!1,formAligment:"horizontal",formatResult:d.ProductPlan.formatOption,formatSelection:d.ProductPlan.formatSelection,label:"",minimumResultsForSearch:"-1",width:"resolve",onChange:()=>{},onError:()=>{}};class y extends a().Component{initializeSelect2(e){var t,r,n=this;e.select2({allowClear:!0,width:"100%",minimumResultsForSearch:-1,minimumInputLength:4,ajax:{transport:(t=f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,p.default.github.issues(t.data);case 4:e.t1=e.sent,e.t0.success.call(e.t0,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),(0,h.i)(e.t2,n.props.onAuthChange,n.props.onError,"GitHub");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){m(o,n,a,i,s,"next",e)}function s(e){m(o,n,a,i,s,"throw",e)}i(void 0)}))},function(e){return r.apply(this,arguments)}),dataType:"json",quietMillis:1e3,data:e=>({repository:$("#"+this.props.repositoryId).data("name"),term:e}),results:e=>({results:e.issues.map((e=>({id:e.url,key:e.name,text:e.name,state:e.state})))})},formatResult:e=>this.lineItemMarkup(e),formatSelection:e=>e.text,initSelection:(e,t)=>t({id:e.val(),text:e.data("name")}),escapeMarkup:e=>e})}lineItemMarkup(e){var t;return t='<div class="row">',t+='<div class="col-md-1"><svg class="pp-icon"><use xlink:href='.concat("#github-"+e.state+"-icon-symbol","></use></svg></div>"),t+='<div class="selectbox-result-item col-md-8">',t+='<span class="selectbox-result-description">'.concat(e.text,"</span>"),t+="</div>",t+="</div>"}destroySelect2(e){e.select2("destroy")}customClasses(){return{}}componentDidMount(){var e=$(this.controlRef);this.initializeSelect2(e),e.on("select2-open",(function(){$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01)})).on("change",(e=>{this.props.onChange(e)}))}componentWillUnmount(){var e=$(this.controlRef);this.destroySelect2(e)}componentDidUpdate(){var e=$(this.controlRef);this.destroySelect2(e),this.initializeSelect2(e)}render(){return a().createElement(u.Z,{customClasses:this.customClasses(),errors:this.props.errors,formAligment:this.props.formAligment,helperText:this.props.helperText,inputId:this.props.inputId,isRequired:this.props.isRequired,label:this.props.label,showLabel:this.props.showLabel},a().createElement("input",{className:"string optional",name:"github_issue_key",placeholder:this.props.placeholder,ref:e=>{this.controlRef=e}}))}}y.propTypes=v,y.defaultProps=g;const b=y;var w,C,E,_=r(83379),x=r(39012),L=r(94184),P=r.n(L),O=r(20977),S=r(49381);class k extends a().Component{static renderUnauthorizedError(){return a().createElement("div",null,a().createElement("div",{className:"alert alert-danger"},a().createElement("span",{className:"text"},"Your authentication to GitHub has expired."),a().createElement("span",{className:"text"},"Please reauthorize."),a().createElement("a",{className:"btn btn-large btn-success",href:"/integrations"},a().createElement(x.Z,{name:x.c.refresh})," ","Authorize")))}constructor(e){super(e),this.state={selectedRepositoryId:void 0},this.handleIssueChanged=this.handleIssueChanged.bind(this),this.handleRepositoryChange=this.handleRepositoryChange.bind(this)}repositoryNotSelected(){return void 0===this.state.selectedRepositoryId}handleIssueChanged(e){this.props.onIssueLinked(e)}handleRepositoryChange(e){this.setState({selectedRepositoryId:e})}renderSelect(){var e=P()({"form-horizontal":this.props.isVerticalForm,"integration-link-form":!this.props.isVerticalForm});return a().createElement("form",{className:e},a().createElement(_.Z,{allowClear:!1,inputName:"github_repository",label:"GitHub Repository",options:this.state.repositories,selectionClass:"github-repositories",value:String(this.state.selectedRepositoryId),onAuthChange:this.props.onAuthChange,onChange:this.handleRepositoryChange,onError:this.props.onFailedRepositories}),a().createElement(b,{disabled:this.repositoryNotSelected(),inputName:"github_issue",label:"Search GitHub",linkName:"",linkSummary:"",linkUrl:"",placeholder:"Select a GitHub Issue",repositoryId:parseInt(this.state.selectedRepositoryId),selectionClass:"github-issues",onAuthChange:this.props.onAuthChange,onChange:this.handleIssueChanged,onError:this.props.onFailedSearch}))}render(){return this.props.authenticated?this.renderSelect():a().createElement(O.Z,{integrationType:S.r.github.name})}}w=k,C="propTypes",E={authenticated:i().bool.isRequired,onAuthChange:i().func.isRequired,onFailedSearch:i().func.isRequired,onIssueLinked:i().func.isRequired},C in w?Object.defineProperty(w,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[C]=E,k.propTypes={authenticated:i().bool.isRequired,formAligment:i().string,label:i().string.isRequired,onAuthChange:i().func.isRequired,onFailedRepositories:i().func.isRequired,onFailedSearch:i().func.isRequired,onIssueLinked:i().func.isRequired,requiredField:i().bool,isVerticalForm:i().bool},k.defaultProps={onAuthChange:c(),onFailedRepositories:c(),onFailedSearch:c(),onIssueLinked:c(),isVerticalForm:!0};const T=k;var D=r(72532);function I(){I=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function R(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j extends a().Component{constructor(e){var t;super(e),t=this,A(this,"handleAuthChange",(e=>{this.setState({authenticated:e})})),A(this,"handleIssueLinked",function(){var e,r=(e=I().mark((function e(r){var n,a,o;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.added){e.next=2;break}return e.abrupt("return");case 2:return n={name:r.added.key,url:r.added.id},t.setAlert(""),window.showAJAXLoaderModal(),e.prev=5,e.next=8,s.Z.createGithubLink(t.props.bar.id,n);case 8:t.props.onLinksUpdated(t.props.bar.id),t.props.onClose("integrations"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t.handleFailedIssueLinkCreation(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors);case 15:return e.prev=15,window.hideAJAXLoaderModal(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){R(o,n,a,i,s,"next",e)}function s(e){R(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()),A(this,"handleFailedSearch",(e=>{this.manageError(e)})),A(this,"handleFailedRepositories",(e=>{this.manageError(e)})),this.ALERTS={genericError:"There was an error searching GitHub, please try again later."},this.state={authenticated:this.props.authenticated,fields:{linkName:"",linkUrl:""},alert:{message:"",type:"danger"}}}setAlert(e,t){e||(e="",t=""),this.setState({alert:{message:e,type:t}})}manageError(e){if(401===e.status||403===e.status)this.setState({authenticated:!1});else{var t=e.message||this.ALERTS.genericError,r=e.type||"danger";this.setAlert(t,r)}}handleFailedIssueLinkCreation(e){(null===e||void 0===e?void 0:e.length)>0&&this.manageError(e[0])}render(){return a().createElement(D.Z,{className:"github-link-pane",integrationName:S.r.github.key,alert:this.state.alert,title:"Github Links"},a().createElement(T,{authenticated:this.state.authenticated,label:"GitHub",onAuthChange:this.handleAuthChange,onFailedRepositories:this.handleFailedRepositories,onFailedSearch:this.handleFailedSearch,onIssueLinked:this.handleIssueLinked,isVerticalForm:this.props.isVerticalForm}))}}A(j,"propTypes",{authenticated:i().bool,bar:i().object.isRequired,fields:i().object,onLinksUpdated:i().func.isRequired,onClose:i().func,isVerticalForm:i().bool});const M=j},93714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>se});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(74527),l=r(55652),c=r(88031),u=r(28804),d=r(6778),h=r(50236),p=r(80008),f=r.n(p),m=r(39012);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends a().Component{constructor(e){super(e),this.handleDeleteLink=this.handleDeleteLink.bind(this)}handleDeleteLink(){var e;"function"===typeof(null===(e=this.props)||void 0===e?void 0:e.onDelete)&&this.props.onDelete(this.props.link)}deleteLinkAnchor(){return this.props.readOnly?null:a().createElement("a",{className:"delete-link pull-right",href:"javascript:void(0)",onClick:this.handleDeleteLink},a().createElement(m.Z,{name:m.c.times}))}renderLink(){return this.props.children}render(){return a().createElement("li",{className:"link-text"},this.renderLink(),this.deleteLinkAnchor())}}v(g,"propTypes",{bar:i().object,link:i().object.isRequired,onDelete:i().func,readOnly:i().bool,children:i().node}),v(g,"defaultProps",{readOnly:!1});const y=g;var b=r(94184),w=r.n(b),C=r(62761);function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=Object.assign({integrationName:i().string.isRequired},y.propTypes);class x extends a().Component{constructor(){super(...arguments),E(this,"renderDefaultLinkIcon",(()=>a().createElement("svg",{className:this.linkIconClasses()},a().createElement("use",{xlinkHref:"#".concat(this.props.integrationName,"-icon-symbol")})))),E(this,"renderLinkIcon",(()=>{var e=(0,C.e)(this.props.link);return e||this.renderDefaultLinkIcon()}))}linkAnchorClasses(){var e=this.props.integrationName+"-link";return w()(e)}linkSpanClasses(){var e=this.props.integrationName+"-issue-link issue-link";return w()({[e]:!0,"dead-link":this.props.link.is_dead})}linkIconClasses(){var e=this.props.integrationName+"-icon";return w()({"pp-icon":!0,[e]:!0})}linkTextClasses(){var e=this.props.integrationName+"-link-text link-text";return w()(e)}renderDeadLinkIcon(){return this.props.link.is_dead?a().createElement(m.Z,{classes:"pp-icon dead-link",name:m.c.warningSquare}):null}renderExternalLinkIcon(){return a().createElement(m.Z,{classes:"pp-icon",name:m.c.externalLinkSquare})}render(){var e=this.props.link;return a().createElement(y,this.props,a().createElement("a",{className:this.linkAnchorClasses(),href:e.url,rel:"noopener noreferrer",target:"_blank",title:this.props.link.title},a().createElement("span",{className:this.linkSpanClasses()},this.renderDeadLinkIcon(),this.renderLinkIcon(),a().createElement("span",{className:this.linkTextClasses()},e.name),this.renderExternalLinkIcon())))}}E(x,"propTypes",_),E(x,"defaultProps",y.defaultProps);const L=x;class P extends L{}P.defaultProps=Object.assign({integrationName:"jira"},L.defaultProps);const O=P;var S=r(65943);function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class T extends a().Component{links(){var e=e=>f()(e.created_at).unix();return this.props.links.sort(((t,r)=>S.RZ.numericSort(e(t),e(r)))).reverse().map((e=>{var t;return e.url&&"JiraLink"===e.type?a().createElement(O,{bar:this.props.bar,key:e.id,link:e,readOnly:null===(t=this.props)||void 0===t?void 0:t.readOnly}):null}))}render(){return a().createElement("ul",{className:"links-table list-unstyled"},this.links())}}k(T,"propTypes",{links:i().array.isRequired,bar:i().object.isRequired,readOnly:i().bool,onUpdated:i().func}),k(T,"defaultProps",{readOnly:!1});const D=T;var I=r(65029),R=r(24167),A=r(87850),j=r(79654),M=r(24082);function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(this,arguments)}function B(){B=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function F(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Z extends a().Component{constructor(){var e;super(...arguments),e=this,V(this,"loadIssues",function(){var t,r=(t=B().mark((function t(r){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,s.default.jira.issues(r.data);case 4:t.t1=t.sent,t.t0.success.call(t.t0,t.t1),t.next=12;break;case 8:return t.prev=8,t.t2=t.catch(0),(0,M.i)(t.t2,e.props.onAuthChange,e.props.onError,$(e.searchBoxRef),"JIRA"),t.abrupt("return",{results:[]});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){F(o,n,a,i,s,"next",e)}function s(e){F(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}convertResultsForSelect(e){return e.issues.map((e=>({id:e.url,key:e.key,text:e.summary,icon:e.icon_url})))}formatTemplate(e){var t;return t='<div class="row">',t+='<div class="col-md-1"><img src="'.concat(e.icon,'"></div>'),t+='<div class="selectbox-result-item col-md-8">',t+='<span class="selectbox-result-title">'.concat(e.key,"</span>"),t+='<br/><span class="selectbox-result-description">'.concat(e.text,"</span>"),t+="</div>",t+="</div>"}formatSelectionTemplate(e,t){var r;return r='<div class="row">',r+='<div class="col-md-1"><img src="'.concat(t.icon,'"></div>'),r+='<div class="selectbox-result-item col-md-8">',r+="<span>".concat(e,"</span>"),r+="</div>",r+="</div>"}render(){return a().createElement(j.Z,N({},this.props,{convertData:this.convertResultsForSelect,formatTemplate:this.formatTemplate,formatSelectionTemplate:this.formatSelectionTemplate,inputName:"jira_issue_key",loadAsync:this.loadIssues,ref:e=>{this.searchBoxRef=e},truncateSelectedText:!0}))}}V(Z,"propTypes",{allowClear:i().bool,projectId:i().string,label:i().string.isRequired,inputName:i().string.isRequired,inputId:i().string,value:i().string,maxLength:i().number,size:i().number,isRequired:i().bool,placeholder:i().string,searchInputPlaceholder:i().string,helperText:i().string,formAligment:i().string,errors:i().object,dataAttribs:i().object,showLabel:i().bool,disabled:i().bool,selectionClass:i().string.isRequired,options:i().array,requiredField:i().bool,displayLabel:i().bool,minimumResultsForSearch:i().string,width:i().string,formatResult:i().func,formatSelection:i().func,onAuthChange:i().func.isRequired,onChange:i().func,onError:i().func}),V(Z,"defaultProps",{allowClear:!0,dataAttribs:{},disabled:!1,displayLabel:!0,formInline:!1,formAligment:"horizontal",formatResult:l.ProductPlan.formatOption,formatSelection:l.ProductPlan.formatSelection,label:"",placeholder:"Type a minimum of 3 characters to search...",minimumInputLength:"3",minimumResultsForSearch:"-1",width:"100%",onChange:()=>{},onError:()=>{}});const U=Z;var G=r(15847);function H(){H=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function q(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function W(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){q(o,n,a,i,s,"next",e)}function s(e){q(o,n,a,i,s,"throw",e)}i(void 0)}))}}function z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class K extends a().Component{constructor(e){var t;super(e),t=this,z(this,"handleFailedIssueLinkCreation",(e=>{(null===e||void 0===e?void 0:e.length)>0&&this.manageError(e[0])})),z(this,"handleFailedSearch",(e=>{this.manageError(e)})),z(this,"manageError",(e=>{if(401===e.status)this.props.onAuthChange(!1);else{var t=e.error||e.message||this.ALERTS.genericError;this.setState({error:t})}})),z(this,"handleIssueChanged",(e=>{if(void 0===e.added||null===e.added)this.setState({selectedLink:null,error:null});else{var t={name:e.added.text,url:e.added.id};this.setState({selectedLink:t,error:null})}})),z(this,"handleQueryChanged",(e=>{var t=e.target.value?e.target.value.trim():"",r=t.length>0?t:null;this.setState({selectedLink:r,error:null})})),z(this,"handleSaveLink",W(H().mark((function e(){var r,n,a,o,i,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){var e=W(H().mark((function e(){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("single"!==t.state.linkType){e.next=6;break}return e.next=3,I.Z.createJiraLink(t.props.bar.id,t.state.selectedLink);case 3:case 8:return e.abrupt("return",e.sent);case 6:return e.next=8,I.Z.createJiraQueryLink(t.props.bar.id,t.state.selectedLink);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,window.showAJAXLoaderModal(),e.next=5,r();case 5:n=e.sent,a=n.data,t.props.onNewLinkAdded(a),t.setState({linkType:"single",selectedLink:null,displaySearchForm:!1,error:null}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),null!==e.t0&&void 0!==e.t0&&null!==(o=e.t0.response)&&void 0!==o&&null!==(i=o.data)&&void 0!==i&&i.errors?t.handleFailedIssueLinkCreation(e.t0.response.data.errors):null!==e.t0&&void 0!==e.t0&&null!==(s=e.t0.response)&&void 0!==s&&s.data?t.manageError(e.t0.response.data):t.manageError(t.ALERTS.genericError);case 14:return e.prev=14,window.hideAJAXLoaderModal(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))),z(this,"handleDisplaySearchForm",(()=>{this.state.displaySearchForm||(this.setState({linkType:"single",selectedLink:null,displaySearchForm:!0}),this.props.onFormDisplay&&this.props.onFormDisplay())})),z(this,"handleLinkTypeChanged",(e=>{this.setState({linkType:e.target.value,selectedLink:null,error:null})})),z(this,"renderLinkTypeSelect",(()=>a().createElement(A.Z,{allowClear:!1,key:"js-jira-query-link-type",inputId:"js-jira-query-link-type",inputName:"js-jira-query-link-type",displayLabel:!1,options:[{id:"single",name:"Jira issue"},{id:"query",name:"Jira search query (multiple issues)"}],onChange:this.handleLinkTypeChanged,selectionClass:"js-jira-query-link-type-options",value:this.state.linkType,width:"100%"}))),z(this,"renderSearchComponent",(()=>"single"==this.state.linkType?this.renderSingleItemSearch():"query"==this.state.linkType?this.renderQuerySearch():null)),z(this,"renderAddLinkButton",(()=>{var e=this.state.selectedLink;return a().createElement("button",{className:"btn btn-success jira-add-link",id:"jira-add-link",type:"button",disabled:!e,onClick:this.handleSaveLink},"Add Link")})),z(this,"renderAddNewLinkItem",(()=>{var e=this.state.displaySearchForm?"disabled":null;return a().createElement("a",{href:"javascript:void(0)",className:e,onClick:this.handleDisplaySearchForm},a().createElement(m.Z,{name:m.c.plusCircle}),a().createElement("span",{className:"link-add-new"},"Add another link"))})),z(this,"render",(()=>{var e=this.state,t=e.displaySearchForm,r=e.selectedLink,n=e.error,o=e.linkType,i=w()({"jira-issue-select-box":!0,"jira-issue-query":"query"==o,"inline-error":n});return a().createElement(c.Z,{className:"jira-links-editor-search"},a().createElement(u.Z,{sm:5,className:"link-form-column"},t&&a().createElement("div",{id:"jira-issue-type-select-box"},this.renderLinkTypeSelect()),this.renderAddNewLinkItem()),a().createElement(u.Z,{sm:5,className:"link-form-column"},t&&a().createElement("div",{id:"jira-issue-select-box",className:i},this.renderSearchComponent()),r&&n&&a().createElement("div",{className:"jira-form-error"},a().createElement(G.Z,{text:n}))),a().createElement(u.Z,{sm:2,className:"link-form-column"},t&&this.renderAddLinkButton()))})),this.ALERTS={genericError:"There was an error searching Jira, please try again later."},this.state={error:null,linkType:"single",selectedLink:null,displaySearchForm:!0}}renderQuerySearch(){return a().createElement(a().Fragment,null,a().createElement(R.Z,{autoComplete:"off",type:"text",onChange:this.handleQueryChanged}),a().createElement("span",{className:"help-block"},a().createElement("span",null,"In Jira, use filters on the "),a().createElement("a",{href:window.current_user.jira_url+"/issues",rel:"noopener noreferrer",target:"_blank"},"Search issues"),a().createElement("span",null," page to find the issues you want to link. Copy the resulting URL here. "),a().createElement("a",{href:"https://www.productplan.com/help/features/jira",rel:"noopener noreferrer",target:"_blank"},"Learn more")))}renderSingleItemSearch(){return a().createElement(U,{inputName:"jira_issue",linkName:"",linkSummary:"",linkUrl:"",loadAsync:this.loadIssues,placeholder:"Search issues",searchInputPlaceholder:"Issue Key, Summary Text, etc.",selectionClass:"jira-issues",onAuthChange:this.props.onAuthChange,onChange:this.handleIssueChanged,onError:this.handleFailedSearch})}}z(K,"propTypes",{bar:i().object.isRequired,onAuthChange:i().func.isRequired,onFormDisplay:i().func,onNewLinkAdded:i().func.isRequired});const Y=K;var J=r(91425);function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q.apply(this,arguments)}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ee extends a().Component{static shouldDisplaySyncFieldsAlert(){var e=l.ProductPlan.currentUser().jira_sync_fields;return l.ProductPlan.loggedIn()&&e&&e.length<1&&!l.ProductPlan.currentUser().link_modal_sync_info_read}static shouldDisplayPercentCompleteEnabledAlert(){var e=l.ProductPlan.currentUser().jira_sync_fields;return l.ProductPlan.loggedIn()&&e&&e.length>0&&l.ProductPlan.isPercentCompletedEnabled()&&!l.ProductPlan.currentUser().link_modal_sync_info_percent_enabled_read}static shouldDisplayPercentCompleteDisabledAlert(){var e=l.ProductPlan.currentUser().jira_sync_fields;return l.ProductPlan.loggedIn()&&e&&e.length>0&&!l.ProductPlan.isPercentCompletedEnabled()&&!l.ProductPlan.currentUser().link_modal_sync_info_percent_disabled_read}constructor(e){super(e),X(this,"handleOnFormDisplay",(()=>{this.setState({searchFormVisible:!0})})),X(this,"handleNewLinkAdded",(e=>{var t=this.state.currentLinks;t.push(e),this.setState({currentLinks:t,searchFormVisible:!1}),this.props.onLinksUpdated(this.props.bar.id)})),X(this,"renderSearchComponentRow",(()=>a().createElement(Y,Q({},this.props,{onFormDisplay:this.handleOnFormDisplay,onNewLinkAdded:this.handleNewLinkAdded})))),X(this,"renderOldHeader",(()=>a().createElement("h4",{className:"js-jira-link-form-title"},"Jira Links"))),X(this,"renderNewHeader",(()=>a().createElement("div",{className:"js-jira-link-form-title"},"Jira Links"))),X(this,"renderHeader",(()=>a().createElement(c.Z,{className:"no-spacing"},a().createElement(u.Z,{sm:12,className:"js-jira-link-form-header"},this.renderNewHeader())))),X(this,"renderLinkList",(()=>a().createElement(c.Z,{className:"link-list-row"},a().createElement(u.Z,{sm:12,className:"link-form-column"},a().createElement(D,{bar:this.props.bar,links:this.state.currentLinks,readOnly:!0}))))),X(this,"handleSyncInfoMessageDismissal",(()=>{s.default.customActions.updateLinkModalSyncInfoRead(),l.ProductPlan.currentUser().link_modal_sync_info_read=!0,this.setState({syncFieldsInfoAlertVisible:!1})})),X(this,"handlePercentcompleteEnabledMessageDismissal",(()=>{s.default.customActions.updateLinkModalPercentCompleteEnabledMessageRead(),l.ProductPlan.currentUser().link_modal_sync_info_percent_enabled_read=!0,this.setState({percentCompletedEnabledAlertVisible:!1})})),X(this,"handlePercentcompleteDisabledMessageDismissal",(()=>{s.default.customActions.updateLinkModalPercentCompleteDisabledMessageRead(),l.ProductPlan.currentUser().link_modal_sync_info_percent_disabled_read=!0,this.setState({percentCompletedDisabledAlertVisible:!1})})),this.state={currentLinks:e.bar.jiraLinks(),searchFormVisible:!0,syncFieldsInfoAlertVisible:ee.shouldDisplaySyncFieldsAlert(),percentCompletedEnabledAlertVisible:ee.shouldDisplayPercentCompleteEnabledAlert(),percentCompletedDisabledAlertVisible:ee.shouldDisplayPercentCompleteDisabledAlert()}}renderSyncInfo(){if(!this.state.searchFormVisible)return null;if(this.state.syncFieldsInfoAlertVisible)return a().createElement(J.SyncFieldMappingInfoMessage,{onDismiss:this.handleSyncInfoMessageDismissal});if(this.state.currentLinks.length>0){if(this.state.percentCompletedDisabledAlertVisible)return a().createElement(J.SyncFieldPercentCompleteNotSetInfoMessage,{onDismiss:this.handlePercentcompleteDisabledMessageDismissal});if(this.state.percentCompletedEnabledAlertVisible)return a().createElement(J.SyncFieldPercentCompleteEnabledInfoMessage,{onDismiss:this.handlePercentcompleteEnabledMessageDismissal})}}renderOldForm(){return a().createElement(d.Z,{horizontal:!0,className:"jira-link-form"},a().createElement(h.Z,{fluid:!0,className:"jira-link-info"},this.renderHeader(),this.renderLinkList(),this.renderSyncInfo(),this.renderSearchComponentRow()))}renderNewForm(){return a().createElement(d.Z,{horizontal:!0,className:"jira-link-form jira-new-link-form"},a().createElement(h.Z,{fluid:!0,className:"jira-link-info"},this.renderHeader(),this.renderSyncInfo(),this.renderSearchComponentRow(),this.renderLinkList()))}render(){return this.renderNewForm()}}X(ee,"propTypes",{bar:i().object.isRequired,onAuthChange:i().func.isRequired,onLinksUpdated:i().func.isRequired});const te=ee;var re=r(72532),ne=r(49381),ae=r(20977);function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ie extends a().Component{constructor(e){super(e),oe(this,"hideModal",(()=>{this.props.onClose()})),oe(this,"handleAuthChange",(e=>{this.setState({authenticated:e})})),oe(this,"renderJiraUnauthorizedError",(()=>a().createElement("div",null,a().createElement("div",{className:"alert alert-danger"},a().createElement("span",{className:"text"},"Your authentication to Jira has expired."),a().createElement("span",{className:"text"},"Please reauthorize."),a().createElement("a",{className:"btn btn-large btn-success",href:"/integrations"},a().createElement(m.Z,{name:m.c.refresh})," ","Authorize"))))),oe(this,"renderEditor",(()=>this.state.authenticated?a().createElement(te,{bar:this.props.bar,onAuthChange:this.handleAuthChange,onLinksUpdated:this.props.onLinksUpdated}):a().createElement(ae.Z,{integrationType:ne.r.jira.name}))),this.ALERTS={genericError:"There was an error searching Jira, please try again later."},this.state={authenticated:this.props.authenticated,alert:{message:"",type:"danger"}}}setAlert(e,t){e||(e="",t=""),this.setState({alert:{message:e,type:t}})}render(){return a().createElement(re.Z,{className:"jira-link-pane",integrationName:ne.r.jira.key,alert:this.state.alert},this.renderEditor())}}oe(ie,"propTypes",{authenticated:i().bool,bar:i().object.isRequired,onLinksUpdated:i().func.isRequired,onClose:i().func});const se=ie},91425:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BarWithDeadLinkMessage:()=>v,BasicInfoMessage:()=>y,LinkEditorAlert:()=>C,LinkWontSyncMessage:()=>g,NewBarLinkAddedSyncInfoMessage:()=>m,SyncFieldMappingInfoMessage:()=>h,SyncFieldPercentCompleteEnabledInfoMessage:()=>f,SyncFieldPercentCompleteNotSetInfoMessage:()=>p});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(88031),l=r(28804),c=r(49546),u=r(39012);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}var h=e=>a().createElement(C,d({},e,{alertType:"warning",icon:u.c.infoSquare}),a().createElement("span",{className:"text"},"If you want fields to sync from Jira issues, adjust "),a().createElement("a",{href:"/integrations/jira"},a().createElement("span",{className:"alert-warning-link"},"field syncing and mapping.")),a().createElement("span",{className:"text"}," Otherwise, Jira links are hyperlinks only.")),p=e=>a().createElement(C,d({},e,{alertType:"info",icon:u.c.infoCircle}),a().createElement("span",{className:"text"},"Add the percent completed field to "),a().createElement("a",{href:"/integrations/jira"},a().createElement("span",{className:"alert-info-link"},"field syncing and mapping")),a().createElement("span",{className:"text"}," field syncing and mapping to see it roll up from multiple issues. No other fields are synced from multiple issues.")),f=e=>a().createElement(C,d({},e,{alertType:"info",icon:u.c.infoCircle}),a().createElement("span",{className:"text"},"When multiple issues are linked, the percent completed is a roll-up from multiple issues. No other fields are synced.")),m=e=>a().createElement(y,d({},e,{message:"To update linked fields click the integration icon to the right of the timeline. The fields also automatically update daily, at 10:00PM PST."})),v=e=>{var t=e.integrationName,r="".concat(t," issue could not be found"),n="This issue could not be found in ".concat(t,". The issue was either moved, deleted, or you do not have permission to view it.");return a().createElement(b,{title:r,message:n})},g=e=>{var t=e.message;return a().createElement(w,{message:t})},y=e=>a().createElement(C,d({},e,{alertType:"info",icon:u.c.infoCircle}),a().createElement("span",{className:"text"},e.message)),b=e=>{var t=e.title,r=e.message;return a().createElement(s.Z,{className:"link-form-message-row"},a().createElement(l.Z,{sm:12,className:"link-form-column"},a().createElement(c.Z,{bsStyle:"warning"},a().createElement(s.Z,{className:"no-spacing"},a().createElement(l.Z,{sm:1,className:"alert-message-column alert-message-icon-column"},a().createElement(u.Z,{name:u.c.warningSquare})),a().createElement(l.Z,{sm:10,className:"alert-message-column alert-message-title"},a().createElement("span",{className:"text"},t))),a().createElement(s.Z,{className:"no-spacing"},a().createElement(l.Z,{sm:1,className:"alert-message-column"}),a().createElement(l.Z,{sm:10,className:"alert-message-column"},a().createElement("span",{className:"text"},r))))))},w=e=>{var t=e.message;return a().createElement(s.Z,{className:"link-form-message-row"},a().createElement(l.Z,{sm:12,className:"link-form-column"},a().createElement(c.Z,{bsStyle:"warning"},a().createElement(s.Z,{className:"no-spacing"},a().createElement(l.Z,{sm:1,className:"alert-message-column alert-message-icon-column"},a().createElement(u.Z,{name:u.c.warningSquare})),a().createElement(l.Z,{sm:10,className:"alert-message-column"},a().createElement("span",{className:"text"},t))))))},C=e=>{var t=e.alertType,r=e.icon,n=e.onDismiss,o=e.children;return a().createElement(s.Z,{className:"link-form-message-row"},a().createElement(l.Z,{sm:12,className:"link-form-column"},a().createElement(c.Z,{bsStyle:t,onDismiss:n},a().createElement(s.Z,{className:"no-spacing"},a().createElement(l.Z,{sm:1,className:"alert-message-column alert-message-icon-column"},a().createElement(u.Z,{name:r})),a().createElement(l.Z,{sm:10,className:"alert-message-column"},o)))))};C.propTypes={alertType:i().string.isRequired,icon:i().object.isRequired,onDismiss:i().func.isRequired,children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired},y.propTypes={message:i().string.isRequired,onDismiss:i().func.isRequired};var E={onDismiss:i().func.isRequired};b.propTypes={title:i().string.isRequired,message:i().string.isRequired},w.propTypes={message:i().string.isRequired},v.propTypes={integrationName:i().string.isRequired},g.propTypes={message:i().string.isRequired},h.propTypes=E,f.propTypes=E,p.propTypes=E},53046:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(99411),l=r(65701),c=r(43557),u=r(28804),d=r(94184),h=r.n(d),p=r(55652);function f(){f=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function m(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends a().Component{constructor(){var e;super(...arguments),e=this,v(this,"state",{addingLink:!1,errors:void 0,linkName:"",linkUrl:""}),v(this,"handleSubmit",function(){var t,r=(t=f().mark((function t(r){var n,a,o,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r&&r.preventDefault(),e.setState({addingLink:!0}),t.prev=2,t.next=5,p.ProductPlan.roadmapManager.createBarLink("/bars/".concat(e.props.barId,"/links"),e.formData(),e.props.barId);case 5:n=t.sent,a=n.data,e.setState({addingLink:!1}),e.props.addLink(a,e.props.barId),e.props.hideCallback(),e.setState({linkName:"",linkUrl:""}),t.next=17;break;case 13:throw t.prev=13,t.t0=t.catch(2),e.setState({addingLink:!1,errors:null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.errors}),t.t0;case 17:case"end":return t.stop()}}),t,null,[[2,13]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){m(o,n,a,i,s,"next",e)}function s(e){m(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()),v(this,"handleLinkNameChange",(e=>{this.setState({linkName:e})})),v(this,"handleLinkURLChange",(e=>{this.setState({linkUrl:e})}))}formData(){return s.Z.getFormData($(this.linkForm))}componentDidMount(){$(this.linkForm).find("#link_name").trigger("focus")}addLinkText(){return this.state.addingLink?"Adding Link...":"Add Link"}render(){var e=h()({"links-form":!0,"form-horizontal":this.props.isVerticalForm}),t=h()({"btn btn-success":this.props.isVerticalForm,"a-button a-button--secondary":!this.props.isVerticalForm});return a().createElement("form",{acceptCharset:"UTF-8",className:e,"data-bar-id":this.props.barId,id:"link-form",method:"post",ref:e=>{this.linkForm=e},onSubmit:this.handleSubmit},a().createElement(l.Z,{required:!0,className:"ignoredirty",errors:this.state.errors,inputId:"link_name",inputName:"name",label:"Text to display",placeholder:"Mockups, surveys, etc.",size:50,onChange:this.handleLinkNameChange,value:this.state.linkName}),a().createElement(l.Z,{className:"ignoredirty",inputId:"link_url",inputName:"url",label:"Link to URL",placeholder:"www.example.com",size:50,onChange:this.handleLinkURLChange,value:this.state.linkUrl}),a().createElement(c.Z,null,a().createElement(u.Z,{sm:this.props.isVerticalForm?8:0,smOffset:this.props.isVerticalForm?4:0},a().createElement("button",{className:t,"data-bar-id":this.state.barId,id:"add-link",type:"submit"},this.addLinkText()))))}}g.propTypes={addLink:i().func.isRequired,barId:i().number.isRequired,fields:i().object,hideCallback:i().func.isRequired,isVerticalForm:i().bool},g.defaultProps={isVerticalForm:!0};const y=g},65029:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(55652);const a=class{static createJiraQueryLink(e,t){var r={integration_query_attributes:{criteria:{query:t}}};return n.ProductPlan.roadmapManager.createBarLink("/bars/".concat(e,"/jira_links"),r,e)}static createJiraLink(e,t){return n.ProductPlan.roadmapManager.createBarLink("/bars/".concat(e,"/jira_links"),t,e)}static createTrackerLink(e,t){return n.ProductPlan.roadmapManager.createBarLink("/bars/".concat(e,"/pivotal_links"),t,e)}static createTrelloLink(e,t){return n.ProductPlan.roadmapManager.createBarLink("/bars/".concat(e,"/trello_links"),t,e)}static createVstsLink(e,t){return n.ProductPlan.roadmapManager.createBarLink("/bars/".concat(e,"/ado_links"),t,e)}static createGithubLink(e,t){return n.ProductPlan.roadmapManager.createBarLink("/bars/".concat(e,"/github_links"),t,e)}}},72532:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(49546),l=r(50236),c=r(88031),u=r(28804),d=r(79881);function h(e){return a().createElement(l.Z,{fluid:!0,className:e.className},e.title&&a().createElement(c.Z,null,a().createElement(u.Z,{sm:12,className:"add-integration-link-title"},e.title)),0!==e.alert.message.length&&a().createElement(c.Z,null,a().createElement(u.Z,{sm:12},e.alert&&0!==e.alert.message.length?a().createElement(s.Z,{bsStyle:e.alert.type},a().createElement("span",{className:"text"},e.alert.message)):null)),d.$.renderLinksWontSyncMessage(e.integrationName),a().createElement(c.Z,null,a().createElement(u.Z,{sm:12},e.children)))}h.propTypes={alert:i().object,children:i().element,className:i().string,integrationName:i().string,title:i().string}},53668:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(50308),l=r.n(s),c=r(38958),u=r(55652),d=r(24082),h=r(74527);r(18553);function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=f,s(y,"constructor",f),s(f,"constructor",h),h.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function f(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}var m={projectId:i().number,label:i().string.isRequired,inputName:i().string.isRequired,inputId:i().string,value:i().string,maxLength:i().number,size:i().number,isRequired:i().bool,placeholder:i().string,helperText:i().string,formAligment:i().string,errors:i().object,dataAttribs:i().object,showLabel:i().bool,disabled:i().bool,selectionClass:i().string.isRequired,options:i().array,requiredField:i().bool,displayLabel:i().bool,minimumResultsForSearch:i().string,width:i().string,formatResult:i().func,formatSelection:i().func,onChange:i().func,onAuthChange:i().func.isRequired,onError:i().func},v={dataAttribs:{},disabled:!1,displayLabel:!0,formInline:!1,formAligment:"horizontal",formatResult:u.ProductPlan.formatOption,formatSelection:u.ProductPlan.formatSelection,label:"",minimumResultsForSearch:"-1",width:"resolve",onChange:()=>{},onError:()=>{}};class g extends a().Component{initializeSelect2(e){var t,r,n=this;e.select2({allowClear:!0,width:"100%",minimumResultsForSearch:-1,minimumInputLength:3,ajax:{transport:(t=p().mark((function e(t){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=t,e.next=4,h.default.tracker.issues(t.data);case 4:e.t1=e.sent,e.t0.success.call(e.t0,e.t1),e.next=11;break;case 8:e.prev=8,e.t2=e.catch(0),(0,d.i)(e.t2,n.props.onAuthChange,n.props.onError,"Pivotal Tracker");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),r=function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){f(o,n,a,i,s,"next",e)}function s(e){f(o,n,a,i,s,"throw",e)}i(void 0)}))},function(e){return r.apply(this,arguments)}),dataType:"json",quietMillis:1e3,data:e=>({project_id:this.props.projectId,query:e}),results:e=>({results:e.issues.map((e=>({id:e.url,key:e.key,text:e.summary,type:e.type})))})},formatResult:e=>this.lineItemMarkup(e),formatSelection:e=>e.text,initSelection:(e,t)=>t({id:e.val(),text:e.data("summary")}),escapeMarkup:e=>e})}lineItemMarkup(e){var t;return t='<div class="row">',t+='<div class="col-md-1"><span class="icon-sprite small tracker-'.concat(e.type,'-icon"></span></div>'),t+='<div class="selectbox-result-item col-md-8">',t+='<span class="selectbox-result-title">'.concat(e.key,"</span>"),t+='<br/><span class="selectbox-result-description">'.concat(e.text,"</span>"),t+="</div>",t+="</div>"}destroySelect2(e){e.select2("destroy")}customClasses(){return{}}componentDidMount(){var e=$(this.controlRef);this.initializeSelect2(e),e.on("select2-open",(function(){$("#select2-drop-mask").height($(window).height()).width($(window).width()).css("opacity",.01)})).on("change",(e=>{this.props.onChange(e)}))}componentWillUnmount(){var e=$(this.controlRef);this.destroySelect2(e)}componentDidUpdate(){var e=$(this.controlRef);this.destroySelect2(e),this.initializeSelect2(e)}render(){return a().createElement(c.Z,{customClasses:this.customClasses(),errors:this.props.errors,formAligment:this.props.formAligment,helperText:this.props.helperText,inputId:this.props.inputId,isRequired:this.props.isRequired,label:this.props.label,showLabel:this.props.showLabel},a().createElement("input",{className:"string optional",name:"tracker_issue_key",placeholder:this.props.placeholder,ref:e=>{this.controlRef=e}}))}}g.propTypes=m,g.defaultProps=v;const y=g;var b=r(27709),w=r(39012),C=r(94184),E=r.n(C),_=r(20977),x=r(49381);class L extends a().Component{static renderUnauthorized(){return a().createElement("div",{className:"form-horizontal"},a().createElement("div",{className:"alert alert-danger"},a().createElement("span",{className:"text"},"Your authentication to Tracker has expired. Please reauthorize."),a().createElement("a",{className:"btn btn-large btn-success",href:"/integrations"},a().createElement(w.Z,{name:w.c.refresh})," ","Authorize")))}constructor(e){super(e),this.state={selectedProjectId:void 0},this.handleIssueChanged=this.handleIssueChanged.bind(this),this.handleProjectChange=this.handleProjectChange.bind(this)}projectNotSelected(){return void 0===this.state.selectedProjectId}handleIssueChanged(e){this.props.onIssueLinked(e)}handleProjectChange(e){this.props.onFailedSearch(),this.setState({selectedProjectId:e})}renderAuthorized(){var e=E()({"form-horizontal":this.props.isVerticalForm,"integration-link-form":!this.props.isVerticalForm});return a().createElement("form",{className:e},a().createElement(b.Z,{allowClear:!1,inputName:"tracker_project",label:"Tracker Project",options:this.state.projects,selectionClass:"tracker-projects",value:String(this.state.selectedProjectId),onAuthChange:this.props.onAuthChange,onChange:this.handleProjectChange,onError:this.props.onFailedProjects}),a().createElement(y,{disabled:this.projectNotSelected(),inputName:"tracker_issue",label:"Search Tracker",linkName:"",linkSummary:"",linkUrl:"",placeholder:"Select a Tracker Issue",projectId:this.state.selectedProjectId,selectionClass:"tracker-issues",onAuthChange:this.props.onAuthChange,onChange:this.handleIssueChanged,onError:this.props.onFailedSearch}))}render(){return this.props.authenticated?this.renderAuthorized():a().createElement(_.Z,{integrationType:x.r.tracker.name})}}L.propTypes={authenticated:i().bool.isRequired,formAligment:i().string,label:i().string.isRequired,onAuthChange:i().func.isRequired,onFailedProjects:i().func.isRequired,onFailedSearch:i().func.isRequired,onIssueLinked:i().func.isRequired,requiredField:i().bool,isVerticalForm:i().bool},L.defaultProps={onAuthChange:l(),onFailedProjects:l(),onFailedSearch:l(),onIssueLinked:l(),isVerticalForm:!0};const P=L;var O=r(65029),S=r(72532);function k(){k=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function T(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var I={authenticated:i().bool,bar:i().object.isRequired,fields:i().object,onLinksUpdated:i().func.isRequired,onClose:i().func,linkFormData:i().object,isVerticalForm:i().bool};class R extends a().Component{constructor(e){var t;super(e),t=this,D(this,"handleFailedSearch",(e=>{if(e){var t=(null!==e&&void 0!==e&&e.message&&403===(null===e||void 0===e?void 0:e.status)?a().createElement("div",null,e.message):a().createElement("div",null,e.message,a().createElement("a",{href:"https://www.pivotaltracker.com/help/articles/advanced_search/",rel:"noopener noreferrer",target:"_blank"}," Learn More")))||this.ALERTS.genericError,r=e.type||"danger";this.setAlert(t,r)}else this.setAlert()})),D(this,"handleFailedProjects",(e=>{this.manageError(e)})),D(this,"handleIssueChanged",(e=>{e.added||this.props.onLinksUpdated()})),D(this,"handleAuthChange",(e=>{this.setState({authenticated:e})})),D(this,"handleIssueLinked",function(){var e,r=(e=k().mark((function e(r){var n,a,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.added){e.next=2;break}return e.abrupt("return");case 2:return n={name:r.added.text,url:r.added.id},t.setAlert(""),window.showAJAXLoaderModal(),e.prev=5,e.next=8,O.Z.createTrackerLink(t.props.bar.id,n);case 8:t.props.onLinksUpdated(t.props.bar.id),t.props.onClose("integrations"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t.handleFailedIssueLinkCreation(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors);case 15:return e.prev=15,window.hideAJAXLoaderModal(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){T(o,n,a,i,s,"next",e)}function s(e){T(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()),this.ALERTS={genericError:"There was an error searching from Pivotal Tracker, please try again later."},this.state={authenticated:this.props.authenticated,fields:{linkName:"",linkUrl:""},alert:{message:"",type:"danger"}}}setAlert(e,t){e||(e="",t=""),this.setState({alert:{message:e,type:t}})}handleFailedIssueLinkCreation(e){(null===e||void 0===e?void 0:e.length)>0&&this.manageError(e[0])}manageError(e){if(401===e.status||403===e.status)this.setState({authenticated:!1});else{var t=e.message||this.ALERTS.genericError,r=e.type||"danger";this.setAlert(t,r)}}render(){return a().createElement(S.Z,{className:"tracker-link-pane",integrationName:x.r.pivotal.key,alert:this.state.alert,title:"Tracker Links"},a().createElement(P,{authenticated:this.state.authenticated,label:"Tracker",onAuthChange:this.handleAuthChange,onFailedProjects:this.handleFailedProjects,onFailedSearch:this.handleFailedSearch,onIssueLinked:this.handleIssueLinked,isVerticalForm:this.props.isVerticalForm}))}}R.propTypes=I,R.defaultProps={};const A=R},1861:(e,t,r)=>{"use strict";r.d(t,{Z:()=>D});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(65029),l=r(55652),c=r(79654),u=r(74527),d=r(24082);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function p(){p=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=f,s(y,"constructor",f),s(f,"constructor",h),h.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function f(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends a().Component{constructor(){var e;super(...arguments),e=this,m(this,"loadIssues",function(){var t,r=(t=p().mark((function t(r){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=r,t.next=4,u.default.trello.issues(r.data);case 4:t.t1=t.sent,t.t0.success.call(t.t0,t.t1),t.next=12;break;case 8:return t.prev=8,t.t2=t.catch(0),(0,d.i)(t.t2,e.props.onAuthChange,e.props.onError,$(e.searchBoxRef),"Trello"),t.abrupt("return",{results:[]});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){f(o,n,a,i,s,"next",e)}function s(e){f(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}convertResultsForSelect(e){return e.issues.map((e=>({id:e.url,key:e.name,text:e.description,boardName:e.board_name})))}formatTemplate(e){var t;return t='<div class="row">',t+='<div class="col-md-1"><i class="fab fa-trello" aria-hidden="true"></i></span></div>',t+='<div class="selectbox-result-item col-md-10">',t+='<span class="selectbox-result-title">'.concat(e.boardName,"</span>"),t+='<br/><span class="selectbox-result-description">'.concat(e.key,"</span>"),t+="</div>",t+="</div>"}render(){return a().createElement(c.Z,h({},this.props,{convertData:this.convertResultsForSelect,formatTemplate:this.formatTemplate,inputName:"trello_issue_key",loadAsync:this.loadIssues,placeholder:"Type a minimum of 3 characters to search...",ref:e=>{this.searchBoxRef=e},truncateSelectedText:!0}))}}m(v,"propTypes",{allowClear:i().bool,projectId:i().string,label:i().string.isRequired,inputName:i().string.isRequired,inputId:i().string,value:i().string,maxLength:i().number,size:i().number,isRequired:i().bool,placeholder:i().string,helperText:i().string,formAligment:i().string,errors:i().object,dataAttribs:i().object,showLabel:i().bool,disabled:i().bool,selectionClass:i().string.isRequired,options:i().array,requiredField:i().bool,displayLabel:i().bool,minimumResultsForSearch:i().string,width:i().string,formatResult:i().func,formatSelection:i().func,onAuthChange:i().func.isRequired,onChange:i().func,onError:i().func}),m(v,"defaultProps",{allowClear:!0,dataAttribs:{},disabled:!1,displayLabel:!0,formInline:!1,formAligment:"horizontal",formatResult:l.ProductPlan.formatOption,formatSelection:l.ProductPlan.formatSelection,label:"",minimumInputLength:"3",minimumResultsForSearch:"-1",width:"100%",onChange:()=>{},onError:()=>{}});const g=v;var y=r(39012),b=r(94184),w=r.n(b),C=r(49381),E=r(20977);function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class x extends a().Component{static renderUnauthorizedError(){return a().createElement("div",null,a().createElement("div",{className:"alert alert-danger"},a().createElement("span",{className:"text"},"Your authentication to Trello has expired."),a().createElement("span",{className:"text"},"Please reauthorize."),a().createElement("a",{className:"btn btn-large btn-success",href:"/integrations"},a().createElement(y.Z,{name:y.c.refresh})," ","Authorize")))}constructor(e){super(e),this.handleIssueChanged=this.handleIssueChanged.bind(this)}handleIssueChanged(e){this.props.onIssueLinked(e)}renderSelect(){var e=w()({"form-horizontal":this.props.isVerticalForm,"integration-link-form":!this.props.isVerticalForm});return a().createElement("form",{className:e},a().createElement(g,{inputName:"trello_issue",label:"Search Trello",linkName:"",linkSummary:"",linkUrl:"",loadAsync:this.loadIssues,placeholder:"Search for a Trello card",selectionClass:"trello-issues",onAuthChange:this.props.onAuthChange,onChange:this.handleIssueChanged,onError:this.props.onFailedSearch}))}render(){return this.props.authenticated?this.renderSelect():a().createElement(E.Z,{integrationType:C.r.trello.name})}}_(x,"propTypes",{authenticated:i().bool.isRequired,onAuthChange:i().func.isRequired,onFailedSearch:i().func.isRequired,onIssueLinked:i().func.isRequired,isVerticalForm:i().bool}),_(x,"defaultProps",{isVerticalForm:!0});const L=x;var P=r(72532);function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function S(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class T extends a().Component{constructor(e){var t;super(e),t=this,k(this,"handleAuthChange",(e=>{this.setState({authenticated:e})})),k(this,"handleIssueLinked",function(){var e,r=(e=O().mark((function e(r){var n,a,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.added){e.next=2;break}return e.abrupt("return");case 2:return n={name:r.added.key,url:r.added.id},t.setAlert(""),window.showAJAXLoaderModal(),e.prev=5,e.next=8,s.Z.createTrelloLink(t.props.bar.id,n);case 8:t.props.onLinksUpdated(t.props.bar.id),t.props.onClose("integrations"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t.handleFailedIssueLinkCreation(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors);case 15:return e.prev=15,window.hideAJAXLoaderModal(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){S(o,n,a,i,s,"next",e)}function s(e){S(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()),k(this,"handleFailedSearch",(e=>{this.manageError(e)})),this.ALERTS={genericError:"There was an error searching Trello, please try again later."},this.state={authenticated:this.props.authenticated,fields:{linkName:"",linkUrl:""},alert:{message:"",type:"danger"}}}setAlert(e,t){e||(e="",t=""),this.setState({alert:{message:e,type:t}})}handleFailedIssueLinkCreation(e){(null===e||void 0===e?void 0:e.length)>0&&this.manageError(e[0])}manageError(e){if(401===e.status||403===e.status)this.setState({authenticated:!1});else{var t=e.message||this.ALERTS.genericError,r=e.type||"danger";this.setAlert(t,r)}}render(){return a().createElement(P.Z,{className:"trello-link-pane",integrationName:C.r.trello.key,alert:this.state.alert,title:"Trello Links"},a().createElement(L,{authenticated:this.state.authenticated,onAuthChange:this.handleAuthChange,onFailedSearch:this.handleFailedSearch,onIssueLinked:this.handleIssueLinked,isVerticalForm:this.props.isVerticalForm}))}}k(T,"propTypes",{authenticated:i().bool,bar:i().object.isRequired,fields:i().object,onLinksUpdated:i().func.isRequired,onClose:i().func,isVerticalForm:i().bool});const D=T},20977:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o);function s(e){var t=e.integrationType;return a().createElement("div",null,a().createElement("div",{className:"alert alert-danger"},a().createElement("span",{className:"text"},"Your authentication to ".concat(t," has expired. Please reauthorize.")),a().createElement("div",null,a().createElement("a",{className:"btn btn-large btn-primary",href:"/integrations"},"Authorize"))))}s.propTypes={integrationType:i().string.isRequired}},92122:(e,t,r)=>{"use strict";r.d(t,{Z:()=>J});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(50308),l=r.n(s),c=r(64721),u=r.n(c),d=r(35161),h=r.n(d),p=r(74527),f=r(79654),m=r(55652);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function y(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w={allowClear:i().bool,projectId:i().string,label:i().string.isRequired,inputName:i().string.isRequired,inputId:i().string,value:i().string,maxLength:i().number,size:i().number,isRequired:i().bool,placeholder:i().string,helperText:i().string,formAligment:i().string,errors:i().object,dataAttribs:i().object,showLabel:i().bool,disabled:i().bool,selectionClass:i().string.isRequired,options:i().array,requiredField:i().bool,displayLabel:i().bool,minimumResultsForSearch:i().string,width:i().string,formatResult:i().func,formatSelection:i().func,onChange:i().func,onAuthChange:i().func.isRequired,onError:i().func},C={allowClear:!0,dataAttribs:{},disabled:!1,displayLabel:!0,formInline:!1,formAligment:"horizontal",formatResult:m.ProductPlan.formatOption,formatSelection:m.ProductPlan.formatSelection,label:"",minimumInputLength:"3",minimumResultsForSearch:"-1",width:"100%",onChange:l(),onError:l()};class E extends a().Component{constructor(){var e;super(...arguments),e=this,b(this,"formatTemplate",(e=>{var t,r="vsts-icon",n=e.type.toLowerCase();return u()(n,"story")?r="vsts-story-icon":u()(n,"epic")?r="vsts-epic-icon":u()(n,"issue")?r="vsts-issue-icon":u()(n,"feature")?r="vsts-feature-icon":u()(n,"task")?r="vsts-task-icon":u()(n,"test")?r="vsts-test-case-icon":u()(n,"bug")&&(r="vsts-bug-icon"),t='<div class="row">',t+='<div class="col-md-1"><span class="icon-sprite small '.concat(r,'"></span></div>'),t+='<div class="selectbox-result-item col-md-8">',t+='<span class="selectbox-result-title">'.concat(n.toUpperCase()," ").concat(e.key,"</span>"),t+='<br/><span class="selectbox-result-description">'.concat(e.text,"</span>"),t+="</div>",t+="</div>"})),b(this,"loadIssues",function(){var t,r=(t=g().mark((function t(r){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.data.project_id=e.props.projectId,t.prev=1,t.t0=r,t.next=5,p.default.azureDevOps.searchIssues(r);case 5:t.t1=t.sent,t.t0.success.call(t.t0,t.t1),t.next=22;break;case 9:if(t.prev=9,t.t2=t.catch(1),401!==(n=t.t2.response.status)&&403!==n&&411!==n){t.next=18;break}return e.props.onAuthChange(!1),e.searchBoxRef&&e.searchBoxRef.destroy(),t.abrupt("return");case 18:if(400!==n&&500!==n){t.next=21;break}return e.props.onError({message:t.t2.response.error,type:"danger"}),t.abrupt("return",{results:[]});case 21:return t.abrupt("return",{results:[]});case 22:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){y(o,n,a,i,s,"next",e)}function s(e){y(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}static convertResultsForSelect(e){return h()(e.issues,(e=>({id:e.url,key:e.key,text:e.name,type:e.type})))}render(){return a().createElement(f.Z,v({},this.props,{convertData:E.convertResultsForSelect,formatTemplate:this.formatTemplate,inputName:"vsts_issue_key",loadAsync:this.loadIssues,placeholder:"Type a minimum of 3 characters to search...",ref:e=>{this.searchBoxRef=e},truncateSelectedText:!0}))}}E.propTypes=w,E.defaultProps=C;const _=E;var x=r(59704),L=r.n(x),P=r(75472),O=r.n(P),S=r(96069);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(this,arguments)}function T(){T=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function D(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){D(o,n,a,i,s,"next",e)}function s(e){D(o,n,a,i,s,"throw",e)}i(void 0)}))}}var R={allowClear:i().bool,dataAttribs:i().object,disabled:i().bool,displayLabel:i().bool,errors:i().object,formAligment:i().string,formatResult:i().func,formatSelection:i().func,helperText:i().string,inputId:i().string,inputName:i().string.isRequired,isRequired:i().bool,label:i().string.isRequired,maxLength:i().number,minimumResultsForSearch:i().string,options:i().array,placeholder:i().string,requiredField:i().bool,selectionClass:i().string.isRequired,showLabel:i().bool,size:i().number,value:i().string,width:i().string,onAuthChange:i().func.isRequired,onChange:i().func.isRequired,onLabelChange:i().func,onError:i().func},A={allowClear:!0,dataAttribs:{},disabled:!1,displayLabel:!0,formAligment:"horizontal",formatResult:m.ProductPlan.formatOption,formatSelection:m.ProductPlan.formatSelection,formInline:!1,label:"",minimumResultsForSearch:"-1",width:"resolve",onAuthChange:l(),onChange:l(),onError:l()};class j extends a().Component{constructor(){var e,t,r,n;super(...arguments),e=this,t=this,r="loadProjects",n=I(T().mark((function t(){var r,n,a,o,i,s,l,c;return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.current_user.vsts_authentication_enabled){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,p.default.azureDevOps.getProjects();case 5:return r=t.sent,n=r.data,t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(2),l=null===(a=t.t0.response)||void 0===a?void 0:a.status,c=null!==(o=null===(i=t.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.error)&&void 0!==o?o:"There was a problem fetching your Azure DevOps projects.",401!==l&&403!==l&&411!==l||e.props.onAuthChange(!1),{status:l,message:c};case 16:case"end":return t.stop()}}),t,null,[[2,10]])}))),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}static handleProjectSelected(e){var t=window.current_user.vsts_recent_project=e;p.default.azureDevOps.updateIntegration({recent_project:t})}handleProjectsLoaded(e){var t=O()(e.projects,[e=>e.name.toLowerCase()],["asc"]);return t.length>0?("vsts"===e.type&&t.unshift({id:"All",name:"All"}),{sortedOptions:t,selectedOption:L()(t,(e=>e.id===window.current_user.vsts_recent_project))?window.current_user.vsts_recent_project:t[0].id}):{}}render(){return a().createElement(S.Z,k({},this.props,{loadAsync:this.loadProjects,placeholder:"Loading Projects...",onFinishedLoading:this.handleProjectsLoaded,onItemSelect:j.handleProjectSelected}))}}j.propTypes=R,j.defaultProps=A;const M=j;var N=r(39012),B=r(94184),F=r.n(B),V=r(20977),Z=r(49381);class U extends a().Component{static renderUnauthorized(){return a().createElement("div",{className:"form-horizontal"},a().createElement("div",{className:"alert alert-danger"},a().createElement("span",{className:"text"},"Your authentication to Azure DevOps has expired. Please reauthorize."),a().createElement("a",{className:"btn btn-large btn-success",href:"/integrations"},a().createElement(N.Z,{name:N.c.refresh})," ","Authorize")))}constructor(e){super(e),this.state={selectedProjectId:void 0},this.handleIssueChanged=this.handleIssueChanged.bind(this),this.handleProjectChange=this.handleProjectChange.bind(this)}projectNotSelected(){return void 0===this.state.selectedProjectId}handleIssueChanged(e){this.props.onIssueLinked(e)}handleProjectChange(e){this.setState({selectedProjectId:e})}renderAuthorized(){var e=F()({"form-horizontal":this.props.isVerticalForm,"integration-link-form":!this.props.isVerticalForm});return a().createElement("form",{className:e},a().createElement(M,{allowClear:!1,inputName:"Vsts_project",label:"Azure DevOps Project",options:[],selectionClass:"vsts-projects",value:String(this.state.selectedProjectId),onAuthChange:this.props.onAuthChange,onChange:this.handleProjectChange,onError:this.props.onFailedProjects}),a().createElement(_,{inputName:"vsts_issue",label:"Search Azure DevOps",linkName:"",linkSummary:"",linkUrl:"",placeholder:"Select an Azure DevOps Issue",projectId:this.state.selectedProjectId,selectionClass:"vsts-issues",onAuthChange:this.props.onAuthChange,onChange:this.handleIssueChanged,onError:this.props.onFailedSearch}))}render(){return this.props.authenticated?this.renderAuthorized():a().createElement(V.Z,{integrationType:Z.r.ado.name})}}U.propTypes={authenticated:i().bool.isRequired,formAligment:i().string,label:i().string.isRequired,onAuthChange:i().func.isRequired,onFailedProjects:i().func.isRequired,onFailedSearch:i().func.isRequired,onIssueLinked:i().func.isRequired,requiredField:i().bool,isVerticalForm:i().bool},U.defaultProps={onAuthChange:l(),onFailedProjects:l(),onFailedSearch:l(),onIssueLinked:l()};const G=U;var H=r(65029),q=r(72532);function W(){W=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function z(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K={authenticated:i().bool,bar:i().object.isRequired,fields:i().object,onLinksUpdated:i().func.isRequired,onClose:i().func,isVerticalForm:i().bool};class Y extends a().Component{constructor(e){var t;super(e),t=this,$(this,"handleFailedSearch",(e=>{this.manageError(e)})),$(this,"handleFailedProjects",(e=>{this.manageError(e)})),$(this,"handleIssueChanged",(e=>{e.added||this.props.onLinksUpdated()})),$(this,"handleAuthChange",(e=>{this.setState({authenticated:e})})),$(this,"handleIssueLinked",function(){var e,r=(e=W().mark((function e(r){var n,a,o;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.added){e.next=2;break}return e.abrupt("return");case 2:return n={name:r.added.text,url:r.added.id},t.setAlert(""),window.showAJAXLoaderModal(),e.prev=5,e.next=8,H.Z.createVstsLink(t.props.bar.id,n);case 8:t.props.onLinksUpdated(t.props.bar.id),t.props.onClose("integrations"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t.handleFailedIssueLinkCreation(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.errors);case 15:return e.prev=15,window.hideAJAXLoaderModal(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[5,12,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){z(o,n,a,i,s,"next",e)}function s(e){z(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}()),this.ALERTS={genericError:"There was an error searching Azure DevOps, please try again later."},this.state={authenticated:this.props.authenticated,fields:{linkName:"",linkUrl:""},alert:{message:"",type:"danger"}}}setAlert(e,t){e||(e="",t=""),this.setState({alert:{message:e,type:t}})}handleFailedIssueLinkCreation(e){(null===e||void 0===e?void 0:e.length)>0&&this.manageError(e[0])}manageError(e){if(401===e.status||403===e.status)this.setState({authenticated:!1});else{var t=e.message||this.ALERTS.genericError,r=e.type||"danger";this.setAlert(t,r)}}render(){return a().createElement(q.Z,{className:"vsts-link-pane",integrationName:Z.r.ado.key,alert:this.state.alert,title:"Azure DevOps Links"},a().createElement(G,{authenticated:this.state.authenticated,label:"Azure DevOps",onAuthChange:this.handleAuthChange,onFailedProjects:this.handleFailedProjects,onFailedSearch:this.handleFailedSearch,onIssueLinked:this.handleIssueLinked,isVerticalForm:this.props.isVerticalForm}))}}$(Y,"defaultProps",{isVerticalForm:!0}),Y.propTypes=K;const J=Y},31961:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r(89734),a=r.n(n),o=r(79833),i=r.n(o),s=r(13311),l=r.n(s),c=r(93386),u=r.n(c),d=r(63105),h=r.n(d),p=r(41609),f=r.n(p),m=r(14293),v=r.n(m),g=r(28583),y=r.n(g),b=r(18721),w=r.n(b),C=r(16689),E=r.n(C);function _(e,t){var r=E()(e[t].orderGroup)[0];w()(window.currentRoadmapable.customOrderSettings,r)||y()(window.currentRoadmapable.customOrderSettings,e[t].orderGroup)}const x=class{constructor(e){this.overrides=e}static initializeOrderGroupData(e){var t=/addbar|addcontainer|lane|legend|columnheader/;return!t.test(e.draggable.data.type)&&!t.test(e.draggable.data.id)&&(_(e,"fromDroppable"),e.toDroppable&&!v()(e.toDroppable.droppable.customOrderGroupId)&&_(e,"toDroppable"),!0)}createCellCustomOrderGroupId(e,t){return"cell_"+e+"_"+t}createContainerCustomOrderGroupId(e,t){return"container_"+e+"_"+t}sortCustomOrderGroup(e,t){return this.sortParentBars(e,t,this.getOverrides(t.customOrderGroupId))}getOverrides(e){return this.overrides[e]}sortParentBars(e,t,r){if(f()(r))return this.sortBarsByName(e,t.bars);var n=h()(t.bars,(e=>!0===this.barHasCustomOrder(e,r))),a=h()(t.bars,(e=>!1===this.barHasCustomOrder(e,r)));return u()(this.sortBarsByCustomOrder(n,r),this.sortBarsByName(e,a))}barHasCustomOrder(e,t){return void 0!==l()(t,(t=>e.barToken&&i()(t)===i()(e.barToken)||e.barId&&i()(t)===i()(e.barId)))}sortBarsByName(e,t){return a()(t,(t=>e.bars[t.barId].name.toLowerCase()))}sortBarsByCustomOrder(e,t){return a()(e,(e=>{var r=t.indexOf(i()(e.barId));return-1===r&&(r=t.indexOf(e.barToken)),r}))}}},12314:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={labels:{NEW_LABEL:"Add New Label",EDIT:"Edit",DELETE:"Delete",REORDER:"Reorder",SWITCH_TO_CUSTOM_LEGEND:"Switch legend",SWITCH_TO_SHARED_LEGEND:"Switch to shared legend"}}},87029:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>E});var n=r(91966),a=r.n(n),o=r(84486),i=r.n(o),s=r(82729),l=r.n(s),c=r(79833),u=r.n(c),d=r(35161),h=r.n(d),p=r(55652),f=r(93128),m=r(31961),v=r(73727),g=r(74527);function y(){y=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function b(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){b(o,n,a,i,s,"next",e)}function s(e){b(o,n,a,i,s,"throw",e)}i(void 0)}))}}var C={getParentBarIds:e=>h()(e,(e=>u()(e.barId))),positionBarInParent(e,t,r,n){var a=C.getParentBarIds(t),o=window.currentRoadmapable.findActiveBar(r),i=new v.Z;o&&(i=C.removeBarFromCustomOrderGroup(e,o.token||o.id));var s=C.calculateCustomOrderSnapshot(e,a,r,n);return i.concat(s)},positionContainedBarInParent(e,t,r,n){var a=C.getParentBarIds(t);return C.calculateCustomOrderSnapshot(e,a,r,n)},handleBarMoveUndo(e){C.positionBarInParent(e.oldOrderId,null,e.barId,e.oldIndex)},handleExistingBarDuplication(e,t,r){var n=C.getParentBarIds(e.bars),a=n.indexOf(u()(t));return a>=0?C.calculateCustomOrderSnapshot(e.customOrderGroupId,n,r,a):new v.Z},moveExistingBar(e,t,r,n){var a=e.id,o=t.orderGroupId,i=r.orderGroupId,s=r.type,l=t.laneId===r.laneId;if(e.isContained&&"cell"===s&&l)return C.moveExistingContainedBar(a,o,i,r.bars,n);var c,u,d=(u=i,!(!/container/.test(c=o)||!/container/.test(u))&&c.match(/(container_\d+)/)[0]===u.match(/(container_\d+)/)[0]),h=function(e,t){return!/cell/.test(e)&&!/cell/.test(t)&&e.match(/container_\d+_(\w+)/)[1]===t.match(/container_\d+_(\w+)/)[1]}(o,i),p="bargroup"===s;return e.isContained&&p&&l&&d&&h?C.positionContainedBarInParent(i,r.bars,e.id,n):C.moveExistingBarBetweenParents(a,o,i,r.bars,n)},moveExistingContainer(e,t,r,n){var a=e.id,o=t.orderGroupId,i=r.orderGroupId,s=t.droppable.columnId,l=r.droppable.columnId,c=new v.Z;o!==i&&(c=C.setContainerCustomOrderForNewTarget(a,s,l));var u=C.moveExistingBarBetweenParents(a,o,i,r.bars,n);return c.concat(u)},moveExistingContainedBar(e,t,r,n,a){var o=window.currentRoadmapable.findActiveBar(e);return C.getParentBarIds(n).includes(""+o.containerId)?new v.Z:C.positionBarInParent(r,n,o.containerId,a)},moveExistingBarBetweenParents(e,t,r,n,a){var o=C.removeBarFromCustomOrderGroup(t,e),i=C.positionBarInParent(r,n,e,a);return o.concat(i)},removeBarFromCustomOrderGroup(e,t){var r=new v.Z,n=new m.Z(window.currentRoadmapable.customOrderSettings).getOverrides(e);return n&&(l()(n,(e=>e===""+t)),r.addCustomOrderGroupUpdate(e,n)),r},setContainerCustomOrderForNewTarget(e,t,r){var n=new v.Z;if(t===r)return n;var a=new m.Z(window.currentRoadmapable.customOrderSettings),o=a.createContainerCustomOrderGroupId(e,t),i=a.getOverrides(o);if(i){var s=a.createContainerCustomOrderGroupId(e,r),l=n;return l.addCustomOrderGroupUpdate(s,i),l.deleteCustomOrderGroup(o),l}return n},calculateCustomOrderSnapshot(e,t,r,n){var a=l()(t,(e=>e!==""+r));return a.splice(n,0,""+r),v.Z.forSingleUpdate(e,a)},updateCustomOrderGroup(e,t){var r={order_items:[{key:e,value:t}]};return C.updateViewCustomOrder(r)},updateViewCustomOrder:e=>w(y().mark((function t(){return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.default.updateViewCustomOrder(window.currentRoadmapable.currentViewId,e);case 3:t.next=9;break;case 5:throw t.prev=5,t.t0=t.catch(0),p.ProductPlan.requireRefresh(),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))(),applyCustomOrderUpdates:e=>w(y().mark((function t(){var r;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.hasChanges()){t.next=2;break}return t.abrupt("return");case 2:return r=e.getCustomGroupUpdates(),i()(r,((e,t,r)=>{var n=t===r.length-1;p.ProductPlan.roadmapManager.updateCustomOrder(e.key,e.value,!n)})),t.next=6,C.updateViewCustomOrder(e.getUpdatePayload());case 6:case"end":return t.stop()}}),t)})))(),setCellAndBarData(e,t){this.barWrappersByDroppableId=e,this.cellsByCustomOrderGroupId=t},onCreationDropAction(e,t){var r=t.index,n=C.positionBarInParent(t.orderGroupId,t.bars,e,r);C.applyCustomOrderUpdates(n)},isFiltered(e,t,r){var n=window.current_filter.filters,o=t.filter((e=>n.includes(e))).length>0,i=e.length>0&&0===a()(e,n).length,s=r.filter((e=>n.includes(e))).length>0;return i||o||s},onBarMoveDropAction(e,t,r){var n=window.currentRoadmapable.findActiveBar(e),a=[n.legendFilterClass.split("-").join("_")],o=n.tags.map((e=>"filter_tag_".concat(e.id))),i=["filter_lane_".concat(n.lane.id)];this.isFiltered(o,i,a)&&f.Z.unsuccessful("".concat(n.name," is currently filtered out\u2014update Filters to view."));var s=this.calculateCustomOrderForBarMoveDropAction(n,t,r);return C.applyCustomOrderUpdates(s),s},calculateCustomOrderForBarMoveDropAction(e,t,r){var n=r.index;return e.isContainer?C.moveExistingContainer(e,t,r,n):C.moveExistingBar(e,t,r,n)}};const E=C},73727:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});class n{static forSingleUpdate(e,t){var r=new n;return r.addCustomOrderGroupUpdate(e,t),r}constructor(){this.customGroupUpdates=[]}addCustomOrderGroupUpdate(e,t){this.customGroupUpdates.push({key:e,value:t})}deleteCustomOrderGroup(e){this.customGroupUpdates.push({key:e,value:[]})}getCustomGroupUpdates(){return this.customGroupUpdates}hasChanges(){return this.customGroupUpdates.length>0}getUpdatePayload(){return{order_items:this.customGroupUpdates}}concat(e){return e&&(this.customGroupUpdates=this.getCustomGroupUpdates().concat(e.getCustomGroupUpdates())),this}}},63031:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});var n=r(91966),a=r.n(n),o=r(35161),i=r.n(o),s=r(16689),l=r.n(s),c=r(84238),u=r.n(c),d=r(30998),h=r.n(d),p=r(13311),f=r.n(p),m=r(63105),v=r.n(m),g=r(73955),y=r.n(g),b=r(41609),w=r.n(b),C=r(43063),E=r.n(C),_=r(1469),x=r.n(_),L=r(66073),P=r.n(L),O=r(80008),S=r.n(O),k=r(31961),T=r(77480),D=r(72984),I=r(93205),R=r(1598);class A{static barWrapper(e){var t={id:e.id,type:e.isContainer?"bargroup":"bar"};return{barId:e.id,barToken:e.token,laneId:e.laneId(),bars:[],id:JSON.stringify(t),isDropDisabled:!1}}static laneWrapper(e){var t={id:e.id,type:"lane"};return{id:JSON.stringify(t),isDropDisabled:!0,laneId:e.id,lane:e}}static legendWrapper(e){var t={id:e.id,type:"legend"};return e.paletteColor&&e.paletteColor.hex&&(t.hex=e.paletteColor.hex),{id:JSON.stringify(t),isDropDisabled:!0,legendId:e.id}}static parseId(e){return JSON.parse(e)}constructor(e,t,r,n,a,o){this.bars={},this.bars.all=e,this.bars.children=[],this.bars.standard=[],this.filters=this.parseFilters(t),this.roadmapManager=o;var i=window.currentRoadmapable.timelineSettings(),s=window.currentRoadmapable.customOrderSettings;this.timelineSettings=i,this.columnGroup=r,this.rowGroup=n,this.sidebarGroup=a,this.roadmap=window.currentRoadmapable,this.customBarOrder=new k.Z(s),P()(this.bars.all,(e=>{e.isOrphaned()||(!0===!!e.containerId?this.bars.children.push(e):this.bars.standard.push(e))}))}parseFilters(e){var t={lanes:{},legends:{},tags:{},customLabels:[]};return P()(e,(e=>{var r=e.split("_");switch(r[1]){case"lane":t.lanes[r[2]]=!0;break;case"legend":t.legends[r[2]]=!0;break;case"tag":t.tags[r[2]]=!0;break;case"custom":t.customLabels.push(Number(r[2]))}})),t}map(){var e={bars:this.bars.all,barWrappersByBarId:{},barWrappersByDroppableId:{},barWrappersByLaneId:{},barWrappersWithDroppableId:{},cellsByDroppableId:{},cellsByCustomOrderGroupId:{},cellsByLaneIdAndRowId:{},cells:{},columns:[].concat(this.columnGroup.labels),lanes:[],laneWrappersByDroppableId:{},legends:[].concat(this.sidebarGroup.labels)};return this.filterRows(e),this.filterStandard(e),this.filterChildren(e),this.assignSquigglies(e),this.generateCloneCounters(e),this.sortBars(e),this.generateDateAttributesForTags(e),this.payload=e,e}generateDateAttributesForTags(e){if(this.columnGroup.key===R.Z.TAGS){var t=this.timelineSettings.startDate,r=this.roadmap.defaultBarDuration,n=S()(t).add("days",r);if(e.columns&&x()(e.columns)&&e.columns.length>0){var a=E()(e.columns,w());P()(a,(e=>{e.startDate=t,e.endDate=n.format("YYYY-MM-DD")}))}}}filterRows(e){P()(this.rowGroup.labels,(t=>{if(!this.filters.lanes[t.id]){var r=A.laneWrapper(t);e.lanes.push(r),e.laneWrappersByDroppableId[r.id]=r,this.createCells(e,t)}}))}createCells(e,t){P()(this.columnGroup.labels,((r,n)=>{var a={id:y()(),type:"cell",intervalWidth:r.intervalWidth},o=JSON.stringify(a),i=this.customBarOrder.createCellCustomOrderGroupId(t.id,r.id),s={bars:[],id:o,customOrderGroupId:i,column:r,columnId:r.id,row:t,rowId:t.id,columnIndex:n,cloneCounter:"r_".concat(t.id,"_c_").concat(r.id)};e.cells[o]=s,e.cellsByCustomOrderGroupId[i]=s,e.cellsByLaneIdAndRowId[(0,I.o1)(t.id,r.id)]=s}))}filterStandard(e){P()(this.bars.standard,(t=>{this.shouldSkip(t)||P()(e.lanes,(r=>{var n=v()(e.cells,(e=>e.rowId===r.laneId));P()(n,(r=>{if(this.barBelongsToCell(t,r)){var n=A.barWrapper(t);e.barWrappersByBarId[n.barId]=n,e.barWrappersByDroppableId[n.id]=n,e.cellsByDroppableId[n.id]=r,r.bars.push(n)}}))}))}))}filterChildren(e){P()(this.bars.children,(t=>{this.shouldSkip(t)||P()(e.lanes,(r=>{var n=v()(e.cells,(e=>e.rowId===r.laneId));P()(n,(r=>{if(this.barBelongsToCell(t,r)){var n=t.parent();if(n){var a=f()(r.bars,(e=>e.barId===n.id));void 0===a&&((a=A.barWrapper(n)).ghosted=this.barShouldBeGhosted(n,r),a.laneId=n.laneId(),a.containerId=n.id,e.barWrappersByBarId[a.barId]=a,e.barWrappersByDroppableId[a.id]=a,e.cellsByDroppableId[a.id]=r,r.bars.push(a));var o=A.barWrapper(t);e.barWrappersByBarId[o.barId]=o,e.barWrappersByDroppableId[o.id]=o,a.bars.push(o)}}}))}))}))}barShouldBeGhosted(e,t){return!!this.shouldSkip(e)||this.columnGroup.key!==R.Z.DATES&&!this.barBelongsToCell(e,t)}barBelongsToConsolidatedLaneCell(e,t){return!!t.row.lanePresenter.ids.includes(e.laneId())&&this.checkHorizontalBoundaries(e,t)}barBelongsToConsolidatedRoadmapCell(e,t){return t.row.id===e.roadmap.roadmapableId()&&this.checkHorizontalBoundaries(e,t)}barBelongsToMasterPlanCell(e,t){var r=window.currentRoadmapable.laneStyle;return r===T.t3?this.barBelongsToConsolidatedRoadmapCell(e,t):r===T.EE&&this.barBelongsToConsolidatedLaneCell(e,t)}checkHorizontalBoundaries(e,t){switch(this.columnGroup.key){case R.Z.DATES:return this.checkHorizontalBoundariesForDates(e,t);case R.Z.TAGS:return this.checkHorizontalBoundariesForTags(e,t);default:throw new Error("Tried to consolidate bars in an unknown context")}}checkHorizontalBoundariesForDates(e,t){return S()(e.endsOn).isBetween(t.column.startDate,t.column.endDate,null,"(]")}checkHorizontalBoundariesForTags(e,t){return 0===e.tags.length?"untagged"===t.column.id:-1!==h()(e.tags,(e=>e.id===t.column.id))}barBelongsToCell(e,t){return this.roadmapManager.roadmapable().canConsolidateLabels()?this.barBelongsToMasterPlanCell(e,t):("pp_lanes"!==this.rowGroup.key||t.row.id===e.laneId())&&this.checkHorizontalBoundaries(e,t)}sortBars(e){P()(e.lanes,(t=>{var r=v()(e.cells,(e=>e.rowId===t.laneId));P()(r,(t=>{t.bars=this.customBarOrder.sortCustomOrderGroup(e,t),P()(t.bars,(t=>{t.bars.length>0&&(t.bars=this.customBarOrder.sortCustomOrderGroup(e,t))}))}))}))}generateCloneCounters(e){var t={};P()(e.cells,(r=>{P()(r.bars,(n=>{var a=e.bars[n.barId],o=this.generateDraggableInfo({payload:e,cloneCountersByBarId:t,cell:r,barWrapper:n});e.barWrappersWithDroppableId[o.id]={droppable:r},e.barWrappersByLaneId[o.id]=n.laneId,a.isContainer&&P()(n.bars,(a=>{var i=this.generateDraggableInfo({payload:e,cloneCountersByBarId:t,cell:r,barWrapper:a});e.barWrappersWithDroppableId[i.id]={droppable:o},e.barWrappersByLaneId[o.id]=n.laneId}))}))}))}generateDraggableInfo(e){var t=e.payload,r=e.cloneCountersByBarId,n=e.cell,a=e.barWrapper,o=t.bars[a.barId];void 0===r[o.id]?r[o.id]=0:r[o.id]++;var i={id:a.barId,type:o.isContainer?"bargroup":"bar",cloneCounter:r[o.id]};o.isContainer&&(i.intervalWidth=n.column.intervalWidth);var s=this.customBarOrder.createContainerCustomOrderGroupId(i.id,n.columnId);a.id=JSON.stringify(i),a.cloneCounter=n.cloneCounter,a.cloneCounterInstance=r[o.id],a.customOrderGroupId=s;var l=this.columnGroup.key===R.Z.TAGS;return a.selected=D.Z.findAndUpdateIfInCollection(a.id,n,a.barId,this.columnGroup.key!==R.Z.DATES,o,n,l?n.column.name:void 0),a.selectedGhost=a.ghosted&&D.Z.isInCollection(a.id,n,a.barId,!1),t.barWrappersByDroppableId[a.id]=a,t.barWrappersByLaneId[a.id]=a.laneId,t.cellsByDroppableId[a.id]=n,a}assignSquigglies(e){this.columnGroup.key===R.Z.DATES&&P()(e.lanes,(t=>{var r=v()(e.cells,(e=>e.rowId===t.laneId));P()(r,((t,n)=>{P()(t.bars,(t=>{if(e.bars[t.barId].isContainer)for(var a=u()(r),o=parseInt(n,10)+1;o<a;o++){var i=r[o];P()(i.bars,(e=>{t.barId===e.barId&&(t.rightSquiggly=!0,e.leftSquiggly=!0)}))}}))}))}))}shouldSkip(e){return!(e.laneId()&&!e.parked&&!this.filters.lanes[e.lane.id])||(!!this.shouldSkipBarForLegend(e)||(!!this.shouldSkipBarForTags(e)||!!this.shouldSkipBarForCustomLabel(e)))}shouldSkipBarForLegend(e){return!!e.ghosted||!!e.legend&&(e.legend.id.toString().includes("none")?this.filters.legends.none:this.filters.legends[e.legend.id])}shouldSkipBarForTags(e){var t=!e.hasTags()&&this.filters.tags.none,r=l()(this.filters.tags),n=i()(e.tags,(e=>e.id.toString())),o=n.length>0&&0===a()(n,r).length;return t||o||e.ghosted}shouldSkipBarForCustomLabel(e){return!!e.customLabels&&e.customLabels.some((e=>this.filters.customLabels.includes(e.labelId)))}}},93205:(e,t,r)=>{"use strict";r.d(t,{$c:()=>c,ZP:()=>d,kG:()=>l,o1:()=>u});var n=r(27361),a=r.n(n),o=r(80008),i=r.n(o),s=r(1598);function l(e,t){var r=a()(t,"combineTargetFor",null),n=e.hex();if(r){var o=JSON.parse(r);o.hex&&(n="#".concat(o.hex))}return n}function c(e,t){return"".concat(e.name,"_TO_").concat(t.name)}function u(e,t){return JSON.stringify({row:e,column:t})}class d{constructor(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.style=e,this.fromDroppable=r,this.toDroppable=n,this.draggable=t,this.bar=a||this.getBarFromDraggable(),this.delta=e===s.Z.DATES?this.calculateDelta():void 0,this.container=this.isDraggableContainer()?window.currentRoadmapable.findActiveBar(this.draggable.barId):void 0,this.containerId=this.container?this.container.id:void 0}getBarFromDraggable(){if(this.draggable&&this.draggable.barId)return window.currentRoadmapable.findActiveBar(this.draggable.barId)}isDraggableContainer(){return this.bar&&this.bar.isContainer}calculateDelta(){return this.bar.isContained&&"CELL"!==this.fromDroppable.name?(this.toDroppable.droppable.columnIndex-this.fromDroppable.cell.columnIndex)*this.fromDroppable.intervalWidth:(this.toDroppable.droppable.columnIndex-this.fromDroppable.droppable.columnIndex)*this.fromDroppable.intervalWidth}isMovingEndBeforeStartDate(){return!("pp_tags"===this.style||!this.draggable.isLastClone||this.draggable.isOnlyClone)&&i()(this.toDroppable.endDate).isBefore(this.container.startDate())}}},47177:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(13311),a=r.n(n),o=r(80008),i=r.n(o),s=r(67949),l=r(57272),c={getTodayMoment:()=>i()().format("YYYY-MM-DD"),doesCurrentIterationExist:e=>!!a()(e,(e=>c.isColumnCurrentIteration(e))),isColumnCurrentIteration:e=>{var t=c.getTodayMoment();return i()(t).isBetween(e.startDate,e.endDate,void 0,"[)")},isTimeBasedListView:()=>{var e,t=null===(e=window)||void 0===e?void 0:e.currentRoadmapable.timelineSettings().timelineType;return t===s.Z.SPRINTS||t===s.Z.MONTHS||t===s.Z.QUARTERS},timeBasedViewAndHasCurrentIteration:e=>!!c.isTimeBasedListView()&&c.doesCurrentIterationExist(e),topCellConst:{WIDTH:"WIDTH",FIRST_COLUMN_TO_VIEWPORT_PIXELS:"FIRST_COLUMN_TO_VIEWPORT_PIXELS"},topCellInLeftMostColumnRect:e=>{var t=$(".list-view-cell")[0];switch(e){case c.topCellConst.FIRST_COLUMN_TO_VIEWPORT_PIXELS:return t.getBoundingClientRect().x;case c.topCellConst.WIDTH:return t.getBoundingClientRect().width;default:return t.getBoundingClientRect()}},currentIterationHeader:()=>$(".current-iteration")[0],scrollToCurrentIteration:(e,t)=>{if(t||!c.currentIterationHeader())return!1;c.timeBasedViewAndHasCurrentIteration(e)&&c.shouldAdjustScroll()&&l.Z.adjustScroll(c.scrollTarget(),null,c.pixelsToScrollLeft())},shouldAdjustScroll:()=>{var e,t=c.currentIterationHeader(),r=null===(e=window.ProductPlan)||void 0===e?void 0:e.roadmapView.isElementInViewport(t),n=c.isCurrentIterationFirstOrSecondColumn();return!r||!n},isCurrentIterationFirstOrSecondColumn:()=>{var e=c.currentIterationHeader(),t=Array.from(e.parentNode.children).indexOf(e);return[0,1].includes(t)},scrollTarget:()=>$(".grid-container > div:first-child")[0],pixelsToScrollLeft:()=>{var e=c.currentIterationHeader().getBoundingClientRect();if(!c.scrollTargetWidthOfTwoColumns())return e.x-c.pixelsToAdjustForSingleColumnView();var t=c.widthOfTwoColumns()-c.topCellInLeftMostColumnRect(c.topCellConst.WIDTH);return e.x-t},scrollTargetWidthOfTwoColumns:()=>c.scrollTarget().getBoundingClientRect().width>=c.widthOfTwoColumns(),widthOfTwoColumns:()=>{var e=c.topCellInLeftMostColumnRect(c.topCellConst.WIDTH);return c.pixelsToAdjustForSingleColumnView()+2*e+10},pixelsToAdjustForSingleColumnView:()=>c.topCellInLeftMostColumnRect(c.topCellConst.FIRST_COLUMN_TO_VIEWPORT_PIXELS)+20};const u=c},57272:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(27361),a=r.n(n),o=r(66073),i=r.n(o),s=r(13311),l=r.n(s),c=r(63031);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=(e,t,r)=>{e&&t&&(e.scrollTop=t),e&&r&&(e.scrollLeft=r)},v=e=>{var t=e.state.rowHeightsMap;return 0===t.size?{listViewLaneHeights:[]}:{listViewLaneHeights:Array.from(t,(e=>{var t=p(e,2);return{rowId:t[0],forcedHeight:t[1].forcedHeight}}))}},g=(e,t)=>{var r=e.props.currentView.data.settings,n=null===r||void 0===r?void 0:r.listViewLaneHeights;if(n){var a=l()(n,["rowId",t]),o=a&&a.forcedHeight?parseInt(a.forcedHeight):null;return o||null}return null};const y={getRowHeightsPayload:v,setForcedRowHeight:(e,t,r,n)=>{var a=e.state.rowHeightsMap,o=new Map(a);if(o.size>0&&o.get(t)){var i=o.get(t);o.set(t,d(d({},i),{},{forcedHeight:r}))}e.setState({rowHeightsMap:o}),$(".grid-container > div").scrollTop($(".vertical").scrollTop());var s=v(e);n({viewId:window.currentRoadmapable.currentViewId,payload:s})},getForcedRowHeight:g,setRowHeadersHeights:e=>{var t=e.state.rowHeightsMap,r=$(".list-view-lane").toArray(),n=null,o=null;!window.currentRoadmapable.isMasterPlan()&&r.length>0&&(n=$(".grid-container > div:first-child")[0],o=n&&n.scrollTop?n.scrollTop:null),$(".list-view-lane-expander").hide(),i()(r,(r=>{var n=$(r).attr("id"),o=c.Z.parseId(n),i=t.get(o.id),s=r.offsetHeight,l={minHeight:s,maxHeight:10*s,forcedHeight:a()(i,"forcedHeight",g(e,o.id))};t.set(o.id,l)})),$(".list-view-lane-expander").show(),m(n,o),e.setState({rowHeightsMap:t}),setTimeout((()=>{m(n,o?o+1:0)}),1)},adjustScroll:m}},1598:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={DATES:"pp_dates",TAGS:"pp_tags",PORTFOLIO_ROADMAPS:"pp_portfolio_roadmaps",ROADMAP:"pp_roadmap"}},72984:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r(82492),a=r.n(n),o=r(3651),i=r.n(o),s=r(45578),l=r.n(s),c=r(91966),u=r.n(c),d=r(43063),h=r.n(d),p=r(44908),f=r.n(p),m=r(94654),v=r.n(m),g=r(63105),y=r.n(g),b=r(35161),w=r.n(b),C=r(84486),E=r.n(C),_=r(70735),x=r.n(_),L=r(77043),P=r.n(L),O=r(13311),S=r.n(O),k=r(16852);function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class D{constructor(){var e=this;T(this,"previousMoveKeyboard",(()=>this.previousMove===D.KB_MOVE||void 0===this.previousMove)),T(this,"previousMoveDragAndDrop",(()=>this.previousMove===D.DND||void 0===this.previousMove)),T(this,"setPreviousMoveToKeyboard",(()=>{this.previousMove=D.KB_MOVE})),T(this,"setPreviousMoveToDragAndDrop",(()=>{this.previousMove=D.DND})),T(this,"barWrapperData",(function(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;return{id:t,barId:t?JSON.parse(t).id:a,droppableData:e.droppableData(r),containerId:s||r.barId,ghosted:n,moved:i,tag:o}})),T(this,"droppableData",(e=>({columnId:e.columnId,rowId:e.rowId?e.rowId:e.laneId}))),T(this,"childDroppable",((e,t)=>({barId:e,columnId:t.columnId,rowId:t.rowId?t.rowId:t.laneId}))),T(this,"getCollection",(()=>this.barWrapperDataCollection)),T(this,"update",((e,t,r)=>{var n=this.getAffectedBarWrapperData(e,t,r);!S()(this.barWrapperDataCollection,["id",t])?(this.barWrapperDataCollection=P()(this.barWrapperDataCollection,n,"id"),this.addMultiSelectBannerData(n,!r)):(this.barWrapperDataCollection=x()(this.barWrapperDataCollection,n,"id"),this.shouldRemoveMultiSelectBannerData(n)),this.clearTags()})),T(this,"clearTags",(()=>{E()(this.barWrapperDataCollection,(e=>{e.tag=void 0}))})),T(this,"clear",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.barWrapperDataCollection.length=0,k.Z.clear(t)})),T(this,"resetCollection",(e=>{e&&(this.barWrapperDataCollection=e)})),T(this,"assign",((e,t,r)=>{if(0!==t.length){this.barWrapperDataCollection.length=0,this.addBarWrappersFromCollection(e,t,r);var n=w()(this.barWrapperDataCollection,"barId");k.Z.assign(n)}})),T(this,"getAffectedBarWrapperData",((e,t,r)=>{var n=[],a=e.state.cellsByDroppableId[t],o=e.state.barWrappersByDroppableId[t],i=this.barWrapperData(t,a,o.ghosted);n=this.unionBarData([i],n),r&&(n=this.unionCloneData(e,i,n)),n=this.unionChildBarData(e,n);var s=this.deselectParentData(e,i,r);return n=this.unionBarData(s,n),n=this.getVisibleBarWrapperData(n)})),T(this,"getVisibleBarWrapperData",(e=>y()(e,(e=>window.currentRoadmapable.findActiveBar(e.barId).isVisible())))),T(this,"unionBarData",((e,t)=>P()(t,e,"id"))),T(this,"unionCloneData",((e,t,r)=>{var n=this.getCloneData(e,t);return P()(r,n,"id")})),T(this,"unionChildBarData",((e,t)=>{var r=v()(t,(t=>this.getChildBarData(e,t)));return P()(t,r,"id")})),T(this,"getCloneData",((e,t)=>{var r=JSON.parse(t.id).id,n=f()(y()(e.state.barWrappersByDroppableId,["barId",r]));return n=h()(n,["id",t.id]),w()(n,(t=>{var r=e.state.cellsByDroppableId[t.id],n=e.state.barWrappersByDroppableId[t.id];return this.barWrapperData(t.id,r,n.ghosted)}))})),T(this,"getChildBarData",((e,t)=>{var r=e.state.barWrappersByDroppableId[t.id],n=e.state.cellsByDroppableId[t.id],a=w()(r.bars,"id");return w()(a,(e=>this.barWrapperData(e,this.childDroppable(r.barId,n),!1)))})),T(this,"getParentData",((e,t)=>{var r=e.barWrappersWithDroppableId[t.id].droppable.id;if("bargroup"===JSON.parse(r).type){var n=e.barWrappersWithDroppableId[r].droppable,a=e.barWrappersByDroppableId[r];return this.barWrapperData(r,n,a.ghosted)}})),T(this,"deselectParentData",((e,t,r)=>{var n=[],a=this.getParentData(e.state,t);if(void 0===a)return n;n=[a],r&&(n=this.unionCloneData(e,a,n));var o=[];return w()(n,(e=>{S()(this.barWrapperDataCollection,["id",e.id])&&o.push(e)})),o})),T(this,"addMultiSelectBannerData",((e,t)=>{var r=t?this.filterGhosts(e):e,n=this.extractBarIds(r);k.Z.addId(n)})),T(this,"shouldRemoveMultiSelectBannerData",(e=>{var t=this.extractBarIds(this.barWrapperDataCollection),r=this.extractBarIds(e),n=u()(r,t);k.Z.removeId(n)})),T(this,"extractBarIds",(e=>w()(e,(e=>e.barId)))),T(this,"getRefinedList",(e=>y()(this.barWrapperDataCollection,(t=>{var r=this.getParentData(e,t);if(!r)return!0;var n=r.id;return!S()(this.barWrapperDataCollection,{id:n})})))),T(this,"updateAll",((e,t,r)=>{var n=w()(this.barWrapperDataCollection,"id");0===u()(t,n).length?this.removeBarWrappersFromCollection(e,t,r):this.addBarWrappersFromCollection(e,t,r)})),T(this,"removeBarWrappersFromCollection",((e,t,r)=>{E()(t,(t=>{var n=this.getAffectedBarWrapperData(e,t,r);this.barWrapperDataCollection=x()(this.barWrapperDataCollection,n,"id"),this.shouldRemoveMultiSelectBannerData(n)}))})),T(this,"addBarWrappersFromCollection",((e,t,r)=>{E()(t,(t=>{var n=this.getAffectedBarWrapperData(e,t,r);S()(this.barWrapperDataCollection,["id",t])||(this.barWrapperDataCollection=P()(this.barWrapperDataCollection,n,"id"),this.addMultiSelectBannerData(n,!r))}))})),T(this,"clearDuplicates",(()=>{this.barWrapperDataCollection=l()(this.barWrapperDataCollection,(e=>JSON.stringify([e.id,e.barId,e.droppableData,e.moved])))})),T(this,"clearGhosts",(()=>{this.barWrapperDataCollection=this.filterGhosts(this.barWrapperDataCollection)})),T(this,"clearBarWrapperIdAndUpdateDroppable",((e,t,r,n)=>{var a=S()(this.barWrapperDataCollection,{barId:e,droppableData:this.droppableData(t),moved:!1});if(a){var o=i()(this.barWrapperDataCollection,a);this.barWrapperDataCollection.splice(o,1,this.barWrapperData(void 0,r,a.ghosted,e,n,!0))}})),T(this,"clearAllRelatedBarWrapperIdsAndUpdateDroppables",((e,t,r,n)=>{this.clearBarWrapperIdAndUpdateDroppable(e,t,r,n);var a=y()(this.barWrapperDataCollection,{containerId:e});a&&E()(a,(n=>{this.clearBarWrapperIdAndUpdateDroppable(n.barId,t,this.childDroppable(e,r),n.tag)}))})),T(this,"findAndUpdateIfInCollection",((e,t,r,n,o,i,s)=>{var l=this.findByBarIdAndDroppableId(t,r,n);return l?(a()(l,this.barWrapperData(e,t,l.ghosted,r,l.tag,!1,l.containerId)),!0):!!this.parentIsInCollection(o,i,n)&&(this.barWrapperDataCollection.push(this.barWrapperData(e,t,o.ghosted,r,s,!1,o.parent().id)),!0)})),T(this,"isInCollection",((e,t,r,n)=>!!this.findByBarWrapperId(e,n)||!!this.findByBarIdAndDroppableId(t,r,n))),T(this,"findByBarWrapperId",((e,t,r)=>{var n=t?this.filterGhosts(this.barWrapperDataCollection):this.barWrapperDataCollection,a=r?this.filterMoved(n):n;return S()(a,["id",e])})),T(this,"findByBarIdAndDroppableId",((e,t,r)=>{var n=r?this.filterGhosts(this.barWrapperDataCollection):this.barWrapperDataCollection;return S()(n,{barId:t,droppableData:this.droppableData(e)})})),T(this,"barWrapperIsMultiSelected",(e=>0!==this.barWrapperDataCollection.length&&w()(this.barWrapperDataCollection,"id").includes(e))),this.barWrapperDataCollection=[]}handleUntaggedColumn(e,t){this.clearTagsFromBarAndChildren(e),this.removeBarsNotInColumn(e,t)}removeBarsNotInColumn(e,t){this.barWrapperDataCollection=y()(this.barWrapperDataCollection,(r=>r.barId!==e||t===r.droppableData.columnId))}clearTagsFromBarAndChildren(e){var t=S()(this.barWrapperDataCollection,{barId:e});if(t){t.tag=void 0;var r=y()(this.barWrapperDataCollection,{containerId:e});r&&E()(r,(e=>{e.tag=void 0}))}}addChildBarsAndTagsToCollection(e,t,r,n,a){E()(n,(n=>{var o=this.findByBarIdAndDroppableId(t,n.barId,!1),i=this.findByBarIdAndDroppableId(r,n.barId);o&&!i?o.tag=a:i||this.barWrapperDataCollection.push(this.barWrapperData(n.id,t,n.ghosted,n.barId,a,!1,e))}))}parentIsInCollection(e,t,r){return!(!e.parent()||!this.findByBarIdAndDroppableId(t,e.parent().id,r))}getCountByBars(){return l()(this.barWrapperDataCollection,"barId").length}getCountByBarWrappers(){var e=this.filterGhosts(this.barWrapperDataCollection);return l()(e,"id").length}filterGhosts(e){return y()(e,(e=>!e.ghosted))}filterMoved(e){return y()(e,(e=>!e.moved))}}T(D,"DND","drag_and_drop"),T(D,"KB_MOVE","keyboard_movement");const I=new D},60691:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(67294),a=r.n(n),o=r(39012),i=r(94184),s=r.n(i),l=r(45697),c=r.n(l);function u(e){var t=e.flagColor,r=e.textColor,n=e.title,o=e.date,i={backgroundColor:t},s={borderTopColor:t};return a().createElement(a().Fragment,null,a().createElement("div",{className:"flag-box ".concat(r),style:i},a().createElement("div",{className:"flag-text"},n),a().createElement("div",{className:"flag-date"},o)),a().createElement("div",{className:"flag-box-right"},a().createElement("div",{className:"flag-box-right-top",style:i}),a().createElement("div",{className:"flag-box-tri",style:s})))}function d(e){var t=e.flagColor;return a().createElement(o.Z,{classes:"small-flag-tri",name:o.c.play,style:{color:t}})}function h(e){var t=e.id,r=e.title,n=e.flagColor,o=e.textColor,i=e.date,l=e.expanded,c=e.flagPoleRef;return a().createElement("div",{className:s()({"large-flag":l,"small-flag":!l})},a().createElement("div",{className:"flag-line","data-id":t,style:{borderLeftColor:n},ref:c}),l?a().createElement(u,{flagColor:n,textColor:o,date:i,title:r}):a().createElement(d,{flagColor:n}))}u.propTypes={flagColor:c().string,textColor:c().string,title:c().string,date:c().string},d.propTypes={flagColor:c().string},h.propTypes={id:c().oneOfType([c().number,c().string]),title:c().string,flagColor:c().string,textColor:c().string,date:c().string,expanded:c().bool,flagPoleRef:c().node}},34428:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(23560),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(76395),u=r(94184),d=r.n(u);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends i().Component{constructor(){super(...arguments),m(this,"handleClose",(()=>{this.doCancelCallback(),this.props.isChild||this.confirmModal.close()})),m(this,"handleConfirm",(()=>{this.isClosing=!0,this.props.isChild||this.confirmModal.close(),this.props.confirmCallback()})),m(this,"handleCancel",(()=>{this.doCancelCallback(),this.props.isChild||this.confirmModal.close()})),m(this,"doCancelCallback",(()=>{a()(this.props.cancelCallback)&&!this.isClosing&&(this.props.cancelCallback(),this.isClosing=!0)})),m(this,"displayPermanentActionMessage",(()=>{var e=this.props.permanentActionMessageObject.inMessageType,t=this.props.permanentActionMessageObject.inMessageName,r=this.props.permanentActionMessageObject.associatedRecords;return i().createElement("p",{className:"text-left message"},"This will ",i().createElement("strong",null,"permanently delete "),"the "+e,i().createElement("strong",null," "+t),r," This action ",i().createElement("strong",null,"cannot")," be undone.")})),m(this,"displayMessage",(()=>void 0!==this.props.permanentActionMessageObject?this.displayPermanentActionMessage():a()(this.props.message)?this.props.message():i().createElement("p",{className:"text-left message"},this.props.message)))}static show(e){return c.Z.show(this,e)}static showAsync(e){return new Promise((t=>{c.Z.show(this,f(f({},e),{},{confirmCallback:()=>t(!0),cancelCallback:()=>t(!1)}))}))}classNames(){return d()({btn:!0,add:!0,confirm:!0,disabled:!this.props.confirmButtonEnabled,"btn-primary":"primary"===this.props.confirmButtonVariation,"btn-success":"success"===this.props.confirmButtonVariation,"btn-warning":"warning"===this.props.confirmButtonVariation,"btn-danger":"danger"===this.props.confirmButtonVariation})}btnContainerClasses(){var e=this.props.buttonContainerClassname;return null==e?"pp-input-aligned-buttons":"pp-input-aligned-buttons ".concat(e)}render(){return i().createElement(c.Z,h({ref:e=>{this.confirmModal=e},title:this.props.title,onClose:this.handleClose},this.props),i().createElement("div",{className:"row modal-confirm","data-name":"confirm-action-modal"},i().createElement("div",{className:"col-xs-12"},this.displayMessage(),this.props.children,i().createElement("form",{className:"center-block"},i().createElement("div",{className:"form-group"},i().createElement("div",{className:this.btnContainerClasses()},i().createElement("button",{className:this.classNames(),disabled:!this.props.confirmButtonEnabled,type:"button",onClick:this.handleConfirm},this.props.confirmButtonLabel),"\xa0",i().createElement("button",{className:"btn btn-default cancel",type:"button",onClick:this.handleCancel},this.props.cancelButtonLabel)))))))}}m(v,"propTypes",{title:l().string.isRequired,confirmButtonLabel:l().string,cancelButtonLabel:l().string,confirmButtonVariation:l().string,message:l().oneOfType([l().string,l().func]).isRequired,confirmCallback:l().func.isRequired,cancelCallback:l().func,isChild:l().bool,permanentActionMessageObject:l().object,confirmButtonEnabled:l().bool,children:l().oneOfType([l().arrayOf(l().node),l().node]),buttonContainerClassname:l().string}),m(v,"defaultProps",{confirmButtonLabel:"Confirm",cancelButtonLabel:"Cancel",confirmButtonVariation:"success",isChild:!1,permanentActionMessage:!1,confirmButtonEnabled:!0,buttonContainerClassname:null});const g=v},76395:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(23560),a=r.n(n),o=r(22205),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(73935),h=r.n(d),p=r(94184),f=r.n(p),m=r(99411),v=(r(32238),r(39012));function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class y extends l().Component{static show(e,t){var r=$('<div class="modal-holder"></div>');$("body").append(r);var n=i()({},e.defaultProps,t,{holder:r[0]});return m.Z.renderComponent(e,n,r)}constructor(e){super(e),g(this,"onShown",(()=>{a()(this.props.shownCallback)&&this.props.shownCallback()})),g(this,"onHide",(e=>{this.isClosing||(this.isClosing=!0,this.props.onClose(e),e.isDefaultPrevented()&&(this.isClosing=!1))})),g(this,"onHidden",(()=>{$(this.props.holder).length>0&&(h().unmountComponentAtNode(this.props.holder),$(this.props.holder).remove())})),g(this,"handleClose",(()=>{$(this.modalNode).modal("hide")})),this.isClosing=!1,this.bodyClass=this.props.bodyClass||"pp-modal-body"}componentDidMount(){var e=$(this.modalNode);e.on("shown.bs.modal",this.onShown),e.on("hide.bs.modal",this.onHide),e.on("hidden.bs.modal",this.onHidden),e.modal("show")}dialogClasses(){return void 0!==this.props.additionalClasses?"modal-dialog "+this.props.additionalClasses:"modal-dialog"}setTitle(){return this.props.title?l().createElement("h3",{className:"heading"},this.props.title):null}renderClose(){return this.props.hasMenu?this.props.renderModalMenu():l().createElement("button",{className:"close pull-right",type:"button",onClick:this.handleClose},l().createElement(v.Z,{name:v.c.times}))}setSection(e){var t=this.props[e],r=t?"":"hide",n="modal-".concat(e," ").concat(r);return t?l().createElement("div",{className:n},t):l().createElement("div",{className:n})}close(){this.handleClose()}render(){var e=f()({modal:!0,hidden:!this.props.visibility});return l().createElement("div",{className:e,id:"bar-modal",ref:e=>{this.modalNode=e},tabIndex:"-1"},l().createElement("div",{className:this.dialogClasses()},l().createElement("div",{className:"modal-content pp-modal-content"},this.props.dirtyContent,this.setSection("header"),l().createElement("div",{className:"modal-body "+this.bodyClass},l().createElement("div",{className:"modal-title pp-modal-title"},this.renderClose(),this.setTitle()),l().createElement("div",{className:"dialog-body"},this.props.children)),this.setSection("footer"))))}}y.propTypes={visibility:u().bool,holder:u().object,bodyClass:u().string,title:u().string,header:u().element,footer:u().element,dirtyContent:u().element,renderModalMenu:u().func,shownCallback:u().func,onClose:u().func.isRequired,additionalClasses:u().string,hasMenu:u().bool,children:u().oneOfType([u().arrayOf(u().node),u().node])},y.defaultProps={visibility:!0,hasMenu:!1,children:null,renderModalMenu:()=>null};const b=y},33284:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(23560),a=r.n(n),o=r(22205),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(76395);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}class p extends l().Component{static show(e){return d.Z.show(this,i()({},p.defaultProps,e))}close(){this.notifyModal.close()}confirm(){a()(this.props.confirmCallback)&&this.props.confirmCallback(),this.notifyModal.close()}render(){return l().createElement(d.Z,h({ref:e=>{this.notifyModal=e},title:this.props.title,onClose:this.close.bind(this)},this.props),l().createElement("div",{className:"row"},l().createElement("div",{className:"col-xs-12"},l().createElement("div",{className:"text-left",id:"notify_message"},this.props.message),l().createElement("div",{className:"pp-centered-buttons"},l().createElement("button",{className:"btn btn-success add confirm",type:"button",onClick:this.confirm.bind(this)},"Done"),"\xa0"))))}}p.propTypes={title:u().string.isRequired,message:u().string.isRequired,confirmCallback:u().func};const f=p},57200:(e,t,r)=>{"use strict";r.d(t,{m0:()=>ra,ZP:()=>na});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(55652),l=r(19728),c=r(99449),u=r(54228),d=r(39012),h=r(75289),p=r(73935),f=r.n(p),m=r(94184),v=r.n(m),g=r(98061),y=r(35161),b=r.n(y),w=r(58732),C=r(82886),E=r(94016),_=r(74527),x=r(93128),L=r(91068),P=["comment"];function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function S(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function k(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function T(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){k(o,n,a,i,s,"next",e)}function s(e){k(o,n,a,i,s,"throw",e)}i(void 0)}))}}var D={resolveError:"There was an error resolving the comment. Please wait a few minutes and try again.",resolve:"Resolve",reopen:"Reopen"};function I(e){return R.apply(this,arguments)}function R(){return(R=T(O().mark((function e(t){var r,n,a;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,L.YA)(t),n=r?E.Z.OPEN:E.Z.RESOLVED,a={conversation:{state:n.toLowerCase()},public_url_code:window.currentRoadmapable.publicUrlCode},e.abrupt("return",_.default.conversations.resolve(t.id,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=e=>{var t=e.comment,r=S(e,P),n=r.LANGUAGE,o=r.comments,i=r.containerId,s=r.containerClassName,l=r.tooltip,c=r.resolveConversationIconName,p=r.resolveComments,f=(0,h.useRoadmapConversationsContext)(),m=f.removeComment,v=f.conversationState,g=f.updateComment,y=f.shouldRemoveCommentFromList,b=!t||(0,L.YA)(t);function w(){var e=((0,L.YA)(t)?E.Z.OPEN:E.Z.RESOLVED).toLowerCase();g(t,{state:e})}function C(){return C=T(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:y(t,v)?m(t):w(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),x.Z.unsuccessful(n.resolveError);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),C.apply(this,arguments)}return a().createElement("div",{id:i({comment:t}),className:s,onClick:()=>o?p(o):function(e){return C.apply(this,arguments)}(t)},a().createElement(u.Z,{overlay:l(b),placement:"bottom"},a().createElement("span",null,a().createElement(d.Z,{name:c(b)}))))};A.defaultProps={LANGUAGE:D,comment:null,comments:null,tooltip:function(e){return a().createElement(l.Z,{id:"resolve-tooltip"},e?D.reopen:D.resolve)},resolveConversationIconName:e=>e?d.c.circleArrowLeft:d.c.checkCircle,containerId:e=>{var t=e.comment;return"roadmap-conversation__resolve-menu-".concat(t.id)},containerClassName:"roadmap-conversation__resolved-icon"},A.propTypes={LANGUAGE:i().object,comment:i().object,comments:i().array,tooltip:i().func,resolveConversationIconName:i().func,containerId:i().func,containerClassName:i().string,resolveComments:i().func};const j=A;function M(){M=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function N(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){N(o,n,a,i,s,"next",e)}function s(e){N(o,n,a,i,s,"throw",e)}i(void 0)}))}}var F={resolveError:"There was an error resolving the comments. Please wait a few minutes and try again.",resolveAll:"Resolve All"};function V(){return Z.apply(this,arguments)}function Z(){return(Z=B(M().mark((function e(){var t,r,n;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,L.f1)(),r=t.ownerType,n=t.ownerId,e.abrupt("return",_.default.conversations.resolve_all(r,n,window.currentRoadmapable.publicUrlCode));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=e=>{var t=e.currentUser,r=(0,h.useRoadmapConversationsContext)(),n=r.comments,o=r.conversationState,i=r.resolveAllComments,s=r.setComments;if(o==E.Z.RESOLVED||!t)return null;function c(){return c=B(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t&&i(t),e.prev=1,e.next=4,V();case 4:if(o!=E.Z.OPEN){e.next=6;break}return e.abrupt("return",s([]));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),x.Z.unsuccessful(F.resolveError);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),c.apply(this,arguments)}return a().createElement(a().Fragment,null,a().createElement(j,{LANGUAGE:F,comments:n,containerId:()=>"roadmap-conversation__resolve-all-icon-container",containerClassName:"roadmap-conversation__resolve-all-comments",tooltip:function(){return a().createElement(l.Z,{id:"resolve-all-tooltip"},F.resolveAll)},resolveConversationIconName:()=>d.c.checkDouble,resolveComments:function(e){return c.apply(this,arguments)}}))};U.propTypes={currentUser:i().object};const G=U;var H=["showComments"];function q(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var W="Comments",z=[E.Z.ALL,E.Z.OPEN,E.Z.RESOLVED],K=e=>{var t=e.showComments,r=q(e,H),n=(0,h.useRoadmapConversationsContext)(),o=n.conversationState,i=n.setConversationState,s=n.isLoadingList;return t?a().createElement("div",{className:"comments-header"},a().createElement(C.Z,{pullRight:!1,id:"conversation-title__title",className:"conversation-title__actions-dropdown",title:"".concat(o," ").concat(W)},b()(z.filter((e=>e!==o)),((e,t)=>a().createElement(w.Z,{key:t,onClick:()=>{i(e)}},e)))),a().createElement("div",{className:"conversation-title__loading"},s?a().createElement(d.Z,{classes:d.c.spin,name:d.c.spinner}):a().createElement(G,{currentUser:r.currentUser}))):a().createElement("div",{className:"comments-header"},a().createElement("div",{className:"conversation-view-only__title"},W))};K.propTypes={showComments:i().bool.isRequired,currentUser:i().object};const Y=K;var J=r(75562);function Q(){Q=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function X(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){X(o,n,a,i,s,"next",e)}function s(e){X(o,n,a,i,s,"throw",e)}i(void 0)}))}}function te(e){return re.apply(this,arguments)}function re(){return(re=ee(Q().mark((function e(t){var r,n,a,o;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,L.f1)(),n=r.ownerType,a=r.ownerId,o=window.currentRoadmapable.publicUrlCode,e.abrupt("return",_.default.conversations.index(n,a,t,o));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return ae=ee(Q().mark((function e(t,r){var n,a,o,i;return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={page_size:20,offset:0,query:t},e.next=3,_.default.roadmaps.permittedUsers(window.currentRoadmapable,n);case 3:a=e.sent,o=a.data,i=window.currentRoadmapable.isMasterPlan()?"master_plan_permitted_users":"roadmap_permitted_users",r(o[i].map((e=>({display:e.name,id:e.user_id}))));case 7:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function oe(){return"".concat(window.currentRoadmapable.ownerType().toLowerCase(),"-").concat(window.currentRoadmapable.roadmapableId())}function ie(){return"conversation_add_notification-roadmapable-"+oe()}function se(){return le.apply(this,arguments)}function le(){return(le=ee(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.ProductPlan.currentUser()){e.next=3;break}return e.next=3,_.default.notifications.setSeen(ie());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return ue.apply(this,arguments)}function ue(){return(ue=ee(Q().mark((function e(){return Q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.ProductPlan.currentUser()){e.next=4;break}return e.next=3,_.default.notifications.index(ie(),10);case 3:return e.abrupt("return",e.sent);case 4:return e.abrupt("return",[]);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},de.apply(this,arguments)}function he(){he=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function pe(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function fe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){pe(o,n,a,i,s,"next",e)}function s(e){pe(o,n,a,i,s,"throw",e)}i(void 0)}))}}function me(e){this.setState({honeyPotValue:e.target.value})}function ve(e,t,r,n){return a().createElement("div",{className:"roadmap-conversations__button-container"},a().createElement("button",{className:"roadmap-conversations__button",disabled:!t,onClick:n},a().createElement(a().Fragment,null,a().createElement("span",{"aria-hidden":"true"},e.buttonLabel),r?a().createElement(d.Z,{classes:d.c.spin,name:d.c.spinner}):a().createElement(d.Z,{classes:"icon",name:d.c.paperPlane}))))}function ge(e){return e.trim()}var ye=function(){var e=fe(he().mark((function e(t,r,n){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==ge(t).length&&n){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,_.default.conversations.create({conversation:{owner_type:r,owner_id:n,body:t},public_url_code:window.currentRoadmapable.publicUrlCode});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),be=e=>{var t=de({},e),r=t.isForResolvedComment,o=t.labelClassnames,i=t.textAreaId,s=t.ariaHidden,l=t.useDefaultHeight,c=t.LANGUAGE,u=t.containerClassnames,d=t.onFocus,h=t.onBlur,p=t.body,f=t.setBody,m=t.setReadyState,v=t.ready,g=t.sending,y=t.setSending,b=t.ownerType,w=t.ownerId,C=t.addComment,E=t.conversationState,_=(0,n.useRef)(null),L=function(){var e=fe(he().mark((function e(t){var r;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,m(!1),y(!0),e.next=6,ye(p,b,w);case 6:(r=e.sent)&&r.data&&(C(r.data,r,E),m(!1),f("")),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),m(!0),x.Z.unsuccessful(c.submitError);case 14:return e.prev=14,y(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(t){return e.apply(this,arguments)}}();(0,n.useEffect)((()=>{if(_&&_.current&&l){_.current.style.height="0px";var e=_.current.scrollHeight;_.current.style.height=((e,t)=>"".concat(e<t?e:t,"px"))(e,460)}}),[p,_]);return a().createElement("div",{className:u,tabIndex:"-1"},a().createElement("label",{"aria-hidden":s,htmlFor:i,className:o},c.textareaLabel),a().createElement(J.default,{htmlId:i,placeholder:r?c.resolvedPlaceholder:c.placeholder,value:p,onChange:e=>{var t,r=null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value,n=ge(r);f(r),m(n.length>0)},onKeyDown:e=>{e.keyCode},users:ne,onHoneypotChange:me,elements:ve(c,v,g,L),honeypotId:"comment_user_ref",classes:"roadmap-conversations__textarea",placement:"bottom",onFocus:d,onBlur:h}))};be.propTypes={comment:i().any,labelClassnames:i().string,textAreaId:i().string,ariaHidden:i().string,useDefaultHeight:i().bool,LANGUAGE:i().object,containerClassnames:i().any,onFocus:i().func,onBlur:i().func,body:i().string,setBody:i().func,ready:i().bool,setReadyState:i().func,sending:i().bool,setSending:i().func,ownerType:i().string,ownerId:i().number,isForResolvedComment:i().bool,addComment:i().func,conversationState:i().string},be.defaultProps={labelClassnames:"roadmap-conversations__label",textAreaId:"roadmap-conversations__textarea",ariaHidden:"true",useDefaultHeight:!0};const we=be;function Ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _e=e=>{var t=e.comment,r=(0,h.useRoadmapConversationsContext)().addReply,o=Ce((0,n.useState)(!1),2),i=o[0],s=o[1],l=Ce((0,n.useState)(""),2),c=l[0],u=l[1],d=Ce((0,n.useState)(!1),2),p=d[0],f=d[1],m=Ce((0,n.useState)(!1),2),g=m[0],y=m[1],b=v()({"roadmap-conversations__reply-form":!0,"roadmap-conversations__reply-form--focused":i,"roadmap-conversations__reply-form--ready":p}),w="roadmap-conversations__reply-textarea-".concat(t.id);return a().createElement(we,{isForResolvedComment:(0,L.YA)(t),labelClassnames:"aria-label sr-only",textAreaId:w,ariaHidden:"false",useDefaultHeight:!1,LANGUAGE:mt,containerClassnames:b,onFocus:()=>s(!0),onBlur:()=>{setTimeout((function(){s(!1)}),150)},body:c,setBody:u,ready:p,setReadyState:f,sending:g,setSending:y,ownerId:t.id,ownerType:"Conversation",addComment:r})};_e.propTypes={comment:i().any.isRequired};const xe=_e;var Le=r(12251),Pe=r(66084),Oe=e=>{var t=e.options;return a().createElement(Pe.Z,{pullRight:!0,id:"roadmap-conversations__context-menu-button"},a().createElement(Pe.Z.Toggle,{noCaret:!0,bsSize:"xsmall"},a().createElement(d.Z,{name:d.c.ellipsisVertical})),a().createElement(Pe.Z.Menu,{className:"roadmap-conversations__context-menu"},t.map(((e,t)=>a().createElement(w.Z,{key:t,eventKey:t,onSelect:e.handleSelect},e.label)))))};Oe.propTypes={options:i().array.isRequired};const Se=Oe;function ke(){ke=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Te(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Re="Comment Body",Ae={SAVE:"Save Changes",CANCEL:"Cancel"},je={edit:"There was an error editing your comment. Please wait a few minutes before editing again."},Me=e=>{var t=e.comment,r=e.setIsEditing,o=(0,h.useRoadmapConversationsContext)().updateComment,i=De((0,n.useState)(t.body),2),s=i[0],l=i[1],c=De((0,n.useState)(!1),2),u=c[0],d=c[1],p=De((0,n.useState)(!0),2),f=p[0],m=p[1],v=function(){var e,n=(e=ke().mark((function e(n){var a;return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),d(!0),a={conversation:{body:s}},e.prev=3,e.next=6,_.default.conversations.update(t.id,a);case 6:o(t,{body:s}),d(!1),r(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),d(!1),x.Z.unsuccessful(je.edit);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Te(o,n,a,i,s,"next",e)}function s(e){Te(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),g=e=>{e&&e.preventDefault(),r(!1),d(!1)},y="roadmap-conversation__edit-textarea-".concat(t.id);return a().createElement("div",null,a().createElement("form",{className:"roadmap-conversation__edit-form",onSubmit:v},a().createElement("label",{className:"aria-label sr-only",htmlFor:y},Re),a().createElement(J.default,{htmlId:y,placeholder:"",value:s,onChange:e=>{var t=e.target.value,r=Boolean(t.trim().length>0);l(t),m(r)},onKeyDown:e=>{27===e.which&&g()},autoFocus:!0,users:ne,onHoneypotChange:me,honeypotId:"comment_user_ref",classes:"roadmap-conversations__textarea",placement:"bottom",onFocus:function(){document.getElementById(y).setSelectionRange(-1,-1)}}),a().createElement("div",{className:"roadmap-conversation__edit-form-buttons"},a().createElement("button",{type:"submit",className:"btn btn-default btn-xs roadmap-conversation__edit-save-button",disabled:u||!f},Ae.SAVE),a().createElement("button",{type:"cancel",className:"btn btn-default btn-xs roadmap-conversation__edit-cancel-button",disabled:u,onClick:g},Ae.CANCEL))))};Me.propTypes={comment:i().object.isRequired,setIsEditing:i().func.isRequired};const Ne=Me;var Be=r(80008),Fe=r.n(Be);var Ve=e=>{var t=e.date,r=e.format,n=void 0===r?"MMMM D [at] h:mmA":r;return a().createElement(a().Fragment,null,a().createElement("div",{className:"date-display__separator"},"\u2022"),a().createElement("div",{className:"date-display__date"},Fe()(t).format(n)))};Ve.propTypes={date:i().any.isRequired,format:i().string};const Ze=Ve;var Ue=r(34428),Ge=r(76395);r(15173);function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},He.apply(this,arguments)}var qe="Delete message",We="Delete",ze="Are you sure you want to delete this message?";class $e extends a().Component{constructor(e){super(e)}static show(e){return Ge.Z.show(this,e)}render(){return a().createElement(h.RoadmapConversationsProvider,null,a().createElement(Ue.Z,He({},this.props,{additionalClasses:"conversation-delete-modal",message:ze,title:qe,confirmButtonLabel:We,buttonContainerClassname:"conversation-delete-modal__buttons"}),a().createElement("div",{className:"roadmap-conversations__comments-container delete"},a().createElement(Rt,He({showComments:!0,comments:[this.props.comment],isInDeleteInterface:!0},this.props)))))}}$e.propTypes={comment:i().object.isRequired};const Ke=$e;function Ye(){Ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xe(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function et(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Xe(o,n,a,i,s,"next",e)}function s(e){Xe(o,n,a,i,s,"throw",e)}i(void 0)}))}}var tt="There was an error deleting the comment. Please wait a few minutes and try again.",rt={delete:"Delete",edit:"Edit"},nt=e=>{var t=e.comment;return a().createElement("p",{className:"respect-newlines conversation__comment-text"},a().createElement(Le.Z,{body:t.body}))};function at(e){return ot.apply(this,arguments)}function ot(){return(ot=et(Ye().mark((function e(t){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.default.conversations.delete(t.id));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=e=>{var t=e.comment,r=e.isEditing,o=e.setIsEditing,i=e.isInDeleteInterface,l=(0,h.useRoadmapConversationsContext)().removeComment,c=Je((0,n.useState)(!1),2),u=c[0],d=c[1],p=function(e){var t=s.ProductPlan.currentUser();return t&&t.id&&t.id===e.user_id}(t),f=e=>o?o(e):d(e),m=r||u;function v(){return g.apply(this,arguments)}function g(){return(g=et(Ye().mark((function e(){return Ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,at(t);case 3:l(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),x.Z.unsuccessful(tt);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var y=[{label:rt.edit,handleSelect:()=>f(!0)},{label:rt.delete,handleSelect:()=>{Ke.show({comment:t,confirmCallback:v})}}];return a().createElement("li",{className:"conversations__comment"},a().createElement("div",{className:"conversation__header"},a().createElement("div",{className:"conversation__username"},t.username),a().createElement(Ze,{date:t.created_at})),a().createElement("div",{className:"conversation__text-container"},function(e,t,r){return!e&&t&&!r}(m,p,i)&&a().createElement(Se,{options:y}),function(e,t){return e&&t}(m,p)?a().createElement(Ne,{comment:t,setIsEditing:f}):a().createElement(nt,{comment:t})))};nt.propTypes={comment:i().object.isRequired},it.propTypes={comment:i().any.isRequired,isInDeleteInterface:i().bool,removeComment:i().func,isEditing:i().bool,setIsEditing:i().func},it.defaultProps={isInDeleteInterface:!1};const st=it;var lt="Marked as resolved";var ct=e=>function(e,t,r){return!e&&!t&&r}(e.isEditing,e.isInDeleteInterface,e.commentIsResolved)&&a().createElement("div",{className:"conversation__resolved-text"},lt);ct.propTypes={isEditing:i().bool,isInDeleteInterface:i().bool,commentIsResolved:i().bool};const ut=ct;var dt=["comment","isInDeleteInterface"];function ht(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ft(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var mt={placeholder:"Reply or add others with @",resolvedPlaceholder:"Comment to reopen this thread...",textareaLabel:"Comment Reply",submitError:"There was an error submitting your reply. Please wait a few minutes before submitting again.",deleteError:"There was an error deleting the comment. Please wait a few minutes and try again.",markedAsResolved:"Marked as resolved",labels:{delete:"Delete",edit:"Edit"}};var vt=e=>{var t=e.comment,r=e.isInDeleteInterface,o=void 0!==r&&r,i=ft(e,dt),l=ht((0,n.useState)(!1),2),c=l[0],u=l[1],d=s.ProductPlan.currentUser()&&!o,h=(0,L.YA)(t),p=i.currentUser;return a().createElement("ol",{className:"conversation__container"},d&&a().createElement(j,{comment:t}),a().createElement(st,{isEditing:c,setIsEditing:u,comment:t,isInDeleteInterface:o}),t.replies&&t.replies.length>0&&t.replies.map((e=>a().createElement(st,{key:e.id,comment:e,isInDeleteInterface:o}))),a().createElement(ut,{isEditing:c,isInDeleteInterface:o,commentIsResolved:h}),p&&a().createElement(xe,{comment:t}))};vt.propTypes={comment:i().any.isRequired,isInDeleteInterface:i().bool,removeComment:i().func,currentUser:i().object};const gt=vt;var yt={placeholder:"Have a question about the roadmap you created? Want to leave feedback on a roadmap that\u2019s been shared with you?",textareaLabel:"No Comments, yet.",buttonLabel:"Start a conversation"},bt={placeholder:"Sign in to an account with access, or contact the account owner to request access.",textareaLabel:"You need access to view comments."};const wt=()=>a().createElement("div",{className:"roadmap-conversations__comments-empty-state"},a().createElement(d.Z,{classes:"empty-state-icon fa-5x",name:d.c.lock}),a().createElement("div",{className:"roadmap-conversations__label-empty-state"},bt.textareaLabel),a().createElement("div",{className:"roadmap-conversations__placeholder-empty-state"},bt.placeholder));const Ct=()=>{var e=(0,h.useRoadmapConversationsContext)(),t=e.focusCommentBox,r=e.blurCommentBox;return a().createElement(a().Fragment,null,a().createElement("div",{className:"roadmap-conversations__placeholder-empty-state"},yt.placeholder),a().createElement("button",{className:"roadmap-conversations__button-empty-state",onClick:t,onBlur:r},a().createElement("span",{className:"roadmap-conversations__comments button-text"},yt.buttonLabel)))};var Et=e=>{var t=e.canStartConversation;return a().createElement("div",{className:"roadmap-conversations__comments-empty-state"},a().createElement(d.Z,{classes:"empty-state-icon fa-5x",name:d.c.comments}),a().createElement("div",{className:"roadmap-conversations__label-empty-state"},yt.textareaLabel),t&&a().createElement(Ct,null))};Et.propTypes={canStartConversation:i().bool};const _t=Et;var xt=r(97414),Lt=r(69518);var Pt=["canStartConversation","comments","showComments"];function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ot.apply(this,arguments)}function St(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Dt=250,It=e=>{var t=e.canStartConversation,r=e.comments,o=e.showComments,i=Tt(e,Pt),s=r.length>0,l=St((0,n.useState)(o),2),c=l[0],u=l[1],d=St((0,n.useState)(s),2),h=d[0],p=d[1];(0,n.useEffect)((()=>{p(0===r.length)}),[r]),(0,n.useEffect)((()=>{u(!o)}),[o]);var f=r.map((e=>e&&a().createElement(xt.Z,{key:e.id,timeout:Dt,classNames:"conversations__comment-item"},a().createElement("li",{className:"conversations__comment ".concat(e.state)},a().createElement(gt,Ot({comment:e},i))))));return o?r&&r.length>0?a().createElement(xt.Z,{in:!h,timeout:Dt},a().createElement(Lt.Z,{component:"ul",className:"conversations__comment-list"},f)):a().createElement(xt.Z,{in:h,timeout:Dt},a().createElement(_t,Ot({canStartConversation:t,showComments:o},i))):a().createElement(xt.Z,{in:c,timeout:Dt},a().createElement(wt,null))};It.propTypes={showComments:i().bool,comments:i().array.isRequired,canStartConversation:i().bool};const Rt=It;function At(){At=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function jt(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mt.apply(this,arguments)}var Nt={placeholder:"Start a new conversation\u2026",textareaLabel:"Comment Body",buttonLabel:"Submit",submitError:"There was an error submitting your comment. Please wait a few minutes before submitting again.",fetchError:"There was an error retrieving the comments. Please wait a few minutes and refresh the page."};var Bt=e=>{var t=Mt({},e),r=t.loggedIn,o=(0,h.useRoadmapConversationsContext)(),i=o.addComment,s=o.comments,l=o.setComments,c=o.conversationState,u=o.isLoadingList,d=o.setIsLoadingList,p=o.focused,f=o.focusCommentBox,m=o.blurCommentBox,y=o.body,b=o.setBody,w=o.ready,C=o.setReadyState,_=o.sending,P=o.setSending,O=(0,L.f1)(),S=O.ownerType,k=O.ownerId,T=!window.publicUrlCode,D=window.currentRoadmapable,I=null===D||void 0===D?void 0:D.barFieldSettings().commentsVisible,R=(0,n.useMemo)((()=>(T||I)&&void 0!==D),[T,I,D]),A=(0,n.useMemo)((()=>r&&function(e){return e&&[E.Z.OPEN.toLowerCase(),E.Z.ALL.toLowerCase()].includes(e.toLowerCase())}(c)),[c,r]);(0,g.bd)(function(){var e,t=(e=At().mark((function e(t){var r,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R){e.next=2;break}return e.abrupt("return");case 2:return d(!0),e.prev=3,e.next=6,te(c);case 6:if(n=e.sent,!t.reason){e.next=9;break}return e.abrupt("return");case 9:null!==n&&void 0!==n&&null!==(r=n.data)&&void 0!==r&&r.conversations&&l(n.data.conversations),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),x.Z.unsuccessful(Nt.fetchError);case 15:return e.prev=15,d(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){jt(o,n,a,i,s,"next",e)}function s(e){jt(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[c]);var j=(!r||!R||R)&&!u,M=t.loggedIn&&R&&A,N=v()({"roadmap-conversations__container":!0,"roadmap-conversations__container--focused":p,"roadmap-conversations__container--ready":w});return a().createElement(a().Fragment,null,a().createElement("div",{className:"roadmap-conversations__title-container"},a().createElement(Y,Mt({showComments:R},t))),M&&a().createElement(we,{LANGUAGE:Nt,containerClassnames:N,onFocus:f,onBlur:m,body:y,setBody:b,ready:w,setReadyState:C,sending:_,setSending:P,ownerId:k,ownerType:S,addComment:i,conversationState:c}),a().createElement("div",{className:"roadmap-conversations__comments-container"},j&&a().createElement(Rt,Mt({canStartConversation:A,showComments:R,comments:s},t))))};Bt.propTypes={loggedIn:i().bool,focused:i().bool,setFocused:i().func};const Ft=Bt;var Vt=["isExpanded"];function Zt(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ht(e){var t=e.children,r="roadmap_conversations_panel__portal",n=Ut(a().useState((()=>document.createElement("div"))),1)[0];return a().useEffect((()=>(n.classList.add(r),document.body.appendChild(n),()=>{document.body.removeChild(n)})),[r,n]),f().createPortal(t,n)}function qt(e){var t=e.isExpanded,r=Zt(e,Vt),n=v()({roadmap_conversations_panel:!0,collapsed:!t});return a().createElement(Ht,null,a().createElement("div",{className:n,id:"roadmap_conversations_panel"},a().createElement("div",{className:"roadmap_conversations_comments"},a().createElement(Ft,r))))}qt.propTypes={isExpanded:i().bool};var Wt=r(83424);function zt(e){if(0==e.count)return null;var t,r=v()({"notification-alert":!0,"roadmap-conversations_notification_bell_count--max_plus":e.count>9,"roadmap-conversations_notification_bell_count--max_minus":e.count<=9}),n=v()({"notification-alert-wide":e.count>9,"notification-alert":e.count<=9});return a().createElement("div",{className:r},a().createElement(Wt.Z,{id:n}),a().createElement("span",null,(t=e.count)>9?"9+":t))}zt.propTypes={count:i().number.isRequired};var $t=r(65835);function Kt(){return Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kt.apply(this,arguments)}function Yt(){Yt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Jt(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Qt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Jt(o,n,a,i,s,"next",e)}function s(e){Jt(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Xt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tr(e){var t=Xt((0,n.useState)(0),2),r=t[0],o=t[1],i=e.showComments;function s(e){return p.apply(this,arguments)}function p(){return(p=Qt(Yt().mark((function e(t){return Yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(t),v();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=Qt(Yt().mark((function e(t){return Yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(t),v();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return y.apply(this,arguments)}function y(){return(y=Qt(Yt().mark((function e(){return Yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_)try{se()}catch(t){}else o(r+1);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return w.apply(this,arguments)}function w(){return(w=Qt(Yt().mark((function e(){return Yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(),!k){e.next=10;break}return e.prev=2,e.next=5,se();case 5:o(0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}(0,n.useEffect)((()=>{var e=window,t=e.currentRoadmapable,r=e.ProductPlan;if(t&&r.pusher&&i){var n=r.currentUser(),a="roadmapable-"+oe();n&&!t.isPublic()&&(a+="-user-".concat(n.id));var o=r.pusher.subscribe(a);return o.bind("new-conversation",s),o.bind("new-conversation-reply",f),o.bind("update-conversation",P),o.bind("delete-conversation",O),o.bind("resolve-all-conversations",S),()=>{o.unbind("new-conversation"),o.unbind("new-conversation-reply"),o.unbind("update-conversation"),o.unbind("delete-conversation"),o.unbind("resolve-all-conversations")}}})),(0,g.bd)(function(){var e=Qt(Yt().mark((function e(t){return Yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,$t.g)(250).then(Qt(Yt().mark((function e(){var r,n,a;return Yt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:if(n=e.sent,!t.reason){e.next=6;break}return e.abrupt("return");case 6:(a=null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.notifications.length)>0&&(T(!0),o(a)),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);var C=(0,h.useRoadmapConversationsContext)();if(void 0===C)return null;var E,_=C.isExpanded,x=C.toggleRoadmapConversationsPanel,L=C.handleNewComments,P=C.handleUpdateComment,O=C.handleDeleteComment,S=C.handleResolveAllComments,k=C.showNotif,T=C.setShowNotif;function D(){return a().createElement("span",{className:"notification-area"},a().createElement(d.Z,{classes:"notification-bell","aria-hidden":"true",name:d.c.bell}),k&&!_&&a().createElement(zt,{count:r}))}return a().createElement(a().Fragment,null,a().createElement(u.Z,{rootClose:!0,overlay:(E=e.tooltip,a().createElement(l.Z,{id:"tooltip"},E)),placement:"bottom"},e.isDisabled?a().createElement("li",{role:"presentation"},a().createElement("a",{href:"javascript:void(0)",role:"button","aria-label":"conversations",disabled:!0},D())):a().createElement(c.Z,{active:_,id:"notifications-bell",onClick:b},D())),!e.isDisabled&&a().createElement(qt,Kt({isExpanded:_},e)))}tr.defaultProps={isDisabled:!1,showComments:!0},tr.propTypes={isExpanded:i().bool,isDisabled:i().bool,tooltip:i().string.isRequired,showComments:i().bool};var rr=r(10577),nr=r.n(rr);function ar(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class or extends a().Component{constructor(){super(...arguments),ar(this,"handleFullscreenToggle",(()=>{nr().enabled&&nr().toggle(document.documentElement)}))}render(){return nr()&&nr().enabled&&this.props.visible?a().createElement(u.Z,{rootClose:!0,overlay:a().createElement(l.Z,{id:"tooltip"},"Fullscreen"),placement:"bottom"},a().createElement(c.Z,{className:"fullscreen-button navbar-link",id:"go-fullscreen",onClick:this.handleFullscreenToggle},a().createElement(d.Z,{name:d.c.arrowsAlt,title:"Start Presenter View"}))):null}}ar(or,"propTypes",{visible:i().bool}),ar(or,"defaultProps",{visible:!1});const ir=or;var sr=r(21069),lr=r(88246),cr=r(83868);function ur(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class dr extends a().Component{constructor(){super(...arguments),ur(this,"handleSearchIconVisibility",(()=>{this.props.toggleTrialCounter(),this.props.showSearchField()}))}renderSearchIcon(){return a().createElement(u.Z,{rootClose:!0,overlay:a().createElement(l.Z,{id:"tooltip"},"Search"),placement:"bottom"},a().createElement(c.Z,{id:"search-nav-item",onClick:this.handleSearchIconVisibility,"aria-label":"global search"},a().createElement("span",null,a().createElement(d.Z,{classes:"external-search-icon",name:d.c.search}))))}renderSearchForm(){var e=s.ProductPlan.roadmapManager?s.ProductPlan.roadmapManager.roadmap:{};return a().createElement(lr.Z.Form,{pullLeft:!0},a().createElement(sr.Z,{currentRoadmap:e,isGlobalSearch:!0,localResultClickCallback:cr.Z.clickLocalBarResult,resultClickCallback:s.ProductPlan.openLink,searchCallback:_.default.searchActions.globalSearch,searchPlaceholder:"Search roadmaps",onClickAway:()=>{this.props.hideSearchField()}}))}render(){return this.props.showIcon?this.renderSearchIcon():this.renderSearchForm()}}ur(dr,"propTypes",{showIcon:i().bool,toggleTrialCounter:i().func,showSearchField:i().func,hideSearchField:i().func}),ur(dr,"defaultProps",{showIcon:!0});const hr=dr;var pr=r(37971),fr=r(11865),mr=r.n(fr);var vr=r(14371);function gr(e){var t=e.row,r=e=>{switch(e){case"0":return null;case"1":return a().createElement("div",{className:"circle-check"},a().createElement(d.Z,{name:d.c.checkCircleSolid}));default:return a().createElement("div",{className:"text-feat"},e)}};return a().createElement("div",{className:"expanded-row row-grid"},a().createElement("div",{className:"expanded-row--title name"},t.label," ",(()=>{if(t.info)return a().createElement(u.Z,{placement:"top",rootClose:!0,overlay:a().createElement(l.Z,{id:"popover-info-breakdown"},a().createElement("div",{className:"feature-info"},t.info))},a().createElement("span",{className:"info-feature-icon"},a().createElement(d.Z,{name:d.c.infoCircle})))})()),a().createElement("div",{className:"expanded-row--details-1 column"},r(t.value[0])),a().createElement("div",{className:"expanded-row--details-2 column"},r(t.value[1])),a().createElement("div",{className:"expanded-row--details-3 column"},r(t.value[2])))}function yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wr(e){var t=yr((0,n.useState)(!1),2),r=t[0],o=t[1],i=e.group,s=v()({"expand-container--body":!0,hide:!r}),l=v()({"expand-container--header":!0,"row-grid":!0,expanded:r});return a().createElement("div",{className:"expand-container"},a().createElement("div",{className:l,onClick:()=>{o(!r)}},a().createElement("div",{className:"name"},a().createElement("div",{className:"header-title"},i.name),a().createElement("div",{className:"header-arrow"},r?a().createElement(d.Z,{name:d.c.chevronDown}):a().createElement(d.Z,{name:d.c.chevronRight}))),a().createElement("div",{className:"column"},"\xa0"),a().createElement("div",{className:"column"},"\xa0"),a().createElement("div",{className:"column"},"\xa0")),a().createElement("div",{className:s},i.items.map(((e,t)=>a().createElement(gr,{row:e,key:"row_".concat(i.name,"_").concat(t)})))),a().createElement("div",{className:"row-grid spacer-row"},a().createElement("div",{className:"name"},"\xa0"),a().createElement("div",{className:"column"},"\xa0"),a().createElement("div",{className:"column"},"\xa0"),a().createElement("div",{className:"column"},"\xa0")))}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Er(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _r(e){var t=e.isSubscribeView,o=e.onViewChange,i=Cr((0,n.useState)(!1),2),s=i[0],l=i[1],c=r(53732),u=()=>{o("consultation")},d=v()({"expanded-wrapper":!0,"is-expanded":t}),h=()=>a().createElement("div",{className:"column"},t?a().createElement("button",{id:"subscribe-modal-expand-consultation-enterprise",className:"a-button a-button--outline",type:"button",onClick:u},"Contact Us"):"");return a().createElement("div",{className:"expanded-features"},a().createElement("button",{className:"a-button a-button--link",onClick:()=>{l(!s)}},s?"Hide Detailed Pricing Breakdown":"Show Detailed Pricing Breakdown"),s&&a().createElement("div",{className:d},a().createElement("div",{className:"header-row row-grid"},a().createElement("div",{className:"name"},"\xa0"),a().createElement("div",{className:"column"},"Basic"),a().createElement("div",{className:"column"},"Professional"),a().createElement("div",{className:"column"},"Enterprise")),c.map((e=>a().createElement(wr,{group:e,key:"expanded_group_".concat(e.name)}))),a().createElement("div",{className:"footer-row row-grid"},a().createElement("div",{className:"name"},"\xa0"),a().createElement("div",{className:"column"},t?a().createElement("button",{id:"subscribe-modal-expand-checkout",className:"a-button",type:"button",onClick:()=>o("checkout")},"Checkout"):""),h(),h())))}gr.propTypes={row:i().object.isRequired,index:i().number},wr.propTypes={group:i().object.isRequired},_r.propTypes={isSubscribeView:i().bool,onViewChange:i().func},_r.defaultProps={isSubscribeView:!1};var xr=e=>e.map(((e,t)=>a().createElement("li",{className:"pricing-plan-item",key:"card_".concat(e,"_").concat(t)},a().createElement("div",{className:"circle-check"},a().createElement(d.Z,{name:d.c.checkCircleSolid})),e)));function Lr(e){var t=r(8781),n=(t,r)=>{return a().createElement(vr.uW,{type:t.id,key:"plan_".concat(t.id),highlight:t.popular,simple:!t.popular,title:t.name},t.popular&&a().createElement("div",{className:"plan-popular"},"Most Popular"),(n=t).price?a().createElement("div",{className:"plan-price"},a().createElement("span",null,"$".concat(n.price))):a().createElement("div",{className:"plan-price"},a().createElement("span",null,"Contact Us")),a().createElement("div",{className:"plan-price-units"},t.details),a().createElement("button",{id:"subscribe-modal-".concat(mr()(t.name)),className:"a-button a-button--block ".concat(0!==r&&"a-button--outline"),type:"button",onClick:()=>e.onViewChange(t.action)},"subscribe"===t.action?"Subscribe":"Request Consultation"),a().createElement("ul",{className:"no-style"},xr(t.features)));var n};return a().createElement(a().Fragment,null,a().createElement("header",{className:"subscribe-modal-header"},a().createElement("h1",null,"Choose Plan")),a().createElement("div",{className:"scroll-wrapper"},a().createElement("div",{className:"subscribe-modal-content"},a().createElement("div",{className:"cards"},t.map(((e,t)=>n(e,t))))),a().createElement("div",{className:"subscribe-modal-footer"},a().createElement(_r,null))))}Lr.propTypes={onViewChange:i().func.isRequired};var Pr=r(8804),Or=r.n(Pr);const Sr=_r;var kr=r(43096);function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Dr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ir(e){var t=Tr((0,n.useState)("annual"),2),o=t[0],i=t[1],s=Tr((0,n.useState)(e.editors),2),l=s[0],c=s[1],u=r(8781);var d,h=a().createElement("span",{className:"plan-wrapper"},"Paid Annually",a().createElement("span",{className:"savings-detail"},"(save $".concat(10*l,"/mo)"))),p=a().createElement("span",{className:"plan-wrapper"},"Paid Monthly"),f=Or()(u);return a().createElement(a().Fragment,null,a().createElement(kr.Z,{onBack:e.handleBack,title:"Subscribe"}),a().createElement("div",{className:"scroll-wrapper"},a().createElement("div",{className:"subscribe-modal-content"},a().createElement("div",{className:"subscribe-wrapper"},(d=v()({"price-tag":!0}),a().createElement("div",{className:"left-col"},a().createElement("h3",null,"Basic"),a().createElement("div",{className:d},"$".concat(l*("monthly"===o?49:39),".00")),a().createElement("div",{className:"price-details"},"Per month for ".concat(l," ").concat("".concat("editor"+(l>1?"s":"")))),a().createElement("div",{className:"plan-features"},a().createElement("ul",{className:"no-style"},xr(f.features))))),a().createElement("div",{className:"right-col"},a().createElement(vr.Y2,{initialValue:l,label:"Number of Editors",onChange:function(t){c(parseInt(t)),e.handleEditorChange(t)}}),a().createElement(vr.Kv,{labels:[h,p],defaultValue:o,values:["annual","monthly"],fieldName:"plan_code",handleChange:function(t){i(t),e.handlePlanChange(t)}}),a().createElement("button",{id:"modal-checkout",className:"a-button",type:"button",onClick:()=>e.onViewChange("checkout")},"Checkout")))),a().createElement("div",{className:"subscribe-modal-footer"},a().createElement(Sr,{isSubscribeView:!0,onViewChange:e.onViewChange}))))}Ir.propTypes={editors:i().number,handleBack:i().func.isRequired,onViewChange:i().func.isRequired,handleEditorChange:i().func,handlePlanChange:i().func},Ir.defaultProps={editors:1};var Rr=r(89580),Ar=a().lazy((()=>Promise.all([r.e(271),r.e(468)]).then(r.bind(r,69468))));function jr(e){return a().createElement(n.Suspense,{fallback:a().createElement("div",null,"Loading...")},a().createElement(Ar,e))}var Mr=r(10188);function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Br(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fr(e){var t=Nr((0,n.useState)(!1),2),r=t[0],o=t[1],i=e.user,s=e.onChange,c=e.canChange,u=(0,n.useRef)(null);(0,n.useEffect)((()=>{if(c)return o(!1)}),[r,c]);var d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c)return o(!1);"E"!==i.ult&&o(e)};return a().createElement("div",{className:"user",role:"user",onMouseOut:()=>{d()}},a().createElement("span",{className:"toggle-control",onMouseEnter:()=>{d(!0)},onMouseOut:()=>{d()}},a().createElement("input",{type:"checkbox",checked:"E"===i.ult,onChange:()=>{s(i)},ref:u,onMouseEnter:()=>{d(!0)},onMouseOut:()=>{d()},disabled:"V"===i.ult&&!c})),a().createElement("div",{className:"user-details"},a().createElement("p",{className:"name"},i.name," ",i.admin&&a().createElement("span",null," (Admin)")),a().createElement("span",{className:"email"},i.email)),a().createElement(Mr.Z,{target:u.current,show:r,placement:"top"},a().createElement(l.Z,{id:"user-disabled-toggle"},"Un-assign another user to select this one")))}Fr.propTypes={user:i().object.isRequired,onChange:i().func.isRequired,canChange:i().bool.isRequired};r(52081);var Vr=r(65943);function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ur(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ur(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gr(e){var t=Zr((0,n.useState)(e.users),2),r=t[0],o=t[1],i=Zr((0,n.useState)(""),2),s=i[0],l=i[1],c=Zr((0,n.useState)(r.filter((e=>"E"===e.ult))),2),u=c[0],d=c[1],h=Zr((0,n.useState)(r.filter((e=>"V"===e.ult))),2),p=h[0],f=h[1],m=(0,n.useCallback)((()=>{var e=""!==s?r.filter((e=>-1!==e.name.toLowerCase().indexOf(s.toLowerCase())||-1!==e.email.toLowerCase().indexOf(s.toLowerCase()))):r;d(e.filter((e=>"E"===e.ult)).sort(Vr.RZ.alphaSort)),f(e.filter((e=>"V"===e.ult)).sort(Vr.RZ.alphaSort))}),[r,s]);(0,n.useEffect)((()=>{m()}),[s,m]),(0,n.useEffect)((()=>{o(e.users)}),[e.users]);var v=t=>{if(!("V"===t.ult&&r.filter((e=>"E"===e.ult)).length>=e.availableLicenses)){var n=r.findIndex((e=>e.id===t.id));r[n].ult="E"===t.ult?"V":"E",o(r),m()}},g=t=>a().createElement(Fr,{key:t.id,user:t,onChange:v,canChange:u.length<e.availableLicenses}),y=(e,t,r)=>a().createElement("div",{className:"user-list ".concat(e)},a().createElement("div",{className:"list-title"},t),a().createElement("div",{className:"list-content-wrapper"},a().createElement("div",{className:"list-content"},r.map(g)))),b=e=>{l(e.target.value)};return a().createElement(a().Fragment,null,a().createElement("div",{className:"manage-users-list"},a().createElement("div",{className:"search-container"},a().createElement("input",{type:"text",className:"search-field","aria-label":"search-field",value:s,onChange:b})),a().createElement("div",{className:"list-container"},y("editors",a().createElement(a().Fragment,null,"Editors "," ",a().createElement("span",null,"".concat(r.filter((e=>"E"===e.ult)).length,"/").concat(e.availableLicenses))),u),y("viewers","Viewers",p))),a().createElement("div",{className:"subscribe-modal-footer manage"},a().createElement("span",null,"".concat(r.filter((e=>"E"===e.ult)).length,"/").concat(e.availableLicenses," editors assigned")),a().createElement("button",{id:"skip-license-assignment",className:"a-button a-button--outline",type:"button",onClick:e.onClose},"I'll do this later"),a().createElement("button",{id:"update-user-licenses",className:"a-button",type:"button",onClick:()=>e.onSubmit(r)},"Assign Users")))}Gr.propTypes={users:i().array.isRequired,availableLicenses:i().number.isRequired,onClose:i().func.isRequired,onSubmit:i().func.isRequired};function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qr(){qr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Wr(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class $r extends a().Component{constructor(){var e;super(...arguments),e=this,zr(this,"state",{availableLicenses:this.props.availableLicenses}),zr(this,"handleSubmit",function(){var t,r=(t=qr().mark((function t(r){var n,a,o,i;return qr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.onChangeView,a=e.props.users,o=[],i=[],a.length||n("checkout-success"),window.showAJAXLoaderModal(),a.forEach((e=>{var t=r.find((t=>e.id===t.id));t.ult!==e.ult&&("V"===t.ult?o.push(t):i.push(t))})),t.prev=6,t.next=9,Promise.all(o.map((e=>_.default.toggleUserLicense(e.id))));case 9:return t.next=11,Promise.all(i.map((e=>_.default.toggleUserLicense(e.id))));case 11:n("checkout-success"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),s.ProductPlan.requireRefresh(t.t0);case 17:return t.prev=17,window.hideAJAXLoaderModal(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[6,14,17,20]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Wr(o,n,a,i,s,"next",e)}function s(e){Wr(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}())}render(){var e=this.state.availableLicenses,t=this.props.users;return a().createElement("div",{className:"manage-view-wrapper"},a().createElement(kr.Z,{title:"Assign Users"}),a().createElement("div",{className:"manage-view-container"},a().createElement("h3",null,"Select who you'd like to assign your ".concat(e," ").concat(1===e?"editor license":"editors licenses"," to")),a().createElement("ul",null,a().createElement("li",null,"If you leave licenses un-assigned you can always assign them later under ",a().createElement("strong",null,"account settings/users")),a().createElement("li",null,"You don't need an editor license to be an admin")),a().createElement(Gr,{users:t.map((e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(r),!0).forEach((function(t){zr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))),availableLicenses:e,onClose:()=>{this.props.onChangeView("checkout-success")},onSubmit:this.handleSubmit})))}}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kr.apply(this,arguments)}function Yr(){Yr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Jr(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Qr(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Jr(o,n,a,i,s,"next",e)}function s(e){Jr(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Xr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}zr($r,"propTypes",{availableLicenses:i().number.isRequired,onChangeView:i().func.isRequired,users:i().array.isRequired});class en extends a().Component{constructor(){var e;super(...arguments),e=this,Xr(this,"state",{view:"intro",plan:"monthly",editors:this.props.editors>0?this.props.editors:1,users:[]}),Xr(this,"hasUsersToAssign",(()=>{var e=this.state.users.filter((e=>"V"===e.ult)).length;switch(!0){case s.ProductPlan.currentUser().editors_count>this.state.editors:case this.state.editors>=s.ProductPlan.currentUser().editors_count&&e>0:return!0;default:return!1}})),Xr(this,"handleClose",(()=>{this.subscribeModal.close()})),Xr(this,"fetchUsers",Qr(Yr().mark((function t(){var r,n;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.default.loadAccountUsers();case 2:return r=t.sent,n=r.data,t.next=6,e.setStateAsync({users:n});case 6:e.hasUsersToAssign()?e.handleChangeView("manage-licenses"):e.handleChangeView("checkout-success");case 7:case"end":return t.stop()}}),t)})))),Xr(this,"handleChangeView",(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.planCode&&e.setState({planCode:r.planCode}),r.editors&&e.setState({planCode:r.editors}),e.setState({view:t})})),Xr(this,"goBack",(()=>{this.setState({view:"checkout"===this.state.view?"subscribe":"intro"})})),Xr(this,"handleSubmit",(e=>{e.preventDefault();var t=e.target,r="\n      name: ".concat(t.name.value,"\n      email: ").concat(t.email.value,"\n      phone: ").concat(t.phone.value,"\n      title: ").concat(t.title.value,"\n      consultation: ").concat(t.consultation.value,"\n    ");_.default.syncConsultations(window.current_user.email,r)})),Xr(this,"firstName",(()=>window.current_user.name.split(" ")[0])),Xr(this,"renderSuccessView",(()=>{var e="Thanks ".concat(this.firstName(),"! We\u2019re excited you\u2019re on board"),t="You're all set! \ud83c\udf89",r="outline",n=function(){var e=Qr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Vr.fP)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!this.hasUsersToAssign()&&this.state.editors>s.ProductPlan.currentUser().editors_count?(n=()=>s.ProductPlan.openLink({url:"/manage_subscription/users"}),r="solid",t=a().createElement("span",null,t,a().createElement("br",null),"Now Invite your collaborators!"),e+=". All that's left for you is to invite the rest of your team."):this.hasUsersToAssign()&&(e=a().createElement(a().Fragment,null,e,". If you need to make changes, you can invite more users, or manage permissions under ",a().createElement("a",{href:"/manage_subscription/overview"},"Account Settings"),".")),a().createElement(Rr.Z,{buttonClass:r,title:"Checkout",subtitle:t,message:e,onClose:n})})),Xr(this,"renderManageLicenses",(()=>a().createElement($r,{availableLicenses:this.state.editors,users:this.state.users,onChangeView:this.handleChangeView}))),Xr(this,"onPlanChange",(e=>{this.setState({plan:e})})),Xr(this,"onEditorChange",(e=>{this.setState({editors:e})})),Xr(this,"renderView",(()=>{switch(this.state.view){case"subscribe":return a().createElement(Ir,{editors:this.state.editors,handleBack:this.goBack,onViewChange:this.handleChangeView,handlePlanChange:this.onPlanChange,handleEditorChange:this.onEditorChange});case"checkout":return a().createElement(jr,{handleBack:this.goBack,plan:this.state.plan,editors:this.state.editors,onChangeView:this.handleChangeView,loadUsers:this.fetchUsers});case"consultation":return a().createElement(pr.Z,{handleBack:this.goBack,onViewChange:this.handleChangeView,user:window.current_user,onSubmit:this.handleSubmit});case"manage-licenses":return this.renderManageLicenses();case"consultation-success":return a().createElement(Rr.Z,{title:"Consultation",subtitle:"We\u2019ll be reaching out! \ud83c\udf89",message:"Expect an email or call from a ProductPlan team member to discuss your company\u2019s needs",onClose:this.handleClose});case"checkout-success":return this.renderSuccessView();default:return a().createElement(Lr,{onViewChange:this.handleChangeView})}}))}static show(e){return Qr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tn();case 2:Ge.Z.show(en,e);case 3:case"end":return t.stop()}}),t)})))()}setStateAsync(e){var t=this;return Qr(Yr().mark((function r(){return Yr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((r=>t.setState(e,r))));case 1:case"end":return r.stop()}}),r)})))()}render(){return a().createElement(Ge.Z,Kr({additionalClasses:"subscribe-modal",ref:e=>{this.subscribeModal=e},onClose:this.handleClose},this.props),this.renderView())}}Xr(en,"propTypes",{editors:i().number}),Xr(en,"defaultProps",{editors:1}),Xr(en,"recurlyLoaded",!1);var tn=function(){var e=Qr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!en.recurlyLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,new Promise((e=>{var t=document.createElement("script"),r=()=>{en.recurlyLoaded=!0,e()};t.onload=r,t.onreadystatechange=r,t.src="https://js.recurly.com/v4/recurly.js",document.head.appendChild(t)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const rn=en;function nn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var an="Subscribe",on="left",sn="days",ln="day";class cn extends a().Component{constructor(){super(...arguments),nn(this,"handleSubscribeClick",(()=>{var e=this.props.editors;rn.show({editors:e})}))}render(){var e=1===this.props.trialDaysLeft?ln:sn,t=a().createElement("span",null,"".concat(e," ").concat(on));return a().createElement("li",{className:"trial-counter"},a().createElement("span",{className:"time-left"},a().createElement("strong",{className:"count"},this.props.trialDaysLeft)," ",t),a().createElement("button",{className:"btn btn-sm subscribe-btn",type:"button",onClick:this.handleSubscribeClick},an))}}nn(cn,"propTypes",{editors:i().number,trialDaysLeft:i().number}),nn(cn,"defaultProps",{editors:1});const un=cn;class dn extends a().Component{render(){return a().createElement(u.Z,{rootClose:!0,overlay:a().createElement(l.Z,{id:"tooltip"},"Support"),placement:"bottom"},a().createElement(c.Z,{id:"intercom-link",className:"intercom-link navbar-link"},a().createElement(d.Z,{name:d.c.questionCircle,title:"Intercom"})))}}const hn=dn;var pn=r(27681),fn=r(87563);var mn=r(44230);function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vn.apply(this,arguments)}function gn(){gn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function yn(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function bn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class wn extends a().Component{constructor(){super(...arguments),bn(this,"handleClose",(()=>{this.extendTrialModal.close()})),bn(this,"handleSubscribe",(()=>{this.handleClose(),wn.showSubscribeModal()}))}static show(e){return Ge.Z.show(this,e)}static createErrorFlash(){window.hideAJAXLoaderModal();var e=$('<div class="pp-alert alert fade in alert-danger" role="alert"></div>'),t=$('<strong><a href="https://go.productplan.com/trial-extension-request?utm_source=app&utm_medium=pendo&utm_campaign=trial-ended-modal">Contact Support</a> to extend your trial</strong>'),r=$('<p>We\u2019re sorry, something went wrong when trying to extend your trial. Please contact our <a href="https://go.productplan.com/trial-extension-request?utm_source=app&utm_medium=pendo&utm_campaign=trial-ended-modal">customer support</a> team for help.</p>');e.append(t),e.append(r);var n=$(".bootstrap_flash");0===n.length?(n=$('<div class="bootstrap_flash"></div>'),$("#page-content .container-fluid").prepend(n)):(n.html(""),n.show()),n.append(e),(0,mn.F)()}static handleExtendTrial(){return(e=gn().mark((function e(){return gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.showAJAXLoaderModal(),e.prev=1,e.next=4,_.default.extendTrial(s.ProductPlan.currentUser().account_id);case 4:if(e.sent.error){e.next=11;break}return localStorage.setItem("extend_trial_shown",null),e.next=9,(0,Vr.fP)();case 9:e.next=12;break;case 11:wn.createErrorFlash();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),wn.createErrorFlash(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){yn(o,n,a,i,s,"next",e)}function s(e){yn(o,n,a,i,s,"throw",e)}i(void 0)}))})();var e}static showSubscribeModal(){var e=s.ProductPlan.currentUser();rn.show({editors:e.editors_count})}renderModalContentBody(){var e=s.ProductPlan.currentUser(),t=e.was_extended?"Your extended trial has expired":"Your trial has expired",r=e.was_extended?", but you can still view everything. Subscribe to ProductPlan to edit and create new roadmaps.":", but you can still view everything. To edit your roadmaps either extend your trial for 14 days or subscribe to ProductPlan.";return a().createElement("div",{className:"modal-content-body"},a().createElement("p",null,a().createElement("strong",null,t)," ",r))}renderModalActions(){return s.ProductPlan.currentUser().was_extended?a().createElement("div",{className:"modal-content-actions"},a().createElement("button",{id:"extend_modal_no_thanks",className:"a-button a-button--secondary",onClick:this.handleClose},"No Thanks"),a().createElement("button",{id:"extend_modal_subscribe",className:"a-button a-button--solid",onClick:this.handleSubscribe},"Subscribe")):a().createElement("div",{className:"modal-content-actions"},a().createElement("button",{id:"extend_modal_extend",className:"a-button a-button--secondary",onClick:wn.handleExtendTrial},"Extend Trial"),a().createElement("button",{id:"extend_modal_subscribe",className:"a-button a-button--solid",onClick:this.handleSubscribe},"Subscribe"))}render(){return a().createElement(Ge.Z,vn({additionalClasses:"extend-trial-modal",onClose:this.handleClose,ref:e=>{this.extendTrialModal=e}},this.props),a().createElement("div",{className:"extend-trial-modal-content"},a().createElement("div",{className:"modal-content-header"},a().createElement("h1",null,"\ud83d\udc4b\ud83c\udffb Welcome back!")),this.renderModalContentBody(),this.renderModalActions()))}}var Cn=r(99411);var En=document.createElement("div");En.setAttribute("class","micro-modal-holder");var _n,xn,Ln,Pn="extend-trial-popover";class On extends a().Component{constructor(e){super(e)}static close(){document.getElementById(Pn).removeChild(En)}static show(e,t){return document.getElementById(Pn).appendChild(En),Cn.Z.renderComponent(e,t,En)}handleClose(){On.close()}render(){var e=this.props,t=e.title,r=e.children;return a().createElement("div",{className:"micro-modal"},a().createElement("div",{className:"micro-modal-close"},a().createElement("button",{className:"close pull-right",type:"button",onClick:this.handleClose},a().createElement(d.Z,{name:d.c.times}))),a().createElement("div",{className:"micro-modal-header"},a().createElement("h3",null,t)),a().createElement("div",{className:"micro-modal-body"},r))}}_n=On,xn="propTypes",Ln={title:i().string,children:i().any},xn in _n?Object.defineProperty(_n,xn,{value:Ln,enumerable:!0,configurable:!0,writable:!0}):_n[xn]=Ln;class Sn extends On{constructor(){super(...arguments),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"handleSubscribe",(()=>{On.close(),wn.showSubscribeModal()}))}static show(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};On.show(this,e)}renderExtended(){return a().createElement(a().Fragment,null,a().createElement("button",{id:"extend_micro_modal_subscribe",className:"a-button a-button--solid a-button--full-width",onClick:this.handleSubscribe},"Subscribe"),a().createElement("p",null,"Subscribe to ProductPlan to edit and create new roadmaps"))}renderExtend(){return a().createElement(a().Fragment,null,a().createElement("button",{id:"extend_micro_modal_subscribe",className:"a-button a-button--solid a-button--full-width",onClick:this.handleSubscribe},"Subscribe"),a().createElement("button",{id:"extend_micro_modal_extend",className:"a-button a-button--secondary a-button--full-width",onClick:wn.handleExtendTrial},"Extend Trial"),a().createElement("p",null,"Extending your trial gives you access for 14 days"))}render(){return a().createElement(On,{title:"Your free trial has ended"},s.ProductPlan.currentUser().was_extended?this.renderExtended():this.renderExtend())}}var kn=r(39185),Tn=r(58909),Dn=r(30381),In=r.n(Dn),Rn=r(34844),An=r(7440);function jn(){jn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Mn(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Nn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Mn(o,n,a,i,s,"next",e)}function s(e){Mn(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||Fn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(e,t){if(e){if("string"===typeof e)return Vn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vn(e,t):void 0}}function Vn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zn={request:null};function Un(e){var t,r,n,o,i=e.userId,s=e.roadmapId,l=e.hide,c=function(e,t){var r=a().useMemo((()=>Hn(e,t)),[e,t]),n=a().useCallback((()=>qn(e,t)),[e,t]);return a().useEffect((()=>{n()}),[n]),r}(i,s),u=(t=Bn(a().useState(),2),r=t[0],n=t[1],o=function(){var e=Bn(a().useState(!!window.layoutRendered),2),t=e[0],r=e[1],n=a().useCallback((()=>r(!0)),[]);return(0,An.useEventsChannel)("LAYOUT_RENDERED",n),t}(),a().useEffect((()=>{Zn.request&&(n([...Zn.request]),Zn.request=null)}),[]),a().useEffect((()=>{var e,t;if(r){var n,a;if((null===(e=(t=window).getLayout)||void 0===e?void 0:e.call(t))===Rn.Z.PARKING_LOT)return Zn.request=r,n=window.currentRoadmapable.defaultLayout,void window.setLayout(n);o&&(a=r).length>0&&(Tn.default.publish(Tn.eventNames.HIGHLIGHT_REQUESTED,a),window.dataLayer.push({event:"history_highlighted",highlightedBarCount:a.length}))}}),[o,r]),{requestHighlight:e=>n(e),requestsDisabled:!!r||Zn.request||!o}),d=u.requestHighlight,h=u.requestsDisabled,p=function(e){var t=e.roadmapId,r=e.lastVisit,n=e.shouldFetch,o=Bn(a().useState([]),2),i=o[0],s=o[1];return(0,g.bd)(function(){var e=Nn(jn().mark((function e(a){var o;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&r){e.next=2;break}return e.abrupt("return");case 2:return Zn.fetchCount++,e.next=5,Wn({roadmapId:t,sinceDate:r,cancelToken:a});case 5:o=e.sent,a.throwIfRequested(),s(o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n]),i}({roadmapId:s,lastVisit:c,shouldFetch:!h}),f=a().useMemo((()=>function(e){var t,r=new Map,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Fn(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(10===r.size)break;var o=r.has(a.mutable_id),i=a.changes.some((e=>e.attribute&&Gn.includes(e.attribute)));!o&&i&&r.set(a.mutable_id,a)}}catch(s){n.e(s)}finally{n.f()}return[...r.values()]}(p)),[p]);return{isHidden:l||h||!c||!f.length,requestHighlight:a().useCallback((()=>d(f)),[f])}}var Gn=["Start date","End date","Legend","Lane","Tag","Tags"];var Hn=(e,t)=>{var r="last-check-for-recent-changes-".concat(e,"-").concat(t),n=localStorage.getItem(r);n&&(n=In()().utc().subtract(95,"days").isSameOrBefore(n)?n:null);return n},qn=(e,t)=>{var r="last-check-for-recent-changes-".concat(e,"-").concat(t);localStorage.setItem(r,In()().utc().format())},Wn=function(){var e=Nn(jn().mark((function e(t){var r,n,a;return jn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roadmapId,n=t.sinceDate,a=t.cancelToken,e.next=3,kn.Z.fetchAllRecentBarChanges({roadmapId:r,sinceDate:n,cancelToken:a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function zn(e){var t=Un({userId:e.userId,roadmapId:e.roadmapId,hide:e.hide}),r=t.isHidden,n=t.requestHighlight;return r?null:a().createElement(u.Z,{rootClose:!0,placement:"bottom",overlay:a().createElement(l.Z,{id:"see-recent-changes-button-tooltip"},"Highlight the latest important changes happening on the roadmap")},a().createElement("div",{className:"highlight-recent-changes"},a().createElement("button",{onClick:n},"See recent changes")))}zn.propTypes={userId:i().number,roadmapId:i().number,hide:i().bool};var $n="Launches";const Kn=()=>{var e,t,r,n=()=>!!window.launchManagement;if(!(null===(r=window.current_user)||void 0===r?void 0:r.has_product_launch_access)||(e=window.currentRoadmapable,t=s.ProductPlan.isRoadmapIndexPageNotAdmin(),!(e||t||n())))return null;var o;return a().createElement(u.Z,{rootClose:!0,overlay:(o=$n,a().createElement(l.Z,{id:"tooltip"},o)),placement:"bottom"},a().createElement(c.Z,{active:n(),id:"launch-icon",href:"/launch"},a().createElement(d.Z,{classes:"notification-bell","aria-hidden":"true",name:d.c.rocket})))};function Yn(){Yn=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Jn(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Qn(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Jn(o,n,a,i,s,"next",e)}function s(e){Jn(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Xn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ea={enabled:"Comments",disabled:{versions:"Comments are not available for versions. Return to roadmap."}};class ta extends a().Component{constructor(){var e;super(...arguments),e=this,Xn(this,"state",{visibleCounter:!0,showSearchField:!1}),Xn(this,"handleSignOut",Qn(Yn().mark((function e(){return Yn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.default.userRequests.signOut();case 3:return e.prev=3,window.location="/users/sign_in",e.finish(3);case 6:case"end":return e.stop()}}),e,null,[[0,,3,6]])})))),Xn(this,"toggleTrialCounter",(e=>{var t=e||window.innerWidth<1300;this.setState({visibleCounter:!t||!this.state.visibleCounter})})),Xn(this,"showNotificationBell",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.renderRoadmapConversationsNotificationBell(t)}))}componentDidMount(){if(s.ProductPlan.isFeatureEnabled("extend_trial")){var e,t=this.props.currentUser,r=t&&t.is_account_owner,n="shown"!==localStorage.getItem("extend_trial_shown"),a=-1!==window.location.href.indexOf(null===(e=window.currentRoadmapable)||void 0===e?void 0:e.urlCode);r&&"Trial Ended"===t.status&&(n?(localStorage.setItem("extend_trial_shown","shown"),wn.show({teamTrialsFlag:s.ProductPlan.isFeatureEnabled("team_trials")})):a&&Sn.show({wasExtended:t.was_extended}))}}brandName(){return this.props.companyName?this.props.companyName:this.props.currentUser&&this.props.currentUser.company_name?this.props.currentUser.company_name:"ProductPlan"}emailPreferences(){return this.props.currentUser&&this.props.currentUser.email_notification_setting?this.props.currentUser.email_notification_setting:null}renderUserNav(){var e=a().createElement("span",null,a().createElement(d.Z,{name:d.c.user}));return a().createElement(u.Z,{rootClose:!0,overlay:a().createElement(l.Z,{id:"tooltip"},a().createElement("div",{className:"settings-tooltip-title"},"Settings")),placement:"bottom"},a().createElement(pn.Z,{noCaret:!0,"data-email":this.props.currentUser.email,id:"user_menu",title:e},a().createElement(w.Z,{href:"/user_settings/profile"},"Your Settings"),a().createElement(w.Z,{href:"/manage_subscription/overview"},"Account Settings"),a().createElement(w.Z,{href:"/integrations"},"Integrations"),a().createElement(w.Z,{onClick:this.handleSignOut},"Sign Out")))}renderLoggedOut(){return a().createElement("ul",{className:"navbar-flex-box nav navbar-nav navbar-right flex-shrink-0"},a().createElement("li",null,a().createElement("a",{title:"Sign In",href:"/users/sign_in"},"Sign In")),this.showNotificationBell(!1),a().createElement(ir,{visible:this.props.showFullscreenLink}))}renderTrialCounter(){var e=this.props.currentUser,t=e.is_trial||"Trial Ended"===e.status;return e&&t&&e.is_account_owner?a().createElement(un,{editors:e.editors_count,trialDaysLeft:e.trial_days_left}):null}renderLoggedIn(){return a().createElement(ra,{element:"ul",classes:"nav navbar-nav navbar-right flex-shrink-0"},this.props.showRecentChanges&&a().createElement(zn,{userId:this.props.currentUser.id,roadmapId:this.props.roadmapId,hide:this.state.showSearchField}),this.state.visibleCounter&&this.renderTrialCounter(),a().createElement(hr,{toggleTrialCounter:this.toggleTrialCounter,showIcon:!this.state.showSearchField,showSearchField:()=>{this.setState({showSearchField:!0})},hideSearchField:()=>{this.setState({showSearchField:!1}),this.toggleTrialCounter()}}),!this.state.showSearchField&&a().createElement(a().Fragment,null,this.renderRoadmapLaunchIcon(),this.showNotificationBell(),a().createElement(hn,null),this.renderUserNav(),a().createElement(ir,{visible:this.props.showFullscreenLink})))}renderRoadmapLaunchIcon(){return a().createElement(Kn,null)}renderRoadmapConversationsNotificationBell(e){var t=window.currentRoadmapable,r=!t||(null===t||void 0===t?void 0:t.isSnapshot),n=r?ea.disabled.versions:ea.enabled,o=!t||!t.isPublic()||(null===t||void 0===t?void 0:t.barFieldSettings().commentsVisible);return a().createElement(tr,{currentUser:this.props.currentUser,emailPreferences:this.emailPreferences(),loggedIn:e,isDisabled:r,tooltip:n,showComments:o})}renderNavItems(){return this.props.currentUser?this.renderLoggedIn():this.renderLoggedOut()}render(){var e;return"nav"===s.ProductPlan.getQueryParam("hide")?null:("undefined"!==typeof this.props.currentUser&&null!==this.props.currentUser&&(e=this.props.currentUser.status),a().createElement("div",{"data-name":"top-nav",className:"navbar flex-nav"},a().createElement("a",{href:"/roadmaps",className:"product-plan-branding navbar-brand"},a().createElement(fn.Oo,{classNames:"product-plan-icon",fill:"#fff"}),a().createElement("span",{className:"company-branding company-branding-sm"},this.brandName())),this.props.children,"Onboarding"!==e&&this.renderNavItems()))}}function ra(e){var t=e.children,r=e.classes,n=void 0===r?"":r,o=e.element,i=void 0===o?"div":o;return a().createElement(i,{className:"navbar-flex-box ".concat(n)},t)}Xn(ta,"propTypes",{currentUser:i().object,companyName:i().string,showFullscreenLink:i().bool,children:i().any,showRecentChanges:i().bool,roadmapId:i().number}),Xn(ta,"defaultProps",{showFullscreenLink:!1}),ra.propTypes={children:i().any,classes:i().string,element:i().string};const na=ta},98575:(e,t,r)=>{"use strict";r.d(t,{Z:()=>N});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(78318),l=r(53775),c=r(65943);function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function d(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){d(o,n,a,i,s,"next",e)}function s(e){d(o,n,a,i,s,"throw",e)}i(void 0)}))}}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={pusher:i().object.isRequired,version:i().string.isRequired};class m extends a().Component{constructor(e){super(e),p(this,"handleReloadBrowser",h(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.fP)();case 2:case"end":return e.stop()}}),e)})))),p(this,"handleVersionCheck",(e=>{this.setState({visible:this.props.version!==e.version})})),this.state={visible:!1}}componentDidMount(){var e,t,r;this.channel=null===(e=(t=this.props.pusher).subscribe)||void 0===e?void 0:e.call(t,"application-notifications"),null===(r=this.channel)||void 0===r||r.bind("version-notification",this.handleVersionCheck)}componentWillUnmount(){this.channel&&(this.channel.unbind(),this.props.pusher.unsubscribe(this.channel))}render(){return this.state.visible?a().createElement(l.d,{position:l.L.top},a().createElement("div",{className:"reload-banner"},a().createElement("span",{className:"tada"}),a().createElement("span",{className:"reload-text"}," ProductPlan has been updated! Please refresh your browser to get the "),a().createElement("span",{className:"release-note-url"},a().createElement("a",{href:"https://www.productplan.com/release-notes/",target:"_blank",rel:"noopener noreferrer"}," latest and greatest.")),a().createElement(s.Z,{bsStyle:"success",onClick:this.handleReloadBrowser},"Refresh"))):null}}m.propTypes=f,m.defaultProps={};const v=m;var g=r(91966),y=r.n(g),b=r(55652),w=r(34844);function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class E extends a().Component{constructor(e){var t,r,n,a;super(e),C(this,"handleRoadmapUpdated",(e=>{this.setState({visible:!(void 0!==e.bar_updated_count&&0===e.bar_updated_count),roadmapUpdatedEvent:e})})),C(this,"handleVersionCheck",(e=>{this.setState({versionMismatch:this.props.version!==e.version})})),C(this,"handleRefreshData",(()=>{var e=this.state.roadmapUpdatedEvent,t=e.full_refresh;this.setState({visible:!1,roadmapUpdatedEvent:{}}),t?window.location.reload():(Object.assign(window.roadmap,(null===e||void 0===e?void 0:e.roadmap)||{}),b.ProductPlan.roadmapManager.updateRoadmap(window.roadmap),window.remountLayout())})),this.roadmapChannel=null===(t=(r=this.props.pusher).subscribe)||void 0===t?void 0:t.call(r,this.props.roadmap.pusherChannel),this.applicationNotificationsChannel=null===(n=(a=this.props.pusher).subscribe)||void 0===n?void 0:n.call(a,"application-notifications"),this.state={visible:!1,versionMismatch:!1}}componentDidMount(){var e,t,r,n,a,o,i,s,l,c,u=window.current_user;null!==u&&void 0!==u&&u.id&&(null===(e=this.roadmapChannel)||void 0===e||null===(t=e.bind)||void 0===t||t.call(e,"roadmap-updated",this.handleRoadmapUpdated,this),null===(r=this.roadmapChannel)||void 0===r||null===(n=r.bind)||void 0===n||n.call(r,"roadmap-sync-completed",this.handleRoadmapUpdated,this),null===(a=this.roadmapChannel)||void 0===a||null===(o=a.bind)||void 0===o||o.call(a,"roadmap-config-updated",this.handleRoadmapUpdated,this),null===(i=this.roadmapChannel)||void 0===i||null===(s=i.bind)||void 0===s||s.call(i,"roadmap-conversation-added",this.handleRoadmapUpdated,this),null===(l=this.applicationNotificationsChannel)||void 0===l||null===(c=l.bind)||void 0===c||c.call(l,"version-notification",this.handleVersionCheck,this))}componentWillUnmount(){var e;(this.roadmapChannel&&(this.roadmapChannel.unbind(),this.props.pusher.unsubscribe(this.roadmapChannel)),this.applicationNotificationsChannel)&&(this.applicationNotificationsChannel.unbind(),null===(e=this.props.pusher)||void 0===e||e.unsubscribe(this.applicationNotificationsChannel))}render(){if(!this.state.visible||this.sameUser()||this.state.versionMismatch||!this.eventAppliesToCurrentTab())return null;return a().createElement(l.d,{position:l.L.top},a().createElement("div",{className:"reload-banner"},a().createElement("span",null,this.renderBannerMessage()),a().createElement(s.Z,{bsStyle:"success",onClick:this.handleRefreshData},"Get the Latest")))}renderBannerMessage(){var e=this.state.roadmapUpdatedEvent,t=e.message,r=e.bar_updated_count,n=!!e.updater;if(!!r)return this.renderSyncTextWithEmoji(r);if(this.eventIsGeneralRoadmapUpdate())return this.renderSyncText(t);if(n){var a="".concat(this.state.roadmapUpdatedEvent.updater.name," just made an edit to the roadmap."),o=t||a;return this.renderSyncText(o)}}renderSyncText(e){return a().createElement("span",null,e)}renderSyncTextWithEmoji(e){var t=e>1?"bars":"bar",r="".concat(e," ").concat(t," have been synced. Please refresh your browser to view the updates.");return a().createElement("span",null,a().createElement("span",{className:"tada"}),r)}sameUser(){var e,t,r,n=b.ProductPlan.currentUser();return n&&n.id===(null===(e=this.state)||void 0===e||null===(t=e.roadmapUpdatedEvent)||void 0===t||null===(r=t.updater)||void 0===r?void 0:r.id)}eventIsGeneralRoadmapUpdate(){var e=this.state.roadmapUpdatedEvent;return void 0!==e&&!!e.message}eventAppliesToCurrentTab(){var e=this.state.roadmapUpdatedEvent;if(void 0===e)return!1;var t=e.bar,r=e.bar_updated_count,n=window.getLayout();return!(!this.timelineOrList(n)||!r)||(!(!this.isRoadmapLayout(n)||!this.eventIsGeneralRoadmapUpdate())||(n===w.Z.PARKING_LOT&&t.parked&&!this.eventOnlyAppliesToScoring()||this.timelineOrList(n)&&!t.parked&&!this.eventOnlyAppliesToScoring()))}eventOnlyAppliesToScoring(){var e=this.state.roadmapUpdatedEvent.bar;if(!e||!e.changed_fields)return!1;var t=Object.keys(e.changed_fields).filter((e=>"updated_at"!==e));return 0===y()(t,["benefit_scores","cost_scores"]).length}timelineOrList(e){return e===w.Z.ROADMAP||e===w.Z.TIMELINE||e===w.Z.LIST}isRoadmapLayout(e){return this.timelineOrList(e)||e===w.Z.PARKING_LOT}}C(E,"propTypes",{pusher:i().object.isRequired,roadmap:i().object.isRequired,version:i().string.isRequired});const _=E;var x=r(57200),L=r(39012),P=r(49381);function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class S extends a().Component{constructor(e){var t,r;super(e),O(this,"handleRoadmapUpdated",(e=>{"unauthenticated"===e.integration_status&&this.setState({visible:!0,integration:e.integration})})),O(this,"handleOnClick",(()=>{window.location.assign("".concat(window.location.origin,"/integrations/").concat(P.r[this.state.integration].key,"/new"))})),this.roadmapChannel=null===(t=(r=this.props.pusher).subscribe)||void 0===t?void 0:t.call(r,this.props.roadmap.pusherChannel),this.state={visible:!1}}componentDidMount(){var e,t;null===(e=this.roadmapChannel)||void 0===e||null===(t=e.bind)||void 0===t||t.call(e,"integration-push-unauthenticated",this.handleRoadmapUpdated,this)}render(){return this.state.visible?a().createElement(l.d,{position:l.L.top},a().createElement("div",{className:"reauthorize-banner"},a().createElement("span",null,a().createElement(L.Z,{name:L.c.warning}),"Your integration has expired. Please reauthorize ".concat(P.r[this.state.integration].name," to continue")),a().createElement(s.Z,{bsStyle:"success",onClick:this.handleOnClick},"Reauthorize"))):null}}O(S,"propTypes",{pusher:i().object.isRequired,roadmap:i().object.isRequired});const k=S;var T=r(14615),D=r(7440),I=r(55888),R=r(71460);function A(){var e;return function(e){var t=()=>{e&&(0,I.Wx)(e)};(0,D.useEventsChannel)("UPDATED_BAR",t),(0,D.useEventsChannel)("UPDATED_BARS",t),(0,D.useEventsChannel)("SILENTLY_UPDATED_BAR",t),(0,D.useEventsChannel)("UNDO_BAR_EVENT",t),(0,D.useEventsChannel)("BULK_UPDATE_BARS",t),(0,D.useEventsChannel)("DELETED_BAR",t),(0,D.useEventsChannel)("DELETED_BARS",t),(0,D.useEventsChannel)("CREATED_BAR",t),(0,D.useEventsChannel)("CREATED_BAR_TAGS",t)}(window.currentRoadmapable?window.currentRoadmapable.roadmapableId():null),e=()=>{(0,R.qd)()},(0,D.useEventsChannel)("UPDATED_BAR",e),(0,D.useEventsChannel)("UPDATED_BARS",e),(0,D.useEventsChannel)("SILENTLY_UPDATED_BAR",e),(0,D.useEventsChannel)("UNDO_BAR_EVENT",e),(0,D.useEventsChannel)("BULK_UPDATE_BARS",e),(0,D.useEventsChannel)("DELETED_BAR",e),(0,D.useEventsChannel)("DELETED_BARS",e),(0,D.useEventsChannel)("CREATED_BAR",e),(0,D.useEventsChannel)("CREATED_LANE",e),(0,D.useEventsChannel)("DELETED_LANE",e),(0,D.useEventsChannel)("UPDATED_LANE",e),(0,D.useEventsChannel)("UPDATED_LANES",e),(0,D.useEventsChannel)("CREATED_LEGEND",e),(0,D.useEventsChannel)("UPDATED_LEGEND",e),(0,D.useEventsChannel)("DELETED_LEGEND",e),(0,D.useEventsChannel)("UPDATED_LEGEND_POSITION",e),null}var j=e=>{var t=e.ProductPlan,r=e.roadmap,n=e.attributes;return a().createElement(a().Fragment,null,a().createElement("div",{id:"toast-message-mount"}),r&&a().createElement("div",{id:"js-multi-select-banner"}),a().createElement(v,{pusher:t.pusher,version:t.ppVersion()}),r&&a().createElement(_,{pusher:t.pusher,roadmap:t.roadmapManager.roadmap,version:t.ppVersion()}),r&&a().createElement(k,{pusher:t.pusher,roadmap:t.roadmapManager.roadmap}),a().createElement(M,{ProductPlan:t,attributes:n}),a().createElement(A,null))};j.propTypes={ProductPlan:i().object,roadmap:i().object,attributes:i().object};var M=e=>{var t=e.ProductPlan,r=e.attributes;return function(e){var t=e.controller,r=e.action;return"roadmapsController"===t&&"draw_view"===r||("masterPlansController"===t&&"show"===r||("publicRoadmapsController"===t&&"show"===r||"publicMasterPlansController"===t&&"show"===r))}(r)||(0,T.j)()?null:a().createElement(x.ZP,{companyName:r.companyName,currentUser:t.currentUser(),showFullscreenLink:!1},a().createElement(x.m0,{classes:"flex-grow-1"}))};M.propTypes={ProductPlan:i().object,attributes:i().object};const N=j},21372:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={parked:"PARKED",planned:"PLANNED"}},94828:(e,t,r)=>{"use strict";r.d(t,{Z:()=>cr});var n=r(41609),a=r.n(n),o=r(66678),i=r.n(o),s=r(28583),l=r.n(s),c=r(67294),u=r.n(c),d=r(73935),h=r.n(d),p=r(45697),f=r.n(p),m=r(34428),v=r(88090),g=r(78318),y=r(82723),b=r.n(y),w=r(78718),C=r.n(w),E=r(56264),_=r.n(E),x=r(88306),L=r.n(x),P=r(24167),O=r(74855),S=r(3759);var k=r(39012),T=r(7736),D=r(74527),I=r(48414),R=r(65835);function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function j(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){j(o,n,a,i,s,"next",e)}function s(e){j(o,n,a,i,s,"throw",e)}i(void 0)}))}}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class B extends u().Component{constructor(){var e;super(...arguments),e=this,N(this,"state",{copied:{},showNewLinkViewSelector:!1}),N(this,"handleCreateNewLink",(()=>(this.props.actions.options.isMasterPlan&&this.handleCreatePrivateLink({target:{value:this.props.roadmapableViews[0].id}}),this.handleShowNewLinkViewSelector()))),N(this,"handleShowNewLinkViewSelector",(()=>{this.setState({showNewLinkViewSelector:!0})})),N(this,"handleCreatePrivateLink",function(){var t=M(A().mark((function t(r){var n,a;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Select a View"!==r.target.value){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,D.default.shareActions.createPrivateLink(r.target.value);case 5:n=t.sent,a=n.data,e.setState({showNewLinkViewSelector:!1}),e.props.updateState({permissions:_().camelizeKeys(a)}),window.currentRoadmapable&&(0,I.logFilters)({message:"Share - Private link created",viewId:r.target.value,currentView:e.props.currentView.data,hasPersonalFilters:S.Z.hasFilters()}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),window.location.assign("/roadmaps");case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()),N(this,"handleCopy",L()((t=>M(A().mark((function r(){return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return window.currentRoadmapable&&(0,I.logFilters)({message:"Share - Copy Private link",viewId:t,currentView:e.props.currentView.data,hasPersonalFilters:S.Z.hasFilters()}),e.setState({copied:{[t]:!0}}),r.next=4,(0,R.g)(1e3);case 4:e.setState({copied:{[t]:!1}});case 5:case"end":return r.stop()}}),r)})))))),N(this,"handleDelete",L()((e=>()=>{this.props.confirmModal({show:!0,title:"Delete Private Link",message:"The link will become permanently invalid.  Are you sure you want to delete the private link?",confirmButtonVariation:"danger",cancelCallback:this.handleCancel,confirmCallback:this.handleConfirm(e)})}))),N(this,"handleCancel",(()=>{this.props.confirmModal({show:!1})})),N(this,"handleConfirm",(t=>M(A().mark((function r(){var n,a;return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,D.default.shareActions.revokePrivateLink(t);case 3:n=r.sent,a=n.data,e.props.confirmModal({show:!1}),e.props.updateState({permissions:_().camelizeKeys(a)}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),window.location.assign("/roadmaps");case 12:case"end":return r.stop()}}),r,null,[[0,9]])}))))),N(this,"renderPrivateLink",(e=>{var t="flexrow".concat(this.props.actions.options.isMasterPlan?" -no-view":"");return u().createElement("div",{className:t,key:e.id},u().createElement("div",{className:"select-view-wrapper disabled"},u().createElement(T.Z.Input,{className:"select-view",clearable:!1,disabled:!0,deleteRemoves:!1,escapeClearsValue:!1,id:"select-view",labelKey:"name",multi:!1,name:"select-view",options:[e],placeholder:"Select a View",searchable:!1,valueKey:"id",onChange:()=>{},value:e.id,valueRenderer:this.renderOption})),u().createElement(P.Z,{readOnly:!0,className:"url",type:"text",value:e.publicUrl}),this.renderCopyButton(e),u().createElement(k.Z,{classes:"delete",name:k.c.times,onClick:this.handleDelete(e.id)}))}))}get viewsWithPublicUrl(){return this.props.roadmapableViews.filter((e=>e.publicUrl))}get viewsWithoutPublicUrl(){return this.props.roadmapableViews.filter((e=>!e.publicUrl))}hasPrivateLink(){return this.viewsWithPublicUrl.length>0}setStateAsync(e){var t=this;return M(A().mark((function r(){return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,new Promise((r=>t.setState(e,r)));case 2:case"end":return r.stop()}}),r)})))()}render(){return this.props.permissions.publicUrlsEnabled?u().createElement("div",{className:"share-private-link"},u().createElement("div",{className:"heading"},u().createElement("span",{className:"title"},"Private Links"),this.renderCreateLink()),this.renderPrivateLinks(),this.renderNewLinkViewSelector()):null}renderCreateLink(){return this.showCreateLink()?u().createElement("span",{className:"create create-private-link",onClick:this.handleCreateNewLink},"Create a new link"):null}showCreateLink(){var e=0===this.viewsWithoutPublicUrl.length;return(!this.hasPrivateLink()||!e)&&!this.state.showNewLinkViewSelector}renderPrivateLinks(){return this.hasPrivateLink()||this.state.showNewLinkViewSelector?this.viewsWithPublicUrl.map(this.renderPrivateLink):u().createElement("div",{className:"description"},"Create a private link that allows anyone with the link to view the roadmap.")}renderCopyButton(e){return this.state.copied[e.id]?u().createElement(g.Z,{disabled:!0,bsStyle:"success",className:"copy"},"Copied!"):u().createElement(O.CopyToClipboard,{text:e.publicUrl,onCopy:this.handleCopy(e.id)},u().createElement(g.Z,{className:"copy"},"Copy Link"))}renderOption(e){var t="list"===e.viewStyle?k.c.columns:k.c.stream;return u().createElement(u().Fragment,null,u().createElement(k.Z,{name:t})," ",e.name)}renderNewLinkViewSelector(){return this.state.showNewLinkViewSelector?u().createElement("div",{className:"flexrow"},u().createElement("div",{className:"select-view-wrapper"},u().createElement(T.Z.Input,{className:"select-view",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,id:"select-view",labelKey:"name",multi:!1,name:"select-view",options:this.viewsWithoutPublicUrl,placeholder:"Select a View",searchable:!1,valueKey:"id",onChange:this.handleCreatePrivateLink,optionRenderer:this.renderOption}))):null}}N(B,"propTypes",{actions:f().object,permissions:f().object.isRequired,roadmapableViews:f().array.isRequired,confirmModal:f().func,updateState:f().func,currentView:f().object});const F=B;var V=r(63105),Z=r.n(V),U=r(25325),G=r.n(U),H=r(93386),q=r.n(H),W=r(66073),z=r.n(W),K=r(13023),Y=r.n(K),J=r(85008),Q=r(21707),X=r(66923),ee=["disabled","options"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},te.apply(this,arguments)}function re(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ae extends u().Component{static renderOption(e){return u().createElement("div",{className:"rights-select"},e.active&&u().createElement(k.Z,{name:"check"}),e.type)}static renderValue(e){return u().createElement("div",{className:"rights-select"},u().createElement(k.Z,{name:k.c[e.icon]}))}render(){var e=this.props,t=e.disabled,r=e.options,n=re(e,ee),a=ae.renderOption,o=ae.renderValue;return u().createElement(T.Z.Input,te({className:"rights-field",clearable:!1,deleteRemoves:!1,disabled:t,escapeClearsValue:!1,name:"rights",optionRenderer:a,options:r,searchable:!1,tetherClassName:"rights-field-select-outer-tethered",tethered:!0,valueKey:"id",valueRenderer:o},n))}}ne(ae,"propTypes",{disabled:f().bool,options:f().array,value:f().oneOfType([f().number,f().string])}),ne(ae,"defaultProps",{disabled:!1,options:[]});class oe extends u().Component{render(){return null}}ne(oe,"propTypes",{options:f().array,value:f().oneOfType([f().number,f().string])});const ie=(0,X.Z)(ae,oe);var se=r(23279),le=r.n(se),ce=r(35161),ue=r.n(ce),de=r(10928),he=r.n(de),pe=r(94184),fe=r.n(pe),me=r(83424),ve=r(55652);function ge(){ge=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ye(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class we extends u().Component{static generateShareInviteOptions(e){if(a()(e))return[];var t={User:"email",Team:"name",undefined:"email"};return e.map((e=>({id:e.id,name:e.name,email:e[t[e.type]],type:e.type,count:e.member_count})))}constructor(e){super(e),be(this,"renderOption",(e=>{var t="Select-create-option-placeholder"===e.className,r=fe()({"no-multi-line":t}),n={User:k.c.user,Team:k.c.users,undefined:k.c.envelope}[e.type],a={User:e.email,Team:"".concat(e.count," ").concat(1===e.count?"person":"people"),undefined:e.email}[e.type];return u().createElement("div",{className:"share-list-option ".concat(r)},u().createElement("div",{className:"name-row"},u().createElement("span",{className:"member-icon"},u().createElement(k.Z,{name:n})),u().createElement("span",{className:"member-name"},e.name)),u().createElement("div",{className:"email-row"},u().createElement("span",{className:"member-email"},a)))})),be(this,"promptTextCreator",(e=>'Share with "'.concat(e,'"'))),be(this,"handleShareInviteChange",(e=>{var t=a()(e)?[]:this.getBulkorSingleEmailAddition(e);this.setState({activeShares:t}),t.map((e=>e.email)).includes(this.state.unsavedInputValue)&&this.setState({unsavedInputValue:""}),this.props.onChange({target:{id:"share_list",value:t}})})),be(this,"getBulkorSingleEmailAddition",(e=>{var t;if(null===he()(e).email.match(/@/g))return e;t=he()(e).email.trim().split(/\s*[,|;|\s]\s*/);var r=ue()(t,(e=>({email:e,name:e})));return e.pop(),q()(e,r)})),be(this,"debouncedLoadShareOptions",le()(((e,t)=>{this.loadShareOptions(e,t)}),300,{leading:!1,trailing:!0})),be(this,"handleInputChange",(e=>(e&&this.setState({unsavedInputValue:e}),e))),this.state={activeShares:we.generateShareInviteOptions(this.props.value)},this.handleShareInviteChange=this.handleShareInviteChange.bind(this),this.loadShareOptions=this.loadShareOptions.bind(this)}componentDidMount(){this.setSearchIcon()}componentDidUpdate(e){var t=this.props.value;e.value!==t&&this.setState({activeShares:we.generateShareInviteOptions(t)})}setSearchIcon(){var e=$("<span class='Select-icon-zone'>").html('<i class="fas fa-search" />');$(".autocomplete-field .Select-control .Select-multi-value-wrapper").prepend(e)}loadShareOptions(e,t){var r,n=this;return(r=ge().mark((function r(){var a,o;return ge().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==e){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,n.props.actions.searchShareOptions(e);case 4:a=r.sent,o=we.generateShareInviteOptions(a.data.share_options),t(null,{options:o});case 7:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function i(e){ye(o,n,a,i,s,"next",e)}function s(e){ye(o,n,a,i,s,"throw",e)}i(void 0)}))})()}static valueComponent(e){var t=e.id,r=e.children,n=e.disabled,a=e.value,o=e.onRemove,i=r[0]?we.validationClasses(a):"";return u().createElement("div",{className:"share-select-value",id:t,onMouseDown:()=>{n||o(a)}},u().createElement("span",{className:i},r,u().createElement(me.Z,{id:"close-icon"})))}static validationClasses(e){var t="";if(void 0===e.type||"User"===e.type){var r=we.isValidEmail(e.email);t=fe()({"error-email":!r})}return t}static isValidEmail(e){return null!=e&&null!==e.match(ve.ProductPlan.regexEmail)}render(){var e=fe()({"unsaved-input-value":this.state.unsavedInputValue},"autocomplete-field");return u().createElement(T.Z.Input,{async:!0,multi:!0,autoload:!1,cache:!1,className:e,escapeClearsValue:!1,id:this.props.inputId,label:this.props.label,labelKey:"name",loadOptions:this.debouncedLoadShareOptions,name:"share_list",normalizeChanges:!1,optionRenderer:this.renderOption,placeholder:"Enter name or email",promptTextCreator:this.promptTextCreator,tethered:this.props.tethered,value:this.state.activeShares,valueComponent:we.valueComponent,valueKey:"email",onChange:this.handleShareInviteChange,onCloseResetsInput:!1,onBlurResetsInput:!1,onInputChange:this.handleInputChange})}}be(we,"propTypes",{actions:f().object.isRequired,inputId:f().string,label:f().oneOfType([f().string,f().bool]),value:f().array.isRequired,onChange:f().func.isRequired,tethered:f().bool}),be(we,"defaultProps",{inputId:"Share_list",label:"Share",tethered:!1});const Ce=we;var Ee=r(87371);function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pe={errors:null,formData:{personal_note:"",rights_id:1,user_email:""},disableShareBtn:!1,selectedOptions:[]};class Oe extends u().Component{constructor(e){super(e),Le(this,"rights",{1:{id:1,type:"Can View",value:"view",icon:"eye"},2:{id:2,type:"Can Edit",value:"edit",icon:"pencil"}}),Le(this,"handleFormChanged",(e=>{var t=this.state.formData;t[e.target.id]=e.target.value,this.setState({formData:t})})),Le(this,"handleSubmit",(()=>{this.setState({disableShareBtn:!0});var e=[],t=[];z()(this.state.selectedOptions,(r=>{"User"===r.type||void 0===r.type?e.push(r.email):t.push(r.id)})),this.setState({errors:null},(()=>{var r=_e(this.validateOptions(e,t),2),n=r[0],a=r[1];n.length?this.setState({errors:{user_email:n}}):(this.persistMemberShares(a),this.persistTeamShares(t),this.setState($.extend(!0,{},Pe))),this.setState({disableShareBtn:!1})}))})),Le(this,"clearEmailErrors",(()=>{this.setState({errors:null})})),Le(this,"handleShareInviteChange",(e=>{this.setState({selectedOptions:e.target.value}),e.target.value.length||this.clearEmailErrors()})),this.state=$.extend(!0,{},Pe)}persistMemberShares(e){var t=this.state.formData;e.forEach((e=>{this.props.createPermission({can_view:!0,can_edit:2===t.rights_id,user_email:e.address,personal_note:t.personal_note,permission_user_ref:t.permission_user_ref})}))}persistTeamShares(e){var t=this.state.formData;e.forEach((e=>{this.props.createTeamPermission({can_view:!0,can_edit:2===t.rights_id,permittable_type:"Team",permittable_id:e})}))}validateOptions(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];0===e.length&&0===t.length&&r.push("Please enter an email address.");var n=_e(this.validateEmails(e),2),a=n[0],o=n[1];return[r=q()(r,a),o]}validateEmails(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return[[],[]];var t=e.join(", ").trim(),r=Ee.Z.emailsHaveDomainExtension(Y().parseAddressList(t)),n=[];if(r){if(r){G()(this.sharedEmails(),r.map((e=>e.address.toLowerCase()))).length&&n.push("Unable to share with a previously shared user.")}}else n.push("One or more emails are invalid.");return[n,r]}sharedEmails(){var e=this.props.sharedUsersPermissions.map((e=>e.userEmail.toLowerCase()));return e.push(this.props.owner.email.toLowerCase()),e}showEmailValidation(){return!(!this.formData("user_email").value.length&&!this.formData("user_email").errors.length)}formData(e){var t=this.state.errors||this.props.errors;return new J.Z(this.state.formData,t,this.handleFormChanged).fieldFor(e)}render(){var e=[this.rights[1],this.rights[2]],t=this.formData("personal_note"),r=this.formData("user_email"),n=t.value.length?4:1,o=this.state.disableShareBtn||a()(this.state.selectedOptions);return u().createElement("div",{className:"add-shares"},u().createElement("form",{className:"flexrow"},u().createElement(Ce,{actions:this.props.actions,sharedMemberEmails:this.sharedEmails(),value:this.state.selectedOptions,onChange:this.handleShareInviteChange}),u().createElement(ie,{editMode:!0,field:this.formData("rights_id"),label:"",options:e,value:"Can View"}),u().createElement("div",{className:"hidden",id:"permission_user_ref_wrapper"},u().createElement(Q.Z,{editMode:!0,field:this.formData("permission_user_ref"),id:"permission_user_ref",label:"If you are a human, ignore this field",name:"permission_user_ref",type:"text"})),u().createElement(g.Z,{className:"share-btn",disabled:o,type:"button",onClick:this.handleSubmit},"Share"),this.showEmailValidation()&&u().createElement("div",{className:"invite-error"},r.errors),u().createElement("div",{className:"personal-note"},u().createElement(Q.Z,{autoComplete:"off",className:"personal-note-field",componentClass:"textarea",editMode:!0,field:t,id:"personal_note",label:"",placeholder:"Add an optional note",rows:n}))))}}Le(Oe,"propTypes",{actions:f().object.isRequired,createPermission:f().func.isRequired,createTeamPermission:f().func.isRequired,errors:f().object,owner:f().object.isRequired,sharedUsersPermissions:f().array.isRequired});const Se=Oe;var ke=r(7334),Te=r.n(ke),De=r(75472),Ie=r.n(De),Re=r(54228),Ae=r(19728);function je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Me extends u().Component{displayIcon(){if(this.props.icon)return u().createElement("div",{className:"row-icon-type"},u().createElement(k.Z,{name:this.props.icon}))}render(){var e=this.props,t=e.disableControls,r=e.handleDelete,n=this.props,a=n.permission,o=n.options,i=n.defaultValue,s=n.rightsIdField,l=o.find((e=>e.active)).type;return u().createElement("div",{className:"permissions-display-row"},u().createElement("div",{className:"flexrow"},this.displayIcon(),u().createElement("div",{className:"user"},u().createElement("p",{className:"name"},a.name),u().createElement("p",{className:"email"},a.email)),u().createElement(Re.Z,{rootClose:!0,overlay:u().createElement(Ae.Z,{id:"controltip"},l),placement:"top"},u().createElement("div",{className:"controls"},u().createElement(ie,{disabled:t,editMode:!0,field:s,label:"",options:o,value:i}))),!this.props.disableRemove&&u().createElement(k.Z,{classes:"delete",name:k.c.times,onClick:r})))}}je(Me,"propTypes",{defaultValue:f().string.isRequired,disableControls:f().bool,disableRemove:f().bool,permission:f().object,options:f().array.isRequired,rightsIdField:f().object.isRequired,handleDelete:f().func.isRequired,icon:f().object.isRequired}),je(Me,"defaultProps",{disableControls:!1,disableRemove:!1});const Ne=Me;function Be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Fe extends u().Component{constructor(){super(...arguments),Be(this,"rights",{1:{id:1,type:"Can View",icon:"eye"},2:{id:2,type:"Can Edit",icon:"pencil"}}),Be(this,"makeOwner",{id:3,type:"Make Owner",icon:"user"}),Be(this,"ownerRights",{2:{id:2,type:"Owner",icon:"user",active:!0}}),Be(this,"state",{errors:null,formData:{rights_id:this.initialRightsId()}}),Be(this,"handleFormChanged",(e=>{var t=this.state.formData;t.rights_id=e.target.value,this.setState({formData:t},this.persistData)})),Be(this,"persistData",(()=>{this.isOwner()?this.props.changeOwner(this.props.permission):this.props.changeAccess({id:this.props.permission.id,can_view:!0,can_edit:this.isEditor()})})),Be(this,"remove",(()=>{this.props.remove(this.props.permission)}))}initialRightsId(){return this.props.permission.canEdit?2:1}isOwner(){return this.state.formData.rights_id===this.makeOwner.id}isEditor(){return 2===this.state.formData.rights_id}formData(){return new J.Z(this.state.formData,this.state.errors,this.handleFormChanged)}optionsFromRights(){if(this.props.permission.isOwner)return[this.ownerRights[2]];var e=i()(this.rights);return this.props.ownerChangeable&&this.props.permission.userCanBeOwner&&l()(e,{3:this.makeOwner}),ue()(e,(e=>(e.active=!1,e.id===this.state.formData.rights_id&&(e.active=!0),e)))}render(){var e=this.formData().fieldFor("rights_id");return u().createElement(Ne,{defaultValue:this.rights[1].type,disableControls:this.props.disableControls,disableRemove:this.props.disableRemove,handleDelete:this.remove,icon:k.c.user,options:this.optionsFromRights(),permission:this.props.permission,rightsIdField:e})}}Be(Fe,"propTypes",{changeAccess:f().func.isRequired,changeOwner:f().func.isRequired,disableControls:f().bool,disableRemove:f().bool,ownerChangeable:f().bool.isRequired,permission:f().object.isRequired,remove:f().func.isRequired}),Be(Fe,"defaultProps",{disableControls:!1,disableRemove:!1});const Ve=Fe;function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ue extends u().Component{constructor(){super(...arguments),Ze(this,"rights",{1:{id:1,type:"Can View",value:"view",icon:"eye"},2:{id:2,type:"Can Edit",value:"edit",icon:"pencil"}}),Ze(this,"state",{errors:null,formData:{rights_id:this.initialRightsId()}}),Ze(this,"remove",(()=>{this.props.remove(this.props.permission)})),Ze(this,"handleFormChanged",(e=>{var t=this.state.formData;t.rights_id=e.target.value,this.setState({formData:t},this.persistData)})),Ze(this,"persistData",(()=>{var e={can_view:!0,can_edit:2==this.state.formData.rights_id};this.props.changeAccess(e,this.props.permission.id)})),Ze(this,"handleShowMembershipsView",(()=>{var e=this.props.permission;this.props.showMembershipsView(e.name,e.teamId,e.count)}))}initialRightsId(){return this.props.permission.canEdit?2:1}formData(){return new J.Z(this.state.formData,this.state.errors,this.handleFormChanged)}optionsFromRights(){var e=i()(this.rights);return ue()(e,(e=>(e.active=!1,e.id===this.state.formData.rights_id&&(e.active=!0),e)))}render(){var e=this.formData().fieldFor("rights_id"),t=this.props.permission.count,r=1===t?"person":"people",n=u().createElement("p",null,t," ",r),a=u().createElement("a",{href:"javascript:void(0)",onClick:this.handleShowMembershipsView},t," ",r),o={email:this.props.isAccountDataAccessible?a:n,name:this.props.permission.name};return u().createElement(Ne,{defaultValue:this.rights[1].type,disableControls:this.props.disableControls,disableRemove:this.props.disableRemove,handleDelete:this.remove,icon:k.c.users,options:this.optionsFromRights(),permission:o,rightsIdField:e})}}Ze(Ue,"propTypes",{changeAccess:f().func.isRequired,disableControls:f().bool,disableRemove:f().bool,permission:f().object.isRequired,remove:f().func.isRequired,showMembershipsView:f().func,isAccountDataAccessible:f().bool}),Ze(Ue,"defaultProps",{disableControls:!1,disableRemove:!1});const Ge=Ue;class He extends u().Component{renderOwnerRow(){var e={canEdit:!0,isOwner:!0,email:this.props.owner.email,name:this.props.owner.name};return u().createElement(Ve,{changeAccess:this.props.changeAccess,changeOwner:this.props.changeOwner,disableControls:!0,disableRemove:!0,ownerChangeable:this.props.ownerChangeable,permission:e,remove:this.props.remove})}renderTeamPermissionRows(){return Ie()(this.props.sharedTeamsPermissions,(e=>Te()(e.team.name))).map((e=>{var t={canEdit:e.canEdit,id:e.id,teamId:e.team.id,name:e.team.name,count:e.team.memberCount};return u().createElement(Ge,{changeAccess:this.props.changeTeamAccess,isAccountDataAccessible:this.props.isAccountDataAccessible,key:"team-permission-".concat(e.id),permission:t,remove:this.props.removeTeam,showMembershipsView:this.props.showMembershipsView})}))}renderIndividualPermissionRows(){return Ie()(this.props.sharedUsersPermissions,(e=>Te()(e.userName))).map((e=>{var t={canEdit:e.canEdit,id:e.id,userCanBeOwner:e.userCanBeOwner,email:e.userEmail,name:e.userName||"< Invite Sent >"};return u().createElement(Ve,{changeAccess:this.props.changeAccess,changeOwner:this.props.changeOwner,key:"permission-".concat(t.name,"-").concat(e.id),ownerChangeable:this.props.ownerChangeable,permission:t,remove:this.props.remove})}))}render(){return u().createElement("div",{className:"permissions-display-list"},this.renderTeamPermissionRows(),this.renderOwnerRow(),this.renderIndividualPermissionRows())}}var qe,We,ze;qe=He,We="propTypes",ze={changeAccess:f().func.isRequired,changeTeamAccess:f().func.isRequired,changeOwner:f().func.isRequired,owner:f().object.isRequired,ownerChangeable:f().bool.isRequired,remove:f().func.isRequired,removeTeam:f().func.isRequired,sharedUsersPermissions:f().array.isRequired,sharedTeamsPermissions:f().array.isRequired,showMembershipsView:f().func,isAccountDataAccessible:f().bool.isRequired},We in qe?Object.defineProperty(qe,We,{value:ze,enumerable:!0,configurable:!0,writable:!0}):qe[We]=ze;const $e=He;function Ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(r),!0).forEach((function(t){et(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Je(){Je=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Qe(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Qe(o,n,a,i,s,"next",e)}function s(e){Qe(o,n,a,i,s,"throw",e)}i(void 0)}))}}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class tt extends u().Component{constructor(){var e;super(...arguments),e=this,et(this,"rights",{1:{id:1,type:"No Access",value:null,icon:"ban"},2:{id:2,type:"Can View",value:"view",icon:"eye"},3:{id:3,type:"Can Edit",value:"edit",icon:"pencil"}}),et(this,"state",{errors:null,formData:{rights_id:this.initialRightsId()}}),et(this,"handleFormChanged",(e=>{var t=this.state.formData;t.rights_id!==e.target.value&&(t.previous_rights_id=t.rights_id,t.rights_id=e.target.value,this.setState({formData:t},this.persistData))})),et(this,"persistData",(()=>{var e=this.changeAccess;this.wasJustToggledOn()&&(e=this.grantAccess),this.wasJustToggledOff()&&(e=this.revokeAccess),e().catch((()=>{window.location.assign("/roadmaps")}))})),et(this,"grantAccess",Xe(Je().mark((function t(){var r,n,a,o;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.formData.rights_id,n={can_view:!0,can_edit:3===r},t.next=4,e.props.actions.createGroupPermission(n);case 4:a=t.sent,o=a.data,e.props.updateState({permissions:{teamPermissionId:o.id,teamPermissions:e.rights[r].value}});case 7:case"end":return t.stop()}}),t)})))),et(this,"revokeAccess",Xe(Je().mark((function t(){var r;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.formData.rights_id,t.next=3,e.props.actions.deleteGroupPermission(e.props.teamPermissionId);case 3:e.props.updateState({permissions:{teamPermissionId:null,teamPermissions:e.rights[r].value}});case 4:case"end":return t.stop()}}),t)})))),et(this,"changeAccess",Xe(Je().mark((function t(){var r,n;return Je().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.formData.rights_id,n={can_view:!0,can_edit:3===r},t.next=4,e.props.actions.updateGroupPermission(n,e.props.teamPermissionId);case 4:e.props.updateState({permissions:{teamPermissions:e.rights[r].value}});case 5:case"end":return t.stop()}}),t)})))),et(this,"handleShowMembershipsView",(()=>{this.props.showMembershipsView(this.props.companyName)})),et(this,"buildLinkOrNah",((e,t)=>{var r=u().createElement("a",{href:"javascript:void(0)",onClick:this.handleShowMembershipsView},e," ",t),n=u().createElement("p",null,e," ",t);return this.props.isAccountDataAccessible?r:n}))}initialRightsId(){var e=Object.values(this.rights).find((e=>e.value===this.props.teamPermissions));return e?e.id:this.rights[1].id}wasJustToggledOn(){var e=1===this.state.formData.previous_rights_id,t=1!==this.state.formData.rights_id;return e&&t}wasJustToggledOff(){var e=1!==this.state.formData.previous_rights_id,t=1===this.state.formData.rights_id;return e&&t}formData(){return new J.Z(this.state.formData,this.state.errors,this.handleFormChanged)}remove(){}render(){var e=this.formData().fieldFor("rights_id"),t=Object.values(this.rights).map((e=>Ye(Ye({},e),{},{active:e.id===this.state.formData.rights_id}))),r=this.props.accountMembersCount,n=1===r?"person":"people",a={email:this.buildLinkOrNah(r,n),name:"Everyone at "+this.props.companyName};return u().createElement(Ne,{defaultValue:this.rights[1].type,disableRemove:!0,handleDelete:this.remove,icon:k.c.building,options:t,permission:a,rightsIdField:e})}}et(tt,"propTypes",{actions:f().object.isRequired,accountMembersCount:f().number.isRequired,companyName:f().string.isRequired,isAccountDataAccessible:f().bool.isRequired,teamPermissionId:f().number,teamPermissions:f().string,updateState:f().func,showMembershipsView:f().func});const rt=tt;var nt=r(93314);class at extends nt.Z{constructor(){super({user_email:"user_email"})}buildPayload(e){return{user_email:e.user_email}}}const ot=at;var it=r(93128);function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},st.apply(this,arguments)}function lt(){lt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ct(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function ut(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ct(o,n,a,i,s,"next",e)}function s(e){ct(o,n,a,i,s,"throw",e)}i(void 0)}))}}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ht extends u().Component{constructor(){var e;super(...arguments),e=this,dt(this,"createPermission",function(){var t=ut(lt().mark((function t(r){var n,a;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.actions.createIndividualPermission(r);case 3:n=t.sent,e.props.updateState({permissions:{sharedUsersPermissions:[...e.props.sharedUsersPermissions,_().camelizeKeys(n.data)].sort(pt)}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a=new ot,e.props.updateState({errors:a.mapErrors(t.t0.response.data)});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),dt(this,"createTeamPermission",function(){var t=ut(lt().mark((function t(r){var n,a;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.actions.createGroupPermission(r);case 3:n=t.sent,e.props.updateState({permissions:{sharedTeamsPermissions:[...e.props.sharedTeamsPermissions,_().camelizeKeys(n.data)].sort(pt)}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),a=new ot,e.props.updateState({errors:a.mapErrors(t.t0.response.data)});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),dt(this,"handleChangeTeamAccess",function(){var t=ut(lt().mark((function t(r,n){var a;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.actions.updateGroupPermission(r,n);case 3:a=e.props.sharedTeamsPermissions.map((e=>(e.id===r.id&&(e.canEdit="Can Edit"===r.rights),e))),e.props.updateState({permissions:{sharedTeamsPermissions:a}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.navigateToRoadmaps();case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()),dt(this,"deleteTeamPermission",function(){var t=ut(lt().mark((function t(r){var n;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.actions.deleteGroupPermission(r);case 3:e.props.confirmModal({show:!1}),n=Z()(e.props.sharedTeamsPermissions,(e=>e.id!==r)),e.props.updateState({permissions:{sharedTeamsPermissions:n}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.navigateToRoadmaps();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),dt(this,"confirmDeletePermission",(e=>{this.props.confirmModal({show:!0,title:"Remove Access",message:"Are you sure you want to stop sharing ".concat(this.props.roadmapableName," with ").concat(e.email,"?"),confirmButtonVariation:"danger",confirmCallback:()=>this.deletePermission(e.id),cancelCallback:()=>{this.props.confirmModal({show:!1})}})})),dt(this,"navigateToRoadmaps",(()=>{this.windowLocationAssign("/roadmaps")})),dt(this,"deletePermission",function(){var t=ut(lt().mark((function t(r){var n;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.actions.deleteIndividualPermission(r);case 3:e.props.confirmModal({show:!1}),n=Z()(e.props.sharedUsersPermissions,(e=>e.id!==r)),e.props.updateState({permissions:{sharedUsersPermissions:n}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.navigateToRoadmaps();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()),dt(this,"handleChangeAccess",function(){var t=ut(lt().mark((function t(r){return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.actions.updateIndividualPermission(r);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e.navigateToRoadmaps();case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()),dt(this,"confirmDeleteTeamPermission",(e=>{this.props.confirmModal({show:!0,title:"Remove Access",message:"Are you sure you want to stop sharing ".concat(this.props.roadmapableName," with ").concat(e.name,"?"),confirmButtonVariation:"danger",confirmCallback:()=>this.deleteTeamPermission(e.id),cancelCallback:()=>{this.props.confirmModal({show:!1})}})})),dt(this,"confirmChangeOwner",(e=>{this.props.confirmModal({show:!0,title:"Transfer Ownership",confirmButtonVariation:"danger",message:"Are you sure you want to transfer ownership to ".concat(e.name,"?"),confirmCallback:()=>this.changeOwner(e),cancelCallback:()=>{this.props.confirmModal({show:!1})}})})),dt(this,"changeOwner",function(){var t=ut(lt().mark((function t(r){var n;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.actions.changeOwner(r.id,r.userId,e.props.roadmapableId);case 3:n=t.sent,e.props.confirmModal({show:!1}),e.props.updateState({permissions:_().camelizeKeys(n.data)}),it.Z.success("Successfully reassigned ".concat(e.props.actions.options.type_path.titleize()," to ").concat(r.name)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.navigateToRoadmaps();case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())}windowLocationAssign(e){window.location.assign(e)}render(){var e=this.props,t=e.owner,r=e.ownerChangeable,n=e.sharedUsersPermissions,a=e.sharedTeamsPermissions,o=this.createPermission,i=this.createTeamPermission,s=this.handleChangeAccess,l=this.handleChangeTeamAccess,c=this.confirmChangeOwner,d=this.confirmDeletePermission,h=this.confirmDeleteTeamPermission,p=C()(this.props,["accountMembersCount","teamPermissionId","teamPermissions","actions","updateState","companyName","isAccountDataAccessible"]);return u().createElement("div",{className:"shared-permissions-container"},u().createElement("div",{className:"scrollcontainer"},u().createElement(rt,st({showMembershipsView:this.props.showMembershipsView},p)),u().createElement($e,{changeAccess:s,changeOwner:c,changeTeamAccess:l,isAccountDataAccessible:this.props.isAccountDataAccessible,owner:t,ownerChangeable:r,remove:d,removeTeam:h,sharedTeamsPermissions:a,sharedUsersPermissions:n,showMembershipsView:this.props.showMembershipsView})),u().createElement(Se,{actions:this.props.actions,createPermission:o,createTeamPermission:i,errors:this.props.errors,owner:t,sharedUsersPermissions:n}))}}function pt(e,t){var r=e&&e.userName?e.userName.toUpperCase():"",n=t&&t.userName?t.userName.toUpperCase():"";return r<n?-1:r>n?1:0}dt(ht,"propTypes",{actions:f().object.isRequired,accountMembersCount:f().number.isRequired,errors:f().object,owner:f().object.isRequired,companyName:f().string.isRequired,isAccountDataAccessible:f().bool.isRequired,ownerChangeable:f().bool.isRequired,roadmapableId:f().number.isRequired,roadmapableName:f().string.isRequired,sharedUsersPermissions:f().array.isRequired,sharedTeamsPermissions:f().array.isRequired,teamPermissionId:f().number,teamPermissions:f().string,confirmModal:f().func,updateState:f().func,showMembershipsView:f().func});const ft=ht;var mt=r(49546),vt=r(43525),gt=r(65943),yt=(r(53431),r(71460)),bt=r(98061),wt=r(7440);function Ct(){return Ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ct.apply(this,arguments)}function Et(){Et=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function _t(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function xt(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){_t(o,n,a,i,s,"next",e)}function s(e){_t(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ot=()=>{var e,t,r,n,a,o,i,s,l,c,d=(a=null===(e=window)||void 0===e||null===(t=e.currentRoadmapable)||void 0===t?void 0:t.currentViewId,o=Lt(u().useState(!1),2),i=o[0],s=o[1],l=(0,yt.ZJ)(),c=(0,yt.Pl)({id:a},{select:e=>({id:e.id,isPrimaryView:e.isPrimaryView,roadmapableId:e.roadmapableId,roadmapableType:e.roadmapableType,showNoLegend:e.showNoLegend,showUntagged:e.showUntagged,showUntaggedMilestones:e.showUntaggedMilestones,tagViewFilters:e.tagViewFilters,laneViewFilters:e.laneViewFilters,legendViewFilters:e.legendViewFilters,customLabelViewFilters:e.customLabelViewFilters})}),u().useEffect((()=>{i?(window.showAJAXLoaderModal(),$(".modal-backdrop").last().css("z-index","2000")):window.hideAJAXLoaderModal()}),[i]),(0,bt.bd)(xt(Et().mark((function e(){return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isFetching&&i){e.next=2;break}return e.abrupt("return");case 2:return s(!1),(0,I.logFilters)({message:"Click on Apply Filters CTA",attributes:{source:"Share Dialog"},currentView:c.data,hasPersonalFilters:S.Z.hasFilters()}),e.next=6,St(l,c);case 6:case"end":return e.stop()}}),e)}))),[a,i,c,l]),()=>s(!0));if(!((window.currentRoadmapable&&null!==(r=null===(n=S.Z.loadSavedPersonalFilters())||void 0===n?void 0:n.filters)&&void 0!==r?r:[]).length>0))return null;var h=()=>{$("button.close").trigger("click"),(0,vt.Z)({viewId:window.currentRoadmapable.currentViewId,useCurrentViewsActiveFilters:!0})},p=window.currentRoadmapable.isPrimaryView(),f=null;return f=window.currentRoadmapable.isMasterPlan()?u().createElement("p",null,"To share your current, filtered view with collaborators, ",u().createElement("a",{href:"javascript:void(0)",onClick:d},"save your filters"),"."):p?u().createElement("p",null,"To share a filtered view with collaborators, ",u().createElement("a",{href:"javascript:void(0)",onClick:h},"save as a new view"),"."):u().createElement("p",null,"To share your current, filtered view with collaborators, ",u().createElement("a",{href:"javascript:void(0)",onClick:d},"save your filters")," "," or ",u().createElement("a",{href:"javascript:void(0)",onClick:h},"save as a new view"),"."),u().createElement(mt.Z,{bsStyle:"warning",className:"personal-filter-message share-view-message"},u().createElement("h4",null,"Your view has unsaved filters"),f)};var St=function(){var e=xt(Et().mark((function e(t,r){var n;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isError){e.next=3;break}return it.Z.unsuccessful(u().createElement(u().Fragment,null,"View filters could not be saved. Please try again")),e.abrupt("return");case 3:if(e.prev=3,S.Z.hasFilters()){e.next=8;break}return e.next=7,(0,gt.fP)();case 7:return e.abrupt("return");case 8:return n=S.Z.mergeWithViewFilters(_().decamelizeKeys(r.data)),e.next=11,t.mutateAsync({viewId:r.data.id,data:n});case 11:return e.next=13,(0,gt.fP)();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),it.Z.unsuccessful(u().createElement(u().Fragment,null,"View filters could not be saved. Please try again"));case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t,r){return e.apply(this,arguments)}}();class kt extends u().Component{render(){var e=C()(this.props,["actions","confirmModal","permissions","publicUrl","roadmapableViews","updateState"]),t=b()(this.props,["handleShow"]);return u().createElement("div",null,u().createElement(Ot,null),u().createElement(wt.HookProvider,{useHook:Tt},(t=>u().createElement(F,Ct({confirmModal:this.props.confirmModal,currentView:t},e)))),u().createElement("div",{className:"heading"},u().createElement("span",{className:"title"},"Who Has Access")),u().createElement(ft,Ct({confirmModal:this.props.confirmModal,showMembershipsView:this.props.showMembershipsView},t)))}}function Tt(){var e,t=null===(e=window.currentRoadmapable)||void 0===e?void 0:e.currentViewId;return(0,yt.Pl)({id:t},{select:e=>({id:e.id,isPrimaryView:e.isPrimaryView,roadmapableId:e.roadmapableId,roadmapableType:e.roadmapableType,showNoLegend:e.showNoLegend,showUntagged:e.showUntagged,showUntaggedMilestones:e.showUntaggedMilestones,tagViewFilters:e.tagViewFilters,laneViewFilters:e.laneViewFilters,legendViewFilters:e.legendViewFilters})})}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(kt,"propTypes",{actions:f().object.isRequired,accountMembersCount:f().number.isRequired,errors:f().object,owner:f().object.isRequired,companyName:f().string.isRequired,isAccountDataAccessible:f().bool.isRequired,ownerChangeable:f().bool.isRequired,roadmapableId:f().number.isRequired,roadmapableName:f().string.isRequired,sharedUsersPermissions:f().array.isRequired,sharedTeamsPermissions:f().array.isRequired,teamPermissionId:f().number,teamPermissions:f().string,confirmModal:f().func,updateState:f().func,showMembershipsView:f().func});const Dt=kt;var It=r(52628),Rt=r.n(It),At=r(98611),jt=r.n(At),Mt=r(22276),Nt=r(52423),Bt=r(70186),Ft=r(23125);function Vt(){Vt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Zt(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function Ut(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Zt(o,n,a,i,s,"next",e)}function s(e){Zt(o,n,a,i,s,"throw",e)}i(void 0)}))}}function Gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Ht extends u().Component{constructor(){var e;super(...arguments),e=this,Gt(this,"asyncRunner",new Ft.o({onError:e=>{console.error(e),it.Z.unsuccessful("There was an error retrieving team members, please try again later.")}})),Gt(this,"state",{isLoading:!0,membersList:[],returnedMembershipsCount:0,filterTerm:""}),Gt(this,"fetchMemberships",function(){var t=Ut(Vt().mark((function t(r){var n,a,o;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=0;case 2:return t.next=4,e.fetchFromOffset(a,r);case 4:if(0!==(o=t.sent).length){t.next=8;break}return e.setState({membersList:Ie()(n,(e=>e.name.toLowerCase())),isLoading:!1}),t.abrupt("return");case 8:n.push(...o),e.setState({returnedMembershipsCount:n.length}),a=o[o.length-1].id;case 11:t.next=2;break;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Gt(this,"filteredRows",(()=>""===this.state.filterTerm?this.buildData():this.buildData().filter((e=>{var t=b()(e,["id","key","actions"]);return jt()(Rt()(t)," ").toLowerCase().includes(this.state.filterTerm.toLowerCase())})))),Gt(this,"handleFilterUpdate",(e=>{this.setState({filterTerm:e.target.value})})),Gt(this,"renderPageHeading",(()=>u().createElement("div",{className:"table-actions"},u().createElement("div",null,this.renderFilter())))),Gt(this,"renderFilter",(()=>{if(this.state.membersList.length>0)return u().createElement(u().Fragment,null,"Filter users",u().createElement("input",{className:"table-filter",disabled:!1,id:"table-filter",placeholder:"",type:"text",onChange:this.handleFilterUpdate,"aria-label":"Filter users input"}))})),Gt(this,"renderTable",(()=>{if(this.state.membersList.length>0){var e=this.filteredRows();if(this.state.filterTerm.length>0&&0===e.length)return u().createElement(Mt.Z,{filterTerm:this.state.filterTerm});var t=G()(this.state.selectedIds,e.map((e=>e.id)));return u().createElement("div",{className:"account-members-table"},u().createElement("div",{className:"table-main-wrapper"},u().createElement(Nt.Z,{columnsConfig:this.buildColumns(),data:e,headerHeight:34,maxHeight:357,rowHeight:34,selectedRows:t})))}}))}componentDidMount(){this.asyncRunner.run(this.fetchMemberships)}componentWillUnmount(){this.asyncRunner.cancelCurrentWork()}fetchFromOffset(e,t){var r=this;return Ut(Vt().mark((function n(){return Vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.props.teamId){n.next=6;break}return n.next=3,r.fetchTeamMemberships(e,t);case 3:case 8:return n.abrupt("return",n.sent);case 6:return n.next=8,r.fetchAccountMemberships(e,t);case 9:case"end":return n.stop()}}),n)})))()}fetchTeamMemberships(e,t){var r=this;return Ut(Vt().mark((function n(){var a;return Vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.default.teamsActions.getTeamMemberships(r.props.teamId,t,e);case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}}),n)})))()}fetchAccountMemberships(e,t){var r=this;return Ut(Vt().mark((function n(){var a,o;return Vt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.props.actions.fetchAccountMemberships(50,e,t);case 2:return a=n.sent,o="".concat(r.props.actions.options.type,"_account_memberships"),n.abrupt("return",a.data[o]);case 5:case"end":return n.stop()}}),n)})))()}buildColumns(){return[{label:"Name",key:"userName",width:300},{label:"Email",key:"userEmail",width:300}]}buildData(){return this.state.membersList.map((e=>({id:e.user_id,key:"member-".concat(e.user_id),userName:e.name,userEmail:e.email})))}render(){return u().createElement("div",{className:"account-members-table-presenter"},this.renderPageHeading(),u().createElement(Bt.Z,{isContained:!0,currentValue:this.state.returnedMembershipsCount,isLoading:this.state.isLoading,loadingText:"account members",minBoundaryValue:10,totalValue:this.props.membersTotal}),this.renderTable())}}Gt(Ht,"propTypes",{teamId:f().number,actions:f().object.isRequired,membersTotal:f().number.isRequired});const qt=Ht;function Wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class zt extends u().Component{constructor(e){var t;super(e),t=this,Wt(this,"state",{showShareView:!0,teamId:null}),Wt(this,"handleCloseModal",(()=>{this.props.handleShow({show:!1})})),Wt(this,"onShowMembershipsView",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.props.accountMembersCount;t.setState({showShareView:!1,memberViewHeaderTitle:e,teamId:r,count:n})})),Wt(this,"handleMembershipsClose",(()=>{this.setState({showShareView:!0})}))}renderModalTitle(e){return this.state.showShareView?"Share ".concat(e):this.state.memberViewHeaderTitle}renderAccountMembershipsClass(){return this.state.showShareView?"":"account-memberships-modal"}renderShareView(){return u().createElement(Dt,{accountMembersCount:this.props.accountMembersCount,actions:this.props.actions,companyName:this.props.companyName,confirmModal:this.props.confirmModal,errors:this.props.errors,isAccountDataAccessible:this.props.isAccountDataAccessible,owner:this.props.owner,ownerChangeable:this.props.ownerChangeable,permissions:this.props.permissions,roadmapableId:this.props.roadmapableId,roadmapableName:this.props.roadmapableName,roadmapableViews:this.props.roadmapableViews,sharedTeamsPermissions:this.props.sharedTeamsPermissions,sharedUsersPermissions:this.props.sharedUsersPermissions,showMembershipsView:this.onShowMembershipsView,teamPermissionId:this.props.teamPermissionId,teamPermissions:this.props.teamPermissions,updateState:this.props.updateState})}renderMembersView(){return u().createElement(qt,{actions:this.props.actions,membersTotal:this.state.count,teamId:this.state.teamId})}renderModalFooter(){if(!this.state.showShareView)return u().createElement(v.Z.Footer,{className:"member-list-footer"},u().createElement(g.Z,{onClick:this.handleMembershipsClose},"Close"))}render(){var e=this.props.roadmapableName;return u().createElement(v.Z,{animation:!1,className:"pp-modal permissions-modal ".concat(this.renderAccountMembershipsClass()),dialogClassName:"permissions-modal ".concat(this.renderAccountMembershipsClass()),enforceFocus:!1,show:this.props.showPermissions,onExited:this.handleCloseModal,onHide:this.handleCloseModal},u().createElement(v.Z.Header,{closeButton:!0},u().createElement(v.Z.Title,{className:"heading"},this.renderModalTitle(e))),u().createElement(v.Z.Body,{bsClass:"modal-body",className:"pp-modal-body",ref:e=>this.instance=e},this.state.showShareView?this.renderShareView():this.renderMembersView()),this.renderModalFooter())}}Wt(zt,"propTypes",{actions:f().object.isRequired,confirmModal:f().func.isRequired,errors:f().object,owner:f().object.isRequired,isAccountDataAccessible:f().bool.isRequired,companyName:f().string.isRequired,ownerChangeable:f().bool.isRequired,permissions:f().object.isRequired,roadmapableName:f().string,sharedUsersPermissions:f().array.isRequired,sharedTeamsPermissions:f().array.isRequired,showPermissions:f().bool.isRequired,teamPermissionId:f().number,teamPermissions:f().string,handleShow:f().func,accountMembersCount:f().number.isRequired,roadmapableId:f().number.isRequired,roadmapableViews:f().array.isRequired,updateState:f().func}),Wt(zt,"permissionsModalSelector","permissions-modal-mount");const $t=zt;var Kt=r(99411),Yt=r(25473),Jt=r(27521),Qt=["show"],Xt=["permissions"];function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},er.apply(this,arguments)}function tr(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rr(){rr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){sr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function or(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function ir(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){or(o,n,a,i,s,"next",e)}function s(e){or(o,n,a,i,s,"throw",e)}i(void 0)}))}}function sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lr extends u().Component{static renderPermissions(){var e=$("#share-button");if(0!==e.length){var t=this.buildProps();h().render(u().createElement(this,t),e[0])}}static fetchPermissionsAndShow(e){var t=this;return ir(rr().mark((function r(){var n,a,o,i;return rr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new Yt.Z({type:window.currentRoadmapable.roadmapableType(),id:window.currentRoadmapable.roadmapableId()}),r.next=3,n.fetchPermissions(e);case 3:a=r.sent,o=a.data,i=_().camelizeKeys(o),t.show(ar(ar({},t.buildProps()),{},{permissions:i,show:!0}));case 7:case"end":return r.stop()}}),r)})))()}static buildProps(){return{roadmapableType:window.currentRoadmapable.roadmapableType(),roadmapableId:window.currentRoadmapable.roadmapableId(),roadmapableName:window.currentRoadmapable.primaryViewName()}}static show(e){var t=$("#".concat($t.permissionsModalSelector));return 0===t.length&&(t=$("<div id=".concat($t.permissionsModalSelector,"></div>")),$("body").append(t)),Kt.Z.renderComponent(this,e,t)}static handleExit(){var e=$("#".concat($t.permissionsModalSelector));e.length>0&&h().unmountComponentAtNode(e[0])}constructor(e){var t;super(e),t=this,sr(this,"showConfirmationModal",(e=>{var t=e.show,r=tr(e,Qt);l()(r,{isChild:!0}),this.setState({showConfirmation:t,showPermissions:!t,confirmationOptions:ar({},r)},(()=>{t||$("body > .modal-backdrop").remove()}))})),sr(this,"showPermissionModal",(e=>{this.setState({showPermissions:e.show},(()=>{e.show||(this.props.onExit?this.props.onExit():lr.handleExit())}))})),sr(this,"handleSharingPermissions",ir(rr().mark((function e(){var r;return rr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.actions.fetchPermissions();case 2:r=e.sent,t.setState({permissions:_().camelizeKeys(r.data),showPermissions:!0});case 4:case"end":return e.stop()}}),e)})))),sr(this,"updateState",(e=>{var t=e.permissions,r=tr(e,Xt),n=i()(this.state);return a()(t)||l()(n.permissions,t),a()(r)||l()(n,r),new Promise((e=>{this.setState(ar({},n),(()=>{e()}))}))})),this.state={showPermissions:void 0!==e.show,showConfirmation:!1,confirmationOptions:{},permissions:e.permissions},this.actions=new Yt.Z({type:e.roadmapableType,id:e.roadmapableId})}UNSAFE_componentWillReceiveProps(e){this.setState({showPermissions:e.show})}renderConfirmation(){return this.state.showConfirmation?u().createElement(m.Z,this.state.confirmationOptions):null}renderPermissionModal(){return this.state.showPermissions?u().createElement($t,er({actions:this.actions,confirmModal:this.showConfirmationModal,errors:this.state.errors,handleShow:this.showPermissionModal,roadmapableId:this.props.roadmapableId,roadmapableName:this.props.roadmapableName,showPermissions:this.state.showPermissions,updateState:this.updateState},this.state.permissions)):null}renderSharedLink(){if(!this.props.disableShareLink)return u().createElement("a",{className:"share-modal",href:"javascript:void(0)",onClick:this.handleSharingPermissions},u().createElement(k.Z,{name:k.c.share}),u().createElement("span",{className:"title-text"},"Share"))}render(){return u().createElement(Jt.aH,null,this.renderSharedLink(),this.renderConfirmation(),this.renderPermissionModal())}}sr(lr,"propTypes",{roadmapableType:f().string,roadmapableId:f().number,roadmapableName:f().string,permissions:f().object,show:f().bool,disableShareLink:f().bool,onExit:f().func}),sr(lr,"defaultProps",{disableShareLink:!1}),sr(lr,"permissionsModalSelector","permissions-modal-mount");const cr=lr},25473:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(78718),a=r.n(n),o=r(74527);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=class{constructor(e){var t=this;i(this,"fetchPermissions",(e=>o.default.shareActions.fetchPermissions(this.options.id,this.options.type_path,e))),i(this,"fetchAccountMemberships",(function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return o.default.shareActions.fetchAccountMemberships(t.options.id,t.options.type_path,e,r,n)})),i(this,"searchShareOptions",(e=>o.default.shareActions.searchShareOptions(this.options.id,this.options.type_path,e))),i(this,"createIndividualPermission",(e=>{var t={permission:a()(e,["user_email","can_view","can_edit","personal_note"]),permission_user_ref:e.permission_user_ref};return o.default.shareActions.createIndividualPermission(this.options.id,this.options.type_path,t)})),i(this,"updateIndividualPermission",(e=>{var t=new FormData;return t.append("permission_user_ref",""),t.append("permission[can_view]",e.can_view),t.append("permission[can_edit]",e.can_edit),o.default.shareActions.updateIndividualPermission(e.id,this.options.type_path,t)})),i(this,"deleteIndividualPermission",(e=>o.default.shareActions.deleteIndividualPermission(e,this.options.type_path))),i(this,"createGroupPermission",(e=>o.default.shareActions.createGroupPermission(this.options.id,this.options.type_path,{team_permissions:e}))),i(this,"deleteGroupPermission",(e=>o.default.shareActions.deleteGroupPermission(this.options.id,this.options.type_path,e))),i(this,"updateGroupPermission",((e,t)=>o.default.shareActions.updateGroupPermission(this.options.id,this.options.type_path,t,{team_permissions:e}))),i(this,"changeOwner",((e,t,r)=>{var n={owner_id:t,[this.options.type+"_id"]:r};return o.default.shareActions.changeOwner(e,this.options.type_path,n)})),this.options=e,this.options.isMasterPlan="master_plan"===e.type,this.options.type_path=this.options.isMasterPlan?"portfolio_view":e.type}}},94016:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={ALL:"All",OPEN:"Open",RESOLVED:"Resolved"}},91068:(e,t,r)=>{"use strict";r.d(t,{BS:()=>m,Bn:()=>w,Dd:()=>b,I$:()=>P,Ir:()=>y,Ku:()=>v,Oq:()=>O,PN:()=>_,YA:()=>x,f1:()=>S,pg:()=>k,uA:()=>E});var n=r(47037),a=r.n(n),o=r(30998),i=r.n(o),s=r(18446),l=r.n(s),c=r(94016);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p={reply:"conversation"};function f(e){return e&&e.owner_type.toLowerCase()===p.reply.toLowerCase()}function m(e,t){return e.filter((function(e){return e.id===t.id})).length}function v(e,t){return l()(e,t).length}function g(e,t){return i()(e,{id:t.owner_id})}function y(e,t,r){return r==c.Z.RESOLVED?[...e]:[t,...e]}function b(e,t){var r=[t,...e];return r.sort((function(e,t){return t.id-e.id})),r}function w(e,t,r){var n=[...e],a=g(e,t),o=n[a],i=r==c.Z.RESOLVED;if(a>=0){o.state=c.Z.OPEN.toLowerCase();var s=[...o.replies?o.replies:[],t];n.splice(a,1,d(d({},o),{replies:s}))}return i?n.filter((e=>e.id!=o.id)):n}function C(e,t,r,n){var a=[...e],o=i()(a,{id:t.id});return o>=0&&(function(e,t){var r;return!f(t)&&t.replies&&(null===(r=t.replies)||void 0===r?void 0:r.length)>e[0].replies.length}(a,t)&&n(!0),a.splice(o,1,d(d({},t),r))),a}function E(e,t,r,n){if(f(t)){var a=[...e],o=a[g(e,t)];return o.replies=C(o.replies,t,r,null),a}return C(e,t,r,n)}function _(e,t){return f(t)?function(e,t){var r=[...e],n=r[g(e,t)];return n.replies=n.replies.filter((e=>e.id!=t.id)),r}(e,t):e.filter((e=>e.id!=t.id))}function x(e){return L(e.state,c.Z.RESOLVED)}function L(e,t){return!(!a()(e)||!a()(t)||e.toLowerCase()!==t.toLowerCase())}function P(e,t){var r=x(e);return L(t,c.Z.OPEN)&&!r||L(t,c.Z.RESOLVED)&&r}function O(e,t){if(L(t,c.Z.ALL))return!0;var r=x(e);return L(t,c.Z.OPEN)&&!r||L(t,c.Z.RESOLVED)&&r}function S(){return{ownerId:window.currentRoadmapable.roadmapableId(),ownerType:window.currentRoadmapable.ownerType()}}function k(e){var t=[...e];return e&&e.length>0&&t.forEach((e=>{e.state=c.Z.RESOLVED.toLowerCase()})),t}},75289:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RoadmapConversationsContext:()=>h,RoadmapConversationsProvider:()=>p,useRoadmapConversationsContext:()=>f});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(7440),l=(r(15173),r(91068)),c=r(94016);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=(0,n.createContext)();function p(e){var t=e.children,r=e.initiallyExpanded,o=void 0!==r&&r,i=e.initialConversationState,d=void 0===i?c.Z.ALL:i,p=u((0,n.useState)(o),2),f=p[0],m=p[1],v=u((0,n.useState)(!1),2),g=v[0],y=v[1],b=u((0,n.useState)([]),2),w=b[0],C=b[1],E=u((0,n.useState)(d),2),_=E[0],x=E[1],L=u((0,n.useState)(!1),2),P=L[0],O=L[1],S=u((0,n.useState)(""),2),k=S[0],T=S[1],D=u((0,n.useState)(!1),2),I=D[0],R=D[1],A=u((0,n.useState)(!1),2),j=A[0],M=A[1],N=u((0,n.useState)(!1),2),B=N[0],F=N[1],V=(0,n.useCallback)((e=>C(l.Ir(w,e,_))),[w,_]),Z=(0,n.useCallback)((e=>C(l.Bn(w,e,_))),[w,_]),U=(0,n.useCallback)(((e,t)=>C(l.uA(w,e,t,F))),[w]),G=(0,n.useCallback)((e=>C(l.PN(w,e))),[w]),H=(0,n.useCallback)((e=>C(l.Dd(w,e))),[w]),q=(0,n.useCallback)((e=>C(l.pg(e))));function W(e){F(!0);var t=e.conversation;l.BS(w,t)||V(t)}function z(e){var t=e.conversation;l.Oq(t,_)?function(e){l.BS(w,e)?U(e):H(e)}(t):G(t)}function $(e){if(_==c.Z.OPEN)return C([]);l.Ku(e,w)||C(e)}function K(e){G(e.conversation)}function Y(){var e,t;null===(e=(t=window).closeHistoryPanel)||void 0===e||e.call(t),m(!0)}function J(){var e,t;f||null===(e=(t=window).closeHistoryPanel)||void 0===e||e.call(t),m((e=>!e)),F(!1)}function Q(){y(!0),document.querySelector("textarea").focus()}function X(){y(!1)}function ee(e){R(e)}(0,s.useGlobal)("expandRoadmapConversationsPanel",Y),(0,s.useGlobal)("toggleRoadmapConversationsPanel",J);var te=(0,n.useMemo)((()=>({comments:w,addComment:V,addReply:Z,setComments:C,updateComment:U,removeComment:G,isExpanded:f,expandRoadmapConversationsPanel:Y,toggleRoadmapConversationsPanel:J,focused:g,focusCommentBox:Q,blurCommentBox:X,body:k,setBody:T,ready:I,setReadyState:ee,sending:j,setSending:M,conversationState:_,setConversationState:x,shouldRemoveCommentFromList:l.I$,isLoadingList:P,setIsLoadingList:O,handleNewComments:W,handleUpdateComment:z,handleDeleteComment:K,resolveAllComments:q,handleResolveAllComments:$,setShowNotif:F,showNotif:B})),[f,P,g,w,V,Z,U,k,I,j,G,_,x,B,q]);return a().createElement(h.Provider,{value:te},t)}function f(){return(0,n.useContext)(h)}p.propTypes={children:i().any,initiallyExpanded:i().bool,initialConversationState:i().string}},24497:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(23560),a=r.n(n),o=r(27361),i=r.n(o),s=r(67294),l=r.n(s),c=(r(2763),r(45697)),u=r.n(c),d=r(76395),h=r(94184),p=r.n(h),f=r(7736),m=r(8876),v=r(63273),g=r(27521);function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var E={labels:{legend:"Set Legend to",tags:"Tags to add",delete:"Are you sure that you want to delete the selected Bars?"}};class _ extends l().Component{constructor(e){super(e),C(this,"handleLaneSelect",(e=>{this.setState({selectedLaneId:e.target.value})})),C(this,"handleLegendSelect",(e=>{this.setState({selectedLegendId:e.target.value})})),C(this,"handleTagAddition",(e=>{this.setState({addedTags:e.target.value})})),C(this,"getSelectedCustomLabels",(()=>{if(!this.state)return[];for(var e=[],t=0,r=Object.entries(this.state);t<r.length;t++){var n=b(r[t],2),a=n[0],o=n[1];o&&e.push({label_group_id:Number(a),label_id:o})}return e})),C(this,"customLabelsBody",(()=>this.props.customLabelGroups.map((e=>{var t;return l().createElement("div",{key:e.id,className:"custom-label-row"},l().createElement("div",{className:"col-xs-4 text-left change-custom-label-label vertical-center"},e.name),l().createElement("div",{className:"col-xs-6 no-padding vertical-center"},l().createElement(m.Z,{className:"js-select",editMode:!0,id:"select-field-legends",options:e.labels.map((e=>{var t;return{id:e.id,name:e.name,color:x(null===(t=e.paletteColor)||void 0===t?void 0:t.hex)}})),value:(null===(t=this.state)||void 0===t?void 0:t[e.id])||null,onChange:t=>{this.setState({[e.id]:t.target.value||null})}})))})))),C(this,"handleButtonAction",(e=>{var t,r="".concat(e,"Callback"),n=this.props[r],o={delete:void 0,park:void 0,move:this.getSelectedValue,copy:this.getSelectedValue,legend:this.getSelectedLegend,customLabels:this.getSelectedCustomLabels,tags:this.getAddedTags};a()(n)&&n(null===(t=o[this.props.modalAction])||void 0===t?void 0:t.call(o,this));this.handleClose()})),C(this,"handleClose",(()=>{this.bulkActionModal.close()}))}buildTitle(){return{delete:"Delete ".concat(this.props.numberBars," Selected Bars"),move:"Move ".concat(this.props.numberBars," Selected Bars to Lane"),copy:"Copy ".concat(this.props.numberBars," Selected Bars to Lane"),legend:"Update ".concat(this.props.legendTitle," on ").concat(this.props.numberBars," Selected Bars"),customLabels:"Change Labels for ".concat(this.props.numberBars," Selected Bars"),tags:"Add Tags to ".concat(this.props.numberBars," Selected Bars")}[this.props.modalAction]}buildActionButton(){return{delete:"Delete",move:"Move",copy:"Copy",legend:"Update",customLabels:"Update",tags:"Add"}[this.props.modalAction]}getSelectedValue(e){return i()(e.state,"selectedLaneId")?e.state.selectedLaneId:void 0}getSelectedLegend(e){return i()(e.state,"selectedLegendId")?e.state.selectedLegendId:void 0}getAddedTags(e){var t,r;return{addedTags:null!==(t=null===(r=e.state)||void 0===r?void 0:r.addedTags)&&void 0!==t?t:""}}displayDropDown(){return l().createElement(f.Z.Input,{className:"js-select",clearable:!0,deleteRemoves:!1,escapeClearsValue:!1,id:"select-field-lanes",labelKey:"name",name:"lane",options:window.currentRoadmapable.laneOptions(),placeholder:"Select a Lane",searchable:!1,value:this.getSelectedValue(this),valueKey:"id",onChange:this.handleLaneSelect})}displayLegendDropDown(){return l().createElement(m.Z,{className:"js-select",editMode:!0,id:"select-field-legends",options:window.currentRoadmapable.legendOptions(),value:this.getSelectedLegend(this),onChange:this.handleLegendSelect})}chooseLanesBody(e){return l().createElement(l().Fragment,null,l().createElement("div",{className:"col-xs-4 text-left move-label vertical-center"},"Place at bottom of"),l().createElement("div",{className:"col-xs-6 no-padding vertical-center"},e.displayDropDown()))}chooseLegendBody(e){return l().createElement(l().Fragment,null,l().createElement("div",{className:"col-xs-4 text-left move-label vertical-center"},e.props.label||E.labels[e.props.modalAction]),l().createElement("div",{className:"col-xs-6 no-padding vertical-center"},e.displayLegendDropDown()))}chooseTagsBody(e){return l().createElement(g.aH,null,l().createElement("div",{className:"col-xs-4 text-left move-label vertical-center"},e.props.label||E.labels[e.props.modalAction]),l().createElement("div",{className:"col-xs-6 no-padding vertical-center"},l().createElement(v.Z,{editMode:!0,id:"select-field-tags",value:"",onChange:e.handleTagAddition})))}modalDeleteBody(e){return l().createElement("div",{className:"col-xs-12 vertical-center"},l().createElement("div",{className:"text-left"},E.labels[e.props.modalAction]))}modalBody(){return{delete:this.modalDeleteBody,move:this.chooseLanesBody,copy:this.chooseLanesBody,legend:this.chooseLegendBody,customLabels:this.customLabelsBody,tags:this.chooseTagsBody}[this.props.modalAction](this)}modalFooter(){return l().createElement("div",{className:"modal-footer bulk-action-modal-footer"},l().createElement("form",{className:"text-center"},l().createElement("button",{className:this.classNames(),type:"button",onClick:()=>this.handleButtonAction("confirm")},this.buildActionButton()),"\xa0",l().createElement("button",{className:"btn btn-default cancel",type:"button",onClick:()=>this.handleButtonAction("cancel")},"Cancel")))}classNames(){return p()({btn:!0,add:!0,confirm:!0,"btn-success":"delete"!==this.props.modalAction,"btn-danger":"delete"===this.props.modalAction})}static show(e){return d.Z.show(this,e)}render(){return l().createElement(g.aH,null,l().createElement(d.Z,y({ref:e=>{this.bulkActionModal=e},title:this.buildTitle(),onClose:this.handleClose},this.props),l().createElement("div",{className:"modal-bulk-action"},l().createElement("div",{className:"bulk-action-modal-body"},l().createElement("div",{className:"row"},this.modalBody())),this.modalFooter())))}}C(_,"propTypes",{modalAction:u().string.isRequired,numberBars:u().number.isRequired,confirmCallback:u().func.isRequired,cancelCallback:u().func,label:u().string,legendTitle:u().string,customLabelGroups:u().array});var x=e=>e&&"#"+e},71545:(e,t,r)=>{"use strict";r.d(t,{Z:()=>H});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(24497),l=r(39012),c=r(54228),u=r(19728),d=(r(2763),{park:{name:"Park Bar",id:"park-bar",icon:l.c.parking},prioritize:{name:"Prioritize Bar",id:"prioritize-bar",icon:l.c.clipboardListCheck},delete:{name:"Delete Bar",id:"delete-bar",icon:l.c.trash},move:{name:"Move to Lane",id:"move-bar-to-lane",icon:l.c.arrowAltRight},copy:{name:"Copy to Lane",id:"copy-bar-to-lane",icon:l.c.copy},moreOptions:{name:"More Options",id:"more-options-icon",icon:l.c.ellipsisVertical}});function h(e){var t=e.action,r=e.onClick,n=e.pluralize,o=void 0!==n&&n?t.name+"s":t.name;return a().createElement(c.Z,{rootClose:!0,overlay:a().createElement(u.Z,{id:t.id},o),placement:"bottom"},a().createElement("div",{className:"multi-select-banner-bulk-action-button",onClick:r,role:"button"},a().createElement(l.Z,{name:t.icon})))}h.propTypes={action:i().shape({name:i().string,id:i().string,icon:i().object}).isRequired,onClick:i().func.isRequired,pluralize:i().bool};var p=r(96647),f=r(16852),m=r(72984),v=r(10240),g=r.n(v);var y,b,w,C=r(83424);class E extends a().PureComponent{isMacOS(){return g()(window.navigator.platform.toLowerCase(),"mac")}modifierKey(){var e;if(void 0!==this.props.modifier&&this.props.modifier)return e=this.isMacOS()?a().createElement("div",{className:"macModifier"},decodeURIComponent("\u2318")):a().createElement("div",{className:"winModifier"},decodeURIComponent("\u21e7")),a().createElement("div",{className:"modifier-key"},e)}setIconOrKey(){switch(this.props.keyIcon){case"mouse":return a().createElement(l.Z,{name:l.c.mousePointer});case"connectsTo":return a().createElement(C.Z,{id:"bar_connects_to-icon"});case"up":return a().createElement(l.Z,{name:l.c.longArrowUp});case"down":return a().createElement(l.Z,{name:l.c.longArrowDown});case"left":return a().createElement(l.Z,{name:l.c.longArrowLeft});case"right":return a().createElement(l.Z,{name:l.c.longArrowRight});default:return this.props.keyIcon}}render(){return a().createElement("div",{className:"shortcut"},a().createElement("div",{className:"shortcut-action"},this.props.title),a().createElement("div",{className:"buttons"},this.modifierKey(),a().createElement("div",{className:"shortcut-key"},this.setIconOrKey())))}}y=E,b="propTypes",w={title:i().string.isRequired,modifier:i().bool,keyIcon:i().string.isRequired},b in y?Object.defineProperty(y,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):y[b]=w;const _=E;var x=r(94184),L=r.n(x);class P extends a().PureComponent{render(){var e=this.props.configurations,t=L()({shortcuts:!0,"multi-select-assistant-pannel-movement-disabled":this.props.configurations&&this.props.configurations.hideMovements});return a().createElement("div",{className:t},a().createElement("div",{className:"shortcuts-section"},a().createElement("div",{className:"shortcuts-section-title"},"Select"),a().createElement(_,{modifier:!0,keyIcon:"mouse",title:"Select/deselect"}),!(e&&e.connectionsDisabled)&&a().createElement(_,{modifier:!0,keyIcon:"connectsTo",title:"Select Connections"}),a().createElement(_,{keyIcon:"esc",title:"Deselect all"})),!(e&&e.hideMovements)&&a().createElement("div",{className:"shortcuts-section"},a().createElement("div",{className:"shortcuts-section-title"},"Move"),a().createElement(_,{keyIcon:"right",title:"Move right"}),a().createElement(_,{keyIcon:"left",title:"Move left"}),!(e&&e.verticalMovementDisabled)&&a().createElement(a().Fragment,null,a().createElement(_,{keyIcon:"up",title:"Move up in Lane"}),a().createElement(_,{keyIcon:"down",title:"Move down in Lane"})),!(e&&e.jumpDisabled)&&a().createElement(a().Fragment,null,a().createElement(_,{modifier:!0,keyIcon:"right",title:"Jump right"}),a().createElement(_,{modifier:!0,keyIcon:"left",title:"Jump left"}),a().createElement(_,{modifier:!0,keyIcon:"up",title:"Jump up a Lane"}),a().createElement(_,{modifier:!0,keyIcon:"down",title:"Jump down a Lane"}))),!(e&&e.undoRedoDisabled)&&a().createElement("div",{className:"shortcuts-section"},a().createElement("div",{className:"shortcuts-section-title"},"Undo"),a().createElement(_,{modifier:!0,keyIcon:"z",title:"Undo"}),a().createElement(_,{modifier:!0,keyIcon:"y",title:"Redo"})))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(P,"propTypes",{configurations:i().object});const O=P;class S extends a().PureComponent{renderContent(){return a().createElement(O,{configurations:this.props.configurations})}toggleDisabled(){return this.props.configurations&&!!this.props.configurations.togglePanelDisabled}renderPanel(){return a().createElement("div",{id:"assistant-panel"},a().createElement("div",{className:"header"},a().createElement("div",{className:"header-title"},a().createElement("span",{className:"title"},this.props.panelType)),a().createElement("div",{className:"sub-header"},!this.toggleDisabled()&&a().createElement(_,{modifier:!0,keyIcon:"/",title:"Toggle this panel"}),a().createElement(_,{keyIcon:"backspace",title:"Delete selected"}))),this.renderContent())}render(){return this.renderPanel()}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(S,"propTypes",{panelType:i().string.isRequired,configurations:i().object});const k=S;var T=r(27361),D=r.n(T);var I=r(58909),R=r(93128);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(){j=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function M(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class B extends a().PureComponent{constructor(){super(...arguments),N(this,"handleCloseBulkEdit",(()=>{this.props.onToggle(!0)})),N(this,"handleToggleBulkEdit",(()=>{this.props.onToggle()})),N(this,"handleBulkEditLegendClick",(()=>{this.showModal("legend",{confirmCallback:this.handleUpdateLegend,legendTitle:this.props.legendTitle,label:"Set ".concat(this.props.legendTitle," to")})})),N(this,"handleBulkUpdateCustomLabelsClick",(()=>{this.showModal("customLabels",{confirmCallback:this.handleUpdatedCustomLabels,customLabelGroups:this.props.customLabelGroups})})),N(this,"handleUpdateLegend",(e=>{p.Z.updateSelectionLegend(e)})),N(this,"handleUpdatedCustomLabels",function(){var e,t=(e=j().mark((function e(t){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.Z.updateSelectionCustomLabels(t);case 4:R.Z.success("Your labels have been updated!");case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){M(o,n,a,i,s,"next",e)}function s(e){M(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()),N(this,"handleBulkEditTagsClick",(()=>{this.showModal("tags",{confirmCallback:this.handleAddTags})})),N(this,"handleAddTags",(e=>{var t=e.addedTags;p.Z.addTagsToSelection(t)})),N(this,"showModal",((e,t)=>{s.Z.show(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({modalAction:e,numberBars:this.props.selected},t)),I.default.publish("CLOSE_BULK_EDIT_MENU")}))}componentDidMount(){I.default.subscribe("CLOSE_BULK_EDIT_MENU",this.handleCloseBulkEdit),$(window).on("resize",(()=>{this.setState({position:this.getBulkEditPosition()})}))}componentWillUnmount(){I.default.unsubscribe("CLOSE_BULK_EDIT_MENU"),$(window).off("resize")}renderBulkEditItems(e){if(e.handler&&e.name){var t=this[e.handler];return a().createElement("div",{className:"more-options-item clamp--1",onClick:t},e.name)}}renderMoreOptionsIcon(){return a().createElement(h,{action:d.moreOptions,onClick:this.handleToggleBulkEdit})}getBulkEditPosition(){return{top:$(".more-options-wrapper").position().top+30,left:$(".more-options-wrapper").position().left+10}}renderBulkEditList(){if(this.props.visible){var e=D()(this.state,"position")||this.getBulkEditPosition();return a().createElement("div",{id:"more-options-menu",style:e},this.renderBulkEditItems({handler:"handleBulkEditTagsClick",name:"Add Tags..."}),this.renderBulkEditItems({handler:"handleBulkEditLegendClick",name:"Change ".concat(this.props.legendTitle,"...")}),this.props.customLabelGroups.length>0&&this.renderBulkEditItems({handler:"handleBulkUpdateCustomLabelsClick",name:"Change Labels..."}))}}render(){return a().createElement("div",{className:"more-options-wrapper"},this.renderMoreOptionsIcon(),this.renderBulkEditList())}}N(B,"propTypes",{selected:i().number.isRequired,visible:i().bool.isRequired,onToggle:i().func.isRequired,legendTitle:i().string.isRequired,customLabelGroups:i().array.isRequired});const F=B;var V=r(65943),Z=r(53775);function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class G extends a().Component{constructor(e){super(e),U(this,"selectedCount",(()=>this.props.countBarWrappers?m.Z.getCountByBarWrappers():f.Z.barsLength())),U(this,"handleMultiSelectMode",(()=>{var e,t;null===(e=(t=window).closeHistoryPanel)||void 0===e||e.call(t),this.setState({show:!0})})),U(this,"handleDefaultMode",(()=>{this.setState({show:!1,bulkEditVisible:!1})})),U(this,"handleBarSelected",(()=>{this.setState({selected:this.selectedCount()})})),U(this,"handleDeselectAll",(()=>{p.Z.deselectAll()})),U(this,"handleToggleAssistantPanel",(()=>{this.setState({panelVisible:!this.state.panelVisible})})),U(this,"handleBulkEditMenu",(e=>{var t=e?!e:!this.state.bulkEditVisible;this.setState({bulkEditVisible:t})})),U(this,"handlePark",(()=>{p.Z.parkSelection()})),U(this,"handlePrioritize",(()=>{p.Z.prioritizeSelection()})),U(this,"handleDelete",(()=>{p.Z.deleteSelection()})),U(this,"handleCopyToLane",(e=>{p.Z.copySelectionToLane(e)})),U(this,"handleDeleteClick",(()=>{s.Z.show({modalAction:"delete",numberBars:this.state.selected,confirmCallback:this.handleDelete})})),U(this,"handleMoveToLane",(e=>{p.Z.moveSelectionToNewLane(e)})),U(this,"handleMoveToLaneClick",(()=>{s.Z.show({modalAction:"move",numberBars:this.state.selected,confirmCallback:this.handleMoveToLane})})),U(this,"handleCopyToLaneClick",(()=>{s.Z.show({modalAction:"copy",numberBars:this.state.selected,confirmCallback:this.handleCopyToLane})})),this.state={selected:this.selectedCount(),show:!1,panelVisible:!0,bulkEditVisible:!1}}componentDidMount(){this.props.eventsChannel.subscribe("MULTISELECT_MODE_ENABLED",this.handleMultiSelectMode),this.props.eventsChannel.subscribe("DEFAULT_MODE_ENABLED",this.handleDefaultMode),this.props.eventsChannel.subscribe("PANEL_TOGGLED",this.handleToggleAssistantPanel),this.props.eventsChannel.subscribe("BAR_SELECTION_UPDATE",this.handleBarSelected)}renderBulkActionButtons(){var e=this.state,t=e.selected,r=e.bulkEditVisible;return a().createElement("div",{className:"bulk-action-buttons"},a().createElement(h,{action:d.move,onClick:this.handleMoveToLaneClick}),a().createElement(h,{action:d.copy,onClick:this.handleCopyToLaneClick}),a().createElement(h,{action:d.park,onClick:this.handlePark,pluralize:t>1}),a().createElement(h,{action:d.prioritize,onClick:this.handlePrioritize,pluralize:t>1}),a().createElement(h,{action:d.delete,onClick:this.handleDeleteClick,pluralize:t>1}),a().createElement(F,{selected:t,visible:r,onToggle:this.handleBulkEditMenu,legendTitle:this.props.legendTitle,customLabelGroups:this.props.customLabelGroups}))}renderBanner(){if(!this.state.show||0===this.state.selected)return null;var e=L()({"multi-select-banner":$(".main-wrapper").data("toolbar"),"multi-select-banner -override":!$(".main-wrapper").data("toolbar"),"multi-select-assistant-pannel-movement-disabled":this.props.panelConfigurations&&this.props.panelConfigurations.hideMovements}),t=this.state.panelVisible?l.c.eye:l.c.eyeSlash;return a().createElement("div",{className:e},a().createElement("div",{className:"multi-select-banner-count"},this.state.selected),a().createElement("div",{className:"multi-select-banner-body"},a().createElement("div",{className:"multi-select-banner-section"},a().createElement("div",{className:"multi-select-selection-info"},a().createElement("div",{className:"multi-select-bars-selected"},"".concat(V.RZ.cheapPluralize("Bar",this.state.selected)," Selected")),a().createElement("div",{className:"multi-select-banner-deselect-all",onClick:this.handleDeselectAll},"Use ",a().createElement("span",{className:"shortcut-key"},"esc")," to deselect all"))),a().createElement("div",{className:"multi-select-banner-section"},a().createElement("div",{className:"multi-select-banner-dialogue"},this.renderBulkActionButtons(),a().createElement("div",{className:"multi-select-assistant-panel-text",onClick:this.handleToggleAssistantPanel},a().createElement("span",{className:"icon-container"},a().createElement(l.Z,{name:t})),"Shortcuts menu")))))}renderShortcutMenu(){return this.state.show&&this.state.panelVisible&&0!==this.state.selected?a().createElement(k,{panelType:"Shortcuts",configurations:this.props.panelConfigurations}):null}render(){return a().createElement(a().Fragment,null,a().createElement(Z.d,{position:Z.L.top},this.renderBanner()),a().createElement(Z.d,{position:Z.L.right},this.renderShortcutMenu()))}}U(G,"propTypes",{eventsChannel:i().object.isRequired,countBarWrappers:i().bool,panelConfigurations:i().object,legendTitle:i().string.isRequired,customLabelGroups:i().array.isRequired}),U(G,"defaultProps",{countBarWrappers:!1});const H=G},54810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(55652),l=r(94184),c=r.n(l),u=r(11076),d=r.n(u),h=r(95234),p=r(10188),f=r(84001),m=r(39012);function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class g extends n.Component{constructor(e){var t;super(e),t=this,v(this,"state",{showMenu:!1,showPopover:!1}),v(this,"handleEditLane",(()=>{var e=this.props.lane.id;this.setState({showMenu:!1}),s.ProductPlan.roadmapManager.editLane(e)})),v(this,"handleReorderLanes",(()=>{this.setState({showMenu:!1}),s.ProductPlan.roadmapManager.reorderLanes()})),v(this,"handleMoveLane",(()=>{this.setState({showMenu:!1}),f.Z.show(this.props.lane.id)})),v(this,"handleDeleteLane",(()=>{var e=this.props.lane.id;this.setState({showMenu:!1}),s.ProductPlan.roadmapView.deleteLane(e)})),v(this,"handleShowMenu",(()=>{if(s.ProductPlan.canEdit()){var e=!this.state.showMenu;this.setState({showMenu:e}),$(document).one("mouseup",(()=>{e&&(this.titleRef.contains(s.ProductPlan.clickedTarget)||this.menuRef.contains(s.ProductPlan.clickedTarget)||this.setState({showMenu:!1}))}))}})),v(this,"handleShowPopover",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.state.showPopover;t.headerRef&&e&&(t.popOverPlacement=t.setPopOverPosition(t.headerRef.getBoundingClientRect())),t.t&&(clearTimeout(t.t),e&&r||!e&&!r)||(t.t=setTimeout((()=>{t.setState({showPopover:e}),e&&(s.ProductPlan.roadmapRenderer.hideBarPopovers(),s.ProductPlan.roadmapRenderer.hideMilestonesPopovers())}),500))})),this.minRequiredSpaceForTopPosition=280,this.minRequiredSpaceForMenu=200,this.popOverPlacement="top"}componentWillUnmount(){clearTimeout(this.t)}componentDidMount(){s.ProductPlan.roadmapRenderer.positionLaneText()}getChevronClass(){return this.props.isCollapsed?m.c.chevronRight:m.c.chevronDown}getTitle(){var e=this.props.lane;return window.currentRoadmapable.isMasterPlan()?"".concat(this.props.roadmapTitle," | ").concat(e.name):e.name}renderPopoverTitle(){var e=this.props.lane.hex,t={backgroundColor:e},r=c()({"legend-item-title-color":""!==e,"break-word":!0,"respect-newlines":!0,[s.ProductPlan.getContrastClasses(e)]:!0});return a().createElement("div",{className:r,style:t},this.props.lane.name)}renderPopover(){var e=this.props.lane.description;return a().createElement(h.Z,{id:"lane-title-popover",title:this.renderPopoverTitle()},a().createElement("div",{className:"break-word respect-newlines"},e))}shouldShowPopover(e){var t=e.showMenu,r=e.showPopover,n=$(".dropdown-menu.show").length>0;return!t&&!n&&r}renderMenu(){var e=this.getMenuPlacement(this.dropdownRef);return a().createElement("div",{ref:e=>this.menuRef=e,className:e,style:{position:"static",width:"1em",height:"1em",zIndex:99999}},a().createElement("ul",{"aria-labelledby":"dropdownMenu",className:"dropdown-menu show",role:"menu"},a().createElement("li",null,a().createElement("a",{href:"javascript:void(0)",id:"edit_lane",onClick:this.handleEditLane},"Edit")),a().createElement("li",null,a().createElement("a",{href:"javascript:void(0)",id:"reorder_lane",onClick:this.handleReorderLanes},"Reorder")),a().createElement("li",null,a().createElement("a",{href:"javascript:void(0)",id:"move_lane",onClick:this.handleMoveLane},"Move to...")),a().createElement("li",null,a().createElement("a",{href:"javascript:void(0)",id:"delete_lane",onClick:this.handleDeleteLane},"Delete"))))}renderTitle(){var e=this.state.showMenu;return a().createElement("div",{className:"lane-title-wrapper"},a().createElement(m.Z,{name:this.getChevronClass()}),a().createElement("span",{className:"dropdown-toggle",onClick:this.handleShowMenu,ref:e=>this.dropdownRef=e},a().createElement(d(),{attachment:"bottom right",className:"lane-dropdown-menu",renderElementTo:"body",targetAttachment:"bottom left"},a().createElement("a",{href:"javascript:void(0)"},a().createElement("span",{className:"lane-title-wrapper-content",ref:e=>this.titleRef=e},this.getTitle()),a().createElement("span",{className:"".concat(m.c.stack.classes," toggle-icon")},a().createElement(m.Z,{classes:m.c.stack.classes,name:m.c.ellipsisVertical}))),e&&this.renderMenu())))}setPopOverPosition(e){return e.top<this.minRequiredSpaceForTopPosition?"bottom":"top"}setPopOverReference(e){e&&(this.popOverPlacement=this.setPopOverPosition(e.getBoundingClientRect()))}getMenuPlacement(e){if(e&&e.getBoundingClientRect().bottom+this.minRequiredSpaceForMenu>window.innerHeight)return"dropup";return""}render(){var e=this.renderTitle();return a().createElement("div",{onMouseEnter:()=>this.handleShowPopover(!0),onMouseLeave:()=>this.handleShowPopover(),ref:e=>{this.headerRef=e,this.setPopOverReference(e)}},e,a().createElement(p.Z,{placement:this.popOverPlacement,show:this.shouldShowPopover(this.state),target:this.titleRef},this.renderPopover()))}}v(g,"propTypes",{isCollapsed:i().bool.isRequired,lane:i().object.isRequired,roadmapTitle:i().string.isRequired});const y=g},27087:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ScoreDrawerProvider:()=>h,useScoreDrawerContext:()=>p});var n=r(67294),a=r.n(n),o=r(7440),i=r(45697),s=r.n(i),l=r(13202);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=a().createContext();function h(e){var t=e.children,r=c((0,l.Wd)({name:"show_prioritization",fromParam:f,toParam:m,validate:v}),2),n=r[0],i=r[1];function s(){i(!0)}function u(){i((e=>!e))}(0,o.useGlobal)("expandScoreDrawer",s),(0,o.useGlobal)("toggleScoreDrawer",u);var h=a().useMemo((()=>({expanded:n,expandScoreDrawer:s,toggleScoreDrawer:u})),[n]);return a().createElement(d.Provider,{value:h},t)}function p(){return a().useContext(d)}h.propTypes={children:s().any,initiallyExpanded:s().bool};var f=e=>null===e,m=e=>e?null:void 0,v=e=>!!e},21069:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ie});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(23279),l=r.n(s),c=r(41609),u=r.n(c),d=r(43557),h=r(39012);function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends a().Component{constructor(e){super(e),p(this,"handleOnChange",(e=>{u()(e.target.value)&&this.props.onFieldReset(),this.setState({inputValue:e.target.value}),this.doSearch(e.target.value)})),p(this,"doSearch",l()((e=>{var t={};t.currentRoadmapId=u()(this.props.currentRoadmap)?null:this.props.currentRoadmap.roadmapId,t.query=e,this.props.onSubmit(t)}),500)),p(this,"handleFieldResetClick",(()=>{this.setState({inputValue:""}),this.props.onFieldReset()})),this.state={inputValue:""}}componentDidMount(){$(this.input).on("keypress",this.handleOnKeyPress),$(this.input).focus()}componentDidUpdate(){$(this.input).focus()}clearField(){var e=u()(this.state.inputValue)?{display:"none"}:{};return a().createElement(h.Z,{style:e,name:h.c.timesCircle,onClick:this.handleFieldResetClick})}render(){return a().createElement(d.Z,{className:"search-box"},a().createElement(h.Z,{name:h.c.search}),a().createElement("input",{className:"form-control",placeholder:this.props.searchPlaceholder,ref:e=>{this.input=e},type:"text",value:this.state.inputValue,onBlur:this.props.onBlur,onChange:this.handleOnChange,"aria-label":this.props.searchPlaceholder}),this.clearField())}}p(f,"propTypes",{currentRoadmap:i().object,isGlobalSearch:i().bool.isRequired,searchPlaceholder:i().string.isRequired,onSubmit:i().func.isRequired,onFieldReset:i().func.isRequired,onBlur:i().func}),p(f,"defaultProps",{currentRoadmap:{}});const m=f;var v=r(94184),g=r.n(v);function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b extends a().Component{constructor(e){super(e),this.displayCurrentTab=this.displayCurrentTab.bind(this),this.handleAllTabClick=this.handleAllTabClick.bind(this),this.handleCurrentTabClick=this.handleCurrentTabClick.bind(this),this.classNames=this.classNames.bind(this)}classNames(e){return g()({"active-tab":this.props.activeTab===e})}handleAllTabClick(){return this.props.onTabSwitch("ALL")}handleCurrentTabClick(){return this.props.onTabSwitch("CURRENT")}displayCurrentTab(){return u()(this.props.currentRoadmap)||"CURRENT"===this.props.disabledTab?"none":"inline-block"}render(){return a().createElement("div",{className:"search-results-table-header"},a().createElement("div",{className:"search-text"},"Search: "),a().createElement("div",{className:"search-tabs-wrapper"},a().createElement("div",{className:this.classNames("CURRENT"),id:"this-roadmap-tab",style:{display:this.displayCurrentTab()},onClick:this.handleCurrentTabClick},"Current Roadmap"),a().createElement("div",{className:this.classNames("ALL"),id:"all-roadmaps-tab",onClick:this.handleAllTabClick},"All Roadmaps")))}}y(b,"propTypes",{activeTab:i().string.isRequired,currentRoadmap:i().object,disabledTab:i().string,onTabSwitch:i().func.isRequired}),y(b,"defaultProps",{currentRoadmap:{}});const w=b;var C=r(11700),E=r.n(C),_=r(12571),x=r.n(_),L=r(83113),P=r(54228),O=r(19728),S=r(55652),k=r(48414);function T(){T=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function D(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function I(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){D(o,n,a,i,s,"next",e)}function s(e){D(o,n,a,i,s,"throw",e)}i(void 0)}))}}function R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A="Prioritize";class j extends a().Component{constructor(e){var t;super(e),t=this,R(this,"handleAddToPlan",I(T().mark((function e(){var r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props.result,e.next=3,S.ProductPlan.roadmapManager.prioritizeBars([r.id]);case 3:(0,k.logPrioritization)("search results"),(0,L.p)(r.name,window.currentRoadmapable.isPrimaryView());case 5:case"end":return e.stop()}}),e)})))),this.iconName=this.iconName.bind(this),this.handleResultClick=this.handleResultClick.bind(this),this.renderRoadmapInfo=this.renderRoadmapInfo.bind(this),this.renderLaneInfo=this.renderLaneInfo.bind(this),this.renderDescriptionInfo=this.renderDescriptionInfo.bind(this)}handleResultClick(){this.props.onResultSelection(this.props.result)}iconName(){return"Bars and Containers"===this.props.result.type?this.props.result.is_container?"#container-icon-symbol":this.props.result.is_parked?"#parked-bar-icon-symbol":"#bar-icon-symbol":"#roadmap-icon-symbol"}renderDescriptionInfo(){return this.props.result.description?a().createElement("span",{className:"result-description truncate"},a().createElement("em",{title:this.props.result.description},this.props.result.description)):null}renderRoadmapInfo(){return this.props.result.roadmap_name?a().createElement("span",{className:"result-roadmap",title:this.props.result.roadmap_name},a().createElement("span",{className:"truncate"},this.props.result.roadmap_name+" ")):null}renderLaneInfo(){return this.props.result.lane_name?a().createElement("span",{className:"result-lane-data truncate",title:this.props.result.lane_name}," | "+this.props.result.lane_name):null}render(){var e=this.props,t=e.result,r=e.canBePrioritized;return a().createElement("div",{className:"result-cell",title:"Search result"},a().createElement("div",{onClick:this.handleResultClick},a().createElement("div",{className:"result-img-wrapper"},a().createElement("svg",{className:"pp-icon"},a().createElement("use",{xlinkHref:this.iconName()}))),a().createElement("div",{className:"result-data-wrapper"},a().createElement("span",{className:"result-name truncate",title:t.name},t.name),this.renderDescriptionInfo(),this.renderRoadmapInfo(),this.renderLaneInfo())),r&&a().createElement("div",{className:"search-results-actions"},a().createElement(P.Z,{rootClose:!0,overlay:a().createElement(O.Z,{id:"search-result-tooltip-".concat(t.id)},A),placement:"top"},a().createElement(h.Z,{title:A,name:h.c.clipboardListCheck,onClick:this.handleAddToPlan}))))}}R(j,"propTypes",{onResultSelection:i().func.isRequired,result:i().object.isRequired,image:i().string,canBePrioritized:i().bool}),R(j,"defaultProps",{});const M=j;function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class B extends a().Component{constructor(e){super(e),this.state={showLimitedResults:!0},this.initialResultCount=3,this.renderDividerRow=this.renderDividerRow.bind(this),this.renderResultRows=this.renderResultRows.bind(this),this.renderSeeMoreRow=this.renderSeeMoreRow.bind(this),this.limitResultCount=this.limitResultCount.bind(this),this.handleResultListExpansion=this.handleResultListExpansion.bind(this),this.handleResultListCollapse=this.handleResultListCollapse.bind(this)}handleResultListExpansion(){this.setState({showLimitedResults:!1})}handleResultListCollapse(){this.setState({showLimitedResults:!0})}limitResultCount(e){return this.state.showLimitedResults?x()(e,0,this.initialResultCount):e}renderDividerRow(){return this.props.isGlobalSearch?a().createElement("div",{className:"search-results-header"},E()(this.props.results[0].type)):null}renderSeeMoreRow(){var e=this.props.results.length-this.initialResultCount;return this.state.showLimitedResults?e>0?a().createElement("div",{className:"search-results-see-more",onClick:this.handleResultListExpansion},"See "+"".concat(e)+" More..."):null:a().createElement("div",{className:"search-results-see-less",onClick:this.handleResultListCollapse},"See Fewer...")}renderResultRows(){var e=this.props,t=e.results,r=e.onResultSelection,n=e.activeTab;return this.limitResultCount(t).map((e=>a().createElement(M,{key:"".concat(e.type,"-").concat(e.id),result:e,text:"",onResultSelection:r,canBePrioritized:"ALL"!==n})))}render(){return this.props.results.length>0?a().createElement("div",{className:"search-results-section"},this.renderDividerRow(),this.renderResultRows(),this.renderSeeMoreRow()):null}}N(B,"propTypes",{isGlobalSearch:i().bool,onResultSelection:i().func.isRequired,results:i().array,type:i().string.isRequired,activeTab:i().string}),N(B,"defaultProps",{results:[],isGlobalSearch:!0});const F=B;function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Z extends a().Component{constructor(){super(...arguments),V(this,"sortOrder",["roadmaps","bars"]),V(this,"sortResults",(()=>this.sortOrder.map((e=>({[e]:this.props.results[e]}))))),V(this,"renderTableSections",(()=>this.sortResults().map((e=>{var t=Object.keys(e)[0],r=e[t];return a().createElement(F,{isGlobalSearch:this.props.isGlobalSearch,key:"".concat(t,"-section"),results:r,type:"".concat(t),onResultSelection:this.props.onResultSelection,activeTab:this.props.activeTab})}))))}render(){return a().createElement("span",null,this.renderTableSections())}}V(Z,"propTypes",{currentRoadmap:i().object,isGlobalSearch:i().bool.isRequired,onResultSelection:i().func.isRequired,results:i().object.isRequired,activeTab:i().string}),V(Z,"defaultProps",{currentRoadmap:{}});const U=Z;function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class H extends a().Component{constructor(e){super(e),this.displayPane=this.displayPane.bind(this)}displayPane(e){return this.props.activeTab===e?"block":"none"}render(){return a().createElement("div",{className:"search-results-body"},a().createElement("div",{className:"current-results-pane",style:{display:this.displayPane("CURRENT")}},a().createElement(U,{isGlobalSearch:this.props.isGlobalSearch,results:this.props.results.current_roadmap,onResultSelection:this.props.onResultSelection,activeTab:this.props.activeTab})),a().createElement("div",{className:"all-results-pane",style:{display:this.displayPane("ALL")}},a().createElement(U,{isGlobalSearch:this.props.isGlobalSearch,results:this.props.results.all_roadmaps,onResultSelection:this.props.onResultSelection,activeTab:this.props.activeTab})))}}G(H,"propTypes",{activeTab:i().string.isRequired,isGlobalSearch:i().bool.isRequired,onResultSelection:i().func.isRequired,results:i().object.isRequired}),G(H,"defaultProps",{currentRoadmap:{}});const q=H;function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class z extends a().Component{constructor(e){super(e)}render(){return this.props.results.current_roadmap.is_empty&&this.props.results.all_roadmaps.is_empty?a().createElement("div",{className:"search-results-table pp-table",id:"connection-results-table"},a().createElement("div",{className:"no-results-block"},"No matches found")):a().createElement("div",{className:"search-results-table pp-table",id:"connection-results-table"},a().createElement(w,this.props),a().createElement(q,this.props))}}W(z,"propTypes",{activeTab:i().string.isRequired,currentRoadmap:i().object,disabledTab:i().string,isGlobalSearch:i().bool.isRequired,onResultSelection:i().func.isRequired,onTabSwitch:i().func.isRequired,results:i().object.isRequired}),W(z,"defaultProps",{currentRoadmap:{}});const K=z;class Y extends a().Component{constructor(e){super(e),this.handleHelpLink=this.handleHelpLink.bind(this)}handleHelpLink(){S.ProductPlan.openLinkInNewTab("https://www.productplan.com/help/")}render(){return a().createElement("div",{className:"search-results-table pp-table search-results-error"},a().createElement("div",{className:"search-results-table-header"},a().createElement("div",{className:"search-results-error-section"},a().createElement("div",{className:"no-results-block"},a().createElement("span",null,a().createElement("b",null,"Search is currently unavailable")),a().createElement("br",null),a().createElement("span",{className:"support-text"},"Try again later or  ",a().createElement("span",{className:"help-link",onClick:this.handleHelpLink},"contact support"))))))}}const J=Y;var Q=r(20044);const X=class{static handleGtmEventOnSearch(){if(!(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]))return null;var e="search_query";return S.ProductPlan.roadmapManager&&S.ProductPlan.roadmapManager instanceof Q.Z&&(e=e.concat("_from_a_roadmap")),window.dataLayer.push({event:e}),null}static handleGtmEventOnSelection(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="search_selection_made_on";if("Roadmaps"===e.type)return r=r.concat("_a_roadmap"),window.dataLayer.push({event:r}),null;var n=e.url.substr(e.url.lastIndexOf("/")+1);return r=(window.currentRoadmapable?window.currentRoadmapable.findActiveBar(n):null)?r.concat("_a_bar_on_this_roadmap"):r.concat("_a_bar_on_another_roadmap"),t&&(r=r.replace("bar","connection")),window.dataLayer.push({event:r}),null}};var ee=r(7440);function te(){te=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function re(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ae extends a().Component{classNameFromProp(){return this.props.isGlobalSearch?"global-search":"connections-search"}constructor(e){super(e),this.state={results:{},resultsVisible:!1,activeTab:"ALL",disabledTab:"",error:void 0},this.handleFieldReset=this.handleFieldReset.bind(this),this.handleSearch=this.handleSearch.bind(this),this.handleResultSelection=this.handleResultSelection.bind(this),this.renderSearchField=this.renderSearchField.bind(this),this.renderResultsTable=this.renderResultsTable.bind(this),this.handleTabSwitch=this.handleTabSwitch.bind(this),this.setActiveTabFromResults=this.setActiveTabFromResults.bind(this),this.setDisabledTabFromResults=this.setDisabledTabFromResults.bind(this),this.invokeProperClickCallback=this.invokeProperClickCallback.bind(this)}handleFieldReset(){this.setState({results:{},resultsVisible:!1,error:void 0})}handleTabSwitch(e){this.setState({activeTab:e})}handleSearch(e){var t,r=this;return(t=te().mark((function t(){var n;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return X.handleGtmEventOnSearch(r.props.isGlobalSearch),t.prev=1,t.next=4,r.props.searchCallback(e);case 4:n=t.sent,r.setState({results:n.data,resultsVisible:!0,activeTab:r.setActiveTabFromResults(n.data),disabledTab:r.setDisabledTabFromResults(n.data),error:void 0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r.setState({resultsVisible:!1,error:t.t0.response.data.error});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){re(o,n,a,i,s,"next",e)}function s(e){re(o,n,a,i,s,"throw",e)}i(void 0)}))})()}handleResultSelection(e){this.invokeProperClickCallback(e),X.handleGtmEventOnSelection(e,!this.props.isGlobalSearch),this.setState({resultsVisible:!1})}invokeProperClickCallback(e){e.parked=e.is_parked,this.props.isGlobalSearch&&"CURRENT"===this.state.activeTab?this.props.localResultClickCallback(e):this.props.resultClickCallback(e)}setActiveTabFromResults(e){return e.current_roadmap.is_empty?"ALL":"CURRENT"}setDisabledTabFromResults(e){return e.current_roadmap.is_empty?"CURRENT":e.all_roadmaps.is_empty?"ALL":""}renderSearchField(){return a().createElement(m,{currentRoadmap:this.props.currentRoadmap,isGlobalSearch:this.props.isGlobalSearch,searchPlaceholder:this.props.searchPlaceholder,onFieldReset:this.handleFieldReset,onSubmit:this.handleSearch})}renderSearchErrorMessage(){return a().createElement(J,null)}renderResultsTable(){return this.state.resultsVisible?a().createElement(K,{activeTab:this.state.activeTab,currentRoadmap:this.props.currentRoadmap,disabledTab:this.state.disabledTab,isGlobalSearch:this.props.isGlobalSearch,results:this.state.results,onResultSelection:this.handleResultSelection,onTabSwitch:this.handleTabSwitch}):null}renderResults(){return void 0===this.state.error?this.renderResultsTable():this.renderSearchErrorMessage()}render(){return a().createElement(oe,{onClickAway:this.props.onClickAway},a().createElement("div",{className:this.classNameFromProp()},this.renderSearchField(),this.renderResults()))}}function oe(e){var t=e.children,r=e.onClickAway,n=(0,ee.useOnClickAway)(r);return a().createElement("div",{ref:n},t)}ne(ae,"propTypes",{currentRoadmap:i().object,isGlobalSearch:i().bool.isRequired,localResultClickCallback:i().func,resultClickCallback:i().func.isRequired,searchPlaceholder:i().string.isRequired,searchCallback:i().func.isRequired,onClickAway:i().func}),ne(ae,"defaultProps",{currentRoadmap:{}}),oe.propTypes={children:i().any,onClickAway:i().func};const ie=ae},39219:(e,t,r)=>{"use strict";r.d(t,{tv:()=>z,ZP:()=>Y,iJ:()=>K,qx:()=>$});var n=r(11700),a=r.n(n),o=r(50361),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(2287),h=r(51793),p=r(6778),f=r(21707),m=r(7736),v=r(28583),g=r.n(v),y=r(41609),b=r.n(y),w=r(94184),C=r.n(w),E=r(43557),_=r(51206);function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class L extends l().Component{constructor(){super(...arguments),x(this,"onChange",(e=>{e.target.id=this.props.name,this.props.field.onChange(e)}))}classes(){var e={},t={"pp-radio-group":!0};return b()(this.props.classes)||(e=this.props.classes.split(" ").map((e=>t[e]=!0))),C()(g()(t,e))}render(){var e={selected:this.props.field.value,onChange:this.onChange,name:this.props.name},t=this.props.children.map((t=>l().cloneElement(t,e)));return l().createElement(E.Z,{className:this.classes()},l().createElement(_.Z,null,"Default Layout"),l().createElement("div",{className:"flex-row"},t))}}x(L,"propTypes",{name:u().string.isRequired,field:u().object.isRequired,children:u().array,classes:u().string}),x(L,"defaultProps",{classes:""});const P=L;var O=r(50308),S=r.n(O),k=r(18489);function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class D extends l().Component{checked(){return this.props.selected===this.props.id}render(){var e=this.props,t=e.displayName,r=e.value,n=e.id,a=e.name,o=e.renderThumbImage,i=e.onChange;return l().createElement("div",{className:"pp-radio-option"},l().createElement(k.Z,{inline:!0,checked:this.checked(),id:n,name:a,value:r,onChange:i},o(r,this.checked(),t)))}}T(D,"propTypes",{displayName:u().string.isRequired,renderThumbImage:u().func.isRequired,id:u().string,name:u().string,selected:u().string,onChange:u().func,value:u().string,showLabel:u().bool}),T(D,"defaultProps",{thumbImage:S()});const I=D;var R=r(80008),A=r.n(R),j=r(18991),M=r(67949),N=r(57299),B=r(39012);class F extends s.PureComponent{constructor(){var e,t,r;super(...arguments),r=e=>this.props.checked?l().createElement(B.Z,{"aria-checked":"true",name:B.c.checkSquare,"aria-labelledby":e}):l().createElement(B.Z,{"aria-checked":"false",name:B.c.squareOutline,"aria-labelledby":e}),(t="renderCheckmark")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}render(){var e=this.props,t=e.name,r=e.style,n=e.checked,a={height:100,width:164,id:"viewstyle-".concat(r)},o=n?"checked":"";return l().createElement("div",{className:"style-selector-container"},l().createElement("div",{className:"style-selector ".concat(r," ").concat(o)},l().createElement(N.Z,a)),l().createElement("span",null,this.renderCheckmark(t)," ",t))}}F.propTypes={style:u().string.isRequired,name:u().string.isRequired,checked:u().bool.isRequired};const V=F;function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var U={};U.list=[M.Z.MONTHS,M.Z.QUARTERS,M.Z.SPRINTS,M.Z.TAGS],U.timeline=[M.Z.NONE,M.Z.WEEKS,M.Z.MONTHS,M.Z.QUARTERS,M.Z.MONTHS_QUARTERS,M.Z.YEARS,M.Z.SPRINTS];var G={};G.list=M.Z.QUARTERS,G.timeline=M.Z.NONE;var H="list";class q extends l().Component{render(){return l().createElement("div",{className:"row"},l().createElement("div",{className:"col-xs-6"},l().createElement(f.Z,{editMode:!0,field:this.props.formData.fieldFor("sprint_interval_duration"),label:"Sprint Duration(days)",step:"1",type:"number"})),l().createElement("div",{className:"col-xs-6"},l().createElement(f.Z,{editMode:!0,field:this.props.formData.fieldFor("sprint_interval_offset"),label:"Starting Sprint Number",step:"1",type:"number"})))}}Z(q,"propTypes",{formData:u().object.isRequired});class W extends l().Component{constructor(){super(...arguments),Z(this,"state",{originalData:{},editing:!1,maxIntervalsToDisplay:z(this.props.formData)}),Z(this,"renderDates",(()=>this.props.isActivePane?l().createElement(d.Z,{blockStyle:!0,editMode:!0,endDateField:this.props.formData.fieldFor("end_date"),fieldName:"setting",startDateField:this.props.formData.fieldFor("start_date"),tetherWrapClass:"datePickerWrap"},l().createElement("div",{id:"tetherDateRange"})):null))}static get defaultFormData(){var e=A()().date(1),t=A()(e).add(12,"months");return{view_style:"timeline",timeline_style:"Quarters",fiscal_year_first_month:1,display_grid:"none",start_date:j.Z.startOfDay(e,h.Z.dateFormat),end_date:j.Z.endOfDay(t,h.Z.dateFormat),sprint_interval_duration:30,sprint_interval_offset:0,intervals_to_display:12}}componentDidMount(){var e=this.props.formData.data;e.name&&this.setState({originalData:i()(e),editing:!0})}componentDidUpdate(e,t){var r=z(this.props.formData);t.maxIntervalsToDisplay!==r&&(this.setState({maxIntervalsToDisplay:r}),this.resetIntervalsToDisplayIfInvalid())}fillWithOriginalValue(e,t,r){var n=this.state,a=n.editing,o=n.originalData;return a&&o.timeline_style===t&&o[e]?o[e]:r}fillSubstyleFields(e,t){switch(t.timeline_style=e,t.intervals_to_display=this.fillWithOriginalValue("intervals_to_display",e,12),t.sprint_interval_duration=this.fillWithOriginalValue("sprint_interval_duration",e,30),t.sprint_interval_offset=this.fillWithOriginalValue("sprint_interval_offset",e,0),e){case"Sprints":t.intervals_to_display=this.fillWithOriginalValue("intervals_to_display",e,6),t.sprint_interval_duration=this.fillWithOriginalValue("sprint_interval_duration",e,14);break;case"Weeks":t.intervals_to_display=this.fillWithOriginalValue("intervals_to_display",e,26),t.sprint_interval_duration=this.fillWithOriginalValue("sprint_interval_duration",e,7)}}fieldsChangedByRoadmapView(e,t){var r={},n=U[e].includes(t)?t:G[e];return this.fillSubstyleFields(n,r),r.view_style=e,r}fieldsChangedByTimelineStyle(e){var t={};return this.fillSubstyleFields(e,t),t}handleRoadmapViewChange(e){var t=this.props.formData.fieldFor("timeline_style").value,r=this.fieldsChangedByRoadmapView(e,t);this.updateFieldsAndErrors(r)}handleTimelineStyleChange(e){var t=this.fieldsChangedByTimelineStyle(e);this.updateFieldsAndErrors(t)}updateFieldsAndErrors(e){this.props.formData.update(e);var t={};Object.keys(e).forEach((e=>t[e]="")),this.props.formData.setErrors(t)}getViewStyle(){return this.props.formData.fieldFor("view_style").value}renderViewStyle(){var e=this.props.formData.fieldFor("view_style");e.onChange=e=>{this.handleRoadmapViewChange(e.target.value)};var t=(e,t,r)=>l().createElement(V,{style:e,checked:t,name:r}),r=["timeline","list"].map((e=>l().createElement(I,{displayName:a()(e),id:e,key:e,renderThumbImage:t,value:e})));return l().createElement(P,{field:e,name:"view_style"},r)}renderTimelineStyle(){var e=this.props.formData.fieldFor("timeline_style");e.onChange=e=>{this.handleTimelineStyleChange(e.target.value)};var t=[].concat(U[this.getViewStyle()]);return this.props.preventTagStyle&&(t=t.filter((e=>e!==M.Z.TAGS))),t=t.map((e=>({value:e,label:e}))),l().createElement(m.Z,{editMode:!0,tethered:!0,className:"js-timeline-style",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:e,label:"Style",options:t,placeholder:"Select Style",tetherClassName:"settings-select-outer-tethered"})}renderFiscalYearStart(e){if(!e.showFiscalMonth)return null;var t=["January","February","March","April","May","June","July","August","September","October","November","December"].map(((e,t)=>({value:t+1,label:e})));return l().createElement(m.Z,{editMode:!0,tethered:!0,className:"js-fiscal-year-first-month",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:this.props.formData.fieldFor("fiscal_year_first_month"),label:"Fiscal Year First Month",options:t,placeholder:"Select month",tetherClassName:"settings-select-outer-tethered"})}renderDisplayGrid(e){if(this.getViewStyle()!==H){var t=[{value:"none",label:"(None)"},{value:"months",label:"Months"}];return-1!==e.gridOptions.indexOf("quarters")&&t.push({value:"quarters",label:"Quarters"}),-1!==e.gridOptions.indexOf("weeks")&&t.push({value:"weeks",label:"Weeks"}),-1!==e.gridOptions.indexOf("sprints")&&t.push({value:"sprints",label:"Sprints"}),l().createElement(m.Z,{editMode:!0,tethered:!0,className:"js-display-grid",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:this.props.formData.fieldFor("display_grid"),label:"Display Grid",options:t,placeholder:"Select grid style",tetherClassName:"settings-select-outer-tethered"})}}resetIntervalsToDisplayIfInvalid(){var e=this.state.maxIntervalsToDisplay,t=this.props.formData.fieldFor("intervals_to_display");$(t.value,e)||(this.props.formData.update({intervals_to_display:e.toString()}),this.props.formData.setErrors({intervals_to_display:[]}))}renderIntervalsToDisplay(e){return this.getViewStyle()===H?null:l().createElement("div",{className:"row"},l().createElement("div",{className:"col-xs-6"},l().createElement(f.Z,{editMode:!0,className:"js-intervals-to-display",componentClass:"input",field:this.props.formData.fieldFor("intervals_to_display"),label:"".concat(e.unitsLabel," to display *"),min:"1",step:"1",type:"number"})))}render(){var e=K(this.props.formData);return l().createElement(p.Z,{className:"form-vertical"},this.renderViewStyle(e),this.renderTimelineStyle(e),this.renderFiscalYearStart(e),this.renderDisplayGrid(e),this.renderDates(e),"Sprints"===this.props.formData.fieldFor("timeline_style").value&&l().createElement(q,{formData:this.props.formData}),this.renderIntervalsToDisplay(e))}}Z(W,"propTypes",{formData:u().object.isRequired,isActivePane:u().bool,preventTagStyle:u().bool}),Z(W,"defaultProps",{preventTagStyle:!1});var z=e=>{var t=K(e).unitsLabel.toLowerCase(),r=A()(e.fieldFor("end_date").value,h.Z.dateFormat),n=A()(e.fieldFor("start_date").value,h.Z.dateFormat);if("sprints"===t){var a=r.diff(n,"days")+1,o=Number(e.fieldFor("sprint_interval_duration").value);return Math.ceil(a/o)}return r.diff(n,t)+1},$=(e,t)=>Number(e)<=t,K=e=>{switch(e.fieldFor("timeline_style").value){case"(None)":return{showFiscalMonth:!1,gridOptions:["none","months"],unitsLabel:"Months"};case"Weeks":return{showFiscalMonth:!1,gridOptions:["none","months","quarters","weeks"],unitsLabel:"Weeks"};case"Years":case"Months":return{showFiscalMonth:!1,gridOptions:["none","months","quarters"],unitsLabel:"Months"};case"Quarters":case"Months and Quarters":return{showFiscalMonth:!0,gridOptions:["none","months","quarters"],unitsLabel:"Months"};case"Sprints":return{showFiscalMonth:!1,gridOptions:["none","months","quarters","sprints"],unitsLabel:"Sprints"};case"Legends":case"Tags":return{showFiscalMonth:!1,gridOptions:["none"],unitsLabel:""}}};const Y=W},75552:(e,t,r)=>{"use strict";r.d(t,{Y:()=>h,f:()=>u});var n=r(67294),a=r.n(n),o=r(48414),i=r(7440);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){var e;!function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];f(e,"click",t,r)}("#settings a[id^='settings-tab-']",(e=>{d("tabClick",{tab:$(e.target).text()})})),e="General",p("#settings-pane-General input#name",(()=>{d("changeField",{pane:e,field:"name"})})),p("#settings-pane-General textarea#description",(()=>{d("changeField",{pane:e,field:"description"})})),f("#style-slider","slidestop",((t,r)=>{d("changeField",{pane:e,field:"bar_style",value:r.value})})),m("effort_type",((t,r)=>{d("changeField",{pane:e,field:t,value:r})})),m("included_roadmaps",((t,r)=>{d("changeField",{pane:e,field:t,value:r})})),m("legend_style",((t,r)=>{d("changeField",{pane:e,field:t,value:r})})),m("lane_style",((t,r)=>{d("changeField",{pane:e,field:t,value:r})})),function(){var e="Layout";p("#settings-pane-Layout input#view_style",(t=>{d("changeField",{pane:e,field:"layout",value:t.target.value})})),m("timeline_style",((t,r)=>{d("changeField",{pane:e,field:t,value:r})})),m("fiscal_year_first_month",((t,r)=>{d("changeField",{pane:e,field:t,value:r})})),m("display_grid",((t,r)=>{d("changeField",{pane:e,field:t,value:r})})),(0,i.useEventsChannel)("START_DATE_FIELD_CHANGE",(t=>{d("changeField",{pane:e,field:"start_date",value:t.target.value})})),(0,i.useEventsChannel)("END_DATE_FIELD_CHANGE",(t=>{d("changeField",{pane:e,field:"end_date",value:t.target.value})})),p("#settings-pane-Layout input#sprint_interval_duration",(t=>{d("changeField",{pane:e,field:"sprint_interval_duration",value:t.target.value})})),p("#settings-pane-Layout input#sprint_interval_offset",(t=>{d("changeField",{pane:e,field:"sprint_interval_offset",value:t.target.value})})),p("#settings-pane-Layout input#intervals_to_display",(t=>{d("changeField",{pane:e,field:"intervals_to_display",value:t.target.value})}))}()}function d(e,t){(0,o.logPageAction)("SettingsModal - ".concat(e),l(l({},t),h()))}function h(){var e=window.currentRoadmapable,t=$(".modal-title").text();return e?e.isMasterPlan()?{roadmapableId:e.roadmapableId(),isPortfolio:!0}:"New View"===t?{roadmapableId:e.roadmapableId(),isPortfolio:!1}:{roadmapableId:e.roadmapableId(),isPortfolio:!1,isPrimaryView:e.isPrimaryView(),viewId:e.currentViewId}:{isPortfolio:"New Portfolio View"===t}}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];a().useEffect((()=>($(document).on("change",e,t),()=>$(document).off("change",e,t))),r)}function f(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];a().useEffect((()=>($(e).on(t,r),()=>$(e).off(t,r))),n)}function m(e,t){(0,i.useEventsChannel)("SELECT_FIELD_CHANGE_".concat(e),(r=>t(e,r.target.value)))}},79213:(e,t,r)=>{"use strict";r.d(t,{Z:()=>G,p:()=>F});var n=r(18446),a=r.n(n),o=r(50361),i=r.n(o),s=r(66073),l=r.n(s),c=r(67294),u=r.n(c),d=r(45697),h=r.n(d),p=r(88090),f=r(65415),m=r(38422),v=r(99449),g=r(56177),y=r(78318),b=r(29816),w=r(49546),C=r(34428),E=r(85008),_=r(73935),x=r.n(_);const L=class{constructor(e){this.domId=e}create(){var e=this.element;e||(e=$("<div id=".concat(this.domId,"></div>")),$("body").append(e))}get element(){return document.getElementById(this.domId)}unmount(){var e=this.element;e&&(x().unmountComponentAtNode(e),e.remove())}};var P=r(39012),O=r(75552),S=r(58909);var k=r(55652),T=r(39219);function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function j(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){j(o,n,a,i,s,"next",e)}function s(e){j(o,n,a,i,s,"throw",e)}i(void 0)}))}}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=h().shape({acceptsFormData:h().bool,content:h().func.isRequired,icon:h().oneOfType([h().string,h().object]).isRequired,iconType:h().string,props:h().object,title:h().string.isRequired,inactiveClasses:h().func}),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r(55705).ZP,a=r(32646).ZP,o=window,i=o.currentRoadmapable,s=i.roadmapableId(),l=i.currentViewId,c=i.isMasterPlan()?window.ProductPlan.masterPlanView.handleSettingsUpdate:window.ProductPlan.roadmapView.handleSettingsUpdate;if(i.isPrimaryView()){var u=i.isMasterPlan()?n:a.roadmapSettings;return u(s,l,c,e)}return a.childViewSettings(s,l,c,e,t)};class V extends u().Component{constructor(){var e;super(...arguments),e=this,N(this,"handleSettingsDialogLinkClicked",function(){var t=M(A().mark((function t(r){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isDirty){t.next=10;break}return t.next=3,C.Z.showAsync({title:"Unsaved Changes",message:"You are about to leave the ".concat(e.props.discardChangesSubjectName," with unsaved changes. Save to continue to the ").concat(r.name," or cancel to go back."),confirmButtonLabel:"Save and continue",buttonContainerClassname:"settings-confirm-modal-link-btn-container"});case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,e.handleSubmit(null,r.url);case 8:t.next=11;break;case 10:k.ProductPlan.changeLocation(r.url);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),N(this,"onError",(e=>{var t=e.base?e:{errors:e},r=this.detectPaneError(e);this.setState({errors:t,submitting:!1,activeKey:r})})),N(this,"handleSelect",(e=>{this.setState({activeKey:e})}));var t=this.props,r=t.panes,n=t.formData,a=t.activeKey;this.fieldMap={},this.panes=r,this.panes.map((e=>{e.content.defaultFormData&&l()(e.content.defaultFormData,((t,r)=>{this.fieldMap[r]=e.title}))})),this.initialFormData=n?i()(n):this.unionOfPanesDefaultFormData();var o=!1;null!=a&&(this.panes.find((e=>e.title===a))?o=!0:console.warn("Tried to open settings to ".concat(a,", which is not a valid option. Options: ").concat(JSON.stringify(r.map((e=>e.title))))));this.state={activeKey:o?a:this.panes[0].title,formData:this.initialFormData,errors:null,isDirty:!1,submitting:!1},this.handleHide=this.handleHide.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleFormChanged=this.handleFormChanged.bind(this),this.handleErrorsChange=this.handleErrorsChange.bind(this),this.handleEscKey=this.handleEscKey.bind(this)}addEscListener(){$("body").on(V.escEventName,this.handleEscKey)}removeEscListener(){$("body").off(V.escEventName)}componentDidMount(){this.addEscListener(),S.default.subscribe(V.linkEventChannelName,this.handleSettingsDialogLinkClicked)}componentWillUnmount(){this.removeEscListener(),S.default.unsubscribe(V.linkEventChannelName,this.handleSettingsDialogLinkClicked)}unionOfPanesDefaultFormData(){var e={};return this.panes.forEach((t=>{!1!==t.acceptsFormData&&(e=R(R({},e),t.content.defaultFormData))})),e}handleFormChanged(e){var t=D({},this.state.formData);e.targets&&e.targets.forEach((e=>{t[e.id]=e.value}));var r=e.target;r&&(t[r.id]=r.value),this.setState({formData:t,isDirty:!a()(this.initialFormData,t)})}handleErrorsChange(e){this.setState((t=>{var r=D({},t.errors);return Object.keys(e).forEach((t=>{r[t]=e[t]})),{errors:r,submitting:!1}}))}handleHide(){this.state.isDirty?C.Z.show({title:"Discard Changes",message:"You have unsaved changes on this ".concat(this.props.discardChangesSubjectName,". Are you sure you want to discard those changes?"),confirmButtonLabel:"Discard",confirmCallback:this.props.onExited,confirmButtonVariation:"danger"}):this.props.onExited()}handleEscKey(e){27===e.keyCode&&this.handleHide()}detectPaneError(e){var t=[];return l()(e,((e,r)=>{this.fieldMap[r]&&(t.includes(this.fieldMap[r])||t.push(this.fieldMap[r]))})),t.includes(this.state.activeKey)?this.state.activeKey:t[0]}renderPaneIcon(e){var t=e.icon;return"svg"===e.iconType?u().createElement("svg",{className:"pp-icon ".concat(t,"-icon")},u().createElement("use",{xlinkHref:"#".concat(t,"-icon-symbol")})):u().createElement(P.Z,{name:t})}handleSubmit(e,t){var r=this;return M(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==r.state.submitting){e.next=2;break}return e.abrupt("return");case 2:if(r.setState({submitting:!0}),r.validateForm(r.formData())){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,r.props.onSubmit(r.state.formData).catch(r.onError);case 8:t&&k.ProductPlan.changeLocation(t);case 9:case"end":return e.stop()}}),e)})))()}validateForm(e){var t={};return this.validateLayoutPane(e,t),!Object.keys(t).length||(t.base=[],this.onError(t),!1)}validateLayoutPane(e,t){if(this.panes.some((e=>"Layout"===e.title))&&"timeline"==e.data.view_style){var r=(0,T.tv)(e),n=e.data.intervals_to_display;if(!(0,T.qx)(n,r)){var a=(0,T.iJ)(e).unitsLabel.toLowerCase(),o="Number of ".concat(a," to display cannot exceed the timeline's dates");t.intervals_to_display=[o]}}}formData(){return new E.Z(this.state.formData,this.state.errors,this.handleFormChanged,this.handleErrorsChange)}baseError(){return this.state.errors&&this.state.errors.base&&0!==this.state.errors.base.length?this.state.errors.base:null}render(){var e=this.formData(),t=this.baseError();return u().createElement(p.Z,{show:!0,animation:!1,className:"settings-dialog",enforceFocus:!1,keyboard:!1,onExited:this.props.onExited,onHide:this.handleHide,onKeyDown:this.handleKeyDown},u().createElement(p.Z.Header,{closeButton:!0,className:"pp-modal-header"},u().createElement(p.Z.Title,{componentClass:"h3"},this.props.title||"Settings")),u().createElement(p.Z.Body,null,u().createElement(f.Z,{activeKey:this.state.activeKey,defaultActiveKey:this.panes[0].title,id:"settings",onSelect:this.handleSelect},u().createElement("div",{className:"settings-content ".concat(this.props.extraSettingsClasses)},u().createElement("div",{className:"sections-holder"},u().createElement(m.Z,null,this.panes.map((t=>{var r,n=this.state.activeKey!==t.title&&(null===(r=t.inactiveClasses)||void 0===r?void 0:r.call(t,e));return u().createElement(v.Z,{eventKey:t.title,key:t.title,className:n},u().createElement("div",{className:"settings-nav-icon"},this.renderPaneIcon(t)),u().createElement("span",{className:"settings-nav-text"},t.title))})))),u().createElement("div",{className:"section-content-holder"},u().createElement("div",{className:"section-content"},u().createElement(g.Z,{animation:!1},this.panes.map((r=>u().createElement(U,{error:t,formData:e,isActivePane:this.state.activeKey===r.title,key:r.title,pane:r}))))))))),u().createElement(p.Z.Footer,null,u().createElement(y.Z,{bsStyle:"success",className:"js-submit",disabled:this.state.submitting,onClick:this.handleSubmit},this.props.submitText||"Save"),u().createElement(y.Z,{className:"js-cancel",onClick:this.handleHide},"Cancel")),u().createElement(Z,null))}}function Z(){return(0,O.f)(),null}N(V,"escEventName","keydown.sessionDetailsEsc"),N(V,"propTypes",{formData:h().object,discardChangesSubjectName:h().string.isRequired,submitText:h().string,title:h().string,panes:h().arrayOf(B).isRequired,extraSettingsClasses:h().string,activeKey:h().string,onExited:h().func.isRequired,onSubmit:h().func.isRequired}),N(V,"defaultProps",{extraSettingsClasses:""}),N(V,"mountPoint",new L("new-settings-dialog-mount")),N(V,"linkEventChannelName","SETTINGS_DIALOG_LINK_CLICKED"),V.panePropType=B;class U extends u().Component{render(){var e=this.props.pane,t=D({},e.props||{});return!1!==e.acceptsFormData&&(t.formData=this.props.formData,t.isActivePane=this.props.isActivePane),u().createElement(b.Z,{eventKey:e.title},this.props.error&&u().createElement(w.Z,{bsStyle:"danger",className:"settings-dialog__general-error"},this.props.error),u().createElement(e.content,t))}}N(U,"propTypes",{error:h().array,formData:h().object.isRequired,pane:V.panePropType.isRequired,isActivePane:h().bool});const G=V},55058:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>R,o2:()=>N});var n=r(7739),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(56264),u=r.n(c),d=r(11579),h=r(48414),p=r(75552),f=r(3759),m=r(12902),v=r(49546),g=r(54228),y=r(95234),b=r(78318),w=r(39012);var C=r(71460),E=["columns","setColumns","editableColumns"];function _(e){return I(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||k()}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S(e,t){return I(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||T(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(e){if("string"===typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){if(Array.isArray(e))return e}function R(e){var t=e.formData,r=e.children,n=function(e,t){var r=(0,d.Hw)(M(e)),n=r.columns,a=r.setColumns,o=r.editableColumns,s=O(r,E);function l(t){var r,n,o;a(M((r=e,n=t,o=u().decamelizeKeys(n),(0,m.ZP)(r,(e=>{e.show_untagged=o.show_untagged,e.show_no_legend=o.show_no_legend,e.show_untagged_milestones=o.show_untagged_milestones,j(e.lane_view_filters,o.lane_view_filters),j(e.legend_view_filters,o.legend_view_filters),j(e.tag_view_filters,o.tag_view_filters),e.custom_label_view_filters.forEach((e=>{var t=o.custom_label_view_filters.find((t=>t.id===e.id));t&&j(e.filters,t.filters)}))})))))}return function(e){function t(e,t){(0,h.logPageAction)("ViewFilters - ".concat(e),L(L({},t),(0,p.Y)()))}e.forEach((e=>{var r=e.type,n=e.onCheckColumn,a=e.onUncheckColumn,o=e.filters;e.onCheckColumn=function(){n(...arguments),t("column",{type:r,action:"show"})},e.onUncheckColumn=function(){a(...arguments),t("column",{type:r,action:"hide"})},o.forEach((e=>{var n=e.onClick,a=e.included,o=e.id;e.onClick=function(){n(...arguments),t("single",{type:r,action:a?"hide":"show",filterId:o})}}))}))}(o),i().useEffect((()=>{t(function(e,t){var r=_(t),n=r[0],a=r[1],o=r[2],i=r.slice(3),s=n.filters,l=_(a.filters),c=l[0],u=l.slice(1),d=_(o.filters),h=d[0],p=d[1],f=d.slice(2);return{show_no_legend:c.included,show_untagged:h.included,show_untagged_milestones:p.included,lane_view_filters:F(e.lane_view_filters,s),legend_view_filters:F(e.legend_view_filters,u),tag_view_filters:F(e.tag_view_filters,f),custom_label_view_filters:e.custom_label_view_filters.map((e=>L(L({},e),{},{filters:F(e.filters,i.find((t=>t.id===e.id)).filters)})))}}(e,n))}),[n]),L({columns:n,layerViewFiltersIntoForm:l,editableColumns:o},s)}(t.data,t.update),a=n.editableColumns,o=n.layerViewFiltersIntoForm;return i().createElement("div",{className:"view-filter-pane","data-name":"view-filter-pane",style:{paddingBottom:"25px"}},r,i().createElement(A,{layerViewFiltersIntoForm:o}),i().createElement(d.Dm,{columns:a}))}function A(e){var t,r=e.layerViewFiltersIntoForm,n=(0,C.Pl)({id:null===(t=window.currentRoadmapable)||void 0===t?void 0:t.currentViewId}),a=S(i().useState(!0),2),o=a[0],s=a[1];if(null===n||void 0===n||!n.data)return null;var l=N({data:u().decamelizeKeys(n.data)}),c=f.Z.hasFilters();return(l||c)&&o?i().createElement(v.Z,{bsStyle:"info",className:"personal-filter-message view-filter-message"},i().createElement("span",null,i().createElement(g.Z,{placement:"top",rootClose:!0,overlay:i().createElement(y.Z,{id:"popover-info-role"},"Your current view has view filters and/or personal filters")},i().createElement(w.Z,{name:w.c.infoCircle})),"Use filters from your current view."),i().createElement(b.Z,{onClick:e=>{e.target.blur();var t=f.Z.mergeWithViewFilters(u().decamelizeKeys(n.data));r(t);var a="New View"===$(".modal-title").text();(0,h.logPageAction)("Click on Apply Filters CTA",{viewId:a?null:window.currentRoadmapable.currentViewId,layout:a?null:window.currentRoadmapable.defaultLayout,isPortfolio:window.currentRoadmapable.isMasterPlan(),isPrimary:window.currentRoadmapable.isPrimaryView(),isVersion:window.currentRoadmapable.isSnapshot,hasViewFilters:l,hasPersonalFilters:c,source:"ViewFilterPane"}),s(!1)}},"Apply Filters")):null}function j(e,t){var r,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}(t);try{var a=function(){var t=r.value,n=e.find((e=>e.filter_id===t.filter_id||e.filterId===t.filter_id));n&&(n.included=t.included)};for(n.s();!(r=n.n()).done;)a()}catch(o){n.e(o)}finally{n.f()}}function M(e){var t=B(e.lane_view_filters,(e=>e.name)),r=B(e.legend_view_filters,(e=>"".concat(e.name,"-").concat(e.color))),n=B(e.tag_view_filters,(e=>e.name)),a=[{id:"Lanes",name:"Lanes",type:"lane",filters:t},{id:"Legends",name:"Legends",type:"legend",filters:[{id:"show_no_legend",name:"(None)",included:e.show_no_legend},...r]},{id:"Tags",name:"Tags",type:"tag",filters:[{id:"show_untagged",name:"Untagged Bars",included:e.show_untagged},{id:"show_untagged_milestones",name:"Untagged Milestones",included:e.show_untagged_milestones},...n]}];return e.custom_label_view_filters.forEach((e=>a.push({id:e.id,name:e.name,type:"custom",filters:B(e.filters,(e=>"".concat(e.name,"-").concat(e.color)))}))),a}function N(e){var t=e.data;return!1===t.show_no_legend||!1===t.show_untagged||!1===t.show_untagged_milestones||t.tag_view_filters.some((e=>!1===e.included))||t.lane_view_filters.some((e=>!1===e.included))||t.legend_view_filters.some((e=>!1===e.included))||t.custom_label_view_filters.some((e=>e.filters.some((e=>!1===e.included))))}function B(e,t){var r=a()(e,t);return Object.values(r).map((e=>L(L({},e[0]),{},{consolidatedFrom:e.map((e=>e.id))})))}function F(e,t){return e.map((e=>{var r=t.find((t=>t.consolidatedFrom.includes(e.id)));return L(L({},e),{},{included:r.included})}))}R.propTypes={formData:l().object,children:l().any},Object.defineProperty(R,"defaultFormData",{get:()=>({lane_view_filters:[],legend_view_filters:[],tag_view_filters:[],show_untagged:!0,show_untagged_milestones:!0,show_no_legend:!0,custom_label_view_filters:[]})}),A.propTypes={layerViewFiltersIntoForm:l().func}},91088:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n=r(82723),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(45771),u=r(79213),d=r(39219),h=r(6778),p=r(83424),f=r(23657),m=r(89476),v=r(77271),g=r(7736),y=r(77480),b=r(74527);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w.apply(this,arguments)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(){_=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function x(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){x(o,n,a,i,s,"next",e)}function s(e){x(o,n,a,i,s,"throw",e)}i(void 0)}))}}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O extends i().Component{render(){var e=this.props,t=e.id,r=e.children,n=e.disabled,a=e.value,o=e.onRemove;return i().createElement("div",{className:"Select-value included-roadmap-value"},i().createElement("div",{className:"Select-value-label",id:t},r),i().createElement("span",{className:"Select-value-icon included-roadmap-icon pull-right",onMouseDown:e=>{n||o(a),e.stopPropagation()}},i().createElement(p.Z,{id:"close-icon"})))}}class S extends i().Component{constructor(){var e;super(...arguments),e=this,P(this,"loadAvailableRoadmaps",L(_().mark((function t(){var r;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.availableRoadmapOptionsCache){t.next=2;break}return t.abrupt("return",{options:e.availableRoadmapOptionsCache});case 2:return t.prev=2,t.next=5,b.default.currentUser.roadmaps();case 5:return r=t.sent,e.availableRoadmapOptionsCache=e.mapRoadmapsToOptions(r.data),t.abrupt("return",{options:e.availableRoadmapOptionsCache});case 10:t.prev=10,t.t0=t.catch(2),e.setState({errorLoading:!0});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))),this.state={errorLoading:!1},this.availableRoadmapOptionsCache=this.mapRoadmapsToOptions(this.props.availableRoadmaps)}mapRoadmapsToOptions(e){return e&&0!==e.length?e.map((e=>{var t=C(e,2);return{label:t[0],value:t[1]}})):null}formField(){var e=this.props.formData.fieldFor("included_roadmaps");return this.state.errorLoading&&e.errors.push("Failed loading available Roadmaps. Please close the settings and try again or contact support if the problem persists."),e}render(){return i().createElement(g.Z,{async:!0,editMode:!0,multi:!0,sortable:!0,tethered:!0,backspaceRemoves:!1,className:"js-roadmaps-to-include",clearable:!1,creatable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:this.formField(),label:"Roadmaps To Include",loadOptions:this.loadAvailableRoadmaps,loadingPlaceholder:"Loading available roadmaps...",options:this.availableRoadmapOptionsCache||[],placeholder:"Select roadmaps to include",searchPromptText:"",tetherClassName:"settings-select-outer-tethered",valueComponent:O})}}P(S,"propTypes",{formData:l().object.isRequired,availableRoadmaps:l().array.isRequired});class k extends i().Component{static get defaultFormData(){return{name:"",description:"",included_roadmaps:"",bar_style:"normal",legend_style:"consolidated",lane_style:y.hn}}render(){return i().createElement("div",{className:"portfolio-view-setting-general-tab"},i().createElement(h.Z,{className:"form-vertical"},i().createElement(f.Z,{editMode:!0,field:this.props.formData.fieldFor("name")}),i().createElement(v.Z,w({editMode:!0,label:"Description"},this.props.formData.fieldFor("description"))),i().createElement(S,{availableRoadmaps:this.props.availableRoadmaps,formData:this.props.formData}),i().createElement(m.Z,{field:this.props.formData.fieldFor("bar_style")}),i().createElement(g.Z,{editMode:!0,tethered:!0,className:"js-legend-style",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:this.props.formData.fieldFor("legend_style"),label:"Legend Style",options:k.legendOptions,tetherClassName:"settings-select-outer-tethered"}),i().createElement(g.Z,{editMode:!0,tethered:!0,className:"js-lane-style",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:this.props.formData.fieldFor("lane_style"),label:"Lane Style",options:k.laneOptions,tetherClassName:"settings-select-outer-tethered",tetherAttachment:"bottom left"})))}}P(k,"propTypes",{formData:l().object.isRequired,availableRoadmaps:l().array.isRequired}),P(k,"legendOptions",[{value:y.HN,label:"Maintain Original Colors"},{value:y.oY,label:"One Color per Roadmap"},{value:y.pV,label:"Consolidated Legend"}]),P(k,"laneOptions",[{value:y.hn,label:"Maintain Original"},{value:y.t3,label:"Consolidate by Roadmap"},{value:y.EE,label:"Consolidate by Lane Title"}]);const T=k;var D=r(39012),I=r(33284),R=r(22314);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class B extends i().Component{constructor(){super(...arguments);var e=this.props.isLoading?[]:this.buildPanes();this.state={panes:e}}buildPanes(){var e=[];e.push({content:T,icon:D.c.infoCircle,title:"General",props:{availableRoadmaps:this.props.availableRoadmaps}});var t={icon:D.c.th,title:"Layout"};return e.push(M(M({content:d.ZP},t),{},{props:{preventTagStyle:!1}})),this.props.panes&&(e=e.concat(this.props.panes)),e}componentDidUpdate(){if(this.props.isError)return I.Z.show({title:"Error",message:"An error occurred, please try again or contact support if the problem persists."}),void this.props.onExited();if(!this.props.isLoading&&!this.state.panes.length){var e=this.buildPanes();this.setState({panes:e})}}render(){var e=a()(this.props,["availableRoadmaps","panes"]);return this.props.isLoading||!this.state.panes.length?i().createElement(R.AjaxLoaderComponent,null):i().createElement(u.Z,A({discardChangesSubjectName:"Portfolio View",panes:this.state.panes},e))}}N(B,"mountPoint",u.Z.mountPoint),N(B,"propTypes",{panes:l().arrayOf(u.Z.panePropType),availableRoadmaps:l().array,isLoading:l().bool,isError:l().bool,onExited:l().func}),N(B,"defaultPanes",[T,d.ZP]),(0,c.Z)(B.mountPoint,B);const F=B},91668:(e,t,r)=>{"use strict";r.d(t,{Z:()=>O});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(45771),l=r(79213),c=r(39219),u=r(6778),d=r(23657),h=r(89476),p=r(77271);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v extends a().Component{constructor(){super(...arguments),m(this,"handleFormSubmit",(e=>{e.preventDefault()}))}static get defaultFormData(){return{name:"",description:"",bar_style:"normal"}}renderName(){return a().createElement(d.Z,{editMode:!0,field:this.props.formData.fieldFor("name"),label:"View Title"})}renderDescription(){return a().createElement(p.Z,f({editMode:!0,label:"View Description"},this.props.formData.fieldFor("description")))}renderRoadmapStyle(){return a().createElement(h.Z,{field:this.props.formData.fieldFor("bar_style")})}render(){return a().createElement(u.Z,{className:"form-vertical",onSubmit:this.handleFormSubmit},this.renderName(),this.renderDescription(),this.renderRoadmapStyle())}}m(v,"propTypes",{formData:i().object.isRequired});const g=v;var y=r(39012),b=r(22314),w=r(33284),C=["panes"];function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class P extends a().Component{constructor(){super(...arguments),this.panes=[],this.panes.push({content:g,icon:y.c.infoCircle,title:"General"});var e={icon:y.c.th,title:"Layout"};this.panes.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){L(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({content:c.ZP},e)),this.props.panes&&(this.panes=this.panes.concat(this.props.panes))}componentDidUpdate(){this.props.isError&&(w.Z.show({title:"Error",message:"An error occurred, please try again or contact support if the problem persists."}),this.props.onExited())}render(){var e=this.props,t=(e.panes,_(e,C));return this.props.isLoading?a().createElement(b.AjaxLoaderComponent,null):a().createElement(l.Z,E({discardChangesSubjectName:"roadmap view",panes:this.panes,title:"View Settings"},t))}}L(P,"mountPoint",l.Z.mountPoint),L(P,"propTypes",{panes:i().arrayOf(l.Z.panePropType),isLoading:i().bool,isError:i().bool,onExited:i().func}),L(P,"defaultPanes",[g,c.ZP]),(0,s.Z)(P.mountPoint,P);const O=P},72027:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var n=r(18446),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(45771),u=r(91668),d=r(55058),h=r(39012),p=r(7440),f=r(71460),m=r(27521),v=r(18641),g=r(56264),y=r.n(g),b=r(10883),w=r(32646);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C.apply(this,arguments)}function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class k extends i().Component{static get defaultFormData(){var e={};return u.Z.defaultPanes.forEach((t=>{e=O(O({},e),t.defaultFormData)})),e=O(O({},e),d.ZP.defaultFormData)}constructor(){var e;super(...arguments),e=this,S(this,"handleSubmit",function(){var t,r=(t=E().mark((function t(r,n,a,o){var i,s,l,c,u,d,h,p;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=[a.mutateAsync({viewId:e.props.viewId,data:r})],(s=e.haveViewFiltersChanged(r,n))&&i.push(o.mutateAsync({viewId:e.props.viewId,data:r})),(l=e.hasDefaultLayoutChanged(r,n))&&i.push(v.$.save(r.view_style)),window.showAJAXLoaderModal(),t.prev=6,t.next=9,Promise.allSettled(i);case 9:if(c=t.sent,u=_(c,2),d=u[0],h=u[1],"rejected"!==d.status){t.next=15;break}throw d.reason;case 15:if("rejected"!==(null===h||void 0===h?void 0:h.status)){t.next=17;break}throw h.reason;case 17:p=s||l,e.onSuccess(d.value,p);case 19:return t.prev=19,window.hideAJAXLoaderModal(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[6,,19,22]])})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){L(o,n,a,i,s,"next",e)}function s(e){L(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e,t,n,a){return r.apply(this,arguments)}}()),this.panes=[],this.panes.push({content:d.ZP,icon:h.c.filter,props:{viewId:this.props.viewId,children:i().createElement("p",{id:"filters-helper-text"},"Save filters to this view for sharing with others.")},title:"View Filter",inactiveClasses:e=>({"bold-blue":(0,d.o2)(e)})})}haveViewFiltersChanged(e,t){return Object.keys(d.ZP.defaultFormData).some((r=>!a()(t[r],e[r])))}hasDefaultLayoutChanged(e,t){var r=t.view_style,n=e.view_style&&r,a=e.view_style!==r;return n&&a}onSuccess(){this.props.onExited(),this.props.onSuccess(...arguments)}render(){var e=C({},this.props);return delete e.onSuccess,delete e.viewId,delete e.roadmapId,i().createElement(m.aH,null,i().createElement(p.HookProvider,{useHook:()=>{return e=this.props.viewId,t=_(i().useState(),2),r=t[0],n=t[1],a=(0,f.v9)(e,{enabled:!r,notifyOnChangeProps:["data","isError","isStale"]}),o=(0,f.Pl)({id:e},{enabled:!r,notifyOnChangeProps:["data","isError","isStale"]}),s=!a.data||!o.data,l=a.isFetching||o.isFetching,i().useEffect((()=>{if(!s&&!l){var e=function(e,t){if(e&&t){var r=y().decamelizeKeys(e),n=y().decamelizeKeys(t),a=(0,b.P)(r,k.defaultFormData,w.is);return(a=(0,b.Q)(a,w.ol)).tag_view_filters=n.tag_view_filters,a.lane_view_filters=n.lane_view_filters,a.legend_view_filters=n.legend_view_filters,a.show_untagged=n.show_untagged,a.show_untagged_milestones=n.show_untagged_milestones,a.show_no_legend=n.show_no_legend,a.custom_label_view_filters=n.custom_label_view_filters,a}}(a.data,o.data);n(e)}}),[s,l,a.data,o.data]),{isLoading:!r,isError:a.isError||o.isError,formData:r,updateView:(0,f.X)(),bulkUpdateViewFilters:(0,f.ZJ)()};var e,t,r,n,a,o,s,l}},(t=>{var r=t.formData;return i().createElement(u.Z,C({panes:this.panes,onSubmit:e=>this.handleSubmit(e,r,t.updateView,t.bulkUpdateViewFilters)},e,t))})))}}S(k,"propTypes",{onExited:l().func.isRequired,onSuccess:l().func.isRequired,viewId:l().number.isRequired,activeKey:l().string}),(0,c.Z)(u.Z.mountPoint,k);const T=k},17678:(e,t,r)=>{"use strict";r.d(t,{Z:()=>se});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(45771),l=r(79213),c=r(33284),u=r(39219),d=r(6778),h=r(23657),p=r(89476),f=r(7736),m=r(77271),v=r(55652),g=r(73935),y=r.n(g),b=r(88090),w=r(78318),C=r(8876);function E(){E=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function P(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){L(o,n,a,i,s,"next",e)}function s(e){L(o,n,a,i,s,"throw",e)}i(void 0)}))}}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T="legend-migration-dialog";function D(e){var t=$(".settings-dialog");t&&(e?t.show():t.hide())}function I(e){null===document.querySelector("#".concat(T))&&document.body.insertAdjacentHTML("beforeend",'<div id="'.concat(T,'"></div>'));var t=document.querySelector("#".concat(T));return new Promise((r=>{var n=S(S({},e),{},{confirmCallback:e=>r(e),cancelCallback:()=>r(void 0)});y().render(a().createElement(M,n),t)}))}function R(){return A.apply(this,arguments)}function A(){return(A=P(E().mark((function e(){var t;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==(t=document.querySelector("#".concat(T)))&&(y().unmountComponentAtNode(t),t.remove());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return e.map((e=>{var t,r=null===(t=e.palette_color)||void 0===t?void 0:t.hex;return{id:e.id,name:e.name,color:void 0===r?"":"#".concat(r)}}))}function M(e){var t=_(a().useState(e.label_mappings),2),r=t[0],n=t[1];return a().useEffect((()=>(D(!1),()=>D(!0))),[]),a().createElement(b.Z,{show:!0,animation:!1,className:"label-group-transformation-dialog",onExited:R,onHide:R},a().createElement("form",{onSubmit:function(t){t.preventDefault(),e.confirmCallback({from_label_group_id:e.from_label_group.id,to_label_group_id:e.to_label_group.id,label_mappings:r}),R()}},a().createElement(b.Z.Header,{closeButton:!0,className:"pp-modal-header"},a().createElement(b.Z.Title,{componentClass:"h3"},"Map Labels")),a().createElement(b.Z.Body,null,a().createElement("div",{className:"mapping-message"},a().createElement("span",null,"How should "),a().createElement("span",{className:"with-emphasis"},"labels on bars and containers be migrated "),a().createElement("span",null,"to the new legend?")),a().createElement("div",{className:"mapping-content"},a().createElement("div",{className:"mapping-content__column from-column"},a().createElement("div",{className:"mapping-content__column__header"},a().createElement("div",{className:"mapping-content__column__header__title"},"Current"),a().createElement("div",{className:"mapping-content__column__header__legend-name"},e.from_label_group.name)),a().createElement("div",{className:"mapping-content__column__list"},r.map((t=>a().createElement(C.Z,{editMode:!1,key:"from-".concat(t.from_label_id),id:"from-".concat(t.from_label_id),options:j(e.from_label_group.labels),value:t.from_label_id}))))),a().createElement("div",{className:"mapping-content__column to-column"},a().createElement("div",{className:"mapping-content__column__header"},a().createElement("div",{className:"mapping-content__column__header__title"},"New"),a().createElement("div",{className:"mapping-content__column__header__legend-name"},e.to_label_group.name)),a().createElement("div",{className:"mapping-content__column__list"},r.map((t=>a().createElement(C.Z,{editMode:!0,className:"legend-select",key:"from-".concat(t.from_label_id,"-to"),id:"from-".concat(t.from_label_id,"-to"),options:j(e.to_label_group.labels),value:t.to_label_id,onChange:e=>{return a=t.from_label_id,o=e.target.value,i=[...r],s=i.findIndex((e=>e.from_label_id===a)),i.splice(s,1,{from_label_id:a,to_label_id:o}),void n(i);var a,o,i,s},placeholder:"Leave unassigned"}))))))),a().createElement(b.Z.Footer,null,a().createElement(w.Z,{type:"submit",bsStyle:"success",className:"js-submit"},"Done"),a().createElement(w.Z,{className:"js-cancel",onClick:function(){R()}},"Cancel"))))}M.propTypes={confirmCallback:i().func,cancelCallback:i().func,from_label_group:i().object,to_label_group:i().object,label_mappings:i().array};var N=r(74527);const B="Legend",F="Select a Legend";function V(){V=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Z(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function U(e){var t,r,n=function(){var t,r=(t=V().mark((function t(r){var n,a,o,i,s;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.allowMapping){t.next=2;break}return t.abrupt("return",!0);case 2:if(a=null===(n=e.formData.fieldFor("label_group_transformation"))||void 0===n?void 0:n.value,o=r.target.value,!a||e.initialLegendId!==o){t.next=8;break}delete e.formData.data.label_group_transformation,t.next=18;break;case 8:if(e.initialLegendId===o){t.next=18;break}return t.next=11,N.labelGroupTransformations.new(e.roadmapId,{to_label_group_id:o});case 11:return i=t.sent,o&&o===(null===a||void 0===a?void 0:a.to_label_group_id)?i.data.label_mappings=a.label_mappings:i.data.label_mappings=i.data.label_mappings.map((e=>{var t;return{from_label_id:e.from_label.id,to_label_id:null===(t=e.to_label)||void 0===t?void 0:t.id}})),t.next=15,I(i.data);case 15:return s=t.sent,e.formData.data.label_group_transformation=s,t.abrupt("return",void 0!==s);case 18:return t.abrupt("return",!0);case 19:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var o=t.apply(e,r);function i(e){Z(o,n,a,i,s,"next",e)}function s(e){Z(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return a().createElement(a().Fragment,null,v.ProductPlan.isFeatureEnabled("shared_legend_groups")&&(null===(t=e.legendGroupOptions)||void 0===t?void 0:t.visible)&&a().createElement(f.Z,{editMode:!0,tethered:!0,tetherClassName:"settings-select-outer-tethered",className:"js-secondary-label-group-id",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:e.formData.fieldFor("secondary_label_group_id"),label:B,options:e.legendGroupOptions.options,placeholder:null!==(r=e.legendGroupOptions)&&void 0!==r&&r.placeholder?e.legendGroupOptions.placeholder:F,onChange:n,disabled:e.legendGroupOptions.options.length<=1}))}U.propTypes={formData:i().object.isRequired,initialLegendId:i().number,roadmapId:i().number,legendGroupOptions:i().shape({options:i().array,placeholder:i().string,visible:i().bool}),allowMapping:i().bool},U.defaultProps={allowMapping:!0};const G=a().memo(U);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(this,arguments)}var q,W,z,K=[{value:"size",label:"Sizes (S-XL)"},{value:"numeric",label:"Numeric (0-10)"}];class Y extends a().Component{static get defaultFormData(){return{name:"",description:"",effort_type:"size",bar_style:"normal",secondary_label_group_id:0}}render(){return a().createElement(d.Z,{className:"form-vertical"},a().createElement(h.Z,{editMode:!0,field:this.props.formData.fieldFor("name")}),a().createElement(m.Z,H({editMode:!0,label:"Description"},this.props.formData.fieldFor("description"))),a().createElement(p.Z,{field:this.props.formData.fieldFor("bar_style")}),a().createElement(f.Z,{editMode:!0,className:"js-effort-type",clearable:!1,deleteRemoves:!1,escapeClearsValue:!1,field:this.props.formData.fieldFor("effort_type"),label:"Effort Type",options:K,placeholder:"Select an Effort"}),a().createElement(G,{initialLegendId:this.props.initialLegendId,roadmapId:this.props.roadmapId,formData:this.props.formData,legendGroupOptions:this.props.legendGroupOptions,allowMapping:this.props.allowMapping}))}}q=Y,W="propTypes",z={formData:i().object.isRequired,roadmapId:i().number,initialLegendId:i().number,legendGroupOptions:i().object,allowMapping:i().bool},W in q?Object.defineProperty(q,W,{value:z,enumerable:!0,configurable:!0,writable:!0}):q[W]=z;const J=Y;var Q=r(9125),X=r(39012),ee=r(22314),te=["panes"];function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},re.apply(this,arguments)}function ne(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ie extends a().Component{constructor(){super(...arguments);var e=this.props.isLoading?[]:this.buildPanes();this.state={panes:e}}buildPanes(){var e=[];e.push({content:J,icon:X.c.infoCircle,title:"General",props:{roadmapId:this.props.roadmapId,initialLegendId:this.props.initialLegendId,legendGroupOptions:this.props.legendGroupOptions,allowMapping:this.props.allowMapping}});var t={icon:X.c.th,title:"Layout"};return e.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({content:u.ZP},t)),this.props.panes&&(e=e.concat(this.props.panes)),e.push({content:Q.ZP,icon:X.c.puzzle,title:"Integrations",props:{integrations:this.props.integrations,activeMsTeamsWebhook:this.props.activeMsTeamsWebhook,ownerMsTeamsEntitled:this.props.ownerMsTeamsEntitled,ownerId:this.props.ownerId}}),e}componentDidUpdate(){if(this.props.isError)return c.Z.show({title:"Error",message:"An error occurred, please try again or contact support if the problem persists."}),void this.props.onExited();if(!this.props.isLoading&&!this.state.panes.length){var e=this.buildPanes();this.setState({panes:e})}}render(){var e=this.props,t=(e.panes,ne(e,te));return this.props.isLoading||!this.state.panes.length?a().createElement(ee.AjaxLoaderComponent,null):a().createElement(l.Z,re({discardChangesSubjectName:"roadmap",panes:this.state.panes},t))}}oe(ie,"mountPoint",l.Z.mountPoint),oe(ie,"propTypes",{panes:i().arrayOf(l.Z.panePropType),activeMsTeamsWebhook:i().object,legendGroupOptions:i().object,integrations:i().object,ownerMsTeamsEntitled:i().bool,ownerId:i().number,roadmapId:i().number,initialLegendId:i().number,allowMapping:i().bool,isLoading:i().bool,isError:i().bool,onExited:i().func}),oe(ie,"defaultPanes",[J,u.ZP,Q.ZP]),(0,s.Z)(ie.mountPoint,ie);const se=ie},9125:(e,t,r)=>{"use strict";r.d(t,{Zh:()=>G,GR:()=>H,ZP:()=>W});var n=r(67294),a=r.n(n);var o,i,s,l=r(45697),c=r.n(l),u=r(87195),d=r(58909),h=r(79213);function p(e){e.preventDefault(),f("integrations page",e.currentTarget.href)}function f(e,t){d.default.publish(h.Z.linkEventChannelName,{name:e,url:t})}class m extends a().Component{render(){return 0===this.props.integrationsToShow.length?null:a().createElement("div",{className:"available-integrations"},a().createElement("h3",null,"Available Integrations"),(0,u.EW)(this.props.integrationsToShow,p),(0,u.uY)(this.props.noIntegrationsConfigured,p))}}o=m,i="propTypes",s={integrationsToShow:c().array.isRequired,noIntegrationsConfigured:c().bool.isRequired},i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s;const v=m;var g=r(74527),y=r(49546),b=r(54228),w=r(19728),C=r(39012),E=r(7736),_=r(83424),x=r(9669),L=r.n(x);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(){S=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function k(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}class T extends a().Component{constructor(e){super(e),this.state={optionsLoadState:"loaded",isLoading:!0,inputEnabled:!1,availableChannels:[]}}componentDidMount(){this.fetchAvailableSlackChannels()}componentWillUnmount(){this.cancelTokenSource&&this.cancelTokenSource.cancel("All operations cancelled when component unmounted")}fetchAvailableSlackChannels(){var e,t=this;return(e=S().mark((function e(){var r,n,a;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.cancelTokenSource=L().CancelToken.source(),e.next=4,g.default.getAvailableSlackChannels(t.cancelTokenSource.token);case 4:r=e.sent,n=r.available_slack_channels,a=t.convertSlackChannelsToSelectOptions(n),t.setState({availableChannels:a,inputEnabled:0!==a.length,isLoading:!1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),L().isCancel(e.t0)||t.setState({optionsLoadState:"error"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){k(o,n,a,i,s,"next",e)}function s(e){k(o,n,a,i,s,"throw",e)}i(void 0)}))})()}convertSlackChannelsToSelectOptions(e){var t=e.map((e=>{var t=P(e,2);return{label:t[0],value:t[1]}})),r=this.props.formData.fieldFor("slack_notifications_channel").value;null!==r&&(e.some((e=>e[1]===r))||t.unshift({label:r,value:r}));return t}renderLoadingError(){return a().createElement(y.Z,{bsStyle:"danger"},a().createElement("span",null,"Failed loading Slack channels. Please close the settings and try again or contact support if the problem persists."))}renderLoaded(){return a().createElement("div",{className:"slack-input"},a().createElement(E.Z,{disabled:!this.state.inputEnabled,clearable:!0,editMode:!0,className:"js-slack-notification-channel",deleteRemoves:!1,escapeClearsValue:!1,field:this.props.formData.fieldFor("slack_notifications_channel"),options:this.state.availableChannels,placeholder:this.state.isLoading?"Loading Slack Channels...":"No notifications",isLoading:this.state.isLoading}))}renderHeading(){return a().createElement("div",{className:"notification-select-heading"},a().createElement("label",{htmlFor:"slack_notifications_channel"},a().createElement(_.Z,{id:"slack-color-icon"}),"Slack Channel",a().createElement("span",{className:"slack-input__hint"},a().createElement(b.Z,{placement:"top",rootClose:!0,overlay:a().createElement(w.Z,{id:"tooltip-slack-notification-channels"},"Shows all public channels. To add a private channel to this list, invite the ProductPlan app to the channel.")},a().createElement("span",{className:"info-icona"},a().createElement(C.Z,{name:C.c.infoCircle}))))))}renderBody(){switch(this.state.optionsLoadState){case"loaded":return this.renderLoaded();case"error":return this.renderLoadingError();default:throw"Invalid load state ".concat(this.state.optionsLoadState)}}render(){return a().createElement(a().Fragment,null,this.renderHeading(),this.renderBody())}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(T,"propTypes",{formData:c().object.isRequired});const D=T;function I(){I=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function R(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j extends a().Component{constructor(){super(...arguments),A(this,"state",{optionsLoadState:"requires_load"})}componentDidMount(){this.loadWebhooks()}loadWebhooks(){var e,t=this;return(e=I().mark((function e(){var r,n;return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("requires_load"===t.state.optionsLoadState){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,g.default.msTeams.getWebhooks();case 5:r=e.sent,n=r.data,t.setState({msTeamsWebhooks:n.third_party_integrations_webhooks,optionsLoadState:"loaded"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t.setState({optionsLoadState:"error"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){R(o,n,a,i,s,"next",e)}function s(e){R(o,n,a,i,s,"throw",e)}i(void 0)}))})()}renderLoading(){return a().createElement(y.Z,{bsStyle:"info"},a().createElement(C.Z,{classes:C.c.spin,name:C.c.spinner}),a().createElement("span",null," Loading Microsoft Teams Webhooks..."))}renderLoadingError(){return a().createElement(y.Z,{bsStyle:"danger"},a().createElement("span",null,"Failed loading Microsoft Teams Webhooks. Please close the settings and try again or contact support if the problem persists."))}renderWebhookError(){if(this.shouldRenderInvalidWebhookMessage()){return a().createElement(y.Z,{bsStyle:"danger"},a().createElement("span",null,"1 or more Webhook URLs are invalid. Please ",a().createElement("a",{className:"ms-teams-invalid-webhook-error",href:"/integrations/ms_teams"},"update URLs"),"."))}return null}renderTrialMessage(){if(window.current_user.is_trial){return a().createElement(y.Z,{bsStyle:"info",className:"roadmap-settings-ms-teams-trial-alert"},a().createElement("i",{className:C.c.infoCircle}),a().createElement("span",null,"After your trial, ",a().createElement("a",{className:"ms-teams-trial-message",href:"https://go.productplan.com/enterprise-demo/"},"upgrade to Professional or Enterprise")," to continue using this integration."))}return null}userOwnsActiveMsTeamsWebhook(){var e=this.props.activeMsTeamsWebhook;return this.state.msTeamsWebhooks.some((t=>t.name===e.name&&t.id===e.id))}createWebhookSelectFieldOptions(){var e=this.props.activeMsTeamsWebhook,t=this.state.msTeamsWebhooks;return e&&!this.userOwnsActiveMsTeamsWebhook()&&(t=t.concat(e)),t.map((e=>{var t={label:e.name,value:e.id};return e.errors.url&&e.errors.url.includes("Invalid Webhook URL")&&(t.label+=" (Invalid URL)",t.className="has-error"),t}))}shouldRenderInvalidWebhookMessage(){if(this.state.msTeamsWebhooks.some((e=>{if(e.errors.url)return e.errors.url.includes("Invalid Webhook URL")})))return!0;var e=this.props.activeMsTeamsWebhook;return e?!!e.errors.url&&e.errors.url.includes("Invalid Webhook URL"):void 0}renderMsTeamsWebhookSelect(){var e=this.createWebhookSelectFieldOptions();return a().createElement(E.Z,{clearable:!0,editMode:!0,className:"js-ms-teams-notification-channel",deleteRemoves:!1,escapeClearsValue:!1,field:this.props.formData.fieldFor("ms_teams_webhook_id"),options:e,placeholder:"No webhook selected"})}renderLoaded(){return this.props.ownerMsTeamsEntitled?a().createElement(a().Fragment,null,this.renderWebhookError(),this.renderTrialMessage(),this.renderMsTeamsWebhookSelect()):a().createElement("span",null,"The owner of this roadmap is on a plan that does not include Microsoft Teams. You can still add Microsoft Teams to any of ",a().createElement("a",{href:"/roadmaps"},"your own roadmaps."))}renderHeading(){return a().createElement("div",{className:"notification-select-heading"},a().createElement("label",{htmlFor:"ms_teams_webhook_id"},a().createElement(_.Z,{id:"ms_teams-color-icon"}),"Microsoft Teams Webhook"))}renderBody(){switch(this.state.optionsLoadState){case"loaded":return this.renderLoaded();case"requires_load":return this.renderLoading();case"error":return this.renderLoadingError();default:throw"Invalid load state ".concat(this.state.optionsLoadState)}}render(){return a().createElement(a().Fragment,null,this.renderHeading(),this.renderBody())}}A(j,"propTypes",{formData:c().object.isRequired,ownerMsTeamsEntitled:c().bool.isRequired,activeMsTeamsWebhook:c().object});const M=j;function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class B extends a().Component{constructor(){super(...arguments),N(this,"handleIntegrationClick",(e=>{e.preventDefault();var t=H[this.props.integration.short_name]?H[this.props.integration.short_name]:this.props.integration.short_name;f("integrations page","/integrations/".concat(t))}))}render(){var e=this.props.integration.owner_enabled,t=G[this.props.integration.short_name]?G[this.props.integration.short_name]:this.props.integration.short_name;return a().createElement("div",{className:"integration-row",onClick:this.handleIntegrationClick},a().createElement(_.Z,{id:"".concat(t,"-color-icon")}),this.props.integration.display_name,e?"":" (not configured by the Roadmap Owner)")}}N(B,"propTypes",{integration:c().object.isRequired});const F=B;class V extends a().Component{render(){return 0===this.props.integrationsToShow.length?null:a().createElement("div",{className:"active-integrations"},a().createElement("h3",null,"Active Integrations"),a().createElement("span",null,"Go to the ",a().createElement("a",{href:"/integrations",onClick:p},"integrations")," page to edit what's currently active."),this.renderSyncableIntegrations(),this.renderNotificationIntegrations())}renderSyncableIntegrations(){var e=this.props.integrationsToShow.filter((e=>"slack"!==e.short_name&&"ms_teams"!==e.short_name));return e.length>0?a().createElement("div",{className:"syncable-integrations-list"},e.map(((e,t)=>a().createElement(F,{integration:e,key:t})))):null}renderNotificationIntegrations(){return this.props.integrationsToShow.map(((e,t)=>{switch(e.short_name){case"slack":return a().createElement(D,{key:t,formData:this.props.formData});case"ms_teams":return a().createElement(M,{key:t,formData:this.props.formData,activeMsTeamsWebhook:this.props.activeMsTeamsWebhook,ownerMsTeamsEntitled:this.props.ownerMsTeamsEntitled})}}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(V,"propTypes",{formData:c().object.isRequired,integrationsToShow:c().array.isRequired,ownerMsTeamsEntitled:c().bool.isRequired,activeMsTeamsWebhook:c().object});const Z=V;var U=r(55652);var G={pivotal:"tracker"},H={vsts:"ado"};class q extends a().Component{static get defaultFormData(){return{slack_notifications_channel:null,ms_teams_webhook_id:null}}constructor(e){super(e);var t=window.current_user.integrations,r=Object.keys(e.integrations).map((t=>e.integrations[t])),n=r.reduce(((e,r)=>{var n,a=t[r.short_name];return n="slack"===r.short_name?a.enabled||null!=this.props.formData.fieldFor("slack_notifications_channel").value:"ms_teams"===r.short_name?U.ProductPlan.isFeatureEnabled("ms_teams")&&(a.enabled||null!=this.props.activeMsTeamsWebhook):r.enabled||(null===a||void 0===a?void 0:a.enabled),e.push(Object.assign({},r,{enabled:n,owner_enabled:r.enabled})),e}),[]).sort(((e,t)=>e.display_name.localeCompare(t.display_name))),a=n.filter((e=>e.enabled)),o=n.filter((e=>!e.enabled));this.state={activeIntegrations:a,availableIntegrations:o,noIntegrationsConfigured:r.length===o.length}}renderWarning(){if(this.props.ownerId!==window.current_user.id){if(0===this.state.activeIntegrations.length)return this.editorWarning("Integrations you add will not sync until the owner has set up the same integration");if(this.state.activeIntegrations.filter((e=>"slack"!==e.short_name&&"ms_teams"!==e.short_name)).some((e=>e.enabled&&!e.owner_enabled)))return this.editorWarning("Some integrations cannot sync until the Roadmap's Owner configures their mappings")}return null}editorWarning(e){return a().createElement("div",{className:"editor-warning"},a().createElement("div",{className:"warning-content"},a().createElement(C.Z,{name:C.c.infoCircle}),a().createElement("div",{className:"warning-text"},e)))}render(){return a().createElement("div",{className:"integrations-pane"},this.renderWarning(),a().createElement(Z,{integrationsToShow:this.state.activeIntegrations,formData:this.props.formData,activeMsTeamsWebhook:this.props.activeMsTeamsWebhook,ownerMsTeamsEntitled:this.props.ownerMsTeamsEntitled}),a().createElement(v,{integrationsToShow:this.state.availableIntegrations,noIntegrationsConfigured:this.state.noIntegrationsConfigured}))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(q,"propTypes",{formData:c().object.isRequired,integrations:c().object.isRequired,ownerMsTeamsEntitled:c().bool.isRequired,activeMsTeamsWebhook:c().object,ownerId:c().number.isRequired});const W=q},87994:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(66073),a=r.n(n),o=r(56264),i=r.n(o),s=r(58909),l=r(74527);function c(){c=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function u(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,s,"next",e)}function s(e){u(o,n,a,i,s,"throw",e)}i(void 0)}))}}class h{static setupUrl(e){var t={},r={};return a()(e,((e,n)=>{"sublaneableType"===n||"sublaneableId"===n?t[n]=e:r[n]=e})),{sublaneTypeData:t,payloadData:r}}static create(e){return d(c().mark((function t(){var r,n,a,o,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.setupUrl(e),n=r.sublaneTypeData,a=r.payloadData,t.next=3,l.default.sublaneActions.create(i().decamelize(n.sublaneableType)+"s",n.sublaneableId,i().decamelizeKeys(a));case 3:return o=t.sent,u=o.data,window.currentRoadmapable.findSublane(u.token).position=u.position,s.default.publish("CREATED_SUBLANE"),t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})))()}static deleteSublane(e){return d(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.sublaneActions.deleteSublane(e);case 2:s.default.publish("DELETED_SUBLANE");case 3:case"end":return t.stop()}}),t)})))()}}const p=h},14570:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(63105),a=r.n(n),o=r(30998),i=r.n(o),s=r(89734),l=r.n(s),c=r(82723),u=r.n(c),d=r(85564),h=r.n(d),p=r(82729),f=r.n(p),m=r(87994),v=r(56264),g=r.n(v);const y=class{constructor(e,t){var r=g().camelizeKeys(e);this.id=r.id||r.token,this.position=r.position,this.sublaneableType=r.sublaneableType,this.sublaneableId=r.sublaneableId,this.token=r.token,this.deleted=r.deleted,this.milestones=[],this.isNewSublane=!1,this.collection=t}removeMilestone(e){f()(this.milestones,(t=>t.id===e.id))}setMilestones(e){this.milestones=h()([e])}addMilestone(e){this.milestones.push(e)}setNew(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isNewSublane=e}isNew(){return this.isNewSublane}attrs(){var e=u()(this,["milestones","isNewSublane","collection","position"]);return e.position_position=this.relativePosition(),e}relativePosition(){var e=l()(this.collection.visibleSublanes(),"position");return i()(e,(e=>e.id===this.id))}isEmpty(){var e=a()(this.milestones,(e=>!e.isDragging));return 0===this.milestones.length||0===e.length}removeIfEmpty(){this.isEmpty()&&m.Z.deleteSublane(this.id)}}},43096:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(39012);function l(e){return a().createElement("header",{className:"subscribe-modal-header"},"undefined"!==typeof e.onBack&&a().createElement("button",{className:"back-button",type:"button",onClick:e.onBack},a().createElement(s.Z,{name:s.c.chevronLeft}),"Back"),a().createElement("h1",null,e.title))}l.propTypes={onBack:i().func,title:i().string.isRequired}},37971:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(38565),l=r(97846),c=r(43096);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){var t=u((0,n.useState)(!1),2),r=t[0],o=t[1],i=u((0,n.useState)(),2),d=i[0],h=i[1],p=u((0,n.useState)(),2),f=p[0],m=p[1];function v(e){var t=""!==e.target.value,r="name"===e.target.name?"a":"an",n=t?void 0:"Please enter ".concat(r," ").concat(e.target.name);("name"===e.target.name?h:m)(n&&{errorText:n})}return a().createElement(a().Fragment,null,a().createElement(c.Z,{onBack:e.handleBack,title:"Consultation"}),a().createElement("form",{className:"consultation__form",onSubmit:function(t){var r,n,a;r=t.target,n=""!==r.name.value,a=""!==r.email.value,n&&a?(o(!0),e.onSubmit(t),e.onViewChange("consultation-success")):t.preventDefault()},"data-name":"consultation"},a().createElement("div",{className:"subscribe-modal-content"},a().createElement("p",{className:"consultation__description"},"One of our amazing reps will reach out to you to discuss how ProductPlan will work into your work life."),a().createElement("div",{className:"consultation__fields"},a().createElement(s.Z,{id:"user_name",label:"Name",name:"name",type:"text",value:e.user.name,onHandleBlur:v,error:d}),a().createElement(s.Z,{id:"user_email",label:"Email",name:"email",type:"text",value:e.user.email,onHandleBlur:v,error:f}),a().createElement(s.Z,{optional:!0,id:"user_title",label:"Title",name:"title",type:"text",value:e.user.title}),a().createElement(s.Z,{optional:!0,id:"user_phonenumber",label:"Phone number",name:"phone",type:"text",value:e.user.phone_number}),a().createElement(l.Z,{optional:!0,defaultValue:"",label:"Want to talk about anything specific?",inputName:"consultation",isAtlas:!0,rows:4,textareaClasses:"consultation__message"}))),a().createElement("div",{className:"subscribe-modal-footer"},a().createElement("button",{className:"a-button",disabled:r,type:"submit"},"Submit"))))}h.propTypes={handleBack:i().func,user:i().object,onSubmit:i().func,onViewChange:i().func}},89580:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),a=r.n(n),o=r(39012);var i=r(45697),s=r.n(i);function l(e){return a().createElement("div",{className:"subscribe-modal-success-view"},a().createElement("header",{className:"subscribe-modal-header"},a().createElement("h1",null,e.title)),a().createElement("div",{className:"subscribe-modal-content success-view"},a().createElement("div",{className:"success-icon"},a().createElement(o.Z,{name:o.c.checkCircle})),a().createElement("div",{className:"success-title"},e.subtitle),a().createElement("div",{className:"success-subtitle"},e.message)),a().createElement("div",{className:"subscribe-modal-footer"},a().createElement("button",{className:"a-button a-button--".concat(e.buttonClass),onClick:e.onClose},"Close")))}l.propTypes={buttonClass:s().string,onClose:s().func,title:s().string,subtitle:s().node,message:s().oneOfType([s().string,s().element])},l.defaultProps={buttonClass:"outline"}},89584:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(41609),a=r.n(n),o=r(23560),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(76395),h=r(61125),p=r(99411);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}class m extends l().Component{static show(e){return d.Z.show(this,e)}constructor(e){super(e),this.state={errors:null}}close(){this.doCancelCallback(),this.confirmModal.close()}confirm(){var e=this.getInputValue();this.isClosing=!0,this.confirmModal.close(),this.props.confirmCallback(e)}cancel(){this.doCancelCallback(),this.confirmModal.close()}doCancelCallback(){i()(this.props.cancelCallback)&&!this.isClosing&&(this.props.cancelCallback(),this.isClosing=!0)}componentDidMount(){this.textInput.setFocus()}displayError(e){this.setState({errors:e})}removeError(){this.setState({errors:null})}isValid(){var e=this.getInputValue();return a()(e)?(this.displayError("Tag name is Required"),!1):(this.removeError(),!0)}getInputValue(){return this.textInput.getInputValue()}onTextInputChange(){this.state.errors&&this.isValid()}onSubmit(){this.isValid()&&this.confirm()}onKeyPress(e){13==e.keyCode&&(this.onSubmit(),e.preventDefault())}renderAuxiliaryContent(){return null}defaultTextInputTagName(){return this.props.newTagName}render(){return l().createElement(d.Z,f({ref:e=>{this.confirmModal=e},title:this.props.title,onClose:this.close.bind(this)},this.props),l().createElement("div",{className:"row modal-tag-merge-confirm","data-name":"confirm-tag-merge-modal"},l().createElement("div",{className:"col-xs-12"},p.Z.displayErrors(this.state.errors),l().createElement("p",{className:"message"},this.props.messageText),this.renderAuxiliaryContent(),l().createElement("form",{className:"center-block"},l().createElement("div",{className:"form-group"},l().createElement("label",{htmlFor:"tag_name"},this.props.textInputLabel),l().createElement(h.Z,{inputId:"tag_name",inputName:"name",inputType:"text",maxLength:this.props.maxLength,placeholder:"Tag name",ref:e=>{this.textInput=e},size:this.props.size,value:this.defaultTextInputTagName(),onChange:this.onTextInputChange.bind(this),onKeyPress:this.onKeyPress.bind(this)}),l().createElement("div",{className:"pp-input-aligned-buttons"},l().createElement("button",{className:"btn btn-success add confirm",type:"button",onClick:this.onSubmit.bind(this)},this.props.saveButtonLabel),"\xa0",l().createElement("button",{className:"btn btn-default cancel",type:"button",onClick:this.cancel.bind(this)},this.props.cancelButtonLabel)))))))}}m.propTypes={title:u().string.isRequired,newTagName:u().string,confirmCallback:u().func.isRequired,cancelCallback:u().func,textInputLabel:u().string.isRequired,maxLength:u().number,size:u().number,messageText:u().string.isRequired,saveButtonLabel:u().string.isRequired,cancelButtonLabel:u().string.isRequired};const v=m},65763:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(41609),a=r.n(n),o=r(67294),i=r.n(o),s=r(45697),l=r.n(s),c=r(94184),u=r.n(c);class d extends i().Component{tagListClass(e){return u()({"tag-rows-list":!0,hidden:a()(e)})}renderRow(){throw"renderRow must be defined by child class"}render(){var e=this.props.tags.map(this.renderRow.bind(this));return i().createElement("div",{className:this.tagListClass(this.props.tags)},e)}}d.propTypes={tags:l().array.isRequired,selectedTags:l().object.isRequired,onEdit:l().func.isRequired,onDelete:l().func.isRequired,onRowChecked:l().func.isRequired};const h=d},8212:(e,t,r)=>{"use strict";r.d(t,{Z:()=>V});var n=r(54061),a=r.n(n),o=r(45578),i=r.n(o),s=r(64721),l=r.n(s),c=r(35161),u=r.n(c),d=r(82729),h=r.n(d),p=r(84486),f=r.n(p),m=r(41609),v=r.n(m),g=r(18446),y=r.n(g),b=r(63105),w=r.n(b),C=r(75472),E=r.n(C),_=r(67294),x=r.n(_),L=r(45697),P=r.n(L),O=r(89584);class S extends O.Z{renderAuxiliaryContent(){E()(this.props.tags,["name"],["asc"]);var e=this.props.tags.map(((e,t)=>x().createElement("li",{key:t,className:"break-word"},e)));return x().createElement("ul",null,e)}defaultTextInputTagName(){return this.props.newTagName||this.props.tags[0]}}S.propTypes={tags:P().array.isRequired},S.defaultProps={title:"Merge Tags",maxLength:100,size:20,messageText:"Are you sure you want to merge the following tags?",saveButtonLabel:"Save",cancelButtonLabel:"Cancel",textInputLabel:"Rename to:"};const k=S;var T=r(33284),D=r(34428),I=r(39012);class R extends x().Component{constructor(e){super(e)}mergeButton(){var e=!this.props.isMergeEnabled;if(this.props.isMergeVisible)return x().createElement("button",{className:"btn btn-default merge-tags",disabled:e,id:"merge-tags",type:"button",onClick:this.props.onMerge},x().createElement(I.Z,{name:I.c.codeBranch})," Merge")}deleteButton(){var e=!this.props.isDeleteEnabled;if(this.props.isDeleteVisible)return x().createElement("button",{className:"btn btn-default delete-tags",disabled:e,id:"delete-tags",type:"button",onClick:this.props.onDelete},x().createElement(I.Z,{name:I.c.trash})," Delete")}addNewButton(){if(this.props.isAddNewEnabled)return x().createElement("button",{className:"btn btn-default add-tags",id:"add-tags",type:"button",onClick:this.props.onNewTag},x().createElement(I.Z,{name:I.c.plus})," New")}searchField(){if(this.props.isSearchVisible)return x().createElement("input",{className:"search-tags form-control small-input",disabled:!1,id:"search-tags",placeholder:this.props.searchDefaultText,type:"text",onChange:this.props.onSearch})}renderActions(){return x().createElement("div",{className:"tag-manager-action-bar"},this.addNewButton(),this.mergeButton(),this.deleteButton(),this.searchField())}render(){return this.renderActions()}}R.propTypes={isMergeVisible:P().bool.isRequired,isDeleteVisible:P().bool.isRequired,isSearchVisible:P().bool.isRequired,isMergeEnabled:P().bool.isRequired,isDeleteEnabled:P().bool.isRequired,isAddNewEnabled:P().bool.isRequired,isAddNewVisible:P().bool.isRequired,searchDefaultText:P().string,onMerge:P().func,onNewTag:P().func,onDelete:P().func,onSearch:P().func},R.defaultProps={searchDefaultText:"Filter List",isMergeVisible:!0,isDeleteVisible:!0,isSearchVisible:!0,isAddNewEnabled:!1,isAddNewVisible:!1,onMerge:()=>{},onDelete:()=>{},onSearch:()=>{},onNewTag:()=>{}};const A=R;var j=r(55652);function M(){M=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function N(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){N(o,n,a,i,s,"next",e)}function s(e){N(o,n,a,i,s,"throw",e)}i(void 0)}))}}class F extends x().Component{constructor(e){super(e),this.state={filterText:"",selectedTags:{},tags:this.props.tags}}static sortTags(e){var t="object"===typeof e[0]?e=>e.name.toLowerCase():e=>e.toLowerCase();return E()(e,[t])}static disable(){window.showAJAXLoaderModal()}static enable(){window.hideAJAXLoaderModal()}static bulkDeleteMessage(e){var t=(e=F.sortTags(e)).map(((e,t)=>x().createElement("li",{key:t,className:"break-word"},e)));return x().createElement("div",{className:"text-left message"},x().createElement("p",null,"Are you sure you want to delete the following tags?"),x().createElement("ul",null,t))}UNSAFE_componentWillReceiveProps(e){this.setState({filterText:"",selectedTags:{},tags:e.tags})}handleSingleDelete(e){var t=this;return B(M().mark((function r(){return M().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.executeTagDelete([e.name]);case 2:case"end":return r.stop()}}),r)})))()}handleBulkDelete(){var e=this;return B(M().mark((function t(){return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.executeTagDelete(e.filteredSelectedTagNames(e.filteredTagList(),e.state.selectedTags));case 2:case"end":return t.stop()}}),t)})))()}executeTagDelete(e){var t=this;return B(M().mark((function r(){return M().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D.Z.showAsync({title:"Delete Tags",confirmButtonLabel:"Delete",confirmButtonVariation:"danger",message:F.bulkDeleteMessage.bind(t,e)});case 2:if(!r.sent){r.next=17;break}return F.disable(),r.prev=5,r.next=8,t.props.bulkDelete.mutateAsync(e);case 8:t.handleDeleteComplete(e),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(5),t.handleError();case 14:return r.prev=14,F.enable(),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[5,11,14,17]])})))()}handleEdit(e,t){var r=this;return B(M().mark((function n(){var a,o;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=w()(r.state.tags,(function(e){return y()(e.name.toLowerCase(),t.toLowerCase())})),!v()(a)){n.next=6;break}return n.next=4,r.executeTagMerge([e.name],t);case 4:n.next=8;break;case 6:o=[e.name],k.show({tags:o,newTagName:t,confirmCallback:function(){var e=B(M().mark((function e(t){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.executeTagMerge(o,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 8:case"end":return n.stop()}}),n)})))()}handleMerge(){var e,t=this,r=this.filteredSelectedTagNames(this.filteredTagList(),this.state.selectedTags);k.show({tags:r,confirmCallback:(e=B(M().mark((function e(n){return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F.disable(),e.next=3,t.executeTagMerge(r,n);case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}executeTagMerge(e,t){var r=this;return B(M().mark((function n(){return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return F.disable(),n.prev=1,n.next=4,r.props.bulkUpdate.mutateAsync({newTagName:t,tagsToBeRemoved:e});case 4:r.handleEditComplete(e,t),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),r.handleError();case 10:return n.prev=10,F.enable(),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[1,7,10,13]])})))()}handleSearchFilter(e){this.setState({filterText:e.target.value})}handleDeleteComplete(e){var t=this.state.tags,r=this.state.selectedTags;f()(e,(e=>{h()(t,{name:e}),delete r[e]})),this.onTagListChange(),this.setState({tags:t,selectedTags:r}),j.ProductPlan.roadmapManager&&j.ProductPlan.roadmapManager.deleteTags(t)}handleError(e,t){var r=e||"An error occurred, please try again or contact support if the problem persists.";t=t||"Error",T.Z.show({title:t,message:r})}handleEditComplete(e,t){var r=this.state.selectedTags,n=F.sortTags(u()(this.state.tags,(function(n){return l()(e,n.name)&&(delete r[n.name],n.name=t),n})));this.onTagListChange(),this.setState({tags:i()(n,"name"),selectedTags:r}),j.ProductPlan.roadmapManager&&j.ProductPlan.roadmapManager.updateTags(n),F.enable()}filteredTagList(){return""===this.state.filterText?this.state.tags:w()(this.state.tags,(e=>l()(e.name.toLowerCase(),this.state.filterText.toLowerCase())))}tagChecked(e){var t=this.state.selectedTags[e.name],r=this.state.selectedTags;r[e.name]=!t,this.setState({selectedTags:r})}isBulkMergeActive(e){return this.props.isMergeEnabled&&e>1}isBulkDeleteActive(e){return this.props.isDeleteEnabled&&e>0}filteredSelectedTagNames(e,t){return a()(e,(function(e,r){return t[r.name]&&e.push(r.name),e}),[])}renderTagList(){}handleNewTag(){}listHandler(e){return 0===this.state.tags.length?x().createElement("div",{className:"empty-tags-list"},this.props.tagManagerEmptyMessage):0===e.length?x().createElement("div",{className:"empty-tags-list"},this.props.tagManagerNoResultsMessage):this.renderTagList(e)}onTagListChange(){this.props.tagsChanged()}render(){var e=this.filteredTagList(),t=this.filteredSelectedTagNames(e,this.state.selectedTags).length;return x().createElement("div",{className:"tag-manager"},x().createElement(A,{isAddNewEnabled:this.props.isAddNewEnabled,isAddNewVisible:this.props.isAddNewVisible,isDeleteEnabled:this.isBulkDeleteActive(t),isDeleteVisible:this.props.isDeleteVisible,isMergeEnabled:this.isBulkMergeActive(t),isMergeVisible:this.props.isMergeVisible,isSearchVisible:this.props.isSearchVisible,onDelete:this.handleBulkDelete.bind(this),onMerge:this.handleMerge.bind(this),onNewTag:this.handleNewTag.bind(this),onSearch:this.handleSearchFilter.bind(this)}),this.listHandler(e))}}F.propTypes={tags:P().array.isRequired,isMergeEnabled:P().bool.isRequired,isDeleteEnabled:P().bool.isRequired,isMergeVisible:P().bool.isRequired,isDeleteVisible:P().bool.isRequired,isSearchVisible:P().bool.isRequired,isAddNewEnabled:P().bool.isRequired,isAddNewVisible:P().bool.isRequired,tagManagerActions:P().object.isRequired,tagManagerEmptyMessage:P().string.isRequired,tagManagerNoResultsMessage:P().string.isRequired,tagsChanged:P().func.isRequired,bulkUpdate:P().object,bulkDelete:P().object};const V=F},7629:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o);class s extends a().Component{constructor(e){super(e),this.state={isViewMode:!0,errors:this.props.errors}}UNSAFE_componentWillReceiveProps(){this.setState({isViewMode:!0})}onDeleteSelected(e){e&&e.preventDefault(),this.props.onDelete(this.props.tag)}displayEditMode(e){e&&e.preventDefault(),this.setState({isViewMode:!1})}displayViewMode(){this.setState({isViewMode:!0})}disable(){window.showAJAXLoaderModal()}enable(){window.hideAJAXLoaderModal()}onSave(e,t){this.props.onEdit(e,t)}renderRowView(){throw"renderRowView must be defined by child class"}renderRowEdit(){throw"renderRowEdit must be defined by child class"}render(){return this.state.isViewMode?this.renderRowView():this.renderRowEdit()}}s.propTypes={tag:i().object.isRequired,selected:i().bool,onEdit:i().func.isRequired,onDelete:i().func.isRequired,onChecked:i().func.isRequired,errors:i().string,isDeleteEnabled:i().bool,isEditEnabled:i().bool},s.defaultProps={isDeleteEnabled:!0,isEditEnabled:!0};const l=s},31210:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(41609),a=r.n(n),o=r(18446),i=r.n(o),s=r(67294),l=r.n(s),c=r(45697),u=r.n(c),d=r(94184),h=r.n(d),p=r(99411),f=r(61125);class m extends l().Component{constructor(e){super(e),this.state={errors:this.props.errors}}UNSAFE_componentWillReceiveProps(){this.setState({errors:this.nextProps.errors})}componentDidMount(){this.textInput.setFocus()}displayError(e){this.setState({errors:e})}removeError(){this.setState({errors:null})}onSubmit(){this.isValid()&&(i()(this.props.tag.name,this.getInputValue())?this.props.onCancel():this.props.onSave(this.props.tag,this.getInputValue()))}isValid(){var e=this.getInputValue();return a()(e)?(this.displayError("Tag name is Required"),!1):(this.removeError(),!0)}getInputValue(){return this.textInput.getInputValue()}onTextInputChange(){this.state.errors&&this.isValid()}onKeyPress(e){13==e.keyCode&&(this.onSubmit(),e.preventDefault()),27==e.keyCode&&(this.props.onCancel(),e.preventDefault())}tagRowClasses(){return h()({"tag-row":!0,"tag-row-edit":!0},this.props.additionalClasses)}render(){return l().createElement("div",null,l().createElement("div",{className:this.tagRowClasses()},l().createElement(f.Z,{inputId:"tag_name",inputName:"name",inputType:"text",maxLength:this.props.maxLength,placeholder:"Tag name",ref:e=>{this.textInput=e},size:this.props.size,value:this.props.tag.name,onChange:this.onTextInputChange.bind(this),onKeyPress:this.onKeyPress.bind(this)}),l().createElement("button",{className:"btn btn-success",type:"button",onClick:this.onSubmit.bind(this)},"Save"),l().createElement("button",{className:"btn btn-default",type:"button",onClick:this.props.onCancel},"Cancel"),p.Z.renderBadge(this.props.tag.count)),p.Z.displayErrors(this.state.errors))}}m.propTypes={tag:u().object.isRequired,onSave:u().func.isRequired,onCancel:u().func.isRequired,errors:u().string,maxLength:u().number,size:u().number,additionalClasses:u().object},m.defaultProps={maxLength:100,size:20};const v=m},3785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(94184),l=r.n(s),c=r(99411),u=r(41293),d=r(39012);class h extends a().Component{constructor(e){super(e),this.state={hover:!1}}tagRowActionClasses(e,t){return l()({"tag-row-actions":!0,"tag-edit":e,"tag-delete":t,hidden:!this.state.hover,visible:this.state.hover})}editLink(){if(this.props.isEditEnabled)return a().createElement("a",{className:this.tagRowActionClasses(!0,!1),href:"javascript:void(0)",onClick:this.props.onEdit},a().createElement(d.Z,{name:d.c.pencil}))}deleteLink(){if(this.props.isDeleteEnabled)return a().createElement("a",{className:this.tagRowActionClasses(!1,!0),href:"javascript:void(0)",onClick:this.props.onDelete},a().createElement(d.Z,{name:d.c.trash}))}onMouseOver(){this.setState({hover:!0})}onMouseOut(){this.setState({hover:!1})}handleChecked(){this.props.onChecked(this.props.tag)}render(){return a().createElement("div",{className:"tag-row tag-row-view respect-newlines","data-tag-row-id":this.props.tag.id,onMouseOut:this.onMouseOut.bind(this),onMouseOver:this.onMouseOver.bind(this)},a().createElement(u.Z,{errors:this.props.errors,id:"tag-row-"+this.props.tag.id,text:this.props.tag.name,value:this.props.selected,onChange:this.handleChecked.bind(this),onLabelClick:this.props.onEdit}),this.editLink(),this.deleteLink(),c.Z.renderBadge(this.props.tag.count))}}h.propTypes={tag:i().object.isRequired,selected:i().bool,onEdit:i().func.isRequired,onDelete:i().func.isRequired,onChecked:i().func.isRequired,errors:i().string,isDeleteEnabled:i().bool.isRequired,isEditEnabled:i().bool.isRequired};const p=h},22276:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(67294),a=r.n(n),o=r(45697),i=e=>a().createElement("div",{className:"filtered-empty-state"},a().createElement("div",{className:"filtered-text"},"Sorry, we couldn't find anything matching \"".concat(e.filterTerm,'"')));i.propTypes={filterTerm:r.n(o)().string.isRequired};const s=i},21082:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(93128);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o{}a(o,"warningDragDateLockedBar",(e=>{n.Z.warning("Changes need to be pushed to "+e+" from the sidebar in order to save them.")})),a(o,"warningMoveMultipleBarsWithDateLockedBar",(e=>{e=Array.isArray(e)?e.join(", "):e,n.Z.warning("Some of the bars have dates synced with "+e+". Changes need to be pushed from the sidebar in order to save them.")})),a(o,"unableToDragDateLockedBarInTimeline",(e=>{n.Z.warning("This bar has dates synced with "+e+". To drag along the Timeline, please unsync the bar dates.")})),a(o,"unableToResizeDateLockedBarInTimeline",(e=>{n.Z.warning("This bar has dates synced with "+e+". To resize, please unsync the bar dates.")})),a(o,"dateLockedBarInListView",(e=>{n.Z.warning("This bar has dates synced with "+e+". To avoid the move being undone, please unsync the bar dates.")})),a(o,"unableToMoveMultipleBarsWithDateLock",(e=>{e=Array.isArray(e)?e.join(", "):e,n.Z.warning("Some of the bars have dates synced with "+e+". To move them, please unsync the bar dates.")}))},93128:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(67294),a=r.n(n),o=r(73935),i=r.n(o),s=r(45697),l=r.n(s),c=r(99411),u=r(83424);var d=r(39012);function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends a().Component{constructor(e){super(e),h(this,"handleClick",(()=>{clearTimeout(this.timeout),this.setState({visible:!1})})),h(this,"renderIcon",(()=>({success:a().createElement(u.Z,{id:"success-icon"}),unsuccessful:a().createElement(d.Z,{name:d.c.warning}),warning:a().createElement(u.Z,{id:"warning-icon"}),info:a().createElement(d.Z,{name:d.c.infoCircle})}[this.props.level]))),h(this,"renderMessage",(()=>{var e=this.props,t=e.message,r=e.subMessage;if(t)return a().createElement("span",{className:"toast-content"},a().createElement("p",{className:"toast-main-content"},"function"===typeof t?t():t),r&&a().createElement("p",{className:"toast-sub-content"},r))})),this.state={visible:!0}}componentDidMount(){this.timeout=setTimeout((()=>this.setState({visible:!1})),7e3)}componentWillUnmount(){clearTimeout(this.timeout)}render(){var e=this.state.visible?"animate-in":"animate-out",t="toast ".concat(this.props.level," ").concat(e);return a().createElement("div",{className:t,ref:e=>this.ref=e,onClick:this.handleClick},a().createElement("figure",null,this.renderIcon()),this.renderMessage())}}h(p,"propTypes",{level:l().string.isRequired,message:l().any.isRequired,subMessage:l().any}),h(p,"mountSelector","#toast-message-mount"),h(p,"renderAndSetTimeout",((e,t,r)=>{var n={level:r,message:e,subMessage:t};$(p.mountSelector).length>0&&i().unmountComponentAtNode($(p.mountSelector)[0]),c.Z.renderComponent(p,n,$(p.mountSelector))})),h(p,"success",((e,t)=>{p.renderAndSetTimeout(e,t,"success")})),h(p,"unsuccessful",((e,t)=>{p.renderAndSetTimeout(e,t,"unsuccessful")})),h(p,"warning",((e,t)=>{p.renderAndSetTimeout(e,t,"warning")})),h(p,"info",((e,t)=>{p.renderAndSetTimeout(e,t,"info")}));const f=p},27709:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(59704),a=r.n(n),o=r(75472),i=r.n(o),s=r(50308),l=r.n(s),c=r(67294),u=r.n(c),d=r(45697),h=r.n(d),p=r(55652),f=r(96069),m=r(74527);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function y(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}var b={allowClear:h().bool,dataAttribs:h().object,disabled:h().bool,displayLabel:h().bool,errors:h().object,formAligment:h().string,formatResult:h().func,formatSelection:h().func,helperText:h().string,inputId:h().string,inputName:h().string.isRequired,isRequired:h().bool,label:h().string.isRequired,maxLength:h().number,minimumResultsForSearch:h().string,options:h().array,placeholder:h().string,requiredField:h().bool,selectionClass:h().string.isRequired,showLabel:h().bool,size:h().number,value:h().string,width:h().string,onAuthChange:h().func.isRequired,onChange:h().func.isRequired,onError:h().func},w={allowClear:!0,dataAttribs:{},disabled:!1,displayLabel:!0,formAligment:"horizontal",formatResult:p.ProductPlan.formatOption,formatSelection:p.ProductPlan.formatSelection,formInline:!1,label:"",minimumResultsForSearch:"-1",width:"resolve",onAuthChange:l(),onChange:l(),onError:l()};class C extends u().Component{static loadProjects(){return(e=g().mark((function e(){var t,r,n,a,o,i,s,l;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.ProductPlan.currentUser().tracker_authentication_enabled){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,m.default.tracker.getProjects();case 5:return t=e.sent,r=t.data,e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(2),s=null===(n=e.t0.response)||void 0===n?void 0:n.status,l=null!==(a=null===(o=e.t0.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.error)&&void 0!==a?a:"There was a problem fetching your Tracker projects.",{status:s,message:l};case 15:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){y(o,n,a,i,s,"next",e)}function s(e){y(o,n,a,i,s,"throw",e)}i(void 0)}))})();var e}static handleProjectSelected(e){var t=p.ProductPlan.currentUser().tracker_recent_project=parseInt(e);m.default.tracker.updateIntegration({recent_project:t})}handleProjectsLoaded(e){var t=i()(e.projects,[e=>e.name.toLowerCase()],["asc"]);return t.length>0?{sortedOptions:t,selectedOption:a()(t,(e=>e.id===p.ProductPlan.currentUser().tracker_recent_project))?p.ProductPlan.currentUser().tracker_recent_project:t[0].id}:{}}render(){return u().createElement(f.Z,v({},this.props,{loadAsync:C.loadProjects,placeholder:"Loading Projects...",onFinishedLoading:this.handleProjectsLoaded,onItemSelect:C.handleProjectSelected}))}}C.propTypes=b,C.defaultProps=w;const E=C},79182:(e,t,r)=>{"use strict";r.d(t,{M:()=>b});var n=r(67294),a=r.n(n),o=r(73935),i=r.n(o);var s=r(45697),l=r.n(s);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e){var t=e.children,r=e.bound;return a().createElement("svg",{className:"connection-lines-svg","aria-label":"Connection Lines"},a().createElement("filter",{id:"shadow"},a().createElement("feGaussianBlur",{stdDeviation:"3"})),a().createElement("defs",null,a().createElement("clipPath",{id:"clip"},a().createElement("rect",{x:r.x,y:r.y,width:r.width,height:r.height}))),t)}function h(e){var t=e.a,r=e.b,n=e.aTerminus,o=void 0!==n&&n,i=e.bTerminus,s=void 0!==i&&i,l=e.color,u=void 0===l?"#c6402a":l,d=c(t,2),h=d[0],p=d[1],f=c(r,2),m=f[0],v=f[1],g=Math.max(10,.5*(m-h)),y=m>=h?0:.7*(v-p),b="M ".concat(h," ").concat(p," C ").concat(h+g," ").concat(p+y,", ").concat(m-g," ").concat(v-y,", ").concat(m," ").concat(v);return a().createElement("g",{clipPath:"url(#clip)"},a().createElement("path",{className:"shadow",d:b}),a().createElement("path",{d:b,stroke:u}),o&&a().createElement("circle",{cx:h,cy:p,r:3,fill:"#fff",stroke:u,strokeWidth:2}),s&&a().createElement("circle",{cx:m,cy:v,r:3,fill:"#fff",stroke:u,strokeWidth:2}))}d.propTypes={children:l().any,bound:l().object},h.propTypes={a:l().array,b:l().array,aTerminus:l().bool,bTerminus:l().bool,color:l().string};var p=r(89090);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function v(e,t){if(e){if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y;function b(e){var t=e.recursive,r=void 0===t||t,n=e.connectionType,o=void 0===n?"dependents":n,s=e.barId,l=(0,p.U)(),c=(0,p.T)();y=P(".main-content-holder");var u=a().useMemo((()=>{if(!l)return function(e,t,r){var n=window.currentRoadmapable.bars(),a="dependents"===r?e=>e.dependents():e=>e.dependencies(),o="dependents"===r?(e,t)=>[e.id,t.id]:(e,t)=>[t.id,e.id],i=void 0===e?Object.keys(n):[e],s=[],l=[];e:for(;i.length>0;){var c=i.pop();if(!s.includes(c)){s.push(c);var u=n[c];if(u){var d,h=m(a(u));try{for(h.s();!(d=h.n()).done;){var p=d.value;if(l.push(o(u,p)),l.length>=50)break e;t&&i.push(p.id)}}catch(v){h.e(v)}finally{h.f()}}}}return function(e){var t,r=[],n=m(e);try{for(n.s();!(t=n.n()).done;){var a=f(t.value,2),o=a[0],i=a[1];if(o&&i){var s=E(o);if(s){var l=C(i);l&&(O(o,i,s,l)||r.push({aCoord:s,bCoord:l,aTerminus:!!o.lane,bTerminus:!!i.lane}))}}}}catch(v){n.e(v)}finally{n.f()}return r}(function(e,t){var r={},n={},a={},o=t=>w(r,t,(()=>{var r=e[t];return r?i(r.laneId())?{lane:r.laneId()}:r.isContained&&s(r.containerId)?{container:r.containerId}:{bar:t}:null})),i=e=>w(n,e,(()=>$(".collapsed-lane[data-id='".concat(e,"']")).length>0)),s=e=>w(a,e,(()=>$("#container_".concat(e)).is(":hidden")));return t.map((e=>e.map(o))).filter((e=>{var t=f(e,2),r=t[0],n=t[1];return JSON.stringify(r)!==JSON.stringify(n)}))}(n,l))}(s,r,o)}),[s,r,o,l,c]);return u&&0!==u.length?(function(){if(!y)return;if(y.y<0){y.height+=y.y;var e=P(".navbar");if(!e)return;y.height-=e.height,y.y=e.y+e.height}else{var t=P(".main-content-holder .floatThead-container")||P(".navbar");if(!t)return;var r=document.querySelector(".main-content-holder"),n=getComputedStyle(r),a=parseFloat(n.paddingTop)||0;y.y+=t.height+a,y.height-=t.height+a}}(),i().createPortal(a().createElement(d,{bound:y},u.map(((e,t)=>{var r=e.aCoord,n=e.bCoord,o=e.aTerminus,i=e.bTerminus;return a().createElement(h,{key:t,a:r,b:n,aTerminus:o,bTerminus:i})}))),document.querySelector(".connection-lines-container"))):null}function w(e,t,r){return void 0!==e[t]?e[t]:e[t]=r()}function C(e){return e.bar?_(".project-bar[data-id='".concat(e.bar,"'] .bar_connects_from-icon")):e.lane?L("#lane_title_box_".concat(e.lane)):e.container?_(".project-bar[data-id='".concat(e.container,"']")):void 0}function E(e){return e.bar?x(".project-bar[data-id='".concat(e.bar,"'] .bar_connects_to-icon")):e.lane?L("#lane_title_box_".concat(e.lane)):e.container?x(".project-bar[data-id='".concat(e.container,"']")):void 0}function _(e){var t=P(e);return null===t?null:[t.x,t.y+t.height/2]}function x(e){var t=P(e);return null===t?null:[t.x+t.width,t.y+t.height/2]}function L(e){var t=P(e);return null===t?null:[y.x+y.width/2,t.y+t.height-1]}function P(e){var t=document.querySelector(e);if(null===t)return null;if(null===t.offsetParent)return null;var r=t.getBoundingClientRect();return 0===r.width&&0===r.height?null:r}function O(e,t,r,n){return!S(e,r)&&!S(t,n)}function S(e,t){return!e.lane&&(r=f(t,2),n=r[0],a=r[1],!(n<y.x||n>y.x+y.width||a<y.y||a>y.y+y.height));var r,n,a}},92303:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(67949),a=r(34844),o=r(48414),i=[n.Z.MONTHS,n.Z.QUARTERS,n.Z.SPRINTS,n.Z.TAGS],s=[n.Z.NONE,n.Z.WEEKS,n.Z.MONTHS,n.Z.QUARTERS,n.Z.MONTHS_QUARTERS,n.Z.YEARS,n.Z.SPRINTS];const l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case a.Z.ROADMAP_VIEW:case a.Z.ROADMAP:case a.Z.TIMELINE:return!!s.includes(t)||(r&&(0,o.logPageAction)("Incompatible layout requested",{currentTimelineStyle:t,layoutRequested:e}),!1);case a.Z.LIST:return!!i.includes(t)||(r&&(0,o.logPageAction)("Incompatible layout requested",{currentTimelineStyle:t,layoutRequested:e}),!1);case a.Z.PARKING_LOT:return!0;default:throw new Error("Invalid view style '".concat(e,"'"))}}},32926:(e,t,r)=>{"use strict";r.d(t,{OH:()=>c,gL:()=>u,ri:()=>d});var n=r(13202),a=r(18902),o=r(34844),i=r(58909);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c(){var e=r(48414).logPageAction,t=s((0,n.Wd)({name:"layout",fromParam:h,toParam:d,validate:a.o}),2),o=t[0],i=t[1],l=window.currentRoadmapable,c=l.isPrimaryView,p=l.currentViewId;return[o,function(t){t!==o&&(e("ViewManagerPresenter - setViewStyle",{from:o,to:t,isPrimary:c(),viewId:p}),u(!1),i(t))}]}var u=e=>{window.layoutRendered=e,e&&i.default.publish("LAYOUT_RENDERED")};function d(e){switch(e){case o.Z.ROADMAP:case o.Z.ROADMAP_VIEW:case o.Z.TIMELINE:return"timeline";case o.Z.LIST:return"list";case o.Z.PARKING_LOT:return"table";default:return}}function h(e){switch(e){case"timeline":return o.Z.TIMELINE;case"list":return o.Z.LIST;case"table":return o.Z.PARKING_LOT}}},18641:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var n=r(74527);function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,s,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function o(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}var i,s,l={save:(i=a().mark((function e(t){var r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.current_user){e.next=2;break}return e.abrupt("return");case 2:return r=window.currentRoadmapable.currentViewId,e.prev=3,e.next=6,n.default.userRequests.updatePreferredLayout(r,t);case 6:o=e.sent,window.current_user.preferences=o.data.preferences,e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(3),console.log("Failed to update User layout preference"),e.t0;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})),s=function(){var e=this,t=arguments;return new Promise((function(r,n){var a=i.apply(e,t);function s(e){o(a,r,n,s,l,"next",e)}function l(e){o(a,r,n,s,l,"throw",e)}s(void 0)}))},function(e){return s.apply(this,arguments)})}},18902:(e,t,r)=>{"use strict";r.d(t,{o:()=>o,q:()=>s});var n=r(34844),a=r(92303);function o(e){var t,r;return null!==(t=null!==(r=i(e))&&void 0!==r?r:i(u()))&&void 0!==t?t:window.currentRoadmapable.defaultLayout}function i(e){return Object.values(n.Z).includes(e)&&d(e)?e:null}function s(e){var t,r;return null!==(t=null!==(r=c(e))&&void 0!==r?r:c(u()))&&void 0!==t?t:window.currentRoadmapable.defaultLayout}var l=[n.Z.TIMELINE,n.Z.LIST];function c(e){return l.includes(e)&&d(e)?e:null}function u(){var e,t,r;return(null!==(e=null===(t=window.current_user)||void 0===t||null===(r=t.preferences)||void 0===r?void 0:r.layout)&&void 0!==e?e:{})[window.currentRoadmapable.currentViewId]}function d(e){var t=window.currentRoadmapable.timelineSettings().timelineType;return(0,a.Z)(e,t,!0)}},34844:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={ROADMAP:"roadmap",ROADMAP_VIEW:"roadmap_view",LIST:"list",TIMELINE:"timeline",PARKING_LOT:"parking_lot"}},71662:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n=r(58909),a=r(55705),o=r(55652),i=r(48414),s=r(84033),l=r(65943),c=r(72209),u=r(56264),d=r.n(u);function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function p(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){p(o,n,a,i,s,"next",e)}function s(e){p(o,n,a,i,s,"throw",e)}i(void 0)}))}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class v{constructor(){var e=this;m(this,"handleSettingsUpdate",function(){var t=f(h().mark((function t(r,a){var o,c=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((!(c.length>2&&void 0!==c[2])||c[2])&&(0,i.logPageAction)("SettingsModal - saved changes"),!a){t.next=5;break}return t.next=5,(0,l.fP)();case 5:return window.showAJAXLoaderModal(),t.prev=6,o=d().decamelizeKeys(r),window.currentRoadmapable.isPublic()&&(o.permissions.can_edit=!1),window.masterPlan=o,window.currentRoadmapable=new s.Z(window.masterPlan),t.next=13,e.reloadMasterPlan();case 13:n.default.publish("ROADMAPABLE_SETTINGS_UPDATE");case 14:return t.prev=14,window.hideAJAXLoaderModal(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[6,,14,17]])})));return function(e,r){return t.apply(this,arguments)}}()),m(this,"reloadMasterPlan",f(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return $("h1.board-title span").attr("title",window.masterPlan.name).text(window.masterPlan.name),o.ProductPlan.roadmapManager=new o.ProductPlan.MasterPlanManager(window.currentRoadmapable),o.ProductPlan.displaySettings.resetZoomWindow(),t.next=5,e.showMasterPlan();case 5:case"end":return t.stop()}}),t)})))),m(this,"initActivityDialogClickHandler",(()=>$("#activity-menu-item a").on("click",(()=>c.Z.show()))))}showMasterPlan(){var e=this;return f(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.default.subscribe("UPDATED_BAR",e.handleUpdatedBar),o.ProductPlan.fullScreenSettings.initFullScreen(),o.ProductPlan.roadmapRenderer.initializeRoadmapView(),$("#portfolio-view-settings a").on("click",(t=>{var r=$(t.target).closest("a").data("currentViewId");(0,a.ZP)(window.masterPlan.id,r,e.handleSettingsUpdate)})),e.initActivityDialogClickHandler(),o.ProductPlan.roadmapRenderer.drawDateRows(),$(".lanes[id*='full_lane_']").remove(),$(".roadmap-divider").remove(),$(".lanes[id*='roadmap_lane_']").remove(),t.next=11,e.showContentOrMessage();case 11:case"end":return t.stop()}}),t)})))()}showContentOrMessage(){var e=this;return f(h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.currentRoadmapable.containsNoRoadmaps()){t.next=6;break}$("#empty-portfolio-view-message").show(),$(".timeline").show(),window.currentRoadmapable.isExportView?window.check_window_resize():(window.hideAJAXLoaderModal(),o.ProductPlan.showMainContent()),t.next=18;break;case 6:if(!o.ProductPlan.roadmapManager.masterPlan.isCompletelyFiltered){t.next=13;break}$("#completely-filtered-portfolio-view-message").show(),$(".timeline").show(),window.check_window_resize(),window.hideAJAXLoaderModal(),t.next=18;break;case 13:return $("#completely-filtered-portfolio-view-message").hide(),$("#empty-portfolio-view-message").hide(),t.next=17,o.ProductPlan.roadmapManager.loadMasterPlan();case 17:e.masterPlanView();case 18:case"end":return t.stop()}}),t)})))()}masterPlanView(){o.ProductPlan.roadmapRenderer.renderMasterPlanLanes(),o.ProductPlan.showMainContent(),window.bar&&o.ProductPlan.roadmapView.scrollBarIntoView(window.bar.id,!0,window.bar.name),window.hideAJAXLoaderModal()}handleUpdatedBar(e){return o.ProductPlan.roadmapRenderer.drawLane(e.lane.id,o.ProductPlan.roadmapManager)}}window.ProductPlan.masterPlanView=new v;const g=v},24e3:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var n=r(74527),a=r(91650);function o(){o=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,l,"next",e)}function l(e){i(o,n,a,s,l,"throw",e)}s(void 0)}))}}function l(e){return c.apply(this,arguments)}function c(){return(c=s(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:r=e.sent,a.Z.show({bar:r});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=s(o().mark((function e(t){var r,a,i,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.currentRoadmapable,a=r.barPath(t.id,t.roadmap.id),e.next=4,n.default.bars.show(r.id,a);case 4:return i=e.sent,s=i.data,l=r.roadmaps[t.roadmap.id],e.abrupt("return",l.buildBar(s.bar));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},92966:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>dt,language:()=>ct});var n=r(59704),a=r.n(n),o=r(22205),i=r.n(o),s=r(84486),l=r.n(s),c=r(66678),u=r.n(c),d=r(81629),h=r.n(d),p=r(67294),f=r.n(p),m=r(73935),v=r.n(m),g=r(77656),y=r(99411),b=r(26918),w=(r(31624),r(26891),r(66177),r(87285),r(66709),r(91707),r(49138),r(34428)),C=r(15547),E=r(29193),_=r(16852),x=r(35161),L=r.n(x),P=r(45697),O=r.n(P),S=r(55652),k=r(94184),T=r.n(k);var D=r(95234),I=r(10188);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({href:"javascript:void(0)"},e);return f().createElement("li",null,f().createElement("a",r,t))}var M=r(39012),N=r(36870),B=r(6280);function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class V extends f().Component{constructor(){var e;super(...arguments),e=this,F(this,"state",{showMenu:!1,showPopover:!1}),F(this,"hexWithoutHash",(()=>{var e=this.props.legend.hex,t=e.length;return e.slice(1,t)})),F(this,"handleNewLegend",(()=>{this.setState({showMenu:!1}),S.ProductPlan.roadmapManager.newLegend()})),F(this,"handleEditLegend",(()=>{this.setState({showMenu:!1},(()=>{this.props.onEditLegend(this.props.legend.id)}))})),F(this,"handleReorderLegends",(()=>{this.setState({showMenu:!1}),this.props.onReorderLegend()})),F(this,"handleDeleteLegend",(()=>{this.setState({showMenu:!1}),w.Z.show({title:"Delete Legend",message:"Are you sure you want to delete '".concat(this.props.legend.name,"'?"),confirmButtonVariation:"danger",confirmCallback:()=>{S.ProductPlan.roadmapManager.deleteLegend(this.props.legend.id)}})})),F(this,"handleShowMenu",(()=>{if(window.roadmap.can_edit_label){var e=!this.state.showMenu;this.setState({showMenu:e}),$(document).one("mouseup",(()=>{e&&(this.legendRef.contains(S.ProductPlan.clickedTarget)||this.setState({showMenu:!1}))}))}else this.setState({showMenu:!1})})),F(this,"handleShowPopover",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.state.showPopover;e.t&&(clearTimeout(e.t),t&&r||!t&&!r)||(e.t=setTimeout((()=>{e.setState({showPopover:t})}),500))})),F(this,"renderEditMenu",(()=>{if(!window.roadmap.can_edit_label)return null;var e=this.props.legend,t=e.id,r=e.name;return f().createElement("ul",{"aria-labelledby":"dropdownMenu",className:this.classes(),role:"menu"},j({onClick:this.handleNewLegend},"Add New Label"),j({className:"label-edit",onClick:this.handleEditLegend},"Edit"),j({className:"reorder-legend-list",onClick:this.handleReorderLegends},"Reorder"),j({className:"label-delete","data-id":t,"data-name":r,onClick:this.handleDeleteLegend},"Delete"))})),F(this,"editableLegend",(()=>{var e=this.props.legend,t=e.id,r=e.color,n=e.hex,a=e.name,o="hsl(".concat(S.ProductPlan.hexToHsl(n),")"),i=window.roadmap.can_edit_label,s=T()({"dropdown-toggle":!0,enabled:i});return f().createElement("li",{className:"lane-label dropdown dropdown-submenu legend-sort list-group-item","data-color":this.hexWithoutHash(),"data-color-id":r,"data-label-id":t,id:"legend_"+t,ref:e=>{this.legendRef=e},onMouseEnter:()=>{this.handleShowPopover(!0)},onMouseLeave:()=>{this.handleShowPopover()}},f().createElement("div",{className:"toolbar-color-box",id:"legend_"+t,style:{backgroundColor:o}}),f().createElement("a",{className:s,href:"javascript:void(0)",onClick:this.handleShowMenu},f().createElement("span",{ref:e=>{this.popoverTargetRef=e}},a),i&&f().createElement("span",{className:"toggle-icon"},f().createElement(M.Z,{name:M.c.ellipsisVertical}))),this.renderEditMenu())})),F(this,"unEditableLegend",(()=>{var e=this.props.legend,t=e.hex,r=e.name,n=e.description;return f().createElement("li",{className:"lane-text-label list-group-item","data-content":n,title:r,onMouseEnter:()=>{this.handleShowPopover(!0)},onMouseLeave:()=>{this.handleShowPopover()}},f().createElement("div",{className:"toolbar-color-box",style:{backgroundColor:t}}),f().createElement("a",{id:"uneditable-legend-block"},f().createElement("span",{ref:e=>{this.popoverTargetRef=e}},r)))}))}classes(){return T()({"lane-label":!0,"dropdown-menu":!0,show:this.state.showMenu})}renderPopoverTitle(){var e=this.props.legend,t=e.name,r=e.hex,n="hsl(".concat(S.ProductPlan.hexToHsl(r),")"),a=T()({"legend-item-title-color":""!==r},S.ProductPlan.getContrastClasses(r));return f().createElement("div",{className:a,style:{background:n}},t)}renderPopover(){var e=this.props.legend.description;return f().createElement(D.Z,{id:"legend-item-popover",title:this.renderPopoverTitle()},f().createElement("div",{className:"break-word respect-newlines"},e))}componentDidMount(){this.legendRef&&$(this.legendRef).draggable({cursor:"none",cursorAt:{top:5,left:5},refreshPositions:!0,scroll:!1,zIndex:1e3,start(){N.Z.setup(),S.ProductPlan.roadmapRenderer.closeContextMenu(),S.ProductPlan.roadmapView.dropDetector.reset()},stop(){S.ProductPlan.roadmapView.dropDetector.reset(),S.ProductPlan.roadmapRenderer.updateMilestones(),N.Z.cleanup()},drag(e){N.Z.scroll(e),B.Z.normalizeContainers()},helper(){var e=$('<div class="toolbar-color-box" style="background-color: #'.concat($(this).data("color"),'"></div>')),t=window.currentRoadmapable.buildUnmanagedDefaultBar({container:!1,legend_id:$(this).data("labelId")});return t.isNew=!0,e.data("barData",t),e}})}componentWillUnmount(){this.legendRef&&$(this.legendRef).draggable("destroy")}render(){return f().createElement(f().Fragment,null,this.props.canEdit?this.editableLegend():this.unEditableLegend(),f().createElement(I.Z,{animation:!1,placement:"top",show:this.props.shouldShowPopover(this.state),target:this.popoverTargetRef},this.renderPopover()))}}F(V,"propTypes",{canEdit:O().bool.isRequired,labelId:O().number.isRequired,legend:O().object.isRequired,shouldShowPopover:O().func.isRequired,onEditLegend:O().func.isRequired,onReorderLegend:O().func.isRequired});const Z=V;var U=r(12314);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:"legend-title list-group-item"},e);return f().createElement("li",r,!!t&&t)}class W extends f().Component{constructor(){var e;super(...arguments),e=this,H(this,"state",{showMenu:!1,showPopover:!1}),H(this,"handleGroupEdit",(()=>{this.setState({showMenu:!1},(()=>{this.props.onTitleEdit(this.props.legendTitle.id)}))})),H(this,"handleReorder",(()=>{this.setState({showMenu:!1}),this.props.onReorderLegend()})),H(this,"handleNewLegend",(()=>{this.setState({showMenu:!1}),S.ProductPlan.roadmapManager.newLegend()})),H(this,"handleSharedLegend",(()=>{this.setState({showMenu:!1}),S.ProductPlan.roadmapView.handleClickSettingsDialog()})),H(this,"handleShowMenu",(()=>{var e=!this.state.showMenu;this.setState({showMenu:e}),$(document).one("mouseup",(()=>{e&&(this.titleRef.contains(S.ProductPlan.clickedTarget)||this.setState({showMenu:!1}))}))})),H(this,"handleShowPopover",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e.state.showPopover;e.t&&(clearTimeout(e.t),t&&r||!t&&!r)||(e.t=setTimeout((()=>{e.setState({showPopover:t})}),500))})),H(this,"editableTitle",(()=>{var e=window.currentRoadmapable.isSharedLegendEnabled(),t=window.currentRoadmapable.canEditLabel,r=f().createElement("div",{className:"dropdown"},f().createElement("a",{className:"dropdown-toggle",href:"javascript:void(0)",onClick:this.handleShowMenu},f().createElement("span",{id:"group_title_"+this.props.legendTitle.id,ref:e=>{this.popoverTargetRef=e}},this.props.legendTitle.name),f().createElement("span",{className:"toggle-icon"},f().createElement(M.Z,{name:M.c.ellipsisVertical}))),f().createElement("ul",{"aria-labelledby":"dropdownMenu",className:this.classes(),role:"menu"},t&&j({onClick:this.handleNewLegend},U.Z.labels.NEW_LABEL),t&&j({className:"js-label-group-edit",onClick:this.handleGroupEdit},U.Z.labels.EDIT),t&&j({className:"reorder-legend-list",onClick:this.handleReorder},U.Z.labels.REORDER),e&&j({className:"shared-legend-list",onClick:this.handleSharedLegend},t?U.Z.labels.SWITCH_TO_SHARED_LEGEND:U.Z.labels.SWITCH_TO_CUSTOM_LEGEND)));return q(Object.assign(this.defaultTitleProps(),{ref:e=>{this.titleRef=e}}),r)})),H(this,"unEditableTitle",(()=>{var e=f().createElement("span",{ref:e=>{this.popoverTargetRef=e}},this.props.legendTitle.name);return q(Object.assign(this.defaultTitleProps(),{className:"legend-title list-group-item -view-only"}),e)}))}renderPopover(){var e=this.props.legendTitle,t=e.name,r=e.description;return f().createElement(D.Z,{id:"legend-title-popover",title:t},f().createElement("div",{className:"break-word respect-newlines"},r))}classes(){return T()({"dropdown-menu":!0,show:this.state.showMenu})}defaultTitleProps(){return{"data-content":this.props.legendTitle.description,onMouseEnter:()=>{this.handleShowPopover(!0)},onMouseLeave:()=>{this.handleShowPopover()}}}render(){return f().createElement(f().Fragment,null,this.props.canEdit?this.editableTitle():this.unEditableTitle(),f().createElement(I.Z,{placement:"top",show:this.props.shouldShowPopover(this.state),target:this.popoverTargetRef},this.renderPopover()))}}H(W,"propTypes",{canEdit:O().bool.isRequired,legendTitle:O().object.isRequired,shouldShowPopover:O().func.isRequired,onTitleEdit:O().func.isRequired,onReorderLegend:O().func.isRequired});const z=W;r(62526);function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Y extends f().Component{constructor(){super(...arguments),K(this,"enableLegendSort",(()=>{var e=$("#sortable-legend"),t=$(".lane-label:not(ul)");t.draggable("disable"),e.hasClass("ui-sortable-disabled")?e.sortable("enable"):e.sortable({axis:"y",cursor:"ns-resize",items:"li:not(.legend-title)",update:(e,t)=>{var r=t.item.data("label-id"),n=t.item.index()-1;S.ProductPlan.roadmapManager.updateLegendPosition(r,{position_position:n})}}),e.disableSelection(),$("#legend-done-sorting").show(),t.css("opacity",1),window.check_window_resize()})),K(this,"disableLegendOrdering",(()=>{var e=$("#sortable-legend");$("#legend-done-sorting").hide(),e.hasClass("ui-sortable")&&e.sortable("disable"),e.css("opacity",1),$(".lane-label:not(ul)").draggable("enable")})),K(this,"handleLegendReorder",(()=>{this.enableLegendSort()})),K(this,"handleDoneSorting",(()=>{this.disableLegendOrdering()})),K(this,"handleEditLegend",(e=>{S.ProductPlan.roadmapManager.editLegend(e)})),K(this,"handleEditLabelGroupTitle",(e=>{S.ProductPlan.roadmapManager.editLabelGroup(e)})),K(this,"renderLegendItems",(()=>L()(this.props.legends,(e=>f().createElement(Z,{canEdit:this.props.canEdit,key:e.id,labelId:this.props.legendTitle.id,legend:e,shouldShowPopover:this.shouldShowPopover,onEditLegend:this.handleEditLegend,onReorderLegend:this.handleLegendReorder}))))),K(this,"renderLegendTitle",(()=>{var e=window.currentRoadmapable.isPrimaryView(),t=window.currentRoadmapable.canEditLabel,r=this.props.canEdit&&(t||e);return f().createElement(z,{canEdit:r,legendTitle:this.props.legendTitle,shouldShowPopover:this.shouldShowPopover,onReorderLegend:this.handleLegendReorder,onTitleEdit:this.handleEditLabelGroupTitle})}))}componentDidMount(){$("#legend-done-sorting:visible").length>0&&this.handleLegendReorder()}componentDidUpdate(){$("#legend-done-sorting:visible").length>0&&this.handleLegendReorder()}shouldShowPopover(e){var t=e.showMenu,r=e.showPopover,n=$("#roadmap-legend .lane-label.dropdown-menu.show, #roadmap-legend .legend-title .dropdown-menu.show").length>0,a=$("#legend-done-sorting:visible").length>0;return!(t||n||a)&&r}render(){return f().createElement("div",{id:"roadmap-legend"},f().createElement("ul",{className:"list-group no-border toolbar-section",id:"sortable-legend"},this.renderLegendTitle(),this.renderLegendItems()),f().createElement("div",{id:"legend-done-sorting",style:{display:"none"}},f().createElement("a",{className:"btn btn-success btn-tiny",href:"javascript:void(0)",onClick:this.handleDoneSorting},"Done"),f().createElement("div",{className:"alert alert-success",style:{marginTop:"10px"}},"Drag to reorder the legend. Click done when you're finished.")))}}K(Y,"propTypes",{canEdit:O().bool.isRequired,legendTitle:O().object.isRequired,legends:O().array.isRequired});const J=Y;var Q=r(32148),X=r(94828),ee=r(58909),te=r(25278);function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class ne{static initClass(){this.targetPrecedence={timeline:11,"Roadmap-sublane":9,"Lane-sublane":7,"lane-title":6,bar:5,container:4,lane:3}}constructor(){re(this,"reset",(()=>this.targets={})),re(this,"addTarget",((e,t)=>this.targets[e]=t)),re(this,"removeTarget",((e,t)=>{if(this.targets[e]===t)return delete this.targets[e]})),re(this,"canHandleDrop",(e=>this.activeTarget()===e)),re(this,"canAddTarget",(e=>{var t=this.activeTargetPrecedence(),r=ne.targetPrecedence[e];return void 0===t||r>=t})),re(this,"activeTarget",(()=>this.targets.timeline?this.targets.timeline:this.targets["Roadmap-sublane"]?this.targets["Roadmap-sublane"]:this.targets["Lane-sublane"]?this.targets["Lane-sublane"]:this.targets["lane-title"]?this.targets["lane-title"]:this.targets.bar?this.targets.bar:this.targets.container?this.targets.container:this.targets.lane?this.targets.lane:void 0)),re(this,"activeTargetPrecedence",(()=>this.targets.timeline?ne.targetPrecedence.timeline:this.targets["Roadmap-sublane"]?ne.targetPrecedence["Roadmap-sublane"]:this.targets["Lane-sublane"]?ne.targetPrecedence["Lane-sublane"]:this.targets["lane-title"]?ne.targetPrecedence["lane-title"]:this.targets.bar?ne.targetPrecedence.bar:this.targets.container?ne.targetPrecedence.container:this.targets.lane?ne.targetPrecedence.lane:void 0)),this.reset()}}ne.initClass();const ae=ne;var oe=r(79408),ie=r(34844),se=r(80008),le=r.n(se),ce=r(56264),ue=r.n(ce),de=r(93128),he=r(67187),pe=r(83113),fe=r(32646),me=r(71545),ve=r(74527),ge=r(12266);function ye(){ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function be(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}const we={checkForTemplateLoaded:function(){var e,t=(e=ye().mark((function e(t){var r,n,a,o,i;return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=$("#load-template")).data("did-load-template")){e.next=12;break}if(n=r.data("template-name"),a=!r.data("without-data"),ge.Z.loadTemplateGTMEvent(n,a),t){e.next=12;break}return e.next=9,ve.default.accountActions.upgradeAccount("new_roadmap");case 9:o=e.sent,i=o.data,new Function(i)();case 12:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){be(o,n,a,i,s,"next",e)}function s(e){be(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()};var Ce=r(48414),Ee=r(13731),_e=r(65943),xe=r(47177),Le=r(79881),Pe=r(72209),Oe=r(30381),Se=r.n(Oe),ke=(r(16246),r(63273)),Te=r(88090),De=r(43557),Ie=r(51206),Re=r(24167),Ae=r(24614),je=r(78318),Me=(r(6063),r(76141)),Ne=r(48098),Be=r(60691),Fe=r(51793);var Ve=r(27521);function Ze(){Ze=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function He(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function qe(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){He(o,n,a,i,s,"next",e)}function s(e){He(o,n,a,i,s,"throw",e)}i(void 0)}))}}var We="milestone-dialog-holder";function ze(){return(ze=qe(Ze().mark((function e(t){var r;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===document.querySelector("#".concat(We))&&document.body.insertAdjacentHTML("beforeend",'<div id="'.concat(We,'"></div>')),r=document.querySelector("#".concat(We)),e.abrupt("return",new Promise((e=>{v().render(f().createElement(Qe,t),r,(()=>{e(r)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(){var e=document.querySelector("#".concat(We));null!==e&&(v().unmountComponentAtNode(e),e.remove())}function Ke(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=qe(Ze().mark((function e(t){var r,n;return Ze().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$.rails.disableFormElement($("#milestone-modal-submit")),r=t.target.dataset.id,(n=$(t.target).serializeArray().reduce(((e,t)=>("tag_list"===t.name?(e[t.name]=e[t.name]||[]).push(t.value):e[t.name]=t.value,e)),{})).tag_list=(n.tag_list||[]).join(","),e.prev=5,e.next=8,S.ProductPlan.roadmapManager.updateMilestone(r,n);case 8:$e(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),$.rails.enableFormElement($("#milestone-modal-submit"));case 14:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function Je(){$e()}function Qe(e){var t=e.milestone,r=f().useRef(null),n=Ue(f().useState(Se()(null===t||void 0===t?void 0:t.date)),2),a=n[0],o=n[1],i=Ue(f().useState(!1),2),s=i[0],l=i[1];return f().useEffect((()=>{var e=document.getElementById("milestone_title");e.focus(),e.select(),e.addEventListener("keyup",(e=>{var t,n;"Enter"===e.code&&(e.preventDefault(),null===r||void 0===r||null===(t=r.current)||void 0===t||null===(n=t.submit)||void 0===n||n.call(t))})),e.addEventListener("invalid",(e=>{e.preventDefault()})),document.getElementById("milestone_expanded_true").checked=t.expanded,document.getElementById("milestone_expanded_false").checked=!t.expanded;var n=$("#milestone_description");n.expanding("active")||n.expanding()}),[]),f().createElement(Ve.aH,null,f().createElement(Te.Z,{show:!0,animation:!1,className:"milestone-dialog",enforceFocus:!1,onExited:$e,onHide:Je},f().createElement("form",{className:"form-horizontal","data-id":t.id,onSubmit:Ke,ref:r},f().createElement(Te.Z.Header,{closeButton:!0,className:"pp-modal-header"},f().createElement(Te.Z.Title,{componentClass:"h3"},"Edit Milestone")),f().createElement(Te.Z.Body,null,f().createElement(De.Z,{className:"horizontal"},f().createElement("div",{className:"col-xs-4"},f().createElement(Ie.Z,{htmlFor:"milestone_title"},"Title",f().createElement("i",{className:"required-dot"},"*"))),f().createElement("div",{className:"col-xs-6"},f().createElement(Re.Z,{id:"milestone_title",name:"title",defaultValue:t.title,required:!0}),f().createElement(Ae.Z,null,"Please enter a title"))),f().createElement(De.Z,{className:"horizontal"},f().createElement("div",{className:"col-xs-4"},f().createElement(Ie.Z,{htmlFor:"milestone_description"},"Description")),f().createElement("div",{className:"col-xs-6"},f().createElement(Re.Z,{id:"milestone_description",name:"description",defaultValue:t.description,componentClass:"textarea",rows:1}))),f().createElement(De.Z,{className:"horizontal"},f().createElement("div",{className:"col-xs-4"},f().createElement(Ie.Z,{htmlFor:"date"},"Date",f().createElement("i",{className:"required-dot"},"*"))),f().createElement("div",{className:"col-xs-6"},f().createElement(Me.SingleDatePicker,{hideKeyboardShortcutsPanel:!0,id:"date",date:Se()(a),isOutsideRange:()=>!1,onDateChange:e=>{e&&o(e)},focused:s,onFocusChange:e=>{var t=e.focused;return l(t)},numberOfMonths:1,transitionDuration:0,daySize:30,displayFormat:Fe.Z.dateFormat,showClearDate:!1,navPrev:f().createElement(M.Z,{name:M.c.arrowLeft}),navNext:f().createElement(M.Z,{name:M.c.arrowRight})}),f().createElement(Ae.Z,null,"Please enter a date"))),f().createElement(De.Z,{className:"horizontal"},f().createElement("div",{className:"col-xs-4"},f().createElement(Ie.Z,{htmlFor:"tag_list"},"Tags")),f().createElement("div",{className:"col-xs-6"},f().createElement(ke.Z,{editMode:!0,id:"tag_list",label:!1,value:t.tagList,onChange:()=>{}}))),f().createElement(De.Z,{className:"horizontal"},f().createElement("div",{className:"col-xs-4"},f().createElement(Ie.Z,{htmlFor:"milestone_color"},"Color")),f().createElement("div",{className:"col-xs-6"},f().createElement("input",{id:"milestone_color",name:"palette_color_id",type:"hidden",defaultValue:t.paletteColorId}),f().createElement(Ne.ZP,{canAdd:!0,size:Ne.J7.small,selectedId:parseInt(t.paletteColorId)?parseInt(t.paletteColorId):null,onColorClick:(e,t)=>{$("#milestone_color").val(e.id),t.handleExternalPropChange({selectedId:e.id})},onColorChangeComplete:e=>{$("#milestone_color").val(e.id)}}))),f().createElement(De.Z,{className:"horizontal"},f().createElement("div",{className:"col-xs-4"},f().createElement(Ie.Z,{htmlFor:"milestone_expanded"},"Style")),f().createElement("div",{className:"col-xs-6"},f().createElement("div",null,f().createElement("span",{style:{display:"inline"}},f().createElement("input",{id:"milestone_expanded_false",name:"expanded",type:"radio",value:"false","aria-label":"Collapsed"})," ",f().createElement("label",{htmlFor:"milestone_expanded_false",style:{display:"inline-block",width:"inherit"}},f().createElement("div",{className:"milestone-edit"},f().createElement(Be.Z,{id:t.id,title:t.title,flagColor:t.hexValue(),textColor:S.ProductPlan.getContrastClasses(t.hexValue()),date:t.displayDate(),expanded:!1})))),f().createElement("span",{style:{display:"inline"}},f().createElement("input",{id:"milestone_expanded_true",name:"expanded",type:"radio",value:"true","aria-label":"Expanded"})," ",f().createElement("label",{htmlFor:"milestone_expanded_true",style:{display:"inline-block",width:"inherit"}},f().createElement("div",{className:"milestone-edit"},f().createElement(Be.Z,{id:t.id,title:t.title,flagColor:t.hexValue(),textColor:S.ProductPlan.getContrastClasses(t.hexValue()),date:t.displayDate(),expanded:!0})))))))),f().createElement(Te.Z.Footer,null,f().createElement(je.Z,{id:"milestone-modal-submit",type:"submit",bsStyle:"success",className:"js-submit","data-disable-with":"Saving"},"Save"),f().createElement(je.Z,{className:"js-cancel",onClick:Je},"Cancel")))))}Qe.propTypes={milestone:O().object};var Xe=r(84256),et=r(56546),tt=r(32926),rt=r(17563);function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function at(){at=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function ot(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function it(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ot(o,n,a,i,s,"next",e)}function s(e){ot(o,n,a,i,s,"throw",e)}i(void 0)}))}}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lt=r(37761),ct={barNotFound:e=>"".concat(e," cannot be found."),barNotAccessible:e=>"".concat(e," is not currently accessible from this view.")};class ut{constructor(){var e=this;st(this,"show",(()=>{we.checkForTemplateLoaded(S.ProductPlan.canEdit()),this.initialized?window.check_window_resize():(this.dropDetector=new ae,window.currentRoadmapable.canEdit()&&y.Z.renderComponent(me.Z,{eventsChannel:ee.default,legendTitle:window.currentRoadmapable.legendTitle,customLabelGroups:window.currentRoadmapable.customLabelGroups},$("#js-multi-select-banner")),this.initialized=!0)})),st(this,"updateMode",(e=>{var t=this.mode;this.mode=e,S.ProductPlan.EventRegistrar.turnOn(this.mode,t),ee.default.publish("".concat(this.mode,"_mode_enabled").toUpperCase())})),st(this,"setupDefaultMode",(()=>{S.ProductPlan.roadmapsController.toggleToolBar(!0),this.mountRoadmapIntegrations(),this.mountToolbarLegend(),S.ProductPlan.roadmapRenderer.displaySetup(),this.initialized?S.ProductPlan.roadmapRenderer.redrawRoadmapObjects():this.initialRoadmapLoad(),S.ProductPlan.roadmapRenderer.eventHandlerInitialization(),this.initSettingsDialogClickHandler(),this.initColorsDialogClickHandler(),this.initActivityDialogClickHandler(),this.initCloseOpenContextMenusClickHandler(),this.initCloseOpenContextMenusContextmenuHandler(),S.ProductPlan.UndoListenerRegistry.bindTimelineListeners(),window.currentRoadmapable.canEdit()&&S.ProductPlan.MultiSelectListenerRegistry.bindTimelineListeners(),S.ProductPlan.roadmapRenderer.preserveLastKnownScrollPosition()})),st(this,"disableDefaultMode",(()=>{$("body").off("click","#hide_toolbar_button"),$("body").off("click","#show_toolbar_button"),$("#roadmap-tab .mytips").tooltip({container:"body",animation:!1}),$("body").off("click",".readmore"),$("body").data("fullscreen",!1),$("body").off("click","#history-menu-item"),$(".js-main-container").off("click",".project-bar .bar-content"),S.ProductPlan.UndoListenerRegistry.unbindTimelineListeners(),S.ProductPlan.MultiSelectListenerRegistry.unbindTimelineListeners(),$("#toolbar-body").off("click",".js-open-version-modal"),S.ProductPlan.roadmapRenderer.removeScrollHandlerOnMainContainer(),S.ProductPlan.roadmapRenderer.removeWheelHandlerOnMainContainer(),$(window).off("resize"),$(".js-main-container").off("contextmenu",".project-bar"),S.ProductPlan.canEdit()&&($(".project-bar").draggable("disable"),$(".flag.milestone").draggable("disable"),$(".project-bar").resizable("disable")),$("body").off("click",".context-menu li a:not(.lanes .context-menu li a)"),$("#edit_roadmap_settings_button a").off("click"),$(".js-lane-container").off("click",".lane-title "+M.c.chevronDown.selectorString+", .lane-title "+M.c.chevronRight.selectorString)})),st(this,"setupMultiSelectMode",(()=>{S.ProductPlan.roadmapRenderer.disableToolbar(!0),S.ProductPlan.roadmapRenderer.initContainerToggle(),S.ProductPlan.roadmapRenderer.initLaneToggle(),S.ProductPlan.roadmapRenderer.initReadMoreHandler(),S.ProductPlan.roadmapRenderer.initWheelHandlerOnMainContainer(),S.ProductPlan.roadmapRenderer.initScrollHandlerOnMainContainer(),S.ProductPlan.roadmapRenderer.initWindowResizeEventHandling(),S.ProductPlan.layout.timelineIsVisible()&&$(".js-timeline-table").floatThead({position:"absolute",scrollContainer:!0,zIndex:200}),S.ProductPlan.UndoListenerRegistry.bindTimelineListeners(),S.ProductPlan.MultiSelectListenerRegistry.bindTimelineListeners(),b.Z.bindSelectedBarDraggables(),this.initExitModeHandler(),$(".dropdown-toggle .toggle-icon").css("display","none"),S.ProductPlan.roadmapRenderer.preserveLastKnownScrollPosition(),window.dataLayer.push({event:"entered_multi_select_mode"})})),st(this,"disableMultiSelectMode",(()=>{S.ProductPlan.roadmapRenderer.disableToolbar(!1),$("#roadmap-tab .mytips").tooltip({container:"body",animation:!1}),S.ProductPlan.roadmapRenderer.removeScrollHandlerOnMainContainer(),S.ProductPlan.roadmapRenderer.removeWheelHandlerOnMainContainer(),S.ProductPlan.UndoListenerRegistry.unbindTimelineListeners(),S.ProductPlan.MultiSelectListenerRegistry.unbindTimelineListeners(),$(document).off("keydown"),$("body").off("mousedown"),$(window).off("resize")})),st(this,"inMultiSelectMode",(()=>"multiSelect"===this.mode)),st(this,"initExitModeHandler",(()=>{var e=this;return $(document).on("keydown",(t=>e.handleEscapeKey(t))),$("body").on("mousedown",(t=>e.handleRoadmapClick(t)))})),st(this,"handleClickSettingsDialog",(()=>window.currentRoadmapable.isPrimaryView()?fe.ZP.roadmapSettings(window.currentRoadmapable.roadmapableId(),window.currentRoadmapable.currentViewId,this.handleSettingsUpdate):fe.ZP.childViewSettings(window.currentRoadmapable.roadmapableId(),window.currentRoadmapable.currentViewId,this.handleSettingsUpdate))),st(this,"initSettingsDialogClickHandler",(()=>$("#edit_roadmap_settings_button a").on("click",this.handleClickSettingsDialog))),st(this,"initColorsDialogClickHandler",(()=>{var e=this.handleCloseColorsModal;return $("#edit_roadmap_colors a").on("click",(()=>C.Z.show({onHandleClose:e})))})),st(this,"initActivityDialogClickHandler",(()=>$("#activity-menu-item a").on("click",(()=>Pe.Z.show())))),st(this,"initCloseOpenContextMenusClickHandler",(()=>$("body").on("click",this.closeOpenContextMenus))),st(this,"initCloseOpenContextMenusContextmenuHandler",(()=>$("body").on("contextmenu",this.closeOpenContextMenus))),st(this,"handleUndo",(e=>{if(ee.default.publish("REDRAW_BARS_EVENT"),this.handleRoadmapBarsRemoteSyncStatusChange(),!e.deleted)return h()(this.scrollBarIntoView.bind(this,e.id,!1,!1,!1))})),st(this,"handleCloseColorsModal",function(){var e=it(at().mark((function e(t,r){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.currentRoadmapable.isPrimaryView()&&r.close(),!t){e.next=4;break}return e.next=4,_e.RZ.reloadPageAsync();case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),st(this,"handleRedrawBars",(()=>this.inMultiSelectMode()?S.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect():S.ProductPlan.roadmapRenderer.redrawLanes())),st(this,"handleSpecificBarsRedraw",(e=>{var t=e.map((e=>e.lane.id));[...new Set(t)].forEach((e=>{S.ProductPlan.roadmapRenderer.drawLane(e,S.ProductPlan.roadmapManager)}))})),st(this,"handleSelectionUpdate",(()=>{if(this.inMultiSelectMode())return _.Z.isEmpty()?this.updateMode("default"):S.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect()})),st(this,"handleEscapeKey",(e=>{if(27===e.keyCode)return _.Z.clear()})),st(this,"handleRoadmapClick",(e=>{if(S.ProductPlan.MultiSelectListenerRegistry.isExitPointClickEvent(e))return _.Z.clear()})),st(this,"isActive",(()=>$("#roadmap-tab.tab-pane").hasClass("active"))),st(this,"reloadRoadmap",it(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S.ProductPlan.displaySettings.resetZoomWindow(),t.next=3,S.ProductPlan.roadmapManager.loadRoadmap();case 3:e.mountToolbarLegend(),S.ProductPlan.showMainContent(),S.ProductPlan.roadmapRenderer.applyRoadmapStyle(window.currentRoadmapable.roadmapStyle),window.setLayout(ie.Z.TIMELINE),S.ProductPlan.roadmapRenderer.drawDateRows(),S.ProductPlan.roadmapRenderer.redrawRoadmapObjects(),window.check_window_resize(),X.Z.renderPermissions(),S.ProductPlan.roadmapRenderer.renderRoadmapMilestoneFlagPoles(S.ProductPlan.roadmapManager);case 12:case"end":return t.stop()}}),t)})))),st(this,"handleSettingsUpdate",function(){var t=it(at().mark((function t(r){var n,a,o,i=arguments;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],(0,Ce.logPageAction)("SettingsModal - saved changes"),r){t.next=5;break}return t.next=5,e.showLoaderAndReloadPage();case 5:if((a=window.getLayout())!==ie.Z.TIMELINE||n){t.next=11;break}return t.next=9,e.reloadTimeline();case 9:case 15:t.next=19;break;case 11:if((o=n?r.viewStyle:a)!==a){t.next=17;break}return t.next=15,_e.RZ.reloadPageAsync();case 17:return t.next=19,_e.RZ.setLocationAsync(rt.stringifyUrl({url:window.currentRoadmapable.baseUrl(),query:{layout:(0,tt.ri)(o)}}));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),st(this,"reloadTimeline",it(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.showAJAXLoaderModal(),t.prev=1,t.next=4,e.reloadRoadmap();case 4:ee.default.publish("ROADMAPABLE_SETTINGS_UPDATE");case 5:return t.prev=5,window.hideAJAXLoaderModal(),t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[1,,5,8]])})))),st(this,"showLoaderAndReloadPage",it(at().mark((function e(){return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.showAJAXLoaderModal(),e.next=3,_e.RZ.reloadPageAsync();case 3:case"end":return e.stop()}}),e)})))),st(this,"removeRoadmapBarModals",(()=>(S.ProductPlan.roadmapRenderer.closeContextMenu(),$("#primary-modal").modal("hide")))),st(this,"deleteBar",function(){var t=it(at().mark((function t(r){var n,a,o,i,s,l=arguments;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]&&l[1],e.removeRoadmapBarModals(),(i=window.currentRoadmapable.findActiveBar(r)).isContainer?(o="Delete Container",a="Are you sure you want to delete the container '".concat(i.name,"' and all the bars inside it?")):(o="Delete Bar",a="Are you sure you want to delete '".concat(i.name,"'?")),t.next=6,w.Z.showAsync({title:o,message:a,confirmButtonVariation:"danger"});case 6:if(!(s=t.sent)){t.next=10;break}return t.next=10,S.ProductPlan.roadmapManager.deleteBar(r,n);case 10:return t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),st(this,"convertToContainer",(e=>(this.removeRoadmapBarModals(),S.ProductPlan.roadmapManager.convertToContainer(e)))),st(this,"convertToBar",(e=>(this.removeRoadmapBarModals(),S.ProductPlan.roadmapManager.convertToBar(e)))),st(this,"updateDefaultBar",function(){var t=it(at().mark((function t(r){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.removeRoadmapBarModals(),t.prev=1,t.next=4,S.ProductPlan.roadmapManager.updateDefaultBar(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),S.ProductPlan.requireRefresh(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()),st(this,"duplicateBar",(e=>(this.removeRoadmapBarModals(),S.ProductPlan.roadmapManager.duplicateBar(e)))),st(this,"parkBar",function(){var t=it(at().mark((function t(r){var n,a,o;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.removeRoadmapBarModals(),n=window.currentRoadmapable.findBarContainer(r),window.showAJAXLoaderModal(),a=window.currentRoadmapable.findActiveBar(r),t.prev=4,t.next=7,S.ProductPlan.roadmapManager.updateBarParkedStatus(r);case 7:return o=t.sent,n&&e.updateBarContextMenu(window.currentRoadmapable.findActiveBar(n.id)),(0,he.A)(a&&a.name,window.currentRoadmapable.isPrimaryView()),t.abrupt("return",o);case 11:return t.prev=11,window.hideAJAXLoaderModal(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[4,,11,14]])})));return function(e){return t.apply(this,arguments)}}()),st(this,"prioritizeBar",function(){var e=it(at().mark((function e(t){var r;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.currentRoadmapable.findActiveBar(t),e.next=3,S.ProductPlan.roadmapManager.prioritizeBars([t]);case 3:(0,pe.p)(r&&r.name,window.currentRoadmapable.isPrimaryView());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),st(this,"unPlanBar",function(){var t=it(at().mark((function t(r){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.Z.showAsync({title:"Hide Planning Board Item",message:"Are you sure you want to hide this item from the Planning Board? Your scores will not be deleted."});case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return e.removeRoadmapBarModals(),t.next=8,S.ProductPlan.roadmapManager.updateBar(r,{to_score:!1,planning_position:null});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),st(this,"deleteMilestone",function(){var t=it(at().mark((function t(r){var n;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.removeRoadmapBarModals(),n=window.currentRoadmapable.findMilestone(r).title,t.next=4,w.Z.showAsync({title:"Delete Milestone",message:"Are you sure you want to delete '".concat(n,"'?"),confirmButtonVariation:"danger"});case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,S.ProductPlan.roadmapManager.deleteMilestone(r);case 9:S.ProductPlan.roadmapRenderer.updateMilestones();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),st(this,"editMilestone",(e=>{oe.Z.removePopovers(),S.ProductPlan.roadmapRenderer.closeContextMenu();var t=window.currentRoadmapable.findMilestone(e);void 0!==t&&(t.inDom().popover("hide"),function(e){ze.apply(this,arguments)}({milestone:t}))})),st(this,"toggleMilestone",(e=>(S.ProductPlan.roadmapRenderer.closeContextMenu(),S.ProductPlan.roadmapRenderer.toggleMilestone(e)))),st(this,"deleteLane",function(){var e=it(at().mark((function e(t){var r,n;return at().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.currentRoadmapable.findLane(t),S.ProductPlan.roadmapRenderer.closeContextMenu(),e.next=4,w.Z.showAsync({title:"Delete Lane",message:"",permanentActionMessageObject:{inMessageType:"Lane",inMessageName:r.name,associatedRecords:" and all of its contents."},confirmButtonVariation:"danger"});case 4:if(!(n=e.sent)){e.next=8;break}return e.next=8,S.ProductPlan.roadmapManager.deleteLane(t);case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),st(this,"closeOpenContextMenus",(e=>{null==e&&(e=window.event);var t=null!=e.target?e.target:e.srcElement;$(t).hasClass("context-menu")||$(t).parents(".context-menu").length>0||S.ProductPlan.roadmapRenderer.closeContextMenu()})),st(this,"handleLaneDrop",((e,t)=>{if(e&&t)return this.placeAndUpdateBar(e,t.barElement,t.isContainer,t.legendId,t.needToRender,t.newBarData,t.newLeftPosition,t.widthInPixels,window.currentRoadmapable.timelineSettings(),window.currentRoadmapable.ppd,t.filterBars)})),st(this,"handleLaneLockedBarMessage",((e,t)=>{if(S.ProductPlan.isFeatureEnabled("sync_lanes_legends")){var r=S.ProductPlan.roadmapManager.roadmapable().findActiveBar(e);if(r&&r.isLaneSyncEnabled()&&t&&t!=r.laneId()){var n=r.hasSingleIntegrationLinkForType(Xe.Un.JIRA)?"Jira":"Azure DevOps";return de.Z.warning("Action required.","To prevent the lane from reverting during the next sync, update the linked item(s) in ".concat(n,".")),!0}return!1}})),st(this,"placeAndUpdateBar",((e,t,r,n,a,o,s,c,d,h,p)=>{var f=o.parked;f&&(o.parked=!1);var m=[],v=d.dimensionPixelsToUnits(s,c,h),y=e.hasClass("lane-divider"),b=g.Z.calculateSublanePositionFromDropArea(y,e),w=g.Z.getLaneIdFromDropArea(e),C=g.Z.getContainerIdFromDropArea(e),_=g.Z.getBarIdToSkipFromDropArea(a,o),x=g.Z.calculateAssignedSublaneIdsFromDropArea(C,_,w),L=this.sublaneIdAt(x,b);isNaN(L)&&S.ProductPlan.requireRefresh('Invalid sublane "'+L+'"');var P=[],O=!1,k=null,T=window.currentRoadmapable.findOrBuildBar(o),D=T.isNewBar(),I=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:T.id,container:!!r,is_contained:void 0!==C,containerId:void 0===C?"":C,parked:!1,lane_id:w,sublane_id:L},v);D?(I.token=T.token,I.name=T.name,I.legend_id=T.legend.id,I.container=T.isContainer):this.handleLaneLockedBarMessage(T.id,w),T.isContained?(O=T.isContained,k=T.parent()):I.is_contained&&(O=I.is_contained,k=window.currentRoadmapable.findActiveBar(I.containerId));var R=u()(T.getUndoAttributes());if(I.is_contained){var A=window.currentRoadmapable.findActiveBar(I.containerId),j=u()(A.getUndoAttributes()),M=E.Z.adjustContainer(I.containerId,I);M&&(m.push(j),P.push(M))}else l()(T.bars(),(e=>{var t=u()(e.getUndoAttributes());m.push(t);var r=i()({id:e.id,lane_id:w},window.currentRoadmapable.timelineSettings().shiftedUnits(e,T,I));return P.push(r)}));var N=new Map,B=e.siblings("[data-generated='true']").addBack("[data-generated='true']");if(g.Z.forEachBarBySublane(B,((e,t,r,n,a)=>{var o=window.currentRoadmapable.findActiveBar(a);N.set(o.id,{id:o.id,sublane_id:o.sublaneId})})),y){var F,V=g.Z.moveBarsDown(e.nextAll(".lane-bar-holder"),[T.id]);(0,Ce.logPageAction)("New Sublane",{updatedCount:(null===(F=V.barsToUpdate)||void 0===F?void 0:F.length)||0,totalInLane:e.parent().find(".project-bar").length,sublaneType:e.hasClass("base-drop")?"lane":"container"}),V.barsToUpdate.forEach((e=>{N.delete(e.id)})),Array.prototype.push.apply(P,V.barsToUpdate),Array.prototype.push.apply(m,V.barStash)}if(Array.prototype.push.apply(P,Array.from(N.values())),D)S.ProductPlan.roadmapManager.createBar(I,R,m).catch(S.ProductPlan.requireRefresh),this.disableNewActions(),P.length>0&&S.ProductPlan.roadmapManager.updateBarsPosition(P,D,o);else{m.push(R);var Z=S.ProductPlan.roadmapManager.undoBarMove.bind(void 0,T.id,m);f||S.ProductPlan.UndoQueue.pushUndo({command:Z,clearRedoAction:!0}),P.length>0?(P.push(I),S.ProductPlan.roadmapManager.updateBarsPosition(P,D,o)):S.ProductPlan.roadmapManager.silentUpdateBar(T.id,I)}var U=window.currentRoadmapable.findActiveBar(T.id);if(a&&(t=$(new Ee.Z(U).render())),e.siblings("[data-generated='true']").addBack("[data-generated='true']").each(((e,t)=>{t.setAttribute("data-generated",!1)})),this.updateBarContextMenu(U),U.isContained&&this.updateBarContextMenu(U.parent()),O&&null!==k&&k!==U.parent()&&this.updateBarContextMenu(k),U.inDom().attr("data-containerId",U.containerId),e.append(t),y||0===e.siblings(".lane-divider").length){var G=$(lt({dropClass:e.hasClass("base-drop")?"base-drop":"container-drop"},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}));e.before(G.clone().uniqueId()),e.after(G.uniqueId())}y&&e.removeClass("lane-divider").addClass("lane-bar-holder"),U.inDom().addClass("just-dropped"),g.Z.updateRoadmapFromBarDropOrRedraw(U,p,this.handleSettingsUpdate)})),st(this,"updateBarContextMenu",(e=>{var t=r(17288),n=r(63190),a=window.currentRoadmapable.isMasterPlan()?n:t,o=$(a(new Ee.Z(e),{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}));return e.inDom().find(".context-menu:first").replaceWith(o)})),st(this,"sublaneIdAt",((e,t)=>{var r=void 0,n=e.length-1;return 0===e.length?r=0:t>n?(r=parseInt(e[n])+1,isNaN(r)&&S.ProductPlan.requireRefresh("Invalid new sublane at ["+n+'] = "'+e[n]+'"')):(r=parseInt(e[t]),isNaN(r)&&S.ProductPlan.requireRefresh("Invalid sublane at ["+t+'] = "'+e[t]+'"')),r})),st(this,"disableNewActions",(()=>{$(".lane-label:not(ul)").draggable("disable").addClass("waiting-for-new-bar"),$(".add-container").draggable("disable").addClass("waiting-for-new-bar"),$(".add-bar").draggable("disable").addClass("waiting-for-new-bar")})),st(this,"enableNewActions",(()=>{$(".lane-label:not(ul)").draggable("enable").removeClass("waiting-for-new-bar"),$(".add-container").draggable("enable").removeClass("waiting-for-new-bar"),$(".add-bar").draggable("enable").removeClass("waiting-for-new-bar")})),st(this,"onNextUpdatingBars",(e=>this.updatingBarsCallbacks.push(e))),st(this,"onNextUpdateBars",(e=>this.updateBarsCallbacks.push(e))),st(this,"handleUpdatingBars",(e=>{var t=this.updatingBarsCallbacks.slice(0);return this.updatingBarsCallbacks=[],Array.from(t).map((t=>t.call(this,e)))})),st(this,"handleUpdatedBars",(e=>{var t=this.updateBarsCallbacks.slice(0);return this.updateBarsCallbacks=[],a()(e,(e=>{var t=Number.isInteger(e)?window.currentRoadmapable.findActiveBar(e):e;return!!t&&t.canBeRemotelySynced()}))&&et.Z.notifyRoadmapBarPendingStatusChange(),Array.from(t).map((t=>t.call(this,e)))})),st(this,"handleUpdatedBar",(e=>S.ProductPlan.roadmapRenderer.drawLane(e.lane.id,S.ProductPlan.roadmapManager))),st(this,"handleDuplicatedBar",(e=>{var t=e.originalBar.inDom().parent().next(".lane-divider"),r=$(new Ee.Z(e.bar).render());t.append(r);var n=$(lt({dropClass:t.hasClass("base-drop")?"base-drop":"container-drop"}));return t.before(n.clone().uniqueId()),t.after(n.uniqueId()),t.removeClass("lane-divider").addClass("lane-bar-holder"),S.ProductPlan.roadmapRenderer.redraw()})),st(this,"handleCreatedBar",(e=>{if(this.enableNewActions(),!e.bar.parked){window.dataLayer.push({event:"new_bar"});var t=$(".project-bar:data[data-id="+e.token+"]");t.data("id",e.bar.id),t.attr("data-id",e.bar.id)}})),st(this,"handleDeletedBarComplete",(e=>{var t=e.parent();if(t)return this.updateBarContextMenu(t)})),st(this,"handleDeletedLane",(e=>($(".lanes[data-id="+e.changes.lane.id+"]").remove(),window.check_window_resize(),S.ProductPlan.roadmapRenderer.updateMilestones()))),st(this,"handleUpdatedLane",(e=>S.ProductPlan.roadmapRenderer.drawLane(e.changes.lane.id,S.ProductPlan.roadmapManager))),st(this,"handleCreatedLane",(e=>{var t=e.lane,r=new te.Z(window.currentRoadmapable).lane(t.id).render();$(r).insertBefore($("#last_lane")),$("#new-lane").hide(),window.check_window_resize(),S.ProductPlan.roadmapRenderer.updateMilestones(),S.ProductPlan.roadmapRenderer.initializeLaneDrop(),S.ProductPlan.roadmapRenderer.initializeMilestoneLaneDrop(),S.ProductPlan.roadmapRenderer.initializeTitleDrop(),S.ProductPlan.roadmapRenderer.initializeLaneTitles()})),st(this,"handleDeletedLegend",(()=>(this.mountToolbarLegend(),ee.default.publish("REDRAW_BARS_EVENT")))),st(this,"handleUpdatedLegendPosition",(()=>this.mountToolbarLegend())),st(this,"handleUpdatedLegend",(()=>(this.mountToolbarLegend(),ee.default.publish("REDRAW_BARS_EVENT")))),st(this,"handleCreatedLegend",(()=>{this.mountToolbarLegend(),ee.default.publish("REDRAW_BARS_EVENT")})),st(this,"handleUpdatedLabelGroup",(()=>this.mountToolbarLegend())),st(this,"handleDeletedMilestone",(e=>(window.currentRoadmapable.findSublane(e.sublaneId).removeMilestone(e),S.ProductPlan.roadmapRenderer.updateMilestones()))),st(this,"handleUpdatedMilestone",(()=>(S.ProductPlan.roadmapRenderer.updateMilestones(),S.ProductPlan.roadmapRenderer.initMilestonePopover()))),st(this,"handleCreatedMilestone",(e=>{window.dataLayer.push({event:"new_milestone"});var t=$(".flag:data[data-id="+e.token+"]");t.data("id",e.milestone.id),t.attr("data-id",e.milestone.id)})),st(this,"handleCreatedSublane",(()=>{$(".js-timeline-table").floatThead("reflow")})),st(this,"handleDeletedSublane",(()=>{$(".js-timeline-table").floatThead("reflow")})),st(this,"handleRoadmapIntegrationRemoteSyncComplete",(e=>{var t=e.integrationId,r=window.currentRoadmapable.findRoadmapIntegrationById(t);if(r){var n=(0,Xe.sN)(r.type);S.ProductPlan.roadmapManager.removePendingStatusForBarSyncWithLinkType(n)}})),st(this,"handleRoadmapBarsRemoteSyncStatusChange",(()=>{S.ProductPlan.roadmapManager.updateRoadmapIntegrationPendingRemoteSyncCount()})),st(this,"scrollBarIntoView",(function(t,r,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"pulsate";if(window.bar=null,null==r&&(r=!0),null==n&&(n="The bar"),window.currentRoadmapable.isPrimaryView()||0!==$("#roadmapbar_"+t).length){var i=e.findBarInView(t);i?i.isFiltered()||i.lane&&i.lane.isFiltered()?r&&de.Z.unsuccessful("".concat(i.name," is currently filtered out\u2014update Filters to view.")):e.openLaneIfNecessary(i,a,o):r&&de.Z.unsuccessful("".concat(n," is out of the current date range\u2014update Settings to view."))}else r&&de.Z.unsuccessful("".concat(n," is currently filtered out\u2014update Settings or Filters to view."))})),st(this,"findBarInView",(e=>{var t=window.currentRoadmapable.findActiveBar(e);if(t){var r=window.currentRoadmapable.startDate(),n=window.currentRoadmapable.endDate(),a=t.startDate(),o=t.endDate();t=le()(a).isBefore(n)&&le()(o).isAfter(r)?t:void 0}return t})),st(this,"openLaneIfNecessary",((e,t,r)=>{var n=e.lane;window.currentRoadmapable.isAnyOpen("lanes",[n.id])?this.openContainerIfNecessary(e,t,r):(B.Z.toggleLane(n.id),n.inDom().one("toggled",(()=>this.openContainerIfNecessary(e,t,r))))})),st(this,"openContainerIfNecessary",((e,t,r)=>{if(e.isContained){var n=window.currentRoadmapable.findBarContainer(e.id);return n.isCollapsed()?(n.inDom().find(".container-show-button").trigger("click"),n.inDom().one("toggled",(()=>this.triggerScrollToBar(e,t,r)))):this.triggerScrollToBar(e,t,r)}this.triggerScrollToBar(e,t,r)})),st(this,"initialRoadmapLoad",it(at().mark((function t(){var r;return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,t.next=3,e.loadRoadmapPromise=S.ProductPlan.roadmapManager.loadRoadmap();case 3:if(S.ProductPlan.showMainContent(),S.ProductPlan.roadmapRenderer.redrawRoadmapObjects(),$(document).trigger("ROADMAP_LOADED"),!window.bar){t.next=10;break}return t.abrupt("return",r.scrollOrEditSelectedBar());case 10:return t.abrupt("return",r.triggerScrollToToday());case 11:case"end":return t.stop()}}),t)})))),st(this,"scrollOrEditSelectedBar",(()=>{var e=S.ProductPlan.hasQueryParam("bar");return this.scrollBarIntoView(window.bar.id,!0,window.bar.name,!e),window.bar=void 0})),st(this,"triggerScrollToToday",(()=>{var e=$("#today-line"),t=$(".js-main-container"),r=t.width()/2*-1,n=e.length>0,a=e.visible(),o=n&&!this.isElementInViewport(e);if(a||o)return t.scrollTo(e,200,{offset:{left:r}}),S.ProductPlan.setLatestKnownScrollX(t.scrollLeft())})),st(this,"triggerScrollToBar",((e,t,r)=>{var n=e.inDom();if(this.isElementInViewport(n)||$(".js-main-container").scrollTo(n,200,{offset:{top:-100}}),t)return setTimeout((()=>n.animateCss(r)),300)})),st(this,"isElementInViewport",(e=>{var t=$(e)[0];if(t){var r=t.getBoundingClientRect();return r.top>=0&&r.left>=0&&r.bottom<=this.getContainerRect().innerHeight&&r.right<=this.getContainerRect().innerWidth}return!1})),st(this,"getContainerRect",(()=>{var e={innerHeight:window.innerHeight||document.documentElement.clientHeight,innerWidth:window.innerWidth||document.documentElement.clientWidth};if(xe.Z.isTimeBasedListView()){var t,r,n=$(".view-layout section");e={innerHeight:null!==(t=n.innerHeight())&&void 0!==t?t:0,innerWidth:null!==(r=n.innerWidth())&&void 0!==r?r:0}}return e})),st(this,"mountToolbarLegend",(()=>{var e=$("#toolbar-legend-mount-point");if(e.length>0){var t={id:window.currentRoadmapable.legendGroupId,name:window.currentRoadmapable.legendTitle,description:window.currentRoadmapable.legendDescription},r={canEdit:window.roadmap.permissions.can_edit&&!window.roadmap.is_snapshot,legendTitle:t,legends:S.ProductPlan.roadmapManager.roadmap.legendsSortedByPosition()};return v().render(f().createElement(J,r),e[0])}})),st(this,"mountRoadmapIntegrations",(()=>{var e=$("#toolbar-integrations-mount-point"),t=window.roadmap.permissions.can_edit&&!window.roadmap.is_snapshot;if(1===e.length&&!1!==t){var r=window.currentRoadmapable.roadmapableId(),n=window.currentRoadmapable.thirdPartyIntegrationsToolbar(),a=Le.$.roadmapIntegrationToolbar.buildProperties(r,ue().camelizeKeys(n));return v().render(f().createElement(Q.Z,a),e[0])}})),st(this,"showBarNotFoundToast",(e=>{var t=window.currentRoadmapable.isPrimaryView()?ct.barNotFound(e):ct.barNotAccessible(e);de.Z.unsuccessful(t)})),this.initialized=!1,this.updateBarsCallbacks=[],this.updatingBarsCallbacks=[],this.mode="default"}}window.ProductPlan.roadmapView=new ut;const dt=ut},67949:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={NONE:"(None)",WEEKS:"Weeks",MONTHS:"Months",QUARTERS:"Quarters",MONTHS_QUARTERS:"Months and Quarters",YEARS:"Years",SPRINTS:"Sprints",LEGENDS:"Legends",TAGS:"Tags"}},58909:(e,t,r)=>{"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{default:()=>o,eventNames:()=>a});var a={UPDATING_BARS:"UPDATING_BARS",UPDATED_BARS:"UPDATED_BARS",SEARCH_RESULT_CLICKED:"SEARCH_RESULT_CLICKED",HIGHLIGHT_REQUESTED:"HIGHLIGHT_REQUESTED",MULTISELECT_MODE_ENABLED:"MULTISELECT_MODE_ENABLED",EDIT_HIGHLIGHTS:"EDIT_HIGHLIGHTS",SHOW_BAR_HISTORY:"SHOW_BAR_HISTORY"};const o=new class{constructor(){var e=this;n(this,"subscribe",((e,t,r,n)=>{"undefined"===typeof r&&(r=t),this.subscriptions.push({event:e,handler:t.bind(r),context:r,options:n})})),n(this,"unsubscribe",((e,t)=>{this.subscriptions=this.subscriptions.filter((r=>r.event!==e||r.context!==t))})),n(this,"publish",(function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];e.subscriptions.forEach((r=>{var a;r.event===t&&(r.handler.call(r.context,...n),null!==(a=r.options)&&void 0!==a&&a.once&&e.unsubscribe(r.event,r.context))}))})),this.subscriptions=[]}}},14615:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E,j:()=>w});var n=r(67294),a=r.n(n),o=r(45697),i=r.n(o),s=r(57200),l=r(55652);var c=r(94184),u=r.n(c),d=r(74527),h=r(39012),p=r(7440),f=r(88767),m=r(75917);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var y=e=>{var t=e.selected,r=v((0,n.useState)(!1),2),o=r[0],i=r[1],s=(0,f.useQuery)(m.K.GET_LAUNCHES,(()=>d.default.launches.index().then((e=>{var t=e.data;return t&&null!==t&&void 0!==t&&t.launches?t.launches:[]})))),l=s.isLoading,c=s.data,g=(0,p.useOnClickAway)((()=>{i(!1)}));return a().createElement("div",{className:u()("roadmap-title","active")},a().createElement("button",{className:"title-button",onClick:()=>{i(!0)}},a().createElement("span",{className:"title-text"},t.name),!l&&c&&c.length>0&&a().createElement(h.Z,{name:h.c.caretDown}),l&&a().createElement(h.Z,{classes:h.c.spin,name:h.c.spinner}),o&&a().createElement("div",{className:"views-menu",ref:g},c.map((e=>{var r=e.id===t.id,n={"menu-item":!0,view:!0,active:r,primary:!r};return a().createElement("div",{key:e.id,className:u()(n),role:"button",onClick:()=>{var t;(t=e.id)&&window.location.assign("/launch/".concat(t))}},e.name)})))))};y.propTypes={selected:i().object.isRequired};const b=y;var w=()=>!!window.launchManagement;var C=e=>{var t=e.selectedLaunch,r=void 0===t?null:t,o=e.showList,i=void 0!==o&&o,c=(0,n.useMemo)((()=>{$("body").data("company-name")}),[]);return a().createElement(s.ZP,{companyName:c,currentUser:l.ProductPlan.currentUser(),showFullscreenLink:!1},a().createElement(s.m0,{classes:"flex-grow-1 launch-management-nav"},a().createElement("div",{className:"launch-management-nav__title"},a().createElement("a",{href:"/launch",title:"Go to Launch Management"},"Launch Management")),i&&r&&a().createElement(b,{selected:r}),a().createElement("div",{className:"launch-management-nav__beta",dangerouslySetInnerHTML:{__html:'<span>Beta</span>\n      <a href="javascript:void(0)" id="launch-management-nav__beta-button">\n        We appreciate your feedback!\n      </a>'}})))};C.propTypes={selectedLaunch:i().object,showList:i().bool};const E=C},75917:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});var n={GET_LAUNCHES:"GET_LAUNCHES",GET_USER_ACCOUNTS:"GET_USER_ACCOUNTS"}},12458:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(21372);function a(){var e=function(){var e,t;if(!window.currentRoadmapable)throw new Error("View settings can't be accessed before the roadmapable is initialized.");var r=window.currentRoadmapable.isMasterPlan(),n=r?window.currentRoadmapable.roadmapableId():window.currentRoadmapable.currentViewId;return{userId:null!==(e=null===(t=window.current_user)||void 0===t?void 0:t.id)&&void 0!==e?e:0,viewId:n,isPortfolio:r}}(),t=e.isPortfolio?"-p":"";return"planned-filter-".concat(e.userId,"-").concat(e.viewId).concat(t)}const o=new class{set(e){var t=a();localStorage.setItem(t,e)}get(){var e=a(),t=localStorage.getItem(e);return null!==t&&void 0!==t?t:n.Z.parked}}},26918:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});var n=r(66073),a=r.n(n),o=r(64721),i=r.n(o),s=r(55652),l=r(77656),c=r(16852),u=r(19471),d=(r(26891),r(66709),r(49138),r(36870)),h=r(35161),p=r.n(h);class f{static getSelectedBarsDOM(){var e=c.Z.refinedBarsList();if(0!==e.length)return p()(e,(e=>document.getElementById(e.domId)))}static getOriginalPositionSize(e){0!==e.length&&(this.selectedBarsOriginalData=p()(e,(e=>{var t=e.getBoundingClientRect();return{top:t.top,left:t.left,height:t.height,width:t.width}})))}static setPositionSizeHelperWithOriginal(){this.helperBars.forEach(((e,t)=>{e.style.width=this.selectedBarsOriginalData[t].width+"px",e.style.height=this.selectedBarsOriginalData[t].height+"px",e.style.top=this.selectedBarsOriginalData[t].top+"px",e.style.left=this.selectedBarsOriginalData[t].left+"px"}))}static createHelperBars(){var e=f.getSelectedBarsDOM();f.getOriginalPositionSize(e),this.helperBars=p()(e,(e=>e.cloneNode(!0))),this.helperBars.forEach((function(e){($(e).addClass("animate-bar"),$(e).removeClass("bar-selected"),e.classList.contains("container-bar"))&&(e.querySelector(".container-holder").style.display="none");$(e).appendTo($("body"))})),f.setPositionSizeHelperWithOriginal()}static removeHelperBars(){a()(document.querySelectorAll(".project-bar.animate-bar"),(e=>{e.remove()}))}static getDraggingObject(){var e=document.querySelector(".ui-draggable-dragging").getBoundingClientRect();return{top:e.top+"px",left:e.left+"px",width:e.width+"px",height:e.height+"px"}}static animateDragHelperBars(){var e=f.getDraggingObject();this.helperBars.forEach((t=>{t.style.top=e.top,t.style.left=e.left,t.style.width=e.width,t.style.height=e.height,t.style.opacity="0"}))}}const m=f;var v=r(68283),g=r(79408),y=r(65943),b=r(17769),w=r(6280);function C(){C=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function E(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){E(o,n,a,i,s,"next",e)}function s(e){E(o,n,a,i,s,"throw",e)}i(void 0)}))}}var x={withResponsiveContainer:!0,bindDraggableForBars(){s.ProductPlan.canEdit()&&$(".project-bar.bar-selected").draggable({appendTo:"body",cursor:"move",scroll:!1,refreshPositions:!0,snap:".grid-line",snapMode:"inside",revert:"invalid",distance:20,snapTolerance:3,zIndex:1100,start:x.start,stop:x.stop,drag:x.drag,helper:x.helper})},bindDroppableForContainers(){s.ProductPlan.canEdit()&&($(".container-holder").droppable({accept:".single-bar.bar-selected",tolerance:"pointer",over:x.handleContainerOverNOut,out:x.handleContainerOverNOut}),$(".container-drop").droppable({accept:".single-bar.bar-selected",tolerance:"pointer",drop:x.containerDrop,over:x.containerOver,out:x.containerOut}))},bindDroppableForLanes(){s.ProductPlan.canEdit()&&$(".base-drop").droppable({accept:".container-bar.bar-selected, .single-bar.bar-selected",tolerance:"pointer",drop:x.laneDrop,over:x.laneOver,out:x.laneOut})},droppableEventCallBack(e,t,r){i()(["container","lane"],t)&&i()(["addTarget","removeTarget"],r)&&(e.uniqueId(),s.ProductPlan.roadmapView.dropDetector[r](t,e.attr("id")))},handleDropOnContainer(e){var t=this;return _(C().mark((function r(){var n;return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!=e){r.next=2;break}return r.abrupt("return",void 0);case 2:if(n=e.helper.data("barData")||e.helper.data()){r.next=5;break}return r.abrupt("return",void 0);case 5:return t.positionSelectionFromDropOnContainer(n.id,e),r.next=8,t.updateRoadmapBoundaries();case 8:case"end":return r.stop()}}),r)})))()},handleDropOnLane(e,t,r){var n=this;return _(C().mark((function a(){var o;return C().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(null!=e){a.next=2;break}return a.abrupt("return",void 0);case 2:if(o=e.helper.data("barData")||e.helper.data()){a.next=5;break}return a.abrupt("return",void 0);case 5:return n.positionSelectionFromDropOnLane(o.id,e,t,r),a.next=8,n.updateRoadmapBoundaries();case 8:case"end":return a.stop()}}),a)})))()},positionSelectionFromDropOnContainer(e,t){var r={movementType:"horizontal",daysShifted:this.calculateSelectionShift(e,t)};u.Z.init(r)},positionSelectionFromDropOnLane(e,t,n,a){var o={};if(o.daysShifted=this.calculateSelectionShift(e,t),0===n.siblings(".lane-divider").length){n.append(t);var i=r(37761),s=$(i({dropClass:n.hasClass("base-drop")?"base-drop":"container-drop"},{allowProtoMethodsByDefault:!0,allowProtoPropertiesByDefault:!0}));n.before(s.clone().uniqueId()),n.after(s.uniqueId())}a?(o.movementType="horizontal",u.Z.init(o)):(o.movementType="diagonal",o.destinationLaneId=$(n).closest(".lanes").data("id"),o.laneDividerWhereBarsWillGo=n,u.Z.init(o))},calculateSelectionShift(e,t){var r=window.currentRoadmapable.timelineSettings(),n=t.helper.width(),a=s.ProductPlan.roadmapRenderer.leftInDocument(t.offset.left),o=r.dimensionPixelsToUnits(a,n,window.currentRoadmapable.ppd),i=window.currentRoadmapable.findActiveBar(e);return r.startOffsetInUnits(i,o)||0},bindSelectedBarDraggables(){this.bindDraggableForBars(),this.bindDroppableForContainers(),this.bindDroppableForLanes()},dimSelectedBars(){a()(c.Z.refinedBarsList(),(e=>e.inDom().css({opacity:.4})))},toggleHorizontalDropLine(e,t,r){if(!t){var n=e.prevAll(".lane-divider").length<1?e.closest(".lane-divider"):e.next(".lane-divider");r?n.addClass("multi-bar-lane-drop-active"):n.removeClass("multi-bar-lane-drop-active")}},updateRoadmapBoundaries:()=>_(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==c.Z.refinedBarsList().length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l.Z.updateRoadmapFromMultipleBarsDropOrRedraw(c.Z.refinedBarsList(),!0,s.ProductPlan.roadmapView.handleSettingsUpdate);case 4:case"end":return e.stop()}}),e)})))(),handleContainerOverNOut(e,t){if(!window.currentRoadmapable.findActiveBar(t.helper.data("id")).isContained)switch(e.type){case"dropover":x.showNotAllowedIcon(!0,t);break;case"dropout":x.showNotAllowedIcon(!1,t)}},start(){m.createHelperBars(),d.Z.setup(),g.Z.removePopovers(),x.dimSelectedBars(),s.ProductPlan.roadmapRenderer.closeContextMenu(),s.ProductPlan.roadmapView.dropDetector.reset();var e=window.currentRoadmapable.ppd;$(this).draggable("option","grid",[e,1])},stop(e,t){s.ProductPlan.roadmapView.dropDetector.reset(),b.Z.remove(t),s.ProductPlan.clearEmptyLanes(),w.Z.normalizeContainers(),s.ProductPlan.roadmapRenderer.updateMilestones(),s.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect(),m.removeHelperBars(),d.Z.cleanup(),s.ProductPlan.roadmapRenderer.hideSmartGuide()},drag(e,t){m.animateDragHelperBars(),d.Z.scroll(e,(()=>{s.ProductPlan.roadmapRenderer.showSmartGuideOnDrag(t.helper)})),x.handleContainerResize(t)},helper(){var e=$(this).clone(),t=window.currentRoadmapable.findActiveBar(e.data("id"));if(e.addClass("top-most hold-multiple-bar"),t.isContained){var r=e.width();e.width(r+2+"px")}var n=e.find(".bar-count").first();return n.text(c.Z.barsLength()),n.css({left:e.width()-10,display:"block"}),e},laneDrop(e,t){var r=this;return _(C().mark((function n(){var a,o,i,l,c,u;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e,$(r).uniqueId(),i=s.ProductPlan.roadmapView.dropDetector.canHandleDrop($(r).attr("id")),l=v.Z.canDrop(e),$(".lane-drop").removeClass("lane-drop-active"),!i||!l){n.next=11;break}return c=$(a.target),o=x.getlaneDividerWhereBarsWillGo(c),u=x.isHorizontalShift(t.helper,$(r)),n.next=11,x.handleDropOnLane(t,o,u);case 11:case"end":return n.stop()}}),n)})))()},getlaneDividerWhereBarsWillGo(e){if(null!=e){var t=e.hasClass("lane-divider"),r=e.hasClass("lane-bar-holder")&&0===e.children().length;return t||r?e:e.next(".lane-divider")}},laneOver(e,t){x.laneHoverCallback(t.helper,$(this),!0)},laneOut(e,t){x.laneHoverCallback(t.helper,$(this),!1)},laneHoverCallback(e,t,r){var n=x.isHorizontalShift(e,t);x.toggleHorizontalDropLine(t,n,r);var a=r?"addTarget":"removeTarget";x.droppableEventCallBack(t,"lane",a)},containerDrop(e,t){var r=this;return _(C().mark((function n(){var a,o;return C().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if($(r).uniqueId(),a=s.ProductPlan.roadmapView.dropDetector.canHandleDrop($(r).attr("id")),o=v.Z.canDrop(e),!a||!o){n.next=8;break}return $(".lane-drop").removeClass("lane-drop-active"),n.next=7,x.handleDropOnContainer(t);case 7:b.Z.remove();case 8:case"end":return n.stop()}}),n)})))()},containerOver(e,t){var r=v.Z.canDrop(e),n=x.isHorizontalShift(t.helper,$(this)),a=window.currentRoadmapable.findActiveBar(t.helper.data("id"));if(x.withResponsiveContainer=n,r&&n){a.isContained&&x.showNotAllowedIcon(!1,t),x.droppableEventCallBack($(this),"container","addTarget");var o=s.ProductPlan.roadmapRenderer.activeDropZone("lane-drop","lane-drop-active");w.Z.normalizeContainers(),b.Z.handleDragHoverContainer($("#"+o),$(this),t.helper.data("id"))}else a.isContained&&x.showNotAllowedIcon(!0,t)},containerOut(e,t){var r=window.currentRoadmapable.findActiveBar(t.helper.data("id"));x.withResponsiveContainer=!1,r.isContained&&x.showNotAllowedIcon(!1,t),x.droppableEventCallBack($(this),"container","removeTarget"),w.Z.normalizeContainers()},handleContainerResize(e){if(w.Z.normalizeContainers(),x.withResponsiveContainer){var t=$(".js-main-container")[0],r=e.helper.data("id"),n=y.RZ.computeOffsetLeftFromDocument(t),a=e.helper.position().left-n+t.scrollLeft;b.Z.resizeContainer(r,a)}else b.Z.resetContainerWidth()},showNotAllowedIcon(e,t){e?(t.helper.addClass("not-allowed"),t.helper.removeClass("hold-multiple-bar")):(t.helper.removeClass("not-allowed"),t.helper.addClass("hold-multiple-bar"))},getSublaneForEl:e=>e.closest(".lane-bar-holder"),isHorizontalShift(e,t){if(null!=e&&null!=t){var r=e.data("id"),n=window.currentRoadmapable.findActiveBar(r).inDom(),a=x.getSublaneForEl(n),o=x.getSublaneForEl(t);return a[0]===o[0]}}};const L=x},19471:(e,t,r)=>{"use strict";r.d(t,{Z:()=>B});var n=r(66678),a=r.n(n),o=r(41609),i=r.n(o),s=r(3651),l=r.n(s),c=r(16689),u=r.n(c),d=r(7739),h=r.n(d),p=r(35161),f=r.n(p),m=r(66073),v=r.n(m),g=r(44908),y=r.n(g),b=r(39693),w=r.n(b),C=r(84486),E=r.n(C),_=r(80008),x=r.n(_),L=r(77656),P=r(16852),O=r(2785),S=r(58909),k=r(397),T=r(55652),D=r(65943),I=r(93128),R=r(21082);function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function j(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){j(o,n,a,i,s,"next",e)}function s(e){j(o,n,a,i,s,"throw",e)}i(void 0)}))}}class N{static init(e){return M(A().mark((function t(){return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.movementType,t.next="horizontal"===t.t0?3:"diagonal"===t.t0?6:"vertical"===t.t0?9:"vertical-jump"===t.t0?12:15;break;case 3:return t.next=5,N.shiftBars(e);case 5:case 8:case 11:case 14:return t.abrupt("break",15);case 6:return t.next=8,N.shiftBarsDiagonally(e);case 9:return t.next=11,N.shiftBarsAcrossSublanes(e);case 12:return t.next=14,N.shiftBarsAcrossLanes(e);case 15:case"end":return t.stop()}}),t)})))()}static initShiftPayloadAndStash(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=[],r=P.Z.refinedBarsList(),n=!1,a=[];return E()(r,(r=>{var o=r.isDateRangeSyncEnabled()||r.hasChildDateRangeSyncEnabled();n=n||o,N.stashBarForUndo(r,e,t),o?a.push(r.dateRangeSyncIntegrationName()):N.shiftBar(r,e)})),n&&R.Z.unableToMoveMultipleBarsWithDateLock(w()(y()(a))),{barsToShift:r,barStashForUndo:t,barsPayloadForUpdate:[]}}static extractQueueAndUpdateFromTrackedBars(e,t){return M(A().mark((function r(){return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return v()(e.barsToShift,(t=>{e.barsPayloadForUpdate.push(t.getBarAttributesForUpdate()),v()(t.bars(),(t=>e.barsPayloadForUpdate.push(t.getBarAttributesForUpdate())))})),k.Z.pushUndo({command:t,clearRedoAction:!0}),r.next=4,O.Z.updateBars(e.barsPayloadForUpdate).catch(T.ProductPlan.requireRefresh);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)})))()}static shiftBars(e){return M(A().mark((function t(){var r,n,a;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=N.initShiftPayloadAndStash(e.daysShifted),n=T.ProductPlan.roadmapManager.undoBarShiftX.bind(void 0,r.barStashForUndo[0],r.barStashForUndo,e.daysShifted),k.Z.pushUndo({command:n,clearRedoAction:!0}),S.default.publish("BARS_SHIFTED"),a=r.barsToShift.filter((e=>!1===e.isDateRangeSyncEnabled()&&!1===e.hasChildDateRangeSyncEnabled())),t.next=7,N.persistShift(f()(a,"id"),e.daysShifted);case 7:case"end":return t.stop()}}),t)})))()}static shiftBarsDiagonally(e){return M(A().mark((function t(){var r,n,a,o,i,s,l;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=N.initShiftPayloadAndStash(e.daysShifted),n=e.laneDividerWhereBarsWillGo.siblings("[data-generated='true']").addBack("[data-generated='true']"),a=N.sublaneUpdatesByBarId(n),o=N.createNewOrderedSublanesAtInsertPoint(r.barsToShift,e.destinationLaneId,e.laneDividerWhereBarsWillGo),i=N.findAllFollowingSublanesWithBars(o,e.destinationLaneId),s=L.Z.moveBarsDown(i,f()(r.barsToShift,"id")),v()(s.barsToUpdate,(e=>{window.currentRoadmapable.findActiveBar(e.id).update(e)})),Array.prototype.push.apply(r.barsPayloadForUpdate,s.barsToUpdate),Array.prototype.push.apply(r.barStashForUndo,s.barStash),N.optimisticallyUpdateTrackedBars(a,r),S.default.publish("BARS_SHIFTED"),l=T.ProductPlan.roadmapManager.undoUpdateBars.bind(void 0,r.barStashForUndo),t.next=14,N.extractQueueAndUpdateFromTrackedBars(r,l);case 14:case"end":return t.stop()}}),t)})))()}static shiftBarsAcrossSublanes(e){return M(A().mark((function t(){var r,n,a,o,i;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=N.initShiftPayloadAndStash(),n=r.barsToShift[0].laneId(),a=$("#full_lane_".concat(n)).find("[data-generated='true']"),o=N.sublaneUpdatesByBarId(a),N.moveAcrossExistingSublanesFromInsertPoint(r.barsToShift,n,e.directionalModifier),N.optimisticallyUpdateTrackedBars(o,r),S.default.publish("BARS_SHIFTED"),i=T.ProductPlan.roadmapManager.undoUpdateBars.bind(void 0,r.barStashForUndo),t.next=10,N.extractQueueAndUpdateFromTrackedBars(r,i);case 10:case"end":return t.stop()}}),t)})))()}static shiftBarsAcrossLanes(e){return M(A().mark((function t(){var r,n,a,o,i,s;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=N.initShiftPayloadAndStash(),n=r.barsToShift[0].laneId(),a=N.nextComputedAvailableLane(e.directionalModifier,n),!isNaN(a)){t.next=6;break}return I.Z.unsuccessful("You've hit a Lane boundary"),t.abrupt("return");case 6:return o=$("#full_lane_".concat(a)).find("[data-generated='true']"),i=N.sublaneUpdatesByBarId(o),N.createNewOrderedSublanesAtBottomOfLane(r.barsToShift,a),N.optimisticallyUpdateTrackedBars(i,r),S.default.publish("BARS_SHIFTED"),s=T.ProductPlan.roadmapManager.undoUpdateBars.bind(void 0,r.barStashForUndo),t.next=14,N.extractQueueAndUpdateFromTrackedBars(r,s);case 14:case"end":return t.stop()}}),t)})))()}static createNewOrderedSublanesAtInsertPoint(e,t,r){var n=L.Z.calculateSublanePositionFromDropArea(!0,r),a=L.Z.calculateAssignedSublaneIdsFromDropArea(void 0,void 0,t),o=T.ProductPlan.roadmapView.sublaneIdAt(a,n);return this.buildNewSublanesFromStartingId(e,t,o),o}static createNewOrderedSublanesAtBottomOfLane(e,t){var r=window.currentRoadmapable.lastSublaneIdInLane(t)+1;this.buildNewSublanesFromStartingId(e,t,r)}static moveAcrossExistingSublanesFromInsertPoint(e,t,r){N.buildNewSublanesFromStartingId(e,t,null,r)}static buildNewSublanesFromStartingId(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=r,o=h()(e,(e=>e.timelineVerticalPositionTuple())),i=u()(o).sort(D.RZ.naturalSort),s=L.Z.calculateAssignedSublaneIdsFromDropArea(void 0,void 0,t),l=!1;v()(i,(e=>{var i=o[e];l||(v()(i,(e=>{var r=null,o=!1;if(e.parent()&&T.ProductPlan.SelectedBarsCollection.barIds.includes(e.parent().id)&&(r=e.parent().id,o=!0),null===a){var i=e.parent()?e.parent():e;a=N.nextComputedAvailableSublane(i,s,n)}if(isNaN(a))return l=!0,I.Z.unsuccessful("You've hit a Lane boundary"),!1;e.update({lane_id:t,sublaneId:a,containerId:r,isContained:o}),v()(e.bars(),(e=>e.update({lane_id:t})))})),null===r?a=r:a+=1)}))}static nextComputedAvailableLane(e,t){var r=f()(window.currentRoadmapable.laneList(),"id");if(0!==r.length){var n=l()(r,t);if(-1!==n)return r[parseInt(n+e)]}}static nextComputedAvailableSublane(e,t,r){var n=l()(t,e.sublaneId),a=parseInt(n+r);return a>t.length-1?t[t.length-1]+r:t[a]}static shiftBar(e,t){var r={startsOn:x()(e.startsOn).add(t,"days").format("YYYY-MM-DD"),endsOn:x()(e.endsOn).add(t,"days").format("YYYY-MM-DD")};if(e.updateDatesWithinRoadmap(r),e.isContained){var n=e.parent(),a={};x()(e.endsOn)>x()(n.endsOn)&&(a.endsOn=e.endsOn),x()(e.startsOn)<x()(n.startsOn)&&(a.startsOn=e.startsOn),i()(a)||n.updateDatesWithinRoadmap(a)}e.bars().forEach((e=>{N.shiftBar(e,t)}))}static stashBarForUndo(e,t,r,n){if(n=null==n,r.push(a()(e.getUndoAttributes())),e.isContained&&n){var o=e.parent(),i=x()(e.endsOn).add(t,"days"),s=x()(e.startsOn).add(t,"days");(i>x()(o.endsOn)||s<x()(o.startsOn))&&r.push(a()(o.getUndoAttributes()))}return E()(e.bars(),(e=>{N.stashBarForUndo(e,t,r,!1)}))}static persistShift(e,t){return M(A().mark((function r(){return A().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O.Z.shiftX(e,t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}static sublaneUpdatesByBarId(e){var t=window.currentRoadmapable.bars(),r=new Map;return L.Z.forEachBarBySublane(e,((e,n,a,o,i)=>{r.set(i,{id:i,sublane_id:t[i].sublaneId})})),r}static optimisticallyUpdateTrackedBars(e,t){if(e.size>0){t.barsPayloadForUpdate.forEach((t=>{e.delete(t.id)})),t.barsToShift.forEach((t=>{e.delete(t.id)}));var r=window.currentRoadmapable.bars();e.forEach((e=>{t.barsPayloadForUpdate.push(e),r[e.id].update(e)}))}}static findAllFollowingSublanesWithBars(e,t){return $(".lanes[data-id=".concat(t,"] .lane-drop[data-id=").concat(e,"]")).prev().nextAll(".lane-bar-holder")}}const B=N},96647:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});var n=r(93386),a=r.n(n),o=r(35161),i=r.n(o),s=r(66073),l=r.n(s),c=r(66678),u=r.n(c),d=r(84486),h=r.n(d),p=r(23279),f=r.n(p),m=r(16852),v=r(19471),g=r(2785),y=r(55652),b=r(67187),w=r(83113),C=r(48414),E=r(58909),_=r(24838),x=r(74527);function L(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(){k=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function T(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){T(o,n,a,i,s,"next",e)}function s(e){T(o,n,a,i,s,"throw",e)}i(void 0)}))}}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R{static shiftHorizontallyBy(e){var t={movementType:"horizontal",daysShifted:e};v.Z.init(t)}static shiftVerticallyBy(e){var t={movementType:"vertical",directionalModifier:e};v.Z.init(t)}static jumpVerticallyBy(e){var t={movementType:"vertical-jump",directionalModifier:e};v.Z.init(t)}static selectionCopied(e,t,r){if(0!==e.length){var n=[];if(h()(e,(e=>{var t=window.currentRoadmapable.buildBar(e);n.push(u()(t.getUndoAttributes())),l()(t.bars(),(e=>{n.push(u()(e.getUndoAttributes()))}))})),y.ProductPlan.UndoListenerRegistry.queueManager)_.Z.execute(this,"bulkCopyBarsToLane",{stashedBarAttrs:n,barIds:t,laneId:r});else{var a=y.ProductPlan.roadmapManager.undoCopyBars.bind(void 0,n);y.ProductPlan.UndoQueue.pushUndo({command:a,clearRedoAction:!0})}E.default.publish("BULK_COPY_BARS",n),m.Z.assign(i()(n,"id"))}}static copyBarsToLane(e,t){return D(k().mark((function r(){var n;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.length){r.next=2;break}return r.abrupt("return");case 2:return window.showAJAXLoaderModal(),r.prev=3,r.next=6,x.default.managerRequests.copyBarsToLane(e,t,window.currentRoadmapable.currentViewId);case 6:n=r.sent,y.ProductPlan.roadmapManager.updatedBars(n),m.Z.toggleSelectedForBars(m.Z.barIds,!0),R.selectionCopied(n.bars,e,t),y.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect(),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),y.ProductPlan.requireRefresh();case 16:return r.prev=16,window.hideAJAXLoaderModal(),r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[3,13,16,19]])})))()}static copySelectionToLane(e){return D(k().mark((function t(){var r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.currentRoadmapable.findLane(e)){t.next=3;break}return t.abrupt("return");case 3:return r=m.Z.refinedBarIds(),(0,C.logPageAction)("BulkEdit - copy to lane",S(S({},(0,C.commonRoadmapableContext)()),{},{numberOfBars:null===r||void 0===r?void 0:r.length})),t.next=7,R.copyBarsToLane(r,e);case 7:case"end":return t.stop()}}),t)})))()}static updateLegend(e,t){var r=this;return D(k().mark((function n(){var a,o,i;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(window.currentRoadmapable.findLegend(t)){n.next=3;break}return n.abrupt("return");case 3:return a=[],o=[],h()(e,(e=>{var r=window.currentRoadmapable.findActiveBar(e);r&&(a.push(u()(r.getUndoAttributes())),o.push({id:e,legend_id:t}),r.updateLegend({legend_id:t}))})),y.ProductPlan.UndoListenerRegistry.queueManager?_.Z.execute(r,"bulkChangeLegend",{barIds:e,legendId:t,stashedBarAttrs:a}):(i=y.ProductPlan.roadmapManager.undoUpdateBars.bind(void 0,a),y.ProductPlan.UndoQueue.pushUndo({command:i,clearRedoAction:!0})),y.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect(),n.next=10,g.Z.updateBars(o).catch(y.ProductPlan.requireRefresh);case 10:E.default.publish("BULK_UPDATE_BARS");case 11:case"end":return n.stop()}}),n)})))()}static updateSelectionLegend(e){var t=m.Z.barIds;return(0,C.logPageAction)("BulkEdit - change label",S(S({},(0,C.commonRoadmapableContext)()),{},{numberOfBars:null===t||void 0===t?void 0:t.length})),R.updateLegend(t,e)}static updateSelectionCustomLabels(e){return D(k().mark((function t(){var r,n,a,o,i,s,l;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=m.Z.barIds.map((e=>window.currentRoadmapable.findActiveBar(e))).filter((e=>e)),n=r.map((t=>({id:t.id,custom_label_assignments:e}))),t.next=4,g.Z.updateBars(n).catch(y.ProductPlan.requireRefresh);case 4:a=t.sent,o=L(a.data.bars);try{for(o.s();!(i=o.n()).done;)s=i.value,(l=window.currentRoadmapable.findActiveBar(s.id))&&l.update(s)}catch(c){o.e(c)}finally{o.f()}case 7:case"end":return t.stop()}}),t)})))()}static addTags(e,t){var r=this;return D(k().mark((function n(){var o,s,l,c;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&0!==e.length){n.next=2;break}return n.abrupt("return",Promise.resolve());case 2:return o=[],s=[],l=e.split(","),h()(t,(e=>{var t=window.currentRoadmapable.findActiveBar(e);if(t){o.push(u()(t.getUndoAttributes()));var r=a()(i()(t.tags,"name"),l).join();s.push({id:e,tag_list:r})}})),y.ProductPlan.UndoListenerRegistry.queueManager?_.Z.execute(r,"bulkAddTags",{barIds:t,tagList:e,stashedBarAttrs:o}):(c=y.ProductPlan.roadmapManager.undoUpdateBars.bind(void 0,o),y.ProductPlan.UndoQueue.pushUndo({command:c,clearRedoAction:!0})),y.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect(),n.next=10,g.Z.updateBars(s).catch(y.ProductPlan.requireRefresh);case 10:case"end":return n.stop()}}),n)})))()}static addTagsToSelection(e){return D(k().mark((function t(){var r;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=m.Z.barIds,(0,C.logPageAction)("BulkEdit - add tags",S(S({},(0,C.commonRoadmapableContext)()),{},{numberOfBars:null===r||void 0===r?void 0:r.length})),t.next=4,R.addTags(e,r);case 4:case"end":return t.stop()}}),t)})))()}}I(R,"getObjectIdFromDom",((e,t)=>$(e.target).closest(t).data("id"))),I(R,"selectBar",(e=>{var t=R.getObjectIdFromDom(e,".project-bar");m.Z.update(t)})),I(R,"selectDependents",(e=>{var t=R.getObjectIdFromDom(e,".project-bar");m.Z.updateDependents(t)})),I(R,"selectAllBarsInLane",(e=>{var t=R.getObjectIdFromDom(e,".lanes");m.Z.updateAllForLane(t)})),I(R,"selectAllBarsInLaneSublane",(e=>{var t=R.getObjectIdFromDom(e,".lanes"),r=R.getObjectIdFromDom(e,".lane-bar-holder");m.Z.updateAllForSublane(t,r)})),I(R,"selectAllBarsInContainerSublane",(e=>{var t=R.getObjectIdFromDom(e,".project-bar"),r=R.getObjectIdFromDom(e,".lane-bar-holder");m.Z.updateAllForContainerSublane(t,r)})),I(R,"shiftSelectionHorizontally",f()(R.shiftHorizontallyBy,150,{leading:!0})),I(R,"jumpSelectionHorizontally",f()(R.shiftHorizontallyBy,50,{leading:!0})),I(R,"shiftSelectionVertically",f()(R.shiftVerticallyBy,50,{leading:!0})),I(R,"jumpSelectionVertically",f()(R.jumpVerticallyBy,50,{leading:!0})),I(R,"deleteBars",(e=>(R.clearSelectedBars(),y.ProductPlan.roadmapManager.deleteBars(e)))),I(R,"deleteSelection",(()=>{var e=m.Z.refinedBarIds();return(0,C.logPageAction)("BulkEdit - delete bars",S(S({},(0,C.commonRoadmapableContext)()),{},{numberOfBars:null===e||void 0===e?void 0:e.length})),R.deleteBars(e)})),I(R,"parkSelection",D(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.Z.refinedBarIds(),R.clearSelectedBars(),e.next=4,y.ProductPlan.roadmapManager.parkBars(t);case 4:(0,b.A)(t.length,window.currentRoadmapable.isPrimaryView()),(0,C.logPageAction)("BulkEdit - park bars",S(S({},(0,C.commonRoadmapableContext)()),{},{numberOfBars:null===t||void 0===t?void 0:t.length}));case 6:case"end":return e.stop()}}),e)})))),I(R,"prioritizeSelection",D(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.showAJAXLoaderModal(),t=m.Z.barIds,e.next=4,y.ProductPlan.roadmapManager.prioritizeBars(t);case 4:(0,C.logPrioritization)("Bulk prioritization via MultiSelectBanner"),(0,w.p)(t.length,window.currentRoadmapable.isPrimaryView()),R.clearSelectedBars(),window.hideAJAXLoaderModal();case 8:case"end":return e.stop()}}),e)})))),I(R,"deselectAll",(()=>{R.clearSelectedBars()})),I(R,"clearSelectedBars",(()=>{m.Z.clear(),E.default.publish("CLEAR_SELECTED_BARS")})),I(R,"moveToLane",function(){var e=D(k().mark((function e(t,r){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.currentRoadmapable.findLane(r)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,y.ProductPlan.roadmapManager.buildNewSublanesPreservingVerticalSort(t,r);case 5:m.Z.toggleSelectedForBars(m.Z.barIds,!0),y.ProductPlan.roadmapRenderer.redrawLanesForMultiSelect(),m.Z.computeEligibilityForVerticalKeys(),E.default.publish("BULK_UPDATE_BARS");case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),I(R,"moveSelectionToNewLane",(e=>{var t=m.Z.refinedBarsList();return(0,C.logPageAction)("BulkEdit - move to lane",S(S({},(0,C.commonRoadmapableContext)()),{},{numberOfBars:null===t||void 0===t?void 0:t.length})),R.moveToLane(t,e)}));const A=R},16852:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(41609),a=r.n(n),o=r(35161),i=r.n(o),s=r(66073),l=r.n(s),c=r(91966),u=r.n(c),d=r(93386),h=r.n(d),p=r(63105),f=r.n(p),m=r(21146),v=r.n(m),g=r(98980),y=r.n(g),b=r(8816),w=r.n(b),C=r(58909);function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _=new class{constructor(){var e=this;E(this,"addId",(e=>{var t=f()(e,(e=>window.currentRoadmapable.findActiveBar(e).isVisible()));return 0!==t.length&&(this.barIds=h()(this.barIds,t),this.toggleSelectedForBars(t,!0),!0)})),E(this,"removeId",(e=>0!==e.length&&(this.barIds=u()(this.barIds,e),this.toggleSelectedForBars(e,!1),!0))),E(this,"empty",(()=>{this.barIds.length=0,l()(window.currentRoadmapable.bars(),(e=>{e.setSelected({selected:!1})}))})),E(this,"assign",(e=>{0!==e.length&&(this.empty(),this.addId(e)&&this.handleCollectionUpdate())})),E(this,"update",(e=>{var t=window.currentRoadmapable.findActiveBar(e);if(null!=t){var r=this.buildAffectedBarIdsSetForBar(t);if(0!==r.length)!this.barIds.includes(t.id)?this.addId(r)&&this.handleCollectionUpdate():this.removeId(r)&&this.handleCollectionUpdate()}})),E(this,"updateDependents",(e=>{for(var t=window.currentRoadmapable.roadmapableId(),r=[],n=[e];n.length>0;){var a=n.pop();if(!r.includes(a)){var o=window.currentRoadmapable.findActiveBar(a);if(o&&!o.parked){r.push(a),r.push(...o.bars().map((e=>e.id)));var i=o.dependents().filter((e=>e.roadmap_id===t));n.push(...i.map((e=>e.id)))}}}this.updateAllInScope(r)})),E(this,"updateAllForLane",(e=>{var t=f()(window.currentRoadmapable.bars(),(t=>!!t.isVisible()&&(t.lane&&t.lane.id===e))),r=i()(t,"id");this.updateAllInScope(r)})),E(this,"updateAllForSublane",((e,t)=>{var r=f()(window.currentRoadmapable.bars(),(r=>{if(!r.isVisible())return!1;var n=r.isContained?r.parent().sublaneId:r.sublaneId;return r.lane&&r.lane.id===e&&n===t})),n=i()(r,"id");this.updateAllInScope(n)})),E(this,"updateAllForContainerSublane",((e,t)=>{var r=f()(window.currentRoadmapable.bars(),(r=>!!r.isVisible()&&(r.containerId===e&&r.sublaneId===t))),n=i()(r,"id");this.updateAllInScope(n,e)})),E(this,"updateAllInScope",((e,t)=>{a()(e)||(a()(u()(e,this.barIds))?(t&&e.push(t),this.removeId(e)&&this.handleCollectionUpdate()):this.addId(e)&&this.handleCollectionUpdate())})),E(this,"clear",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.empty(),e.handleCollectionUpdate(t)})),E(this,"barsLength",(()=>f()(this.barIds,(e=>{var t=window.currentRoadmapable.findActiveBar(e);return!!t&&t.isVisible()})).length)),E(this,"isEligibleForVerticalKeys",(()=>this.selectionInSingleLane)),E(this,"isEmpty",(()=>0===this.barsLength())),E(this,"toggleSelectedForBars",((e,t)=>{l()(e,(e=>{window.currentRoadmapable.findActiveBar(e).setSelected({selected:t})}))})),E(this,"buildAffectedBarIdsSetForBar",(e=>{var t=[e.id];t=h()(t,i()(e.bars(),"id"));var r=e.parent();return r&&this.barIds.includes(r.id)&&(t=h()(t,[r.id])),t})),E(this,"handleCollectionUpdate",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&C.default.publish("BAR_SELECTION_UPDATE"),e.computeEligibilityForVerticalKeys()})),E(this,"refinedBarsList",(()=>{var e=window.currentRoadmapable;return f()(e.bars(),(e=>!!this.barIds.includes(e.id)&&(!e.isContained||!!e.parent()&&!this.barIds.includes(e.parent().id))))})),E(this,"refinedBarIds",(()=>i()(this.refinedBarsList(),"id"))),this.barIds=[],this.selectionInSingleLane=!1}computeEligibilityForVerticalKeys(){var e=this.refinedBarsList();this.selectionInSingleLane=1===w()(v()((e=>e.laneId())),y())(e).length}}},39185:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(74527);function a(){a=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,a){var o=new RegExp(e,n);return t.set(o,a||t.get(e)),i(o,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return o(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,a){if("string"==typeof a){var o=t.get(this);return e[Symbol.replace].call(this,r,a.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof a){var i=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,i)),a.apply(this,e)}))}return e[Symbol.replace].call(this,r,a)},a.apply(this,arguments)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){u=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function d(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){d(o,n,a,i,s,"next",e)}function s(e){d(o,n,a,i,s,"throw",e)}i(void 0)}))}}class p{static fetchPage(e){return h(u().mark((function t(){var r,a,o,i,s,l,c,d;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.url,a=e.pageSize,o=e.minimumId,i=e.maximumId,s=e.cancelToken,t.next=3,n.default.history.getMutations({url:r,minimumId:o,maximumId:i,pageSize:a,cancelToken:s});case 3:return l=t.sent,c=l.data,d=c.length===a,t.abrupt("return",{mutations:f.toDomain(c),possiblyMoreMutations:d});case 7:case"end":return t.stop()}}),t)})))()}static fetchAll(e){var t=this;return h(u().mark((function r(){var n,a,o,i,s,l,c,d,h;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=e.url,a=e.pageSize,o=e.minimumId,i=e.maximumId,s=e.cancelToken,l=[];case 2:return r.next=4,t.fetchPage({url:n,pageSize:a,minimumId:o,maximumId:i,cancelToken:s});case 4:if(c=r.sent,d=c.mutations,h=c.possiblyMoreMutations,l.push(...d),h){r.next=10;break}return r.abrupt("return",f.toDomain(l));case 10:i=d.slice(-1)[0].id;case 11:r.next=2;break;case 13:case"end":return r.stop()}}),r)})))()}static fetchAllRecentBarChanges(e){return h(u().mark((function t(){var r,a,o,i,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.roadmapId,a=e.sinceDate,o=e.cancelToken,50,t.next=4,n.default.history.getRecentBarChanges({roadmapId:r,sinceDate:a,pageSize:50,cancelToken:o});case 4:return i=t.sent,s=i.data,t.abrupt("return",f.toDomain(s));case 7:case"end":return t.stop()}}),t)})))()}}var f={toDomain:e=>e.map(m)},m=e=>l(l({},e),{},{changes:C(e),isBarMutation:v(e),relatedBar:g(e),isLink:b(e),isComment:w(e),parentId:_(e),pathBarIds:y(e)}),v=e=>"bar"===e.object_type||"container"===e.object_type,g=e=>{if(w(e)||b(e)){var t=y(e),r=e.info.replace(/(^to bar |from bar )/g,"");return{id:t[0],name:r}}},y=e=>{var t,r=null===(t=e.path)||void 0===t?void 0:t.match(new RegExp(/\d+(?=-Bar)/,"g")),n=new Set(null===r||void 0===r?void 0:r.map(Number));return v(e)&&n.delete(e.mutable_id),[...n]},b=e=>"link"===e.object_type,w=e=>"comment"===e.object_type,C=e=>{var t;return null===(t=e.changes)||void 0===t?void 0:t.map((e=>{var t=e;return"Start"!==e.attribute&&"Start Date"!==e.attribute||(t.attribute="Start date"),"End"!==e.attribute&&"End Date"!==e.attribute||(t.attribute="End date"),t}))},E=a(/(\d+)\x2DMutation/,{id:1});function _(e){var t,r;return Number(null===(t=E.exec(e.path))||void 0===t||null===(r=t.groups)||void 0===r?void 0:r.id)}},48414:(e,t,r)=>{"use strict";function n(){n=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,o)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),l(y,s,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function a(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,l,"next",e)}function l(e){a(i,n,o,s,l,"throw",e)}s(void 0)}))}}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s(s(s({},u()),d()),t);r.customAttributeKeys=Object.keys(r).join(", ");try{var n=window.newrelic;n.addPageAction(e,r)}catch(a){p(a,e,r)}}function u(){var e;if(null!=window.current_user){var t=window.current_user,r=t.id,n=t.email,a=t.account_id,o=t.is_enterprise,i=t.is_trial;return{userId:r,isProductPlanAccount:null===n||void 0===n?void 0:n.includes("@productplan.com"),userAccountId:a,isTrialUser:i,isEnterpriseUser:o}}return null!==(e=window.currentRoadmapable)&&void 0!==e&&e.isPublic()?{userId:0,isProductPlanAccount:!1,userAccountId:0}:{}}function d(){if(window.currentRoadmapable){var e=window.currentRoadmapable,t=e.isMasterPlan,r=e.isPrimaryView,n=e.roadmapableId,a=e.currentViewId,o=window.getLayout?window.getLayout():null;return{isPortfolio:t(),isPrimary:r(),roadmapableId:n(),viewId:a,layout:o}}return{}}function h(e,t){return{viewId:null===t||void 0===t?void 0:t.id,isPrimary:null===t||void 0===t?void 0:t.isPrimaryView,roadmapableId:null===t||void 0===t?void 0:t.roadmapableId,isPortfolio:t?"MasterPlan"==t.roadmapableType:null}}r.r(t),r.d(t,{commonRoadmapableContext:()=>d,getViewContext:()=>h,logFilters:()=>v,logPageAction:()=>c,logPersonalFilters:()=>m,logPrioritization:()=>f}),window.newrelic&&window.newrelic.setErrorHandler((function(e){return!!["ResizeObserver loop limit exceeded","ResizeObserver loop completed with undelivered notifications"].includes(e.message)}));var p=(e,t,r)=>{console.warn("[ProductPlan] New Relic was not available. The following event was not logged:\n\n".concat(t,":").concat(JSON.stringify(r,null,4),"\n\n").concat(e))};function f(e){var t,n=r(55652).ProductPlan;try{t=n.currentUser().preferences.layout[window.currentRoadmapable.currentViewId]}catch(a){t="undefined"}c("Prioritize bar",{view:t,ui:e})}function m(e){if(window.current_filter&&window.current_filter.filters){var t=window.current_filter.filters,r={lanes:t.some((e=>e.indexOf("lane")>-1)),legends:t.some((e=>e.indexOf("legend")>-1)),tags:t.some((e=>e.indexOf("tag")>-1)),layout:e};(r.legends||r.lanes||r.tags)&&c("PersonalFilter - applied",r)}}function v(e){return g.apply(this,arguments)}function g(){return(g=o(n().mark((function e(t){var r,a,o,i,l,u,d,p,f,m,v,g;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.message,l=t.viewId,u=void 0===l?null!==(r=null===(a=window.currentRoadmapable)||void 0===a?void 0:a.currentViewId)&&void 0!==r?r:null:l,d=t.attributes,p=void 0===d?{}:d,f=t.currentView,m=t.hasPersonalFilters,u){e.next=3;break}return e.abrupt("return");case 3:if(null===(o=window.currentRoadmapable)||void 0===o||!o.isSnapshot){e.next=5;break}return e.abrupt("return");case 5:v=h(0,f),g=y(u,f,m),c(i,s(s(s(s({viewId:u},v),{},{defaultLayout:window.currentRoadmapable.defaultLayout},g),p),{},{info:f?null:"Current view was not loaded. Logged view filters may be innacurate."}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r){var n=null;return t&&(n=!1===t.showNoLegend||!1===t.showUntagged||!1===t.showUntaggedMilestones||t.tagViewFilters.some((e=>!1===e.included))||t.laneViewFilters.some((e=>!1===e.included))||t.legendViewFilters.some((e=>!1===e.included))),{hasPersonalFilters:r,hasViewFilters:n}}},41104:(e,t,r)=>{"use strict";r(26981),r(68e3),r(51545),r(3674),r(73098),r(30541),r(13019);var n=r(86606),a=r.n(n),o=r(9669),i=r.n(o);class s{static connect(e,t){return new s(e,t).pusher}constructor(e,t){var r,n,o;if(o=()=>{this.socketId=this.pusher.connection.socket_id,this.socketId&&i().interceptors.request.use((e=>(e.headers["X-Pusher-SocketId"]=this.socketId,e)))},(n="onPusherConnected")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,window.pusherFake)this.pusher=window.pusherFake;else{var s={forceTLS:!0,authEndpoint:"/pusher/auth",auth:{headers:{"X-CSRF-Token":$("meta[name=csrf-token]").attr("content")}}};t&&(s.cluster=t),this.pusher=new(a())(e,s)}this.pusher.connection.bind("connected",this.onPusherConnected,this)}}var l,c=r(55652);var u=r(44230);function d(){var e,t,n,a=$("body").data();e=$.fn.show,$.fn.show=function(){return this.removeClass("hidden"),e.apply(this,arguments)},$.fn.extend({animateCss(e){this.addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){$(this).removeClass("animated "+e)}))}}),$(document).on("mousedown",(e=>c.ProductPlan.clickedTarget=e.target)),window.ProductPlan.pusher=window.pusherKey?s.connect(window.pusherKey,window.pusherCluster):{},function(e){var t=e.controller,r=e.action,n=c.ProductPlan[t];void 0!==n&&("function"===typeof n.init&&n.init(),"function"===typeof n[r]&&n[r]())}(a),(0,u.F)(),function(e,t){var n=document.getElementById("page-components-mount");if(n){var a=r(67294),o=r(73935),i=r(98575).Z,s=a.createElement(i,{ProductPlan:c.ProductPlan,roadmap:window.roadmap||null,pusher:t,attributes:e});o.render(s,n)}}(a,window.ProductPlan.pusher),l||(null===(t=window)||void 0===t||null===(n=t.Intercom)||void 0===n||n.call(t,"boot",window.intercomSettings),l=setInterval((function(){try{var e,t,r,n;(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.onLine)&&(null===(r=window)||void 0===r||null===(n=r.Intercom)||void 0===n||n.call(r,"update"))}catch(a){throw new Error('Failed to call "update" for intercom - '.concat(a.message),{cause:a})}}),9e4))}r(22314),r(55652),r(57430),r(96123),r(92966),r(71662),"loading"!==document.readyState?d():document.addEventListener("DOMContentLoaded",(()=>{d()}))},67187:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(67294),a=r.n(n),o=r(93128),i=r(34844),s=r(12458),l=r(21372);function c(e,t){o.Z.success(a().createElement(a().Fragment,null,function(e){if(null==e)return"1 bar has been parked.";if("string"===typeof e)return"".concat(e," has been parked.");if("number"===typeof e)return 1===e?"1 bar has been parked.":"".concat(e," bars have been parked.");throw Error("showParkSuccessToast subject is expected to be a string bar name or a number of parked bars")}(e),t&&a().createElement(a().Fragment,null," ",a().createElement("a",{href:"javascript:void(0)",onClick:()=>{s.Z.set(l.Z.parked),window.setLayout(i.Z.PARKING_LOT)}},"View your parked bars."))))}},77656:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(66678),a=r.n(n),o=r(64721),i=r.n(o),s=r(41609),l=r.n(s),c=r(22762),u=r.n(c),d=r(84753),h=r.n(d),p=r(6162),f=r.n(p),m=r(55652),v=r(80008),g=r.n(v),y=r(16852);function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function w(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){w(o,n,a,i,s,"next",e)}function s(e){w(o,n,a,i,s,"throw",e)}i(void 0)}))}}var E={calculateSublanePositionFromDropArea(e,t){if(t){var r=e?".lane-divider":".lane-bar-holder:has(.project-bar)",n=t.parent().children(r).index(t);return f()([0,n])}},calculateAssignedSublaneIdsFromDropArea:(e,t,r)=>e?window.currentRoadmapable.sublanesForContainer(e,t):window.currentRoadmapable.sublanesForLane(r,t),getLaneIdFromDropArea(e){if(e)return e.closest(".lanes").data("id")},getContainerIdFromDropArea(e){if(e)return e.hasClass("container-drop")?e.parents(".project-bar").data("id"):void 0},getBarIdToSkipFromDropArea(e,t){if(t&&e)return t.id},updateRoadmapFromMultipleBarsDropOrRedraw(e,t,r){var n=this;return C(b().mark((function a(){var o,i,s;return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=h()(e,(function(e){return g()(e.endsOn).unix()})),i=u()(e,(function(e){return g()(e.startsOn).unix()})),!o.strictlyWithinRoadmapDates()||!i.strictlyWithinRoadmapDates()){a.next=5;break}return m.ProductPlan.roadmapRenderer.redraw(t),a.abrupt("return");case 5:return s=n.buildDatesOverflowPayloadFromSelectionEdges(i,o),a.next=8,n.updateRoadmapFromDropOrRedraw(s,r);case 8:case"end":return a.stop()}}),a)})))()},updateRoadmapFromBarDropOrRedraw(e,t,r){var n=this;return C(b().mark((function a(){var o;return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.strictlyWithinRoadmapDates()){a.next=3;break}return m.ProductPlan.roadmapRenderer.redraw(t),a.abrupt("return");case 3:return o=n.buildDatesOverflowPayloadFromBar(e),a.next=6,n.updateRoadmapFromDropOrRedraw(o,r);case 6:case"end":return a.stop()}}),a)})))()},updateRoadmapFromDropOrRedraw:(e,t)=>C(b().mark((function r(){var n,a,o;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(m.ProductPlan.roadmapView.inMultiSelectMode()?y.Z.clear():m.ProductPlan.roadmapRenderer.redrawRoadmapObjects(),n=window.updateViewForTimeline,a=window.currentRoadmapable.currentViewId,void 0===n){r.next=8;break}return r.next=6,n.mutateAsync({viewId:a,data:e});case 6:o=r.sent,t(o);case 8:case"end":return r.stop()}}),r)})))(),buildDatesOverflowPayloadFromBar(e){var t={},r=m.ProductPlan.roadmapManager.roadmap.timelineSettings();return e.startUnits()<r.timelineStartUnits&&(t.start_date=e.startsOn),e.endUnits()>r.timelineEndUnits&&(t.end_date=e.endsOn),t},buildDatesOverflowPayloadFromSelectionEdges(e,t){var r={},n=m.ProductPlan.roadmapManager.roadmap.timelineSettings();return e.startUnits()<n.timelineStartUnits&&(r.start_date=e.startsOn),t.endUnits()>n.timelineEndUnits&&(r.end_date=t.endsOn),r},moveBarsDown(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={barsToUpdate:[],barStash:[]};return l()(e)?r:Array.isArray(e)||e instanceof jQuery?(this.forEachBarBySublane(e,((e,n,o,s,l)=>{if(l&&!i()(t,l)){var c=window.currentRoadmapable.findActiveBar(l);if(!c)return!1;r.barStash.push(a()(c.getUndoAttributes()));var u=parseInt(c.sublaneId)+t.length,d={id:c.id,sublaneId:u};isNaN(u)?E.triggerInvalidSublaneMsg(c.sublaneId):r.barsToUpdate.push(d)}})),r):r},forEachBarBySublane(){var e=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).each(((t,r)=>{$(r).children(".project-bar").each(((n,a)=>{var o=$(a).data("id");e(t,r,n,a,o)}))}))},triggerInvalidSublaneMsg:e=>m.ProductPlan.requireRefresh('Invalid sublane "'.concat(e,'"'))};const _=E},83113:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var n=r(67294),a=r.n(n),o=r(93128);function i(e,t){o.Z.success(a().createElement(a().Fragment,null,function(e){if(null==e)return"1 bar has been prioritized.";if("string"===typeof e)return"".concat(e," has been prioritized.");if("number"===typeof e)return 1===e?"1 bar has been prioritized.":"".concat(e," bars have been prioritized.");throw Error("showParkSuccessToast subject is expected to be a string bar name or a number of prioritized bars")}(e),t&&a().createElement(a().Fragment,null," ",a().createElement("a",{href:"javascript:void(0)",onClick:()=>{window.expandScoreDrawer()}},"Prioritize now."))))}},13202:(e,t,r)=>{"use strict";r.d(t,{Ko:()=>C,Wd:()=>y,YO:()=>x,mz:()=>w});var n=r(67294),a=r.n(n),o=r(31815),i=r(38022),s=r(17563),l=r(98061),c=r(45697),u=r.n(c),d=["children"];function h(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&r.call(g,a)&&(f=g);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function g(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function y(e){var t=e.name,r=e.fromParam,n=void 0===r?b:r,o=e.toParam,i=void 0===o?b:o,s=e.validate,l=void 0===s?b:s,c=E(t),u=c.param,d=c.pushParam,h=c.replaceParam,p=a().useMemo((()=>l(n(u))),[l,n,u]),f=a().useMemo((()=>i(p)),[i,p]);a().useEffect((()=>{f!==u&&h(f)}),[u,f,h]);var m=a().useCallback((e=>t=>{var r=l("function"===typeof t?t(p):t),n=i(r);n!==u&&e(n)}),[l,p,i,u]),v=a().useCallback(m(d),[m,d]),g=a().useCallback(m(h),[m,h]);return[p,v,g]}var b=e=>e;function w(e){var t=e.name,r=e.effect,n=e.consumeParam,o=void 0===n||n,i=E(t),s=i.param,l=i.replaceParam;a().useEffect((()=>{if(void 0!==s){var e=r(s);return o&&l(void 0),e}}),[s,r,o,l])}function C(e){var t=e.name,r=e.effect,n=e.consumeParam,a=void 0===n||n,o=E(t),i=o.param,s=o.replaceParam;(0,l.bd)(function(){var e,t=(e=v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r(i,t);case 4:t.throwIfRequested(),a&&s(void 0);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){g(o,n,a,i,s,"next",e)}function s(e){g(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[i,r,a])}function E(e){var t=function(){var e=a().useContext(_);if(!e)throw Error("useQueryParamsContext must be used within a QueryParamProvider. This is most often set up via QueryParamRouter (or MemoryQueryParamRouter for tests).");return e}();return a().useMemo((()=>({param:t.params[e],pushParam:r=>t.pushParams((t=>f(f({},t),{},{[e]:r}))),replaceParam:r=>t.replaceParams((t=>f(f({},t),{},{[e]:r})))})),[e,t])}var _=a().createContext();function x(e){var t=e.children,r=h(e,d);return a().createElement(o.VK,r,a().createElement(L,null,t))}function L(e){var t,r,n,o,l,c=e.children,u=(t=(0,i.k6)(),r=t.location,n=t.push,o=t.replace,l=r.search,a().useMemo((()=>{var e=s.parse(l),t=t=>{var n="function"===typeof t?t(e):t;return f(f({},r),{},{search:s.stringify(n)})};return{params:e,pushParams:e=>n(t(e)),replaceParams:e=>o(t(e))}}),[r,l,n,o]));return a().createElement(_.Provider,{value:u},c)}x.propTypes={children:u().any},L.propTypes={children:u().any}},88241:(e,t,r)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){for(var t=e.benefitHeadings,r=e.costHeadings,n=0,a=0,o=Object.values(t);a<o.length;a++){n+=o[a]}for(var i=0,s=Object.values(r);i<s.length;i++){n+=s[i]}return n}function i(e,t){for(var r=e.benefitHeadings,a=e.costHeadings,o=t.benefit_scores,i=t.cost_scores,l=0,c=0,u=Object.entries(r);c<u.length;c++){var d=n(u[c],2),h=d[0],p=d[1];if(o){var f=s(o[h]);null!==f&&(l+=f/5*p)}}for(var m=0,v=Object.entries(a);m<v.length;m++){var g=n(v[m],2),y=g[0],b=g[1];if(i){var w=s(i[y]);null!==w&&(l+=(6-w)/5*b)}}return Math.round(l)}function s(e){var t=parseInt(e);return Number.isNaN(t)||t<1||t>5?null:t}r.d(t,{C:()=>i,y:()=>o})},36870:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});const n={normalizeScrollWidth:(e,t)=>e?null==t||e.scrollLeft()<=t?null:void e.scrollLeft(t):null,normalizeScrollHeight:(e,t)=>e?null==t||e.scrollTop()<=t?null:void e.scrollTop(t):null};var a=r(93991),o=r(65943);const i={scrollingContainer:null,maxScrollWidth:0,maxScrollHeight:0,defaultThreshhold:60,defaultRecursionDelay:10,defaultScrollDistance:5,setup(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.scrollingContainer=e.scrollingContainer||$(".js-main-container"),this.maxScrollWidth=o.RZ.maxScrollWidth(this.scrollingContainer[0]),this.maxScrollHeight=o.RZ.maxScrollHeight(this.scrollingContainer[0]);var t={scrollableContainer:this.scrollingContainer[0],scrollThreshhold:e.scrollThreshhold||this.defaultThreshhold,recursionDelay:e.recursionDelay||this.defaultRecursionDelay,scrollDistance:e.scrollDistance||this.defaultScrollDistance};a.AutoScroll.initialize(t)},scroll(e,t){a.AutoScroll.scroll(e,(()=>{n.normalizeScrollWidth(this.scrollingContainer,this.maxScrollWidth),n.normalizeScrollHeight(this.scrollingContainer,this.maxScrollHeight),t&&t()}))},cleanup(){a.AutoScroll.reset(),this.scrollingContainer=null,this.maxScrollWidth=0,this.maxScrollHeight=0}}},27521:(e,t,r)=>{"use strict";r.d(t,{Jy:()=>u,aH:()=>d});var n=r(67294),a=r.n(n),o=r(88767),i=r(45697),s=r.n(i),l=new o.QueryClient({defaultOptions:{queries:{staleTime:6e4}}}),c=l,u=()=>c,d=e=>{var t=e.children;return a().createElement(o.QueryClientProvider,{client:c},t)};d.propTypes={children:s().any}},55888:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>y,M4:()=>C,Wx:()=>m,j6:()=>_,q7:()=>v});var n=r(88767),a=r(74527),o=r(56264),i=r.n(o),s=r(27521);function l(){l=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var d={};function h(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(L([])));g&&g!==t&&r.call(g,a)&&(m=g);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,d;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=f,s(y,"constructor",f),s(f,"constructor",p),p.displayName=s(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function c(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){c(o,n,a,i,s,"next",e)}function s(e){c(o,n,a,i,s,"throw",e)}i(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f={all:[{scope:"tags"}],allTags:()=>[h(h({},f.all[0]),{},{entity:"tag"})],roadmapTags:e=>[h(h({},f.allTags()[0]),{},{roadmapId:e})],filteredRoadmapTags:(e,t)=>[h(h({},f.roadmapTags(e)[0]),{},{filter:{searchTerm:t}})]},m=e=>{var t=(0,s.Jy)(),r=e?f.roadmapTags(e):f.allTags();t.invalidateQueries(r)},v=e=>{var t=(0,n.useQueryClient)(),r=f.roadmapTags(e);return(0,n.useMutation)(function(){var t=u(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSettled:()=>{t.invalidateQueries(r)}})},g=function(){var e=u(l().mark((function e(t,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.roadmapTagActions.bulkUpdate(t,r.newTagName,r.tagsToBeRemoved);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),y=e=>{var t=(0,n.useQueryClient)(),r=f.roadmapTags(e);return(0,n.useMutation)(function(){var t=u(l().mark((function t(r){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSettled:()=>{t.invalidateQueries(r)}})};function b(e,t){return w.apply(this,arguments)}function w(){return(w=u(l().mark((function e(t,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.roadmapTagActions.bulkDelete(t,r);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){var t=e.roadmapId,r=e.searchTerm,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=f.filteredRoadmapTags(t,r);return(0,n.useInfiniteQuery)(o,function(){var e=u(l().mark((function e(n){var a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.pageParam,o=void 0===a?1:a,e.abrupt("return",E({roadmapId:t,searchTerm:r,pageParam:o}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h(h({},a),{},{enabled:!!t&&void 0!==r,getNextPageParam:e=>{var t;return null!==(t=e.meta.pagination.nextPage)&&void 0!==t?t:void 0}}))},E=function(){var e=u(l().mark((function e(t){var r,n,o,s,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.roadmapId,n=t.searchTerm,o=t.pageParam,e.next=3,a.default.getSharedTags(r,{q:n,page:o});case 3:return s=e.sent,c=s.data,e.abrupt("return",i().camelizeKeys(c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=f.roadmapTags(e);return(0,n.useQuery)(r,u(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x(e));case 1:case"end":return t.stop()}}),t)}))),h({enabled:!!e},t))}function x(e){return L.apply(this,arguments)}function L(){return(L=u(l().mark((function e(t){var r,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.roadmapTagActions.index(t);case 2:return r=e.sent,n=r.data,e.abrupt("return",i().camelizeKeys(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},71460:(e,t,r)=>{"use strict";r.d(t,{qd:()=>Z,ZJ:()=>te,JH:()=>U,qJ:()=>q,v9:()=>H,Hx:()=>G,xb:()=>Q,X:()=>$,e0:()=>W,Pl:()=>Y});var n=r(88767),a=r(74527),o=r(41609),i=r.n(o),s=r(55652),l=r(93314);class c extends l.Z{constructor(){super({name:"name",start_date:"start_date",end_date:"end_date","renderer.interval_duration":"sprint_interval_duration","renderer.interval_offset":"sprint_interval_offset","renderer.intervals_to_display":"intervals_to_display","roadmap.slack_notifications_channel":"slack_notifications_channel","roadmap.ms_teams_webhook_id":"ms_teams_webhook_id","roadmap.secondary_label_group_id":"secondary_label_group_id",label_group_transformation:"label_group_transformation"},{effort_type:{size:"Sizes (S-XL)",numeric:"Numeric (0-10)"},display_grid:{none:"(None)",months:"Months",quarters:"Quarters",weeks:"Weeks",sprints:"Sprints"}})}buildPayload(e){return{roadmap:{slack_notifications_channel:e.slack_notifications_channel,ms_teams_webhook_id:e.ms_teams_webhook_id,secondary_label_group_id:e.secondary_label_group_id,label_group_transformation:e.label_group_transformation},roadmapable_view:{name:e.name,description:e.description,style:e.bar_style,effort_type:e.effort_type,start_date:e.start_date,end_date:e.end_date,view_style:e.view_style,renderer_attributes:{style:e.timeline_style,fiscal_year_first_month:e.fiscal_year_first_month,grid_style:e.display_grid,interval_duration:e.sprint_interval_duration,interval_offset:e.sprint_interval_offset,intervals_to_display:e.intervals_to_display}}}}}const u=c;class d extends l.Z{constructor(){super({name:"name",start_date:"start_date",end_date:"end_date","renderer.interval_duration":"sprint_interval_duration","renderer.interval_offset":"sprint_interval_offset","renderer.intervals_to_display":"intervals_to_display","roadmap.slack_notifications_channel":"slack_notifications_channel","roadmap.ms_teams_webhook_id":"ms_teams_webhook_id"},{display_grid:{none:"(None)",months:"Months",quarters:"Quarters",weeks:"Weeks",sprints:"Sprints"}})}buildPayload(e){var t=e.slack_notifications_channel,r=e.ms_teams_webhook_id,n={roadmapable_view:{name:e.name,description:e.description,style:e.bar_style,start_date:e.start_date,end_date:e.end_date,renderer_type:e.renderer_type,roadmapable_type:"Roadmap",is_primary_view:!1,view_style:e.view_style,roadmapable_id:window.currentRoadmapable.roadmapableId(),renderer_attributes:{style:e.timeline_style,interval_duration:e.sprint_interval_duration,interval_offset:e.sprint_interval_offset,intervals_to_display:e.intervals_to_display,fiscal_year_first_month:e.fiscal_year_first_month,grid_style:e.display_grid}}};return n.roadmapable_view.slack_notifications_channel=t,n.roadmapable_view.ms_teams_webhook_id=r,n}}const h=d;function p(e){return function(e){if(0===e.length)return null;var t={};return e.forEach(((e,r)=>{t[r]=e})),t}(e.map((e=>({id:e.id,filterable_type:e.filterable_type,included:e.included}))))}class f extends l.Z{buildPayload(e){return{show_untagged:e.show_untagged,show_no_legend:e.show_no_legend,show_untagged_milestones:e.show_untagged_milestones,view_filters:{lanes:p(e.lane_view_filters),legends:p(e.legend_view_filters),tags:p(e.tag_view_filters),custom_labels:e.custom_label_view_filters.flatMap((e=>e.filters.map((e=>({id:e.id,filterable_type:e.filterable_type,included:e.included})))))}}}}const m=f;function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(){C=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function E(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){E(o,n,a,i,s,"next",e)}function s(e){E(o,n,a,i,s,"throw",e)}i(void 0)}))}}function x(e){if(0===e.length)return null;var t={};return e.forEach(((e,r)=>{t[r]=e})),t}var L={toDomain:e=>{var t,r,n=e.roadmapable_view,a=b(b({},n),{},{tag_view_filters:P(n.sorted_tag_view_filters),lane_view_filters:P(n.sorted_lane_view_filters),legend_view_filters:P(n.sorted_legend_view_filters),custom_label_view_filters:null!==(t=null===(r=n.custom_label_view_filters)||void 0===r?void 0:r.map((e=>({id:e.id,name:e.name,filters:P(e.view_filters)}))))&&void 0!==t?t:[],show_untagged:n.show_untagged,show_no_legend:n.show_no_legend,show_untagged_milestones:n.show_untagged_milestones});return delete a.sorted_lane_view_filters,delete a.sorted_tag_view_filters,delete a.sorted_legend_view_filters,a}};function P(e){return e.map((e=>{var t=v(e.id.split("-"),2),r=t[0],n=t[1],a=s.ProductPlan.defaultNoneColor();return e.viewId=r.match(/\d+$/)[0],e.filterId=n.match(/\d+$/)[0],e.color=i()(e.hex)?a:"#"+e.hex,e}))}const O=class{static new(e){return a.default.roadmapableViews.new(e)}static edit(e){return a.default.roadmapableViews.edit(e)}static update(e,t){return _(C().mark((function r(){var n,o;return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new u,r.prev=1,r.next=4,a.default.roadmapableViews.update(e,n.getPayload(t));case 4:return r.abrupt("return",r.sent);case 7:if(r.prev=7,r.t0=r.catch(1),null===r.t0||void 0===r.t0||null===(o=r.t0.response)||void 0===o||!o.data){r.next=13;break}throw n.mapErrors(r.t0.response.data);case 13:throw r.t0;case 14:case"end":return r.stop()}}),r,null,[[1,7]])})))()}static create(e){return _(C().mark((function t(){var r,n,o;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new h,n=r.getPayload(e),o={show_untagged:e.show_untagged,show_untagged_milestones:e.show_untagged_milestones,show_no_legend:e.show_no_legend,view_filters:{lanes:x(e.lane_view_filters),legends:x(e.legend_view_filters),tags:x(e.tag_view_filters),custom_labels:e.custom_label_view_filters.flatMap((e=>e.filters.map((e=>({id:e.id,filterable_type:e.filterable_type,included:e.included})))))}},Object.assign(n,o),t.prev=4,t.next=7,a.default.roadmapableViews.create(n);case 7:return t.abrupt("return",t.sent);case 10:throw t.prev=10,t.t0=t.catch(4),r.mapErrors(t.t0.response.data);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})))()}static updateViewFilters(e,t){return _(C().mark((function r(){var n;return C().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new m,r.prev=1,r.next=4,a.default.roadmapableViews.updateViewFilters(e,n.getPayload(t));case 4:return r.abrupt("return",r.sent);case 7:throw r.prev=7,r.t0=r.catch(1),n.mapErrors(r.t0.response.data);case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()}static fetchViewFilter(e,t,r,n){return _(C().mark((function o(){var i,s,l,c,u;return C().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0===t){o.next=6;break}return o.next=3,a.default.roadmapableViews.fetchPublicViewFilter(t);case 3:return i=o.sent,s=i.data,o.abrupt("return",L.toDomain(s));case 6:return l={},r&&(l.roadmaps=r),o.next=10,a.default.roadmapableViews.fetchViewFilter(e,l,n);case 10:return c=o.sent,u=c.data,o.abrupt("return",L.toDomain(u));case 13:case"end":return o.stop()}}),o)})))()}};var S=r(56264),k=r.n(S),T=r(49351),D=r(27521);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=w(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&r.call(v,a)&&(f=v);var g=p.prototype=d.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,s(g,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new b(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),s(g,i,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=x,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:x(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function j(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){j(o,n,a,i,s,"next",e)}function s(e){j(o,n,a,i,s,"throw",e)}i(void 0)}))}}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V={all:[{scope:"views"}],allViews:()=>[B(B({},V.all[0]),{},{entity:"view"})],view:(e,t,r)=>[B(B({},V.allViews()[0]),{},{id:e,roadmaps:r,publicUrlCode:t})],allViewSettings:()=>[B(B({},V.all[0]),{},{entity:"viewSettings"})],viewSettings:e=>[B(B({},V.allViewSettings()[0]),{},{id:e})],newView:e=>[B(B({},V.view(e)[0]),{},{context:"new view form"})],editView:e=>[B(B({},V.view(e)[0]),{},{context:"edit view form"})]},Z=e=>{var t=(0,D.Jy)(),r=e?V.view(e):V.allViews();t.invalidateQueries(r)},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.useMutation)(O.create,e)},G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=V.newView(e);return(0,n.useQuery)(r,M(A().mark((function t(){var r,n;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.new(e);case 2:return r=t.sent,n=r.data,t.abrupt("return",k().camelizeKeys(n));case 5:case"end":return t.stop()}}),t)}))),t)},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=V.editView(e);return(0,n.useQuery)(r,M(A().mark((function t(){var r,n;return A().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.edit(e);case 2:return r=t.sent,n=r.data,t.abrupt("return",k().camelizeKeys(n));case 5:case"end":return t.stop()}}),t)}))),t)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.useMutation)(a.roadmapableViewActions.delete,e)},W=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,n.useQueryClient)();return(0,n.useMutation)(z,B(B({},t),{},{onMutate:(e=M(A().mark((function e(t){var n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=V.viewSettings(t.viewId),e.next=3,ae(r,n,t.payload);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),onError:(e,t,n)=>{oe(r,n)}}))},z=function(){var e=M(A().mark((function e(t){var r,n,o,i,s,l,c,u;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=t.viewId,n=t.payload,o={},i=0,s=Object.entries(n);i<s.length;i++)l=I(s[i],2),c=l[0],u=l[1],o[k().decamelize(c)]=u;return e.next=5,a.roadmapableViewActions.updateSettings(r,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,n.useQueryClient)();return(0,n.useMutation)(K,B(B({},r),{},{onMutate:(t=M(A().mark((function e(t){var r,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V.view(t.viewId),n=k().camelizeKeys(t.data),e.next=4,ae(a,r,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onError:(e,t,r)=>{oe(a,r)},onSettled:(e=M(A().mark((function e(t,r,n){var o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=V.view(n.viewId),a.invalidateQueries(o);case 2:case"end":return e.stop()}}),e)}))),function(t,r,n){return e.apply(this,arguments)})}))},K=function(){var e=M(A().mark((function e(t){var r,n,a,o,i;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.viewId,n=t.data,a=ee(n),e.next=4,O.update(r,a);case 4:if(o=e.sent,(i=void 0===o.status)&&window.currentRoadmapable&&o.view_id===window.currentRoadmapable.currentViewId&&(window.roadmap=o,s.ProductPlan.roadmapManager.updateRoadmap(o)),!i){e.next=9;break}return e.abrupt("return",k().camelizeKeys(o));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=e.id,r=e.publicUrlCode,a=e.roadmaps,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=V.view(t,r,a);return(0,n.useQuery)(i,M(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",J({id:t,publicUrlCode:r,roadmaps:a}));case 1:case"end":return e.stop()}}),e)}))),B({enabled:!!t},o))},J=function(){var e=M(A().mark((function e(t){var r,n,a,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,n=t.roadmaps,a=t.publicUrlCode,e.next=3,O.fetchViewFilter(r,a,n);case 3:return o=e.sent,e.abrupt("return",k().camelizeKeys(o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,n.useQueryClient)();return(0,n.useMutation)(X,B(B({},r),{},{onMutate:(t=M(A().mark((function e(t){var r,n;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V.view(t.viewId),n=k().camelizeKeys(t.data),e.next=4,ae(a,r,n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onError:(e,t,r)=>{oe(a,r)},onSettled:(e=M(A().mark((function e(t,r,n){var o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=V.view(n.viewId),a.invalidateQueries(o);case 2:case"end":return e.stop()}}),e)}))),function(t,r,n){return e.apply(this,arguments)})}))},X=function(){var e=M(A().mark((function e(t){var r,n,o,i,s,l,c;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.portfolioId,n=t.viewId,o=t.data,i=ee(o),Object.hasOwn(i,"included_roadmaps")){e.next=7;break}return e.next=5,a.roadmapableViews.edit(n);case 5:s=e.sent,i=B(B({},s.data),i);case 7:return e.next=9,T.Z.update(r,i);case 9:return l=e.sent,c=l.data,e.abrupt("return",k().camelizeKeys(c));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ee(e){return k().decamelizeKeys(e)}var te=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,n.useQueryClient)();return(0,n.useMutation)(re,B(B({},r),{},{onMutate:(t=M(A().mark((function e(t){var r;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V.view(t.viewId),e.next=3,ae(a,r,t.data);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onError:(e,t,r)=>{oe(a,r)},onSettled:(e=M(A().mark((function e(t,r,n){var o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=V.view(n.viewId),a.invalidateQueries(o);case 2:case"end":return e.stop()}}),e)}))),function(t,r,n){return e.apply(this,arguments)})}))};function re(e){return ne.apply(this,arguments)}function ne(){return(ne=M(A().mark((function e(t){var r,n,a;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.viewId,n=t.data,a=ee(n),e.next=4,O.updateViewFilters(r,a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae=function(){var e=M(A().mark((function e(t,r,n){var a,o;return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cancelQueries(r);case 2:if(a=t.getQueryData(r)){e.next=5;break}return e.abrupt("return");case 5:return o=B(B({},a),n),t.setQueryData(r,o),e.abrupt("return",{previousValue:a,key:r});case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),oe=(e,t)=>{t&&e.setQueryData(t.key,t.previousValue)}},89425:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(55652),a=r(80008),o=r.n(a),i=r(51793),s={parkingLotToTimelineDates(e,t){var r=e&&o()(e).utc().format(i.Z.dateFormat),a=t&&o()(t).utc().add(1,"days").format(i.Z.dateFormat);if(!r&&!a)return s.timelineDefaultDates();var l=window.currentRoadmapable.timelineSettings(),c=n.ProductPlan.roadmapManager.roadmap.defaultBarDuration,u=r&&l.dateToUnits(r),d=a&&l.dateToUnits(a);return r?(!a||r>=a)&&(a=l.unitsToDate(u+c)):r=l.unitsToDate(d-c),{startDate:r,endDate:a}},timelineDefaultDates(){var e=window.currentRoadmapable.timelineSettings(),t=n.ProductPlan.roadmapManager.roadmap.defaultBarDuration,r=n.ProductPlan.displaySettings.todayIsInView()?o().utc().add(1,"days").format(i.Z.dateFormat):e.unitsToDate(e.timelineStartUnits),a=e.dateToUnits(r);return{startDate:r,endDate:e.unitsToDate(a+t)}},timelineToParkingLotDates(e,t){if(e&&t)return{startDate:o()(e).utc().format(i.Z.dateFormat),endDate:o()(t).utc().add(-1,"days").format(i.Z.dateFormat)}}};const l=s},16149:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n={labels:{ROADMAP:"roadmap",ROADMAPS:"roadmaps",NEW_LEGEND_TITLE:"New Shared Legend",TITLE:"Shared Legends"},form:{labels:{TITLE:"Title",DESCRIPTION:"Description"}},buttons:{DONE:"Done",CREATE:"Create",CANCEL:"Cancel",NEW:"New Legend",DISCARD:"Discard"},messages:{SUBTITLE:"Create consistency by using these centrally managed legends in roadmaps and templates.",CREATED_SUCCESS:"Legend created successfully. It can now be added to your",CREATED_ERROR:"There was a problem creating your Shared Legend. Please try again later.",UPDATED_SUCCESS:"Legend updated.",UPDATED_ERROR:"There was a problem while editing your Shared Legend. Please try again later.",DELETE_CONFIRMATION:e=>"Are you sure you want to delete ".concat(e,"?"),DISCARD_MESSAGE:"You have unsaved changes in this legend. Are you sure you want to discard those changes?",DISCARD_EDIT_MESSAGE:"The changes to the legend title are not saved. Are you sure you want to discard those changes?",DELETE_SUCCESS:"Legend was deleted successfully",DELETE_ERROR:"There was a problem while deleting your Shared Legend. Please try again later.",FEEDBACK_MESSAGE:"How do you like Shared Legends?"},titles:{CREATE:"New Shared Legend",EDIT:"Edit Shared Legend",DELETE:"Delete Legend",DELETE_LABEL:"Delete Label",DISCARD_CHANGES:"Discard Changes"},table:{headers:{NAME:"Name",LABELS:"Labels",USED_BY:"Used by"},cells:{NO_LABELS:"No labels"}},tooltips:{CANT_REMOVE:"Switch legends in roadmaps that use this legend before deleting it."}}},86604:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>P});var n=r(67294),a=r.n(n),o=r(73935),i=r.n(o),s=r(94184),l=r.n(s),c=r(45697),u=r.n(c),d=r(54228),h=r(95234),p=r(39012);const f={ADD_DESCRIPTION:"Add description"},m={SAVE:"Save",CANCEL:"Cancel"};function v(){v=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return P()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=l;var u={};function d(){}function h(){}function p(){}var f={};s(f,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==t&&r.call(g,a)&&(f=g);var y=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(a,o,i,s){var l=c(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,s)}))}s(l.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,C(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(y),s(y,i,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function g(e,t,r,n,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void r(c)}s.done?t(l):Promise.resolve(l).then(n,a)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,s=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(l){s=!0,a=l}finally{try{i||null==r.return||r.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var w="label-description-modal-portal",C="top",E="bottom";function _(){return document.querySelector("#".concat(w))}var x=a().forwardRef(((e,t)=>{var r=e.modalPosition,n=e.label,o=e.formIsDisabled,s=e.description,l=e.setDescription,c=e.handleOnSubmit,u=e.handleClose,d=e.children,h=a().createElement("div",{ref:t,className:"dropdown-menu dropdown-menu-right open label-group-description__modal",style:r},a().createElement("div",{className:"modal-body"},a().createElement("label",{className:"label-group-description__header",htmlFor:"label-group-description__textarea"},n),a().createElement("textarea",{autoFocus:!0,disabled:o?"disabled":void 0,className:"label-group-description__textarea",value:s,onChange:e=>l(e.currentTarget.value),placeholder:f.ADD_DESCRIPTION,id:"label-group-description__textarea",name:"label-group-description__textarea"}),a().createElement("div",{className:"label-group-description__buttons"},a().createElement("button",{className:"btn btn-success",disabled:o?"disabled":void 0,onClick:c},m.SAVE),a().createElement("button",{className:"btn btn-default",disabled:o?"disabled":void 0,onClick:u},m.CANCEL)),d&&a().createElement("div",{className:"label-group-description__inner-wrapper"},d)));if(document.querySelector("#".concat(w)))return i().createPortal(h,_());throw new Error("Portal wrapper not available. Component won't be loaded.")}));x.propTypes={modalPosition:u().object.isRequired,label:u().string.isRequired,formIsDisabled:u().bool.isRequired,description:u().string,setDescription:u().func.isRequired,handleOnSubmit:u().func.isRequired,handleClose:u().func.isRequired,children:u().oneOfType([u().arrayOf(u().node),u().node])};var L=e=>{var t=e.label,r=e.onSubmit,o=e.descriptionValue,i=e.children,s=e.popoverConfig,c=e.parentScrollRef,u=(0,n.useRef)(null),m=(0,n.useRef)(null),b=(0,n.useRef)(null),L=y((0,n.useState)({top:0}),2),P=L[0],O=L[1],S=y((0,n.useState)(!1),2),k=S[0],T=S[1],D=y((0,n.useState)(!1),2),I=D[0],R=D[1],A=y((0,n.useState)(""),2),j=A[0],M=A[1],N=y((0,n.useState)(""),2),B=N[0],F=N[1],V=l()({"label-group-description__button--active":I,"label-group-description__button":!0}),Z=l()({"label-item__button--active ":I,"label-group-description":!0}),U=function(){var e,t=(e=v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),T(!0),e.prev=2,e.next=5,r(j);case 5:n=e.sent,T(!1),F(n),M(n),R(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),T(!1);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){g(o,n,a,i,s,"next",e)}function s(e){g(o,n,a,i,s,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),G=(0,n.useCallback)((()=>{j!==B&&H(),R(!1)}),[j,B,H]),H=(0,n.useCallback)((()=>{M(B)}),[B]);return(0,n.useEffect)((()=>{M(o||""),F(o||"")}),[o]),(0,n.useEffect)((()=>{null!==c&&void 0!==c&&c.current&&(I?c.current.classList.add("--no-scroll"):c.current.classList.remove("--no-scroll"))}),[I,c]),(0,n.useEffect)((()=>(function(){if(!document.getElementById(w)){var e=document.createElement("div");if(e.setAttribute("id",w),!e)throw new Error("Portal wrapper not created. Component won't be loaded.");document.body.appendChild(e)}}(),()=>{var e;(e=_())&&e.parentNode.removeChild(e)})),[]),(0,n.useEffect)((()=>{function e(e){(e=>I&&!(null!==m&&void 0!==m&&m.current.contains(e.target))&&!(null!==u&&void 0!==u&&u.current.contains(e.target)))(e)&&G()}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}})),a().createElement("span",{className:Z,ref:m},a().createElement(d.Z,{placement:"bottom",rootClose:!0,overlay:a().createElement(h.Z,{id:"tooltip-label-description-toggle",title:null===s||void 0===s?void 0:s.title},a().createElement("div",{className:"title"},s.body||f.ADD_DESCRIPTION))},a().createElement("a",{className:V,onClick:()=>{if(!I&&null!==b&&void 0!==b&&b.current){var e=window.innerHeight,t=function(e,t){if(e&&t){var r=e.getBoundingClientRect(),n=t>r.bottom+280?E:C,a=r.right-360;return n===E?{top:r.bottom,left:a}:{top:r.top-280,left:a}}return{top:0}}(b.current,e);O(t)}R(!I)},ref:b,"data-name":"add-description-button"},a().createElement(p.Z,{name:p.c.stickyNote}))),I&&a().createElement(x,{ref:u,modalPosition:P,label:t,formIsDisabled:k,description:j,setDescription:M,handleOnSubmit:U,handleClose:G},i))};L.propTypes={descriptionValue:u().string,label:u().string.isRequired,children:u().any,popoverConfig:u().shape({title:u().string,body:u().string}).isRequired,parentScrollRef:u().any,onSubmit:u().func.isRequired};const P=L},47452:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c,l:()=>l});var n=r(58909);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s={user:{},data:{},views:{},temp:{},get:function(e){return s[e]},set:function(e,t){s[e]=t,n.default.publish("".concat(e,"_STORE_CHANGED").toUpperCase(),s[e])},patch:function(e,t){s[e]=o(o({},s[e]),t),n.default.publish("".concat(e,"_STORE_CHANGED").toUpperCase(),s[e])}},l={getData:()=>s.get("data"),getUser:()=>s.get("user"),getViews:()=>s.get("views"),setData:e=>s.set("data",e),setUser:e=>s.set("user",e),setView:(e,t)=>s.set("views",{[e]:t}),patchData:e=>s.patch("data",e),patchUser:e=>s.patch("user",e),patchView:(e,t)=>{s.patch("views",{[e]:o(o({},s.views[e]),t)})}};const c=s},24838:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(38169),a=r.n(n),o=r(41609),i=r.n(o),s=r(55652),l=r(29193),c=r(87029),u=r(73727),d=r(90368),h=r(96647),p={createBar(e){var t=e.barId,r=e.toDroppable;return{undo:function(){var e=r.droppable,n=e.bars.map((e=>e.barId));c.ZP.updateCustomOrderGroup(e.customOrderGroupId,n),l.Z.deleteBar(t)},redo:function(){c.ZP.onCreationDropAction(t,r),l.Z.restoreDeletebar(t)}}},deleteBar(e){var t=e.barId,r=e.parent;return{undo:function(){var e=c.ZP.getParentBarIds(r.bars);if(console.log({barId:t,barIds:e}),!i()(e)){var n=u.Z.forSingleUpdate(r.customOrderGroupId,e);c.ZP.applyCustomOrderUpdates(n)}l.Z.restoreDeletebar(t)},redo:function(){var e=c.ZP.removeBarFromCustomOrderGroup(r.customOrderGroupId,t);c.ZP.applyCustomOrderUpdates(e),l.Z.deleteBar(t)}}},duplicateBar(e){var t=e.barId;return{undo:function(){l.Z.deleteBar(t)},redo:function(){l.Z.restoreDeletebar(t)}}},moveBar(e){var t=e.originalBar,r=e.stashedBarAttrs,n=e.fromDroppable,a=e.toDroppable,o=e.payload;return{undo:function(){d.Z.undoBarMove(t.id,r,!1),c.ZP.onBarMoveDropAction(t.id,a,n,!0)},redo:function(){s.ProductPlan.roadmapManager.silentUpdateBar(t.id,o),c.ZP.onBarMoveDropAction(t.id,n,a,!0)}}},updateBars(e){var t=e.barId,r=e.newBarValues,n=e.originalBarValues,a=e.fromDroppable,o=e.toDroppable;return{undo:function(){d.Z.undoUpdateBars(n,!1),c.ZP.onBarMoveDropAction(t,o,a,!0)},redo:function(){d.Z.undoUpdateBars(r,!1),c.ZP.onBarMoveDropAction(t,a,o,!0)}}},reorderBar(e){var t=e.prevCustomOrderSettings,r=e.newOrderData,n=new u.Z,a=r.customGroupUpdates[0].key,o=t.getOverrides(a)||{};return n.addCustomOrderGroupUpdate(a,o),{undo:function(){c.ZP.applyCustomOrderUpdates(n)},redo:function(){c.ZP.applyCustomOrderUpdates(r)}}},moveToParkingLot(e){var t=e.barId,r=window.currentRoadmapable.findActiveBar(t);return{undo:function(){var e=r.getUndoAttributes();window.currentRoadmapable.findLane(e.lane.id)&&d.Z.undoParkBar(e)},redo:function(){s.ProductPlan.roadmapView.parkBar(t)}}},convertTo(e){var t=e.barId,r="container"===e.type;return{undo:function(){s.ProductPlan.roadmapManager.updateBar(t,{container:!r})},redo:function(){s.ProductPlan.roadmapManager.updateBar(t,{container:r})}}},bulkDeleteBars(e){var t=e.barIds,r=e.stashedBarAttrs;return{undo:function(){d.Z.undoDeleteBars(r)},redo:function(){h.Z.deleteBars(t)}}},bulkParkBars(e){var t=e.barIds,r=e.stashedBarAttrs;return{undo:function(){d.Z.undoParkBars(r)},redo:function(){s.ProductPlan.roadmapManager.parkBars(t)}}},bulkMoveBarsToLane(e){var t=e.barList,r=e.laneId,n=e.stashedBarAttrs;return{undo:function(){d.Z.undoUpdateBars(n)},redo:function(){h.Z.moveToLane(t,r)}}},bulkCopyBarsToLane(e){var t=e.barIds,r=e.laneId,n=e.stashedBarAttrs;return{undo:function(){d.Z.undoCopyBars(n)},redo:function(){h.Z.copyBarsToLane(t,r)}}},bulkAddTags(e){var t=e.barIds,r=e.tagList,n=e.stashedBarAttrs;return{undo:function(){d.Z.undoUpdateBars(n)},redo:function(){h.Z.addTags(r,t)}}},bulkChangeLegend(e){var t=e.barIds,r=e.legendId,n=e.stashedBarAttrs;return{undo:function(){d.Z.undoUpdateBars(n)},redo:function(){h.Z.updateLegend(t,r)}}}};function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=new class{constructor(){f(this,"undoQueue",[]),f(this,"redoQueue",[])}execute(e,t,r){var n=p[t].call(e,r);n.undo=a()(n.undo,e),n.redo=a()(n.redo,e),this.redoQueue.length>0&&this.clearRedoQueue(),this.undoQueue.push(n)}undo(){if(this.undoAllowed()){var e=this.undoQueue.pop();e&&(e.undo(),this.redoQueue[0]=e)}}redo(){if(this.undoAllowed()){var e=this.redoQueue.pop();e&&(e.redo(),this.undoQueue.push(e))}}clearUndoQueue(){this.undoQueue=[]}clearRedoQueue(){this.redoQueue=[]}modalDetected(){return $(".modal-backdrop.in").length>0}undoAllowed(){return!this.modalDetected()}}},90368:(e,t,r)=>{"use strict";r.d(t,{Z:()=>_});var n=r(35161),a=r.n(n),o=r(28583),i=r.n(o),s=r(66073),l=r.n(s),c=r(55652),u=r(2785),d=r(22205),h=r.n(d),p=r(39693),f=r.n(p),m=r(66678),v=r.n(m),g=r(397);const y={buildRedoBarShiftX(e,t,r){var n=a()(t,(e=>{var t=window.currentRoadmapable.findActiveBar(e.id);if(t)return v()(t.getUndoAttributes())})),o=this.bindToRoadmapClasses("roadmapManager","undoBarShiftX",[e,n,-r,!1]),i=this.bindToRoadmapClasses("roadmapManager","undoBarShiftX",[e,t,r]);this.setRedo(o,i)},buildRedoBarShiftLane(e,t,r,n){var o=a()(t,(e=>{var t=window.currentRoadmapable.findActiveBar(e.id);if(t)return v()(t.getUndoAttributes())})),i=this.bindToRoadmapClasses("roadmapManager","undoBarShiftLane",[e,o,n,r,!1]),s=this.bindToRoadmapClasses("roadmapManager","undoBarShiftLane",[e,t,r,n]);this.setRedo(i,s)},buildRedoBarMove(e,t){var r=a()(t,(e=>{var t=window.currentRoadmapable.findActiveBar(e.id);return void 0===t?null:v()(t.getUndoAttributes())})),n=this.bindToRoadmapClasses("roadmapManager","undoBarMove",[e.id,r,!1]),o=this.bindToRoadmapClasses("roadmapManager","undoBarMove",[e.id,t]);this.setRedo(n,o)},buildRedoMoveBars(e){var t=a()(e,(e=>{var t=window.currentRoadmapable.findActiveBar(e.id);return void 0===t?null:v()(t.getUndoAttributes())})),r=this.bindToRoadmapClasses("roadmapManager","undoUpdateBars",[t,!1]),n=this.bindToRoadmapClasses("roadmapManager","undoUpdateBars",[e]);this.setRedo(r,n)},buildRedoCreateBar(e,t){var r=a()(t,(e=>{var t=window.currentRoadmapable.findActiveBar(e.id);return v()(t.getUndoAttributes())}));r.push(v()(e.getUndoAttributes()));var n=this.bindToRoadmapClasses("roadmapManager","undoDeleteBar",[e.id,f()(r),!1]),o=this.bindToRoadmapClasses("roadmapManager","undoBarCreate",[e.id,f()(r)]);this.setRedo(n,o)},buildRedoDeleteBar(e,t){var r=[];l()(t,(e=>{var t=window.currentRoadmapable.findDeletedBar(e.id);t&&r.push(v()(t.getUndoAttributes()))}));var n=this.bindToRoadmapClasses("roadmapManager","undoBarCreate",[e,r,!1]),a=this.bindToRoadmapClasses("roadmapManager","undoDeleteBar",[e,t]);this.setRedo(n,a)},buildRedoParkBar(e){var t=this.bindToRoadmapClasses("roadmapView","parkBar",[e.id]),r=this.bindToRoadmapClasses("roadmapManager","undoParkBar",[e,!1]);this.setRedo(t,r)},buildRedoParkBars(e){this.setParkDeleteComands("park",e)},buildRedoBulkLegendUpdate(e,t){var r=$("#full_lane_".concat(e)).find(".project-bar").map(((e,t)=>$(t).data("id"))),n=a()(r,(e=>({id:e,legend_id:window.currentRoadmapable.findActiveBar(e).legend_id}))),o=this.bindToRoadmapClasses("roadmapManager","undoBulkLegendUpdate",[e,n,!1]),i=this.bindToRoadmapClasses("roadmapManager","undoBulkLegendUpdate",[e,t]);this.setRedo(o,i)},buildRedoBarLegendUpdate(e,t){var r=window.currentRoadmapable.findActiveBar(e),n=this.bindToRoadmapClasses("roadmapRenderer","updateBarLegend",[e,r.legend_id,!1]),a=this.bindToRoadmapClasses("roadmapManager","undoBarLegendUpdate",[e,t,!0]);this.setRedo(n,a)},buildRedoConvertBar(e){var t=window.currentRoadmapable.findActiveBar(e.id),r=v()(t),n=this.bindToRoadmapClasses("roadmapManager","undoConvertBar",[r,!1]),a=this.bindToRoadmapClasses("roadmapManager","undoConvertBar",[e,!0]);this.setRedo(n,a)},buildRedoDeleteBars(e){this.setParkDeleteComands("delete",e)},buildRedoCopyBars(e){var t=[],r=[];l()(e,(e=>{var n=window.currentRoadmapable.findActiveBar(e.id).getUndoAttributes();t.push(v()(n)),r.push(v()(h()(n,{deleted:!0})))}));var n=this.bindToRoadmapClasses("roadmapManager","undoDeleteBars",[f()(r),!1]),a=this.bindToRoadmapClasses("roadmapManager","undoCopyBars",[f()(t),!0]);this.setRedo(n,a)},setParkDeleteComands(e,t){var r={delete:{redo:"deleteBars",undo:"undoDeleteBars"},park:{redo:"parkBars",undo:"undoParkBars"}},n=this.bindToRoadmapClasses("roadmapManager",r[e].redo,[a()(t,"id")]),o=this.bindToRoadmapClasses("roadmapManager",r[e].undo,[t,!1]);this.setRedo(n,o)},bindToRoadmapClasses(e,t,r){if(null!=e&&null!=t)return c.ProductPlan[e][t].bind(void 0,...r)},setRedo(e,t){g.Z.setRedo({redoCommand:e,undoCommand:t})}};var b=r(58909),w=r(16852),C=r(72984),E={undoBarShiftX(e,t,r,n){if(0===t.length)return null;if(0===r)return null;n&&y.buildRedoBarShiftX(e,t,r);var a=E.updateBarAndBuildPayload(t);if(0===a.length)return null;b.default.publish("UNDO_BAR_EVENT",e),u.Z.updateBars(a)},undoBarShiftLane(e,t,r,n){var a=r.previousLaneId,o=r.currentLaneId;return 0===t.length||0===a||0===o?null:(n&&y.buildRedoBarShiftLane(e,t,a,o,n),0===E.updateBarAndBuildPayload(t).length?null:(b.default.publish("UNDO_BAR_EVENT",e),u.Z.shiftLane([e.id],a)))},undoBarMove(e,t,r){r&&y.buildRedoBarMove(e,t);var n=E.updateBarAndBuildPayload(t);if(0===n.length)return null;b.default.publish("UNDO_BAR_EVENT",e),u.Z.updateBars(n)},undoCreateBar(e,t,r){var n=window.currentRoadmapable.findActiveBar(e);n.setDeleted({deleted:!0});var a=t.filter((e=>e.containerId!==n.id&&e.token!==n.token)),o=t.filter((e=>e.containerId===n.id));r&&y.buildRedoCreateBar(n,[...a,...o]);var i=E.updateBarAndBuildPayload(a);o.forEach((e=>{var t=window.currentRoadmapable.findActiveBar(e.id);t&&t.setDeleted({deleted:!0})})),b.default.publish("UNDO_CREATE_BARS",[n.id,...o.map((e=>e.id))]),b.default.publish("UPDATED_BARS",a.map((e=>e.id))),b.default.publish("UNDO_BAR_EVENT",n),u.Z.deleteBar(n.id),u.Z.updateBars(i)},undoDeleteBar(e,t,r){r&&y.buildRedoDeleteBar(e,t);var n=[],a=[],o=[];l()(t,(e=>{if(e.deleted){var t=window.currentRoadmapable.findDeletedBar(e.id);t&&(t.setDeleted({deleted:!1}),a.push(t.id),o.push(t))}else n.push(e)})),b.default.publish("UNDO_DELETE_BARS",o),u.Z.undoDeleteBars(a);var i=E.updateBarAndBuildPayload(n);u.Z.updateBars(i);var s=window.currentRoadmapable.findActiveBar(e);b.default.publish("UNDO_BAR_EVENT",s)},undoParkBar(e,t){t&&y.buildRedoParkBar(e);var r=window.currentRoadmapable.findActiveBar(e.id);if(void 0===r)return null;r.update(e),b.default.publish("UNDO_BAR_EVENT",r);var n=window.currentRoadmapable.timelineSettings().dateToUnitsForBarDateChange(e.startsOn,e.endsOn),a=i()(n,{parked:!1,is_contained:e.isContained,container_id:e.containerId,starts_on:e.startsOn,ends_on:e.endsOn,pending_remote_sync:e.isPendingRemoteSync});c.ProductPlan.roadmapManager.updateBar(r.id,a,"moved")},undoParkBars(e,t){if(0===e.length)return null;t&&y.buildRedoParkBars(e);var r=[],n=[];if(l()(e,(e=>{var t=window.currentRoadmapable.findActiveBar(e.id),a=window.currentRoadmapable.findLane(e.lane.id);t&&a&&(t.update(e),t.isContainer&&t.bars().forEach((e=>{e.update({parked:t.parked})})),r.push(t.getBarAttributesForUpdate()),n.push(t))})),0===n.length)return null;b.default.publish("REDRAW_BARS_EVENT"),b.default.publish("UNDO_PARK_BARS",n);c.ProductPlan.roadmapManager.updateBars(r,{silent:!1,single_track:!1,action:"edited"})},undoBulkLegendUpdate(e,t,r){r&&y.buildRedoBulkLegendUpdate(e,t),c.ProductPlan.roadmapRenderer.enqueueLaneUpdate(e),c.ProductPlan.roadmapManager.updateBarsLegend(t)},undoBarLegendUpdate(e,t,r){r&&y.buildRedoBarLegendUpdate(e,t);var n=c.ProductPlan.roadmapManager.updateBarLegend(e,t);c.ProductPlan.roadmapRenderer.redrawBar(n.inDom(),n,["just-dropped"])},undoConvertBar(e,t){var r=window.currentRoadmapable.findActiveBar(e.id);if(t&&y.buildRedoConvertBar(e),void 0===r)return null;r.update(e),b.default.publish("UNDO_BAR_EVENT",r);var n={container:e.isContainer,containerId:e.containerId,is_contained:e.isContained};c.ProductPlan.roadmapManager.updateBar(r.id,n,"edited")},undoDeleteBars(e,t){if(0===e.length)return null;t&&y.buildRedoDeleteBars(e);var r=[],n=[],a=[];l()(e,(e=>{if(e.deleted){var t=window.currentRoadmapable.findDeletedBar(e.id);t&&(t.setDeleted({deleted:!1}),r.push(t.id),n.push(t))}else{var o=window.currentRoadmapable.findActiveBar(e.id);o&&(o.update(e),a.push(o.getBarAttributesForUpdate()))}})),b.default.publish("UNDO_DELETE_BARS",n),u.Z.undoDeleteBars(r),u.Z.updateBars(a),b.default.publish("REDRAW_BARS_EVENT")},undoUpdateBars(e,t){if(0===e.length)return null;t&&y.buildRedoMoveBars(e);var r=E.updateBarAndBuildPayload(e);if(0===r.length)return null;var n=a()(e,(e=>window.currentRoadmapable.findActiveBar(e.id)));b.default.publish("UNDO_BAR_EVENT",n),b.default.publish("UPDATED_BARS",n),u.Z.updateBars(r)},undoCopyBars(e,t){t&&y.buildRedoCopyBars(e);var r=[];l()(e,(e=>{var t=window.currentRoadmapable.findActiveBar(e.id);t&&(t.update({deleted:!0}),r.push(t.id))})),u.Z.deleteBars(r),C.Z.clear(),w.Z.clear(),b.default.publish("REDRAW_BARS_EVENT")},updateBarAndBuildPayload(e){var t=[];return l()(e,(e=>{var r=window.currentRoadmapable.findActiveBar(e.id);r&&(r.update(e),t.push(r.getBarAttributesForUpdate()))})),t}};const _=E},397:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(55652),a=r(34844);const o={queuedCommands:[],redoAction:void 0,instanceDispatcher:void 0,pushUndo(e){this.onUndoableView()&&(e.clearRedoAction&&(this.redoAction=void 0,delete e.clearRedoAction),this.queuedCommands.push(e.command))},setRedo(e){this.onUndoableView()&&(this.redoAction={undoAction:e.undoCommand,redoAction:e.redoCommand})},popUndo(){return this.queuedCommands.pop()},undo(){if(this.onUndoableView()&&this.undoAllowed()){var e=this.popUndo();return e?e():void 0}},redo(){if(this.onUndoableView()&&this.undoAllowed()){var e=this.redoAction;e&&(this.pushUndo({command:e.undoAction}),e.redoAction(),this.redoAction=void 0)}},onRoadmapView:()=>n.ProductPlan.roadmapView.isActive()&&!window.currentRoadmapable.isMasterPlan(),onListView:()=>window.getLayout()===a.Z.LIST,onUndoableView(){return this.onRoadmapView()||this.onListView()},modalDetected:()=>$(".modal-backdrop.in").length>0,undoAllowed(){return!this.modalDetected()}}},66691:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div id="today-line" class="today-holder">\n'+(null!=(o=i(r,"if").call(null!=t?t:e.nullContext||{},null!=t?i(t,"showTodayLine"):t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:6},end:{line:6,column:13}}}))?o:"")+"    </div>\n"},2:function(e,t,r,n,a){return'        <div class="today-line"></div>\n'},4:function(e,t,r,n,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="grid-line" data-date="'+e.escapeExpression(e.lambda(null!=t?o(t,"dataDate"):t,t))+'"></div>\n'},6:function(e,t,r,n,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div id="roadmap-milestone-poles-'+e.escapeExpression(e.lambda(null!=t?o(t,"roadmapId"):t,t))+'" class="roadmap-milestone-poles" data-type="roadmap"></div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="gridlines">\n'+(null!=(o=s(r,"if").call(i,null!=t?s(t,"showTodayMarker"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:8,column:9}}}))?o:"")+(null!=(o=s(r,"each").call(i,null!=t?s(t,"grids"):t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:9,column:2},end:{line:11,column:11}}}))?o:"")+(null!=(o=s(r,"each").call(i,null!=t?s(t,"roadmaps"):t,{name:"each",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:2},end:{line:14,column:11}}}))?o:"")+"</div>\n"},useData:!0})},30267:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){return'    <div id="today-line" class="today-holder">\n      <div id="today-caret">\n        <i class="fas fa-caret-down"></i>\n      </div>\n    </div>\n'},3:function(e,t,r,n,a){var o=e.lambda,i=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <div class="dots">\n        <span class="firstLine">'+i(o(null!=t?s(t,"firstLine"):t,t))+'</span>\n        <br>\n        <span class="secondLine">'+i(o(null!=t?s(t,"secondLine"):t,t))+"</span>\n      </div>\n"},5:function(e,t,r,n,a){var o=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <div id="timeline-milestones-'+e.escapeExpression(e.lambda(null!=t?o(t,"roadmapId"):t,t))+'" class="timeline-milestones roadmap-milestones milestones milestone-lanes-container"></div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="timeline ui-droppable hidden">\n'+(null!=(o=s(r,"if").call(i,null!=t?s(t,"showTodayMarker"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:8,column:9}}}))?o:"")+'  <div class="dates">\n'+(null!=(o=s(r,"each").call(i,null!=t?s(t,"intervals"):t,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:4},end:{line:16,column:13}}}))?o:"")+'  </div>\n  <div class="timeline-milestones-container">\n'+(null!=(o=s(r,"each").call(i,null!=t?s(t,"roadmaps"):t,{name:"each",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:19,column:4},end:{line:21,column:13}}}))?o:"")+"  </div>\n</div>\n"},useData:!0})},78539:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<div style='position: absolute; z-index: 10000; top: 60px; left: 50%;'>\n    <div style='position: relative; left: -50%; min-width: 400px; padding: 20px; border-radius: 8px; background: rgba(220,220,220,.9); text-align: center; border: solid #444 1px;'>\n        <h4>\n            "+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"message")||(null!=t?i(t,"message"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"message",hash:{},data:a,loc:{start:{line:4,column:12},end:{line:4,column:23}}}):o)+'\n            <br/>\n            <br/>\n            <a class="btn btn-default btn-success" onclick="location.reload(true);">Refresh</a>\n        </h4>\n    </div>\n    <div></div>\n</div>\n'},useData:!0})},58080:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){var o,i,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <tr id="'+u(typeof(i=null!=(i=d(r,"domId")||(null!=t?d(t,"domId"):t))?i:l)===c?i.call(s,{name:"domId",hash:{},data:a,loc:{start:{line:13,column:14},end:{line:13,column:23}}}):i)+"_details\">\n        <td class='name'>\n          <div class='content'>\n            <strong>\n              "+u(typeof(i=null!=(i=d(r,"name")||(null!=t?d(t,"name"):t))?i:l)===c?i.call(s,{name:"name",hash:{},data:a,loc:{start:{line:17,column:14},end:{line:17,column:24}}}):i)+"\n            </strong>\n          </div>\n        </td>\n        <td class='lane'>\n          <div class='content'>\n            "+u(typeof(i=null!=(i=d(r,"laneName")||(null!=t?d(t,"laneName"):t))?i:l)===c?i.call(s,{name:"laneName",hash:{},data:a,loc:{start:{line:23,column:12},end:{line:23,column:26}}}):i)+"\n          </div>\n        </td>\n        <td class='legend'>\n          <div class='color' style='background-color:"+u(typeof(i=null!=(i=d(r,"legendColor")||(null!=t?d(t,"legendColor"):t))?i:l)===c?i.call(s,{name:"legendColor",hash:{},data:a,loc:{start:{line:27,column:53},end:{line:27,column:70}}}):i)+"'></div>\n          <div class='content'>\n            "+u(typeof(i=null!=(i=d(r,"legendName")||(null!=t?d(t,"legendName"):t))?i:l)===c?i.call(s,{name:"legendName",hash:{},data:a,loc:{start:{line:29,column:12},end:{line:29,column:28}}}):i)+"\n          </div>\n        </td>\n        <td class='description'>\n          <div class='content'>\n              <span class=\"respect-newlines\">"+u(typeof(i=null!=(i=d(r,"description")||(null!=t?d(t,"description"):t))?i:l)===c?i.call(s,{name:"description",hash:{},data:a,loc:{start:{line:34,column:45},end:{line:34,column:62}}}):i)+"</span>\n          </div>\n        </td>\n        <td class='value'>\n          <div class='content'>\n            "+u(typeof(i=null!=(i=d(r,"strategic_value")||(null!=t?d(t,"strategic_value"):t))?i:l)===c?i.call(s,{name:"strategic_value",hash:{},data:a,loc:{start:{line:39,column:12},end:{line:39,column:33}}}):i)+"\n          </div>\n        </td>\n      </tr>\n"+(null!=(o=d(r,"each").call(s,null!=t?d(t,"sortedChildBars"):t,{name:"each",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:43,column:6},end:{line:74,column:15}}}))?o:"")},2:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <tr id="'+c(typeof(o=null!=(o=u(r,"domId")||(null!=t?u(t,"domId"):t))?o:s)===l?o.call(i,{name:"domId",hash:{},data:a,loc:{start:{line:44,column:16},end:{line:44,column:25}}}):o)+"_details\">\n          <td class='name'>\n            <div class='content'>\n              <strong>\n                "+c(typeof(o=null!=(o=u(r,"name")||(null!=t?u(t,"name"):t))?o:s)===l?o.call(i,{name:"name",hash:{},data:a,loc:{start:{line:48,column:16},end:{line:48,column:26}}}):o)+"\n              </strong>\n            </div>\n          </td>\n          <td class='lane'>\n            <div class='content'>\n              "+c(typeof(o=null!=(o=u(r,"laneName")||(null!=t?u(t,"laneName"):t))?o:s)===l?o.call(i,{name:"laneName",hash:{},data:a,loc:{start:{line:54,column:14},end:{line:54,column:28}}}):o)+"\n            </div>\n          </td>\n          <td class='legend'>\n            <div class='color' style='background-color:"+c(typeof(o=null!=(o=u(r,"legendColor")||(null!=t?u(t,"legendColor"):t))?o:s)===l?o.call(i,{name:"legendColor",hash:{},data:a,loc:{start:{line:58,column:55},end:{line:58,column:72}}}):o)+"'></div>\n            <div class='content'>\n              "+c(typeof(o=null!=(o=u(r,"legendName")||(null!=t?u(t,"legendName"):t))?o:s)===l?o.call(i,{name:"legendName",hash:{},data:a,loc:{start:{line:60,column:14},end:{line:60,column:30}}}):o)+"\n            </div>\n          </td>\n          <td class='description'>\n            <div class='content'>\n                <span class=\"respect-newlines\">"+c(typeof(o=null!=(o=u(r,"description")||(null!=t?u(t,"description"):t))?o:s)===l?o.call(i,{name:"description",hash:{},data:a,loc:{start:{line:65,column:47},end:{line:65,column:64}}}):o)+"</span>\n            </div>\n          </td>\n          <td class='value'>\n            <div class='content'>\n              "+c(typeof(o=null!=(o=u(r,"strategic_value")||(null!=t?u(t,"strategic_value"):t))?o:s)===l?o.call(i,{name:"strategic_value",hash:{},data:a,loc:{start:{line:70,column:14},end:{line:70,column:35}}}):o)+"\n            </div>\n          </td>\n        </tr>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<table style='line-height: 24px'>\n  <thead>\n    <tr>\n      <th class='name'>Title</th>\n      <th class='lane'>Lane</th>\n      <th class='legend'>Legend</th>\n      <th class='description'>Description</th>\n      <th class='value'>Strategic Importance</th>\n    </tr>\n  </thead>\n  <tbody>\n"+(null!=(o=i(r,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"bars"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:4},end:{line:75,column:13}}}))?o:"")+"  </tbody>\n</table>\n"},useData:!0})},33052:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(39860),t,{name:"_bar_context_menu",data:o,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:""},3:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=i(r,"if").call(null!=t?t:e.nullContext||{},null!=(o=null!=t?i(t,"bar"):t)?i(o,"isContainer"):o,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:11,column:4},end:{line:13,column:11}}}))?o:""},4:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(88546),t,{name:"_bar_reduced_context_menu",data:o,indent:"      ",helpers:n,partials:a,decorators:e.decorators}))?i:""},6:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="js-with-dependencies" data-bar-id="'+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"id"):o,t))+'"></div>\n'},8:function(e,t,r,n,a){var o,i=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <span class="effort-icon" title="Effort: '+s(i(null!=(o=null!=t?l(t,"bar"):t)?l(o,"effortType"):o,t))+'">\n        <span class="effort-bars effort-'+s(i(null!=(o=null!=t?l(t,"bar"):t)?l(o,"effortBarsCount"):o,t))+'">\n          <span>'+s(i(null!=(o=null!=t?l(t,"bar"):t)?l(o,"effortBars"):o,t))+"</span>\n        </span>\n      </span>\n"},10:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'          <div class="comment-bubble"><i class="fas fa-comment" title="'+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"commentToolTip"):o,t))+'"></i></div>\n'},12:function(e,t,r,n,a){var o,i=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="container-bar-title">\n          <div class="container-show-button container-toggles" style="'+s(i(null!=(o=null!=t?l(t,"bar"):t)?l(o,"containerBorderRightStyle"):o,t))+';">\n            <div class="icons">\n              <i class="'+s(i(null!=(o=null!=t?l(t,"bar"):t)?l(o,"toggleIconClass"):o,t))+'"></i>\n            </div>\n          </div>\n          <div class="inner">\n'+(null!=(o=l(r,"unless").call(null!=t?t:e.nullContext||{},null!=(o=null!=t?l(t,"bar"):t)?l(o,"hasMasterPlan"):o,{name:"unless",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a,loc:{start:{line:44,column:12},end:{line:46,column:23}}}))?o:"")+'            <span class="title-text">'+s(i(null!=(o=null!=t?l(t,"bar"):t)?l(o,"name"):o,t))+"</span>\n          </div>\n        </div>\n"},13:function(e,t,r,n,a){return'            <div class="lock-icon-container"></div>\n'},15:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="project-bar-title">\n            <div class="inner">\n'+(null!=(o=i(r,"unless").call(null!=t?t:e.nullContext||{},null!=(o=null!=t?i(t,"bar"):t)?i(o,"hasMasterPlan"):o,{name:"unless",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a,loc:{start:{line:53,column:16},end:{line:55,column:27}}}))?o:"")+'                <span class="title-text">'+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"name"):o,t))+"</span>\n            </div>\n        </div>\n"},16:function(e,t,r,n,a){return'                <div class="lock-icon-container"></div>\n'},18:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="js-with-dependents" data-bar-id="'+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"id"):o,t))+'"></div>\n'},20:function(e,t,n,a,o){var i,s=e.lambda,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <div id="container_'+l(s(null!=(i=null!=t?c(t,"bar"):t)?c(i,"id"):i,t))+'"\n          class="container-holder"\n          style="'+l(s(null!=(i=null!=t?c(t,"bar"):t)?c(i,"containerHolderStyle"):i,t))+';">\n'+(null!=(i=e.invokePartial(r(38693),t,{name:"_container",data:o,indent:"        ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"      </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lambda,s=e.escapeExpression,l=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"domId"):o,t))+'"\n    class="project-bar dropdown-toggle no-select '+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"dateRangeEnabledClass"):o,t))+" "+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"childDateSyncedContainerClass"):o,t))+" "+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"legendFilterClass"):o,t))+" "+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"barTypeClass"):o,t))+" "+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"selectedClass"):o,t))+" "+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"colorContrastTextClass"):o,t))+'"\n    style="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"borderStyle"):o,t))+";"+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"displayWidth"):o,t))+";"+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"boxShadowStyle"):o,t))+';"\n    data-id="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"id"):o,t))+'"\n    data-containerId="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"containerId"):o,t))+'"\n    data-iscontainer="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"isContainer"):o,t))+'"\n    data-title="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"name"):o,t))+'">\n'+(null!=(o=c(r,"if").call(l,null!=(o=null!=t?c(t,"bar"):t)?c(o,"canEdit"):o,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:8,column:2},end:{line:14,column:9}}}))?o:"")+'    <div class="bar-content">\n'+(null!=(o=c(r,"if").call(l,null!=(o=null!=(o=null!=t?c(t,"bar"):t)?c(o,"_dependencies"):o)?c(o,"length"):o,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a,loc:{start:{line:16,column:6},end:{line:18,column:13}}}))?o:"")+'        <div class="project-bar-background-left"\n            style="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"backgroundLeftStyle"):o,t))+"; width:"+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"percentDone"):o,t))+"%; "+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"backgroundLeftRadius"):o,t))+';"></div>\n\n        <div class="project-bar-background-right"\n            style="'+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"backgroundRightStyle"):o,t))+"; width:"+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"percentRemaining"):o,t))+"%; "+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"backgroundRightRadius"):o,t))+'"></div>\n        <div class="bar-count"></div>\n'+(null!=(o=c(r,"if").call(l,null!=(o=null!=t?c(t,"bar"):t)?c(o,"hasEffort"):o,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a,loc:{start:{line:25,column:6},end:{line:31,column:13}}}))?o:"")+(null!=(o=c(r,"if").call(l,null!=(o=null!=t?c(t,"bar"):t)?c(o,"showComments"):o,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:32,column:6},end:{line:34,column:13}}}))?o:"")+"\n"+(null!=(o=c(r,"if").call(l,null!=(o=null!=t?c(t,"bar"):t)?c(o,"isContainer"):o,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.program(15,a,0),data:a,loc:{start:{line:36,column:6},end:{line:59,column:13}}}))?o:"")+(null!=(o=c(r,"if").call(l,null!=(o=null!=(o=null!=t?c(t,"bar"):t)?c(o,"_dependents"):o)?c(o,"length"):o,{name:"if",hash:{},fn:e.program(18,a,0),inverse:e.noop,data:a,loc:{start:{line:60,column:6},end:{line:62,column:13}}}))?o:"")+'      <div class="content-overlay dimmable dimmable-overlay"></div>\n    </div>\n'+(null!=(o=c(r,"if").call(l,null!=(o=null!=t?c(t,"bar"):t)?c(o,"renderChildren"):o,{name:"if",hash:{},fn:e.program(20,a,0),inverse:e.noop,data:a,loc:{start:{line:65,column:2},end:{line:71,column:9}}}))?o:"")+"</div>\n"},usePartial:!0,useData:!0})},39860:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <li>\n          <a href="javascript:void(0)" onclick="ProductPlan.roadmapView.parkBar(\''+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"id"):o,t))+"');return false;\">Park</a>\n      </li>\n"},3:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <li>\n          <a href="javascript:void(0)" onclick="ProductPlan.roadmapView.updateDefaultBar(\''+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"id"):o,t))+"');return false;\">Set as default Bar style</a>\n      </li>\n"+(null!=(o=i(r,"if").call(null!=t?t:e.nullContext||{},null!=(o=null!=t?i(t,"bar"):t)?i(o,"notContained"):o,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:20,column:4},end:{line:24,column:11}}}))?o:"")},4:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li>\n            <a href="javascript:void(0)" onclick="ProductPlan.roadmapView.convertToContainer(\''+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"id"):o,t))+"');return false;\">Convert to Container</a>\n        </li>\n"},6:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(r,"if").call(i,null!=(o=null!=t?s(t,"bar"):t)?s(o,"noChildBars"):o,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a,loc:{start:{line:26,column:4},end:{line:30,column:11}}}))?o:"")+'    <li>\n        <a href="javascript:void(0)" onclick="ProductPlan.CollapsibleContainer.toggleAllContainers(\''+e.escapeExpression(e.lambda(null!=(o=null!=t?s(t,"bar"):t)?s(o,"id"):o,t))+"');return false;\">\n"+(null!=(o=s(r,"if").call(i,null!=(o=null!=t?s(t,"bar"):t)?s(o,"isCollapsed"):o,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a,loc:{start:{line:33,column:12},end:{line:37,column:19}}}))?o:"")+"        </a>\n    </li>\n"},7:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li>\n            <a href="javascript:void(0)" onclick="ProductPlan.roadmapView.convertToBar(\''+e.escapeExpression(e.lambda(null!=(o=null!=t?i(t,"bar"):t)?i(o,"id"):o,t))+"');return false;\">Convert to Bar</a>\n        </li>\n"},9:function(e,t,r,n,a){return"                Expand All\n"},11:function(e,t,r,n,a){return"                Collapse All\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lambda,s=e.escapeExpression,l=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="dropdown-menu context-menu">\n    <li>\n        <a href="javascript:void(0)" onclick="ProductPlan.SelectedBarsCollection.update(\''+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"id"):o,t))+"');ProductPlan.MultiSelectListenerRegistry.turnOnMultiSelectIfNotAlreadyOn(); return false;\">Select</a>\n    </li>\n"+(null!=(o=c(r,"if").call(l,null!=(o=null!=t?c(t,"bar"):t)?c(o,"notParked"):o,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:5,column:2},end:{line:9,column:9}}}))?o:"")+'  <li>\n      <a href="javascript:void(0)" onclick="ProductPlan.roadmapView.prioritizeBar(\''+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"id"):o,t))+'\');return false;">Prioritize</a>\n  </li>\n  <li>\n    <a href="javascript:void(0)" onclick="ProductPlan.roadmapView.duplicateBar(\''+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"id"):o,t))+"');return false;\">Duplicate</a>\n  </li>\n"+(null!=(o=c(r,"if").call(l,null!=(o=null!=t?c(t,"bar"):t)?c(o,"notContainer"):o,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(6,a,0),data:a,loc:{start:{line:16,column:2},end:{line:40,column:9}}}))?o:"")+'    <div class="divider"></div>\n    <li>\n        <a href="javascript:void(0)" onclick="ProductPlan.roadmapView.deleteBar(\''+s(i(null!=(o=null!=t?c(t,"bar"):t)?c(o,"id"):o,t))+"');return false;\">Delete</a>\n    </li>\n</ul>\n"},useData:!0})},88546:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){return"                Expand All\n"},3:function(e,t,r,n,a){return"                Collapse All\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="dropdown-menu context-menu">\n    <li>\n        <a href="javascript:void(0)" onclick="ProductPlan.CollapsibleContainer.toggleAllContainers(\''+e.escapeExpression("function"===typeof(i=null!=(i=l(r,"id")||(null!=t?l(t,"id"):t))?i:e.hooks.helperMissing)?i.call(s,{name:"id",hash:{},data:a,loc:{start:{line:3,column:100},end:{line:3,column:106}}}):i)+"');return false;\">\n"+(null!=(o=l(r,"if").call(s,null!=(o=null!=t?l(t,"bar"):t)?l(o,"isCollapsed"):o,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:4,column:12},end:{line:8,column:19}}}))?o:"")+"        </a>\n    </li>\n</ul>\n"},useData:!0})},38693:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(77065),t,{name:"_sublane",data:o,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:""},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="lane-drop '+u(typeof(i=null!=(i=d(r,"topSublaneClass")||(null!=t?d(t,"topSublaneClass"):t))?i:l)===c?i.call(s,{name:"topSublaneClass",hash:{},data:a,loc:{start:{line:1,column:22},end:{line:1,column:41}}}):i)+" "+u(typeof(i=null!=(i=d(r,"dropClass")||(null!=t?d(t,"dropClass"):t))?i:l)===c?i.call(s,{name:"dropClass",hash:{},data:a,loc:{start:{line:1,column:42},end:{line:1,column:55}}}):i)+'"></div>\n'+(null!=(o=d(r,"each").call(s,null!=t?d(t,"sublanes"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:4,column:9}}}))?o:"")},usePartial:!0,useData:!0})},94243:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){return'      <div class="milestones" data-type="lane" data-lane-id="'+e.escapeExpression(e.lambda(t,t))+'"></div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,s,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",d=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="lanes '+d(typeof(s=null!=(s=h(n,"editableClass")||(null!=t?h(t,"editableClass"):t))?s:c)===u?s.call(l,{name:"editableClass",hash:{},data:o,loc:{start:{line:1,column:18},end:{line:1,column:35}}}):s)+" "+d(typeof(s=null!=(s=h(n,"toggleClass")||(null!=t?h(t,"toggleClass"):t))?s:c)===u?s.call(l,{name:"toggleClass",hash:{},data:o,loc:{start:{line:1,column:36},end:{line:1,column:51}}}):s)+'" data-id="'+d(typeof(s=null!=(s=h(n,"id")||(null!=t?h(t,"id"):t))?s:c)===u?s.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:62},end:{line:1,column:70}}}):s)+'" id="'+d(typeof(s=null!=(s=h(n,"domId")||(null!=t?h(t,"domId"):t))?s:c)===u?s.call(l,{name:"domId",hash:{},data:o,loc:{start:{line:1,column:76},end:{line:1,column:87}}}):s)+'" '+(null!=(i=typeof(s=null!=(s=h(n,"idDataAttributes")||(null!=t?h(t,"idDataAttributes"):t))?s:c)===u?s.call(l,{name:"idDataAttributes",hash:{},data:o,loc:{start:{line:1,column:89},end:{line:1,column:113}}}):s)?i:"")+'>\n  <div class="lane-title-box '+d(typeof(s=null!=(s=h(n,"laneTextColor")||(null!=t?h(t,"laneTextColor"):t))?s:c)===u?s.call(l,{name:"laneTextColor",hash:{},data:o,loc:{start:{line:2,column:29},end:{line:2,column:46}}}):s)+' dimmable" id="lane_title_box_'+d(typeof(s=null!=(s=h(n,"id")||(null!=t?h(t,"id"):t))?s:c)===u?s.call(l,{name:"id",hash:{},data:o,loc:{start:{line:2,column:76},end:{line:2,column:84}}}):s)+'" style="background-color:'+d(typeof(s=null!=(s=h(n,"hexValue")||(null!=t?h(t,"hexValue"):t))?s:c)===u?s.call(l,{name:"hexValue",hash:{},data:o,loc:{start:{line:2,column:110},end:{line:2,column:124}}}):s)+'">\n    <div class="lane-title title dropdown" id="lane_'+d(typeof(s=null!=(s=h(n,"id")||(null!=t?h(t,"id"):t))?s:c)===u?s.call(l,{name:"id",hash:{},data:o,loc:{start:{line:3,column:52},end:{line:3,column:60}}}):s)+'" data-lane-id="'+d(typeof(s=null!=(s=h(n,"id")||(null!=t?h(t,"id"):t))?s:c)===u?s.call(l,{name:"id",hash:{},data:o,loc:{start:{line:3,column:76},end:{line:3,column:84}}}):s)+'" '+(null!=(i=typeof(s=null!=(s=h(n,"idDataAttributes")||(null!=t?h(t,"idDataAttributes"):t))?s:c)===u?s.call(l,{name:"idDataAttributes",hash:{},data:o,loc:{start:{line:3,column:86},end:{line:3,column:110}}}):s)?i:"")+'>\n      <div class="lane-title-wrapper">\n        <i class="'+d(typeof(s=null!=(s=h(n,"toggleIconClass")||(null!=t?h(t,"toggleIconClass"):t))?s:c)===u?s.call(l,{name:"toggleIconClass",hash:{},data:o,loc:{start:{line:5,column:18},end:{line:5,column:39}}}):s)+'"></i><span class="dropdown-toggle"><span class="lane-title-wrapper-content">'+d(typeof(s=null!=(s=h(n,"laneTitle")||(null!=t?h(t,"laneTitle"):t))?s:c)===u?s.call(l,{name:"laneTitle",hash:{},data:o,loc:{start:{line:5,column:116},end:{line:5,column:131}}}):s)+"</span></span>\n      </div>\n    </div>\n"+(null!=(i=h(n,"each").call(l,null!=t?h(t,"ids"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:4},end:{line:10,column:13}}}))?i:"")+'  </div>\n  <div class="lane-holder">\n'+(null!=(i=e.invokePartial(r(38693),t,{name:"_container",data:o,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"  </div>\n</div>\n"},usePartial:!0,useData:!0})},88329:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="lane-drop lane-divider '+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"dropClass")||(null!=t?i(t,"dropClass"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"dropClass",hash:{},data:a,loc:{start:{line:1,column:35},end:{line:1,column:48}}}):o)+'"></div>\n'},useData:!0})},77065:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(33052),t,{name:"_bar",data:o,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i,s,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u="function",d=e.escapeExpression,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="lane-drop lane-bar-holder '+d(typeof(s=null!=(s=h(n,"dropClass")||(null!=t?h(t,"dropClass"):t))?s:c)===u?s.call(l,{name:"dropClass",hash:{},data:o,loc:{start:{line:1,column:38},end:{line:1,column:51}}}):s)+'" data-id="'+d(typeof(s=null!=(s=h(n,"id")||(null!=t?h(t,"id"):t))?s:c)===u?s.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:62},end:{line:1,column:68}}}):s)+'" data-generated="'+d(typeof(s=null!=(s=h(n,"generated")||(null!=t?h(t,"generated"):t))?s:c)===u?s.call(l,{name:"generated",hash:{},data:o,loc:{start:{line:1,column:86},end:{line:1,column:99}}}):s)+'">\n'+(null!=(i=h(n,"each").call(l,null!=t?h(t,"bars"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:2},end:{line:4,column:11}}}))?i:"")+"</div>\n"+(null!=(i=e.invokePartial(r(88329),t,{name:"_lane_divider",data:o,helpers:n,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},15626:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(33052),t,{name:"_bar",data:o,helpers:n,partials:a,decorators:e.decorators}))?i:""},usePartial:!0,useData:!0})},17288:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(39860),t,{name:"_bar_context_menu",data:o,helpers:n,partials:a,decorators:e.decorators}))?i:""},usePartial:!0,useData:!0})},63486:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="popup-content popup-description" style="position: relative;">'+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"description")||(null!=t?i(t,"description"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"description",hash:{},data:a,loc:{start:{line:3,column:75},end:{line:3,column:90}}}):o)+"</div>\n"},3:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="popup-content popup-percent">'+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"percentDone")||(null!=t?i(t,"percentDone"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"percentDone",hash:{},data:a,loc:{start:{line:6,column:43},end:{line:6,column:58}}}):o)+"% complete</div>\n"},5:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="popup-content popup-label">\n    <div class="popup-colorbox" style="background-color: '+c(typeof(o=null!=(o=u(r,"hsl")||(null!=t?u(t,"hsl"):t))?o:s)===l?o.call(i,{name:"hsl",hash:{},data:a,loc:{start:{line:10,column:57},end:{line:10,column:64}}}):o)+'"></div>\n    '+c(typeof(o=null!=(o=u(r,"legendName")||(null!=t?u(t,"legendName"):t))?o:s)===l?o.call(i,{name:"legendName",hash:{},data:a,loc:{start:{line:11,column:4},end:{line:11,column:18}}}):o)+"\n  </div>\n"},7:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="popup-content popup-date">\n    '+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"displayDatesString")||(null!=t?i(t,"displayDatesString"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"displayDatesString",hash:{},data:a,loc:{start:{line:16,column:4},end:{line:16,column:26}}}):o)+"\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div style="white-space: normal" >\n'+(null!=(o=s(r,"if").call(i,null!=t?s(t,"hasDescription"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:4,column:9}}}))?o:"")+(null!=(o=s(r,"if").call(i,null!=t?s(t,"hasPercent"):t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:5,column:2},end:{line:7,column:9}}}))?o:"")+(null!=(o=s(r,"if").call(i,null!=t?s(t,"hasLegend"):t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:8,column:2},end:{line:13,column:9}}}))?o:"")+(null!=(o=s(r,"if").call(i,null!=t?s(t,"hasDatesVisible"):t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a,loc:{start:{line:14,column:2},end:{line:18,column:9}}}))?o:"")+"</div>\n"},useData:!0})},63190:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(88546),t,{name:"_bar_reduced_context_menu",data:o,helpers:n,partials:a,decorators:e.decorators}))?i:""},usePartial:!0,useData:!0})},83869:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,n,a,o){var i,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <div class="roadmap-divider" data-id="'+e.escapeExpression(e.lambda(null!=t?s(t,"id"):t,t))+'">\n    <div class="roadmap-milestones portfolio-view-milestones"></div>\n'+(null!=(i=e.invokePartial(r(94243),t,{name:"_lane",data:o,indent:"    ",helpers:n,partials:a,decorators:e.decorators}))?i:"")+"  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=i(r,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"lanes"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:6,column:9}}}))?o:""},usePartial:!0,useData:!0})},3190:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(94243),t,{name:"_lane",data:o,helpers:n,partials:a,decorators:e.decorators}))?i:""},usePartial:!0,useData:!0})},37761:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(88329),t,{name:"_lane_divider",data:o,helpers:n,partials:a,decorators:e.decorators}))?i:""},usePartial:!0,useData:!0})},53629:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,n,a,o){var i;return null!=(i=e.invokePartial(r(94243),t,{name:"_lane",data:o,indent:"  ",helpers:n,partials:a,decorators:e.decorators}))?i:""},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=i(r,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"lanes"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?o:"")+"\n"},usePartial:!0,useData:!0})},86578:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="move-lanes-modal" class="modal pp-modal" aria-hidden="true" role="dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content pp-modal-content">\n      <div class="modal-header pp-modal-header" style="display:none;"></div>\n      <div class="modal-body pp-modal-body select-roadmap">\n        <button aria-hidden="true" class="close pull-right" data-dismiss="modal" type="button">\n          <i class="fas fa-times"></i>\n        </button>\n        <div class="move-lane-wrapper">\n          <h3 class="heading">\n            Move Lane to Roadmap\n          </h3>\n\n          <p>Select a Roadmap to move the Lane. All Bars and Containers will also be moved.</p>\n\n          <form accept-charset="UTF-8" action="/lanes/'+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"laneId")||(null!=t?i(t,"laneId"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"laneId",hash:{},data:a,loc:{start:{line:16,column:54},end:{line:16,column:64}}}):o)+'/move" class="simple_form form-horizontal" data-remote="true" id="move_lane_form"\n                method="post" novalidate="novalidate">\n            <div class="form-group horizontal">\n              <label class="control-label" for="roadmap">Roadmap</label>\n\n              <div class="pp-input-wrapper">\n                <input type="text" id="roadmap_id" name="roadmap_id"/>\n              </div>\n            </div>\n          </form>\n          <div class="pp-centered-buttons">\n            <button class="btn btn-success" data-disable-with="Moving..." id="move-lane-submit" type="button">Move</button>\n            <button class="btn btn-default" data-dismiss="modal" type="button">Cancel</button>\n          </div>\n        </div>\n        <div class="move-lane-sucess hidden">\n          The lane was successfully moved to: <a href="" onclick="dataLayer.push({\'event\': \'open_roadmap\'});"></a>\n        </div>\n      </div>\n      <div class="modal-footer pp-modal-footer" style="display:none;"></div>\n    </div>\n  </div>\n</div>\n'},useData:!0})},13241:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="empty-lane drag-lane" style="width: '+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"width")||(null!=t?i(t,"width"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"width",hash:{},data:a,loc:{start:{line:1,column:48},end:{line:1,column:57}}}):o)+'px"><div class="empty-new-lane"></div>New Lane</div>\n'},useData:!0})},72474:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="roadmap-divider" data-id="'+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"roadmapId")||(null!=t?i(t,"roadmapId"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"roadmapId",hash:{},data:a,loc:{start:{line:1,column:38},end:{line:1,column:51}}}):o)+'">\n    <div class="roadmap-milestones portfolio-view-milestones"></div>\n</div>\n'},useData:!0})},19838:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c(typeof(o=null!=(o=u(r,"colorClass")||(null!=t?u(t,"colorClass"):t))?o:s)===l?o.call(i,{name:"colorClass",hash:{},data:a,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):o)+'" style="background-color:'+c(typeof(o=null!=(o=u(r,"color")||(null!=t?u(t,"color"):t))?o:s)===l?o.call(i,{name:"color",hash:{},data:a,loc:{start:{line:1,column:52},end:{line:1,column:61}}}):o)+'"></div><div style="'+c(typeof(o=null!=(o=u(r,"textStyle")||(null!=t?u(t,"textStyle"):t))?o:s)===l?o.call(i,{name:"textStyle",hash:{},data:a,loc:{start:{line:1,column:81},end:{line:1,column:94}}}):o)+'">'+c(typeof(o=null!=(o=u(r,"text")||(null!=t?u(t,"text"):t))?o:s)===l?o.call(i,{name:"text",hash:{},data:a,loc:{start:{line:1,column:96},end:{line:1,column:104}}}):o)+"</div>\n"},useData:!0})},87933:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <div class="popup-description" style="position: relative;">'+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"description")||(null!=t?i(t,"description"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"description",hash:{},data:a,loc:{start:{line:3,column:65},end:{line:3,column:80}}}):o)+"</div>\n      <br/>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div style="white-space: normal" >\n'+(null!=(o=l(r,"if").call(s,null!=t?l(t,"hasDescription"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:5,column:9}}}))?o:"")+'  <div class="popup-date" style="position: relative;">'+e.escapeExpression("function"===typeof(i=null!=(i=l(r,"displayDate")||(null!=t?l(t,"displayDate"):t))?i:e.hooks.helperMissing)?i.call(s,{name:"displayDate",hash:{},data:a,loc:{start:{line:6,column:54},end:{line:6,column:69}}}):i)+"</div>\n</div>\n"},useData:!0})},54100:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<span>"+c(typeof(o=null!=(o=u(r,"value")||(null!=t?u(t,"value"):t))?o:s)===l?o.call(i,{name:"value",hash:{},data:a,loc:{start:{line:1,column:6},end:{line:1,column:15}}}):o)+'</span>\n<div class="locked-icon-title">\n    <i class="fas fa-exclamation-square"></i>\n    '+c(typeof(o=null!=(o=u(r,"integrationName")||(null!=t?u(t,"integrationName"):t))?o:s)===l?o.call(i,{name:"integrationName",hash:{},data:a,loc:{start:{line:4,column:4},end:{line:4,column:23}}}):o)+" issue(s) could not be found\n</div>\n"},useData:!0})},21132:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"One or more of the contained bars have dates that are synced with "+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"integrationNames")||(null!=t?i(t,"integrationNames"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"integrationNames",hash:{},data:a,loc:{start:{line:4,column:91},end:{line:4,column:111}}}):o)},3:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"Dates are synced with "+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"integrationName")||(null!=t?i(t,"integrationName"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"integrationName",hash:{},data:a,loc:{start:{line:4,column:141},end:{line:4,column:160}}}):o)},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<span>"+e.escapeExpression("function"===typeof(i=null!=(i=l(r,"value")||(null!=t?l(t,"value"):t))?i:e.hooks.helperMissing)?i.call(s,{name:"value",hash:{},data:a,loc:{start:{line:1,column:6},end:{line:1,column:15}}}):i)+'</span>\n<div class="locked-icon-title">\n    <i class="fas fa-lock"></i>\n    '+(null!=(o=l(r,"if").call(s,null!=t?l(t,"isChildLocked"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:4,column:4},end:{line:4,column:167}}}))?o:"")+"\n</div>\n"},useData:!0})},81422:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({1:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"One or more of the contained bars have dates that are pending to sync with "+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"integrationNames")||(null!=t?i(t,"integrationNames"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"integrationNames",hash:{},data:a,loc:{start:{line:4,column:100},end:{line:4,column:120}}}):o)},3:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"Sync with "+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"integrationName")||(null!=t?i(t,"integrationName"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"integrationName",hash:{},data:a,loc:{start:{line:4,column:138},end:{line:4,column:157}}}):o)+" to save date changes"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i,s=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<span>"+e.escapeExpression("function"===typeof(i=null!=(i=l(r,"value")||(null!=t?l(t,"value"):t))?i:e.hooks.helperMissing)?i.call(s,{name:"value",hash:{},data:a,loc:{start:{line:1,column:6},end:{line:1,column:15}}}):i)+'</span>\n<div class="locked-icon-title">\n    <i class="fas fa-lock-open"></i>\n    '+(null!=(o=l(r,"if").call(s,null!=t?l(t,"isChildLocked"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:4,column:4},end:{line:4,column:185}}}))?o:"")+"\n</div>\n"},useData:!0})},98402:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'&hellip; <a class="readmore '+e.escapeExpression("function"===typeof(o=null!=(o=i(r,"additionalClasses")||(null!=t?i(t,"additionalClasses"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"additionalClasses",hash:{},data:a,loc:{start:{line:1,column:28},end:{line:1,column:49}}}):o)+'" href="javascript:void(0)">Read More</a>\n'},useData:!0})},68259:(e,t,r)=>{var n=r(40202);e.exports=(n.default||n).template({compiler:[8,">= 4.3.0"],main:function(e,t,r,n,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=i(r,"value")||(null!=t?i(t,"value"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"value",hash:{},data:a,loc:{start:{line:1,column:0},end:{line:1,column:9}}}):o)+"\n"},useData:!0})},49714:()=>{"use strict"},52081:()=>{"use strict"},40259:()=>{"use strict"},53431:()=>{"use strict"},15173:()=>{"use strict"},2763:()=>{"use strict"},49674:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=49674,e.exports=t},24654:()=>{},53732:e=>{"use strict";e.exports=JSON.parse('[{"name":"Features","items":[{"label":"Unlimited Roadmaps","value":"111"},{"label":"Unlimited Viewers","value":"111"},{"label":"Basic Integrations","info":"Integrate with Jira, Trello, Slack, Azure DevOps, Pivotal Tracker, GitHub, and Confluence.","value":"111"},{"label":"Table Layout","value":"111"},{"label":"Planning Board","value":"111"},{"label":"Multiple Export Capabilities","value":"111"},{"label":"Customized Roadmap Views","info":"Choose from timeline or list view and create unlimited views for specific audiences.","value":"111"},{"label":"Portfolio View of Roadmaps","value":"011"},{"label":"Custom Fields","value":"011"},{"label":"Roadmap Versioning","value":"011"},{"label":"MS Teams Integration","value":"011"},{"label":"Advanced Admin Management","info":"Organize users into teams, have multiple admins on your account, and enforce standardization with our centralized tag manager to eliminate tag sprawl.","value":"011"},{"label":"Enhanced Password Security","value":"011"},{"label":"Single Sign On","value":"011"},{"label":"Rest API Access","info":"Use our REST API for custom integrations, reports, and analytics.","value":"011"},{"label":"Custom Terms of Service","value":"001"},{"label":"Payment Terms","value":["Due Upon Receipt","Due Upon Receipt","Net 30"]},{"label":"Payment Method","value":["Card Required","Card Required","Multiple Options"]}]},{"name":"Training","items":[{"label":"In-App Knowledge Base","value":"111"},{"label":"1:1 Dedicated Training Session","value":"011"},{"label":"Refresher Training Session","value":"011"},{"label":"Team by Team Training","value":["","Up to 3 Sessions","Unlimited"]},{"label":"Onsite Training Option","info":"Onsite training is available in our Enterprise plan for an additional fee.","value":"001"}]},{"name":"Support","items":[{"label":"In-App Chat, Email and Phone","value":"111"},{"label":"Designated CSM","info":"Designated Customer Success Manager.","value":"011"},{"label":"Support For Security Assessment","value":"011"},{"label":"Prioritized Support Routing","value":"001"},{"label":"Quarterly Roadmap Health Check","value":"001"},{"label":"Customer Board of Advisors","info":"Participate in exclusive briefings on our product\u2019s direction.","value":"001"}]}]')},8781:e=>{"use strict";e.exports=JSON.parse('[{"id":"basic","name":"Basic","popular":false,"price":"39","details":"editor / month, paid annually","action":"subscribe","features":["Unlimited roadmaps","Unlimited viewers","In app support"]},{"id":"professional","name":"Professional","popular":true,"price":false,"details":"minimum license purchase applies","action":"consultation","features":["Everything in Basic","Portfolio Views","Custom Fields","Designated Customer Success Manager"]},{"id":"enterprise","name":"Enterprise","popular":false,"price":false,"details":"minimum license purchase applies","action":"consultation","features":["Everything in Basic and Professional","Custom Terms of Service","Unlimited trainings, (onsite optional)"]}]')}},__webpack_module_cache__={},deferred,leafPrototypes,getProto,inProgress,dataWebpackPrefix,loadStylesheet,installedCssChunks;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,t,r,n)=>{if(!t){var a=1/0;for(l=0;l<deferred.length;l++){for(var[t,r,n]=deferred[l],o=!0,i=0;i<t.length;i++)(!1&n||a>=n)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](t[i])))?t.splice(i--,1):(o=!1,n<a&&(a=n));if(o){deferred.splice(l--,1);var s=r();void 0!==s&&(e=s)}}return e}n=n||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>n;l--)deferred[l]=deferred[l-1];deferred[l]=[t,r,n]},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"===typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"===typeof e.then)return e}var r=Object.create(null);__webpack_require__.r(r);var n={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var a=2&t&&e;"object"==typeof a&&!~leafPrototypes.indexOf(a);a=getProto(a))Object.getOwnPropertyNames(a).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,__webpack_require__.d(r,n),r},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,r)=>(__webpack_require__.f[r](e,t),t)),[])),__webpack_require__.u=e=>e+"-"+{39:"9b8771519fb5f7c8c205",105:"9453c12bb539291c3608",114:"1ac04d2cdee4827740b7",120:"d2985469a5042b93180e",222:"e0470fe65260eee33285",271:"71367716b08df121c209",331:"6b0cec63f5bf42dabe35",468:"4ad5b264507ce2fa767b",489:"4c0342fa105b0c8725ff",540:"e07f68b79f05f1adb670",681:"bf58f33e7dfcd326cb58",689:"1b8a37f8fe64d178990e",753:"34f9c9b7eaba011cc6ed",855:"53224fa649dabec83721",867:"a5ed55030a35d0b66252",989:"b3a8040333356c4914c0"}[e]+".chunk.js",__webpack_require__.miniCssF=e=>e+"-"+{39:"15990b60",468:"923b411c",489:"4c79f02f",681:"afe1a490",867:"43c1addf"}[e]+".css",__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="ProductPlan:",__webpack_require__.l=(e,t,r,n)=>{if(inProgress[e])inProgress[e].push(t);else{var a,o;if(void 0!==r)for(var i=document.getElementsByTagName("script"),s=0;s<i.length;s++){var l=i[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+r){a=l;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc),a.setAttribute("data-webpack",dataWebpackPrefix+r),a.src=e),inProgress[e]=[t];var c=(t,r)=>{a.onerror=a.onload=null,clearTimeout(u);var n=inProgress[e];if(delete inProgress[e],a.parentNode&&a.parentNode.removeChild(a),n&&n.forEach((e=>e(r))),t)return t(r)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),o&&document.head.appendChild(a)}},__webpack_require__.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),__webpack_require__.j=34,__webpack_require__.p="//assets0.productplan.com/packs/",loadStylesheet=e=>new Promise(((t,r)=>{var n=__webpack_require__.miniCssF(e),a=__webpack_require__.p+n;if(((e,t)=>{for(var r=document.getElementsByTagName("link"),n=0;n<r.length;n++){var a=(i=r[n]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var o=document.getElementsByTagName("style");for(n=0;n<o.length;n++){var i;if((a=(i=o[n]).getAttribute("data-href"))===e||a===t)return i}})(n,a))return t();((e,t,r,n)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=o=>{if(a.onerror=a.onload=null,"load"===o.type)r();else{var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=s,a.parentNode.removeChild(a),n(l)}},a.href=t,document.head.appendChild(a)})(e,a,t,r)})),installedCssChunks={34:0},__webpack_require__.f.miniCss=(e,t)=>{installedCssChunks[e]?t.push(installedCssChunks[e]):0!==installedCssChunks[e]&&{39:1,468:1,489:1,681:1,867:1}[e]&&t.push(installedCssChunks[e]=loadStylesheet(e).then((()=>{installedCssChunks[e]=0}),(t=>{throw delete installedCssChunks[e],t})))},(()=>{var e={34:0};__webpack_require__.f.j=(t,r)=>{var n=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,a)=>n=e[t]=[r,a]));r.push(n[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),i=new Error;__webpack_require__.l(o,(r=>{if(__webpack_require__.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",i.name="ChunkLoadError",i.type=a,i.request=o,n[1](i)}}),"chunk-"+t,t)}},__webpack_require__.O.j=t=>0===e[t];var t=(t,r)=>{var n,a,[o,i,s]=r,l=0;if(o.some((t=>0!==e[t]))){for(n in i)__webpack_require__.o(i,n)&&(__webpack_require__.m[n]=i[n]);if(s)var c=s(__webpack_require__)}for(t&&t(r);l<o.length;l++)a=o[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(c)},r=self.webpackChunkProductPlan=self.webpackChunkProductPlan||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var __webpack_exports__=__webpack_require__.O(void 0,[736],(()=>__webpack_require__(41104)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();